"use strict";(self.webpackChunkocap=self.webpackChunkocap||[]).push([[31],{"./packages/angular/copilot/stories/chat.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomEngine:()=>CustomEngine,CustomNgmCopilotEngine:()=>CustomNgmCopilotEngine,NgmSBCopilotUserComponent:()=>NgmSBCopilotUserComponent,Primary:()=>Primary,Size:()=>Size,__namedExportsOrder:()=>__namedExportsOrder,default:()=>chat_stories});var asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),classPrivateFieldInitSpec=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),src=__webpack_require__("./packages/copilot/src/index.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),index_browser=__webpack_require__("./node_modules/nanoid/index.browser.js"),ngx_markdown=__webpack_require__("./node_modules/ngx-markdown/fesm2022/ngx-markdown.mjs"),translate=__webpack_require__("./packages/angular/mock/translate.ts"),logger=__webpack_require__("./packages/angular/mock/logger.ts"),chat_component=__webpack_require__("./packages/angular/copilot/chat/chat.component.ts"),inject_copilot_command=__webpack_require__("./packages/angular/copilot/hooks/inject-copilot-command.ts"),engine_service=__webpack_require__("./packages/angular/copilot/services/engine.service.ts"),copilot_service=__webpack_require__("./packages/angular/copilot/services/copilot.service.ts");let NgmStoryBookCopilotService=class NgmStoryBookCopilotService extends copilot_service.o{};var _myCommand,_saveCommand,_noExampleCommand;NgmStoryBookCopilotService=(0,tslib_es6.gn)([(0,core.Injectable)()],NgmStoryBookCopilotService);let StorybookCopilotEngine=class StorybookCopilotEngine extends engine_service.S{};StorybookCopilotEngine=(0,tslib_es6.gn)([(0,core.Injectable)()],StorybookCopilotEngine);let NgmSBCopilotUserComponent=(_myCommand=new WeakMap,_saveCommand=new WeakMap,_noExampleCommand=new WeakMap,class NgmSBCopilotUserComponent{constructor(){var _ref2,_ref,_ref3,_ref4;(0,classPrivateFieldInitSpec.Z)(this,_myCommand,(0,inject_copilot_command.K)({name:"c",description:"Create a user",examples:["Create a user name Tiven, age 18"],systemPrompt:(_ref=(0,asyncToGenerator.Z)((function*(){return"Create a user by prompt"})),function systemPrompt(){return _ref.apply(this,arguments)}),implementation:(_ref2=(0,asyncToGenerator.Z)((function*(args){return console.log("Created user"),{id:(0,index_browser.x0)(),content:"创建执行成功",role:src.eV.Info}})),function implementation(_x){return _ref2.apply(this,arguments)})})),(0,classPrivateFieldInitSpec.Z)(this,_saveCommand,(0,inject_copilot_command.K)({name:"s",description:"Save the user",examples:["Save a user name Tiven, age 18"],systemPrompt:(_ref3=(0,asyncToGenerator.Z)((function*(){return"Save a user by prompt"})),function systemPrompt(){return _ref3.apply(this,arguments)})})),(0,classPrivateFieldInitSpec.Z)(this,_noExampleCommand,(0,inject_copilot_command.K)({name:"n",description:"New a user",systemPrompt:(_ref4=(0,asyncToGenerator.Z)((function*(){return"New a user by prompt"})),function systemPrompt(){return _ref4.apply(this,arguments)})}))}});NgmSBCopilotUserComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-sb-copilot-user",template:"<h1>Create a user</h1>",imports:[common.CommonModule],styles:[""]})],NgmSBCopilotUserComponent);const chat_stories={title:"Copilot/Chat",component:chat_component.qg,decorators:[(0,dist.applicationConfig)({providers:[(0,animations.provideAnimations)(),(0,http.h_)(),(0,translate.qX)(translate.zd),(0,core.importProvidersFrom)(core_module.A),(0,logger.j)(),(0,ngx_markdown.ri)()]}),(0,dist.moduleMetadata)({imports:[common.CommonModule,chat_component.qg,NgmSBCopilotUserComponent],providers:[{provide:copilot_service.o,useClass:NgmStoryBookCopilotService},{provide:engine_service.S,useClass:StorybookCopilotEngine}]})]},Primary={args:{welcomeTitle:"Welcome to My AI Copilot"}},Size={render:args=>({props:args,template:`<ngm-copilot-chat ${(0,dist.argsToTemplate)(args)} class="h-[500px] w-[300px] shadow-lg rounded-lg m-4" style="height: 500px;"></ngm-copilot-chat>`}),args:{welcomeTitle:"Welcome to My AI Copilot"},parameters:{background:{default:"dark"},actions:{argTypesRegex:"^conversations.*"}}},CustomNgmCopilotEngine={render:args=>({props:args,template:`\n<div>\n  <ngm-sb-copilot-user></ngm-sb-copilot-user>\n  <ngm-copilot-chat ${(0,dist.argsToTemplate)(args)} class="h-[500px] w-[300px] shadow-lg rounded-lg m-4" style="height: 500px;"></ngm-copilot-chat>\n</div>`}),args:{welcomeTitle:"Welcome to My AI Copilot"}};const CustomEngine={args:{copilotEngine:new class StorybookCustomCopilotEngine{constructor(){this.name="Storybook custom engine",this.aiOptions={model:"",messages:[]},this.prompts=["/d {name} {age}"]}conversations(){throw new Error("Method not implemented.")}getCommandWithContext(name){throw new Error("Method not implemented.")}updateConversations(fn){throw new Error("Method not implemented.")}updateConversation(id,fn){throw new Error("Method not implemented.")}updateLastConversation(fn){throw new Error("Method not implemented.")}updateAiOptions(options){throw new Error("Method not implemented.")}executeCommandSuggestion(input,options){throw new Error("Method not implemented.")}chat(prompt,options){throw new Error("Method not implemented.")}messages(){throw new Error("Method not implemented.")}registerCommand(area,command){throw new Error("Method not implemented.")}unregisterCommand(area,name){throw new Error("Method not implemented.")}deleteMessage(message){throw new Error("Method not implemented.")}upsertMessage(message){}clear(){}}}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    welcomeTitle: 'Welcome to My AI Copilot'\n  }\n}",...Primary.parameters?.docs?.source}}},Size.parameters={...Size.parameters,docs:{...Size.parameters?.docs,source:{originalSource:"{\n  render: args => ({\n    props: args,\n    template: `<ngm-copilot-chat ${argsToTemplate(args)} class=\"h-[500px] w-[300px] shadow-lg rounded-lg m-4\" style=\"height: 500px;\"></ngm-copilot-chat>`\n  }),\n  args: {\n    welcomeTitle: 'Welcome to My AI Copilot'\n  },\n  parameters: {\n    background: {\n      default: 'dark'\n    },\n    actions: {\n      argTypesRegex: '^conversations.*'\n    }\n  }\n}",...Size.parameters?.docs?.source}}},CustomNgmCopilotEngine.parameters={...CustomNgmCopilotEngine.parameters,docs:{...CustomNgmCopilotEngine.parameters?.docs,source:{originalSource:'{\n  render: args => ({\n    props: args,\n    template: `\n<div>\n  <ngm-sb-copilot-user></ngm-sb-copilot-user>\n  <ngm-copilot-chat ${argsToTemplate(args)} class="h-[500px] w-[300px] shadow-lg rounded-lg m-4" style="height: 500px;"></ngm-copilot-chat>\n</div>`\n  }),\n  args: {\n    welcomeTitle: \'Welcome to My AI Copilot\'\n  }\n}',...CustomNgmCopilotEngine.parameters?.docs?.source}}},CustomEngine.parameters={...CustomEngine.parameters,docs:{...CustomEngine.parameters?.docs,source:{originalSource:"{\n  args: {\n    copilotEngine: new StorybookCustomCopilotEngine()\n  }\n}",...CustomEngine.parameters?.docs?.source}}};const __namedExportsOrder=["NgmSBCopilotUserComponent","Primary","Size","CustomNgmCopilotEngine","CustomEngine"]}}]);