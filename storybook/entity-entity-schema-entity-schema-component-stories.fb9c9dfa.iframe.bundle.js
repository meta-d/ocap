(self.webpackChunkocap=self.webpackChunkocap||[]).push([[4347],{"./packages/angular/entity/entity-schema/entity-schema.component.stories.ts.css?ngResource!=!./node_modules/@angular-devkit/build-angular/node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAgIC5tYXQtZHJhd2VyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiA1MDBweDsKICAgICAgfQogICAg!./packages/angular/entity/entity-schema/entity-schema.component.stories.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n      .mat-drawer-container {\n        height: 500px;\n      }\n    ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/entity-schema/entity-schema.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.mat-tree-node {\n  min-height: 30px;\n}\n.mat-tree-node .mat-mdc-icon-button.mat-mdc-button-base {\n  --mdc-icon-button-state-layer-size: 30px;\n  padding: 0;\n}\n\n.ngm-display-behaviour {\n  flex: 1;\n  overflow: hidden;\n}\n\n.ngm-search {\n  width: 0px;\n}\n.ngm-search.ngm-search__has-value, .ngm-search.cdk-focused {\n  width: auto;\n}\n\n.group:hover .ngm-search {\n  width: auto;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/entity-schema/entity-schema.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>NgmEntitySchemaComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var entity_schema_componentngResource=__webpack_require__("./packages/angular/entity/entity-schema/entity-schema.component.scss?ngResource"),entity_schema_componentngResource_default=__webpack_require__.n(entity_schema_componentngResource),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),tree=__webpack_require__("./node_modules/@angular/cdk/fesm2022/tree.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs"),tooltip=__webpack_require__("./node_modules/@angular/material/fesm2022/tooltip.mjs"),fesm2022_tree=__webpack_require__("./node_modules/@angular/material/fesm2022/tree.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),core_service=__webpack_require__("./packages/angular/core/core.service.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),src=__webpack_require__("./packages/core/src/index.ts"),isEmpty=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),flatMap=__webpack_require__("./node_modules/lodash-es/flatMap.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),combineLatestWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/combineLatestWith.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),first=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/first.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),types=__webpack_require__("./packages/angular/entity/entity-schema/types.ts");class EntitySchemaFlatNode{constructor(item,level=1,expandable=!1,isLoading=!1,children=null,error=null){this.item=item,this.level=level,this.expandable=expandable,this.isLoading=isLoading,this.children=children,this.error=error}}class EntitySchemaDataSource{get dataSourceName(){return this.dataSourceName$.value}set dataSourceName(value){this.dataSourceName$.next(value)}get data(){return this.dataChange.value}set data(value){this._treeControl.dataNodes=value,this.dataChange.next(value)}constructor(_treeControl,dsCoreService,translateService,capacities){this._treeControl=_treeControl,this.dsCoreService=dsCoreService,this.translateService=translateService,this.capacities=capacities,this.destroy$=new Subject.x,this.dataChange=new BehaviorSubject.X([]),this.searchControl=new fesm2022_forms.NI,this.dataSourceName$=new BehaviorSubject.X(null),this.dataSource$=this.dataSourceName$.pipe((0,distinctUntilChanged.x)(),(0,filter.h)((value=>!!value)),(0,switchMap.w)((name=>this.dsCoreService.getDataSource(name))),(0,takeUntil.R)(this.destroy$),(0,shareReplay.d)(1)),this.entity$=new BehaviorSubject.X(null),this.entityService$=this.entity$.pipe((0,distinctUntilChanged.x)(),(0,filter.h)((value=>!!value)),(0,switchMap.w)((name=>this.dataSource$.pipe((0,map.U)((dataSource=>dataSource.createEntityService(name)))))),(0,takeUntil.R)(this.destroy$),(0,shareReplay.d)(1))}connect(collectionViewer){return this._treeControl.expansionModel.changed.subscribe((change=>{(change.added||change.removed)&&this.handleTreeControl(change)})),(0,merge.T)(collectionViewer.viewChange,this.dataChange).pipe((0,combineLatestWith.V)(this.searchControl.valueChanges.pipe((0,startWith.O)(null),(0,distinctUntilChanged.x)())),(0,map.U)((([,text])=>this.data.filter((node=>node.item.type===types.L.Entity||node.item.type===types.L.Dimension||node.item.type===types.L.Parameters||!text||node.item.caption?.toLowerCase().includes(text.toLowerCase())||node.item.name.toLowerCase().includes(text.toLowerCase()))))))}disconnect(collectionViewer){this.destroy$.next(),this.destroy$.complete()}handleTreeControl(change){change.added&&change.added.forEach((node=>this.toggleNode(node,!0))),change.removed&&change.removed.slice().reverse().forEach((node=>this.toggleNode(node,!1)))}toggleNode(node,expand){const index=this.data.indexOf(node);if(expand)node.children?(this.data.splice(index+1,0,...node.children),this.dataChange.next(this.data)):node.isLoading||(node.isLoading=!0,this.getChildren(node).pipe((0,takeUntil.R)(this.destroy$)).subscribe({next:children=>{const index=this.data.indexOf(node);if(index<0)return;if(!children?.length)return node.isLoading=!1,this.data.splice(index,1,{...node,expandable:!1}),void this.dataChange.next(this.data);const nodes=children.map((name=>new EntitySchemaFlatNode(name,node.level+1,name.type===types.L.Member?!!name.children?.length:name.type!==types.L.IMeasure)));this.data.splice(index+1,0,...nodes),node.isLoading=!1,this.dataChange.next(this.data)},error:err=>{let error;error="string"==typeof err?err:err instanceof Error?err?.message:err?.error instanceof Error?err?.error?.message:err,node.isLoading=!1,this.data.splice(index,1,{...node,expandable:!1,error}),this.dataChange.next(this.data)}}));else{let count=0;for(let i=index+1;i<this.data.length&&this.data[i].level>node.level;i++,count++);node.children=this.data.splice(index+1,count),this.dataChange.next(this.data)}}getChildren(node){if(node.item.type===types.L.Entity)return this.entityType?.name===node.item.name?(0,of.of)(this.getEntityTypeChildren(this.entityType)):(this.entity$.next(node.item.name),this.dataSource$.pipe((0,switchMap.w)((dataSource=>dataSource.selectEntityType(node.item.name))),(0,first.P)(),(0,tap.b)((entityType=>{if(!(0,src.OCY)(entityType))throw entityType;this.entityType=entityType,node.item.caption=this.entityType?.caption})),(0,filter.h)(src.OCY),(0,map.U)((value=>this.getEntityTypeChildren(value)))));if(node.item.type===types.L.Dimension){const item=node.item,hierarchies=item.hierarchies;return(0,isEmpty.Z)(hierarchies)?(0,isEmpty.Z)(item.members)?this.entityService$.pipe((0,switchMap.w)((entityService=>entityService.selectMembers({dimension:node.item.name}))),(0,first.P)(),(0,map.U)((members=>members.map((item=>({...item,type:types.L.Member,name:item.memberKey,caption:item.memberCaption})))))):(0,of.of)(item.members):(0,of.of)(hierarchies.map((item=>({...item,type:types.L.Hierarchy}))))}if(node.item.type===types.L.Hierarchy){const levels=node.item.levels;if(!(0,isEmpty.Z)(levels)){const properties=(0,flatMap.Z)(node.item.levels,(level=>level.properties)).map((item=>({...item,type:types.L.Field}))),propertiesCaption=this.getTranslation("Ngm.EntitySchema.Properties",{Default:"Properties"});return(0,of.of)([...levels.map((item=>({...item,type:types.L.Level}))),...properties.length?[{name:"",caption:propertiesCaption,members:properties,type:types.L.Properties}]:[]])}}else{if(node.item.type===types.L.Level){const item=node.item;return this.entityService$.pipe((0,switchMap.w)((entityService=>entityService.selectMembers({dimension:item.dimension,hierarchy:item.hierarchy}))),(0,first.P)(),(0,map.U)((members=>(0,src.LC)(members,src.Dbq,{startLevel:item.levelNumber}).map((item=>({...item,type:types.L.Member,name:item.raw.memberUniqueName}))))))}if(node.item.type===types.L.Member){const members=node.item.children;return(0,of.of)(members?.map((item=>({...item,type:types.L.Member,name:item.raw.memberUniqueName})))??[])}if(node.item.members)return(0,of.of)(node.item.members)}return(0,of.of)([])}getEntityTypeChildren(entityType){const dimensions=this.hasCapability(types.W.Dimension)?(0,src.n6Q)(entityType):[],measures=(0,src.wqS)(entityType).filter((measure=>(0,src.sT)(measure)?this.hasCapability(types.W.Indicator):(0,src.ewE)(measure)?this.hasCapability(types.W.Calculation):this.hasCapability(types.W.Measure))).map((item=>({...item,type:types.L.IMeasure}))),parameters=(0,src.fOg)(entityType).map((item=>({...item,type:types.L.Parameter}))),parametersCaption=this.getTranslation("Ngm.EntitySchema.Parameters",{Default:"Parameters"}),measuresCaption=this.getTranslation("Ngm.EntitySchema.Measures",{Default:"Measures"}),nodes=[...dimensions.map((item=>({...item,type:types.L.Dimension,hierarchies:entityType.semantics===src.CwT.table?null:item.hierarchies})))];return this.hasCapability(types.W.Measure)&&nodes.push(...entityType.semantics===src.CwT.aggregate?[{name:(0,src.eD2)(src.QPo),caption:measuresCaption,type:types.L.Dimension,members:measures}]:measures),this.hasCapability(types.W.Parameter)&&parameters.length&&nodes.push({name:"parameters",caption:parametersCaption,type:types.L.Parameters,members:parameters}),nodes}hasCapability(capability){return this.capacities?.includes(capability)}getTranslation(key,params){return this.translateService.instant(key,params)}}var _NgmEntitySchemaComponent,a11y=__webpack_require__("./node_modules/@angular/cdk/fesm2022/a11y.mjs");let NgmEntitySchemaComponent=((_NgmEntitySchemaComponent=class NgmEntitySchemaComponent{get searchControl(){return this.dataSource.searchControl}constructor(){this.EntitySchemaType=types.L,this._isEntitySchemaComponent=!0,this.translateService=(0,core.inject)(ngx_translate_core.sK),this._dsCoreService=(0,core.inject)(core_service.q,{optional:!0}),this.capacities=[types.W.Dimension,types.W.Measure],this.dataSettings=(0,core.input)(),this.getLevel=node=>node.level,this.isExpandable=node=>node.expandable,this.hasChild=(_,_nodeData)=>_nodeData.expandable,(0,core.effect)((()=>{const dataSettings=this.dataSettings();if(dataSettings?.entitySet){this.dataSource.dataSourceName=dataSettings.dataSource;const rootNode=new EntitySchemaFlatNode({type:types.L.Entity,name:dataSettings.entitySet},0,!0);this.dataSource.data=[rootNode]}}))}ngOnInit(){this.dsCoreService&&(this._dsCoreService=this.dsCoreService),this.treeControl=new tree.C2(this.getLevel,this.isExpandable),this.dataSource=new EntitySchemaDataSource(this.treeControl,this._dsCoreService,this.translateService,this.capacities),this.dataSource.data=[]}}).ctorParameters=()=>[],_NgmEntitySchemaComponent.propDecorators={_isEntitySchemaComponent:[{type:core.HostBinding,args:["class.ngm-entity-schema"]}],dsCoreService:[{type:core.Input}],appearance:[{type:core.Input}],selectedHierarchy:[{type:core.Input}],capacities:[{type:core.Input}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}]},_NgmEntitySchemaComponent);NgmEntitySchemaComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.UX,a11y.rt,fesm2022_tree.dp,form_field.lN,input.c,icon.Ps,fesm2022_button.ot,drag_drop._t,scrolling.Cl,ngx_translate_core.aw,fesm2022_checkbox.p9,progress_spinner.Cq,tooltip.AV,common_module.N,core_module.A],changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-entity-schema",template:'<mat-tree [dataSource]="dataSource" [treeControl]="treeControl">\n  <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding matTreeNodePaddingIndent="20"\n    cdkDrag\n    [cdkDragData]="node.item"\n    [class.selected]="selectedHierarchy && (\n      node.item.name === selectedHierarchy || node.item.hierarchy === selectedHierarchy || node.item.raw?.hierarchy === selectedHierarchy)"\n    draggable="true"\n  >\n    <button mat-icon-button disabled displayDensity="compact">\n    </button>\n\n    @if (node.error) {\n      <mat-icon color="warn" fontSet="material-icons-round" displayDensity="compact"\n        [matTooltip]="node.error" matTooltipPosition="after">\n        warning_amber\n      </mat-icon>\n    }\n\n    <div class="ngm-entity-schema__type">{{node.item.type?.[0]}}</div>\n    <ngm-display-behaviour [option]="{value: node.item.name, caption: node.item.caption ?? node.item.label}"\n      [highlight]="searchControl.value">\n    </ngm-display-behaviour>\n    <div class="ngm-entity-schema__drag-placeholder" *cdkDragPlaceholder></div>\n  </mat-tree-node>\n  <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding matTreeNodePaddingIndent="20" class="group"\n    cdkDrag\n    [cdkDragData]="node.item"\n    [class.selected]="selectedHierarchy && (\n      node.item.name === selectedHierarchy || node.item.hierarchy === selectedHierarchy || node.item.raw?.hierarchy === selectedHierarchy)"\n    draggable="true"\n  >\n    <button *ngIf="!node.isLoading" mat-icon-button\n            [attr.aria-label]="\'Toggle \' + node.item" matTreeNodeToggle>\n      <mat-icon class="mat-icon-rtl-mirror" fontSet="material-icons-round">\n        {{treeControl.isExpanded(node) ? \'arrow_drop_down\' : \'arrow_right\'}}\n      </mat-icon>\n    </button>\n    <mat-spinner *ngIf="node.isLoading" class="m-2" strokeWidth="1" diameter="15"></mat-spinner>\n\n    <div class="ngm-entity-schema__type">{{node.item.type?.[0]}}</div>\n\n    <ngm-display-behaviour class="flex-1" [option]="{value: node.item.name, caption: node.item.caption ?? node.item.label}"\n      [highlight]="searchControl.value">\n    </ngm-display-behaviour>\n\n    <ngm-search *ngIf="node.item.type === EntitySchemaType.Entity" cdkMonitorSubtreeFocus\n      class="overflow-hidden"\n      displayDensity="cosy"\n      [formControl]="searchControl">\n    </ngm-search>\n\n    <div class="ngm-entity-schema__drag-placeholder" *cdkDragPlaceholder></div>\n  </mat-tree-node>\n</mat-tree>\n',styles:[entity_schema_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmEntitySchemaComponent)},"./packages/angular/entity/entity-schema/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var EntityCapacity,EntitySchemaType;__webpack_require__.d(__webpack_exports__,{L:()=>EntitySchemaType,W:()=>EntityCapacity}),function(EntityCapacity){EntityCapacity.Dimension="Dimension",EntityCapacity.Hierarchy="Hierarchy",EntityCapacity.Measure="Measure",EntityCapacity.Indicator="Indicator",EntityCapacity.Calculation="Calculation",EntityCapacity.Parameter="Parameter"}(EntityCapacity||(EntityCapacity={})),function(EntitySchemaType){EntitySchemaType.Entity="Entity",EntitySchemaType.Dimension="Dimension",EntitySchemaType.Hierarchy="Hierarchy",EntitySchemaType.Level="Level",EntitySchemaType.IMeasure="IMeasure",EntitySchemaType.Member="Member",EntitySchemaType.Parameters="Parameters",EntitySchemaType.Parameter="Parameter",EntitySchemaType.Properties="Properties",EntitySchemaType.Field="Field"}(EntitySchemaType||(EntitySchemaType={}))},"./packages/angular/i18n/zhHans.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>ZhHans});const ZhHans={Ngm:{Common:{Add:"添加",Cancel:"取消",Apply:"应用",Reset:"重置",Search:"搜索",Select:"选择",Clear:"清空",Search_Placeholder:"请输入关键词",DisplayBehaviour_Description:"描述",DisplayBehaviour_DescriptionID:"描述 ID",DisplayBehaviour_IDDescription:"ID 描述",DisplayBehaviour_ID:"ID",DisplayBehaviour_Auto:"自动",SelectionType_Single:"单选",SelectionType_Multiple:"多选",Presentation_Flat:"平铺",Presentation_Hierarchy:"层级",HierarchySelectionMode_Individual:"单个",HierarchySelectionMode_SelfDescendants:"自己和后代",HierarchySelectionMode_DescendantsOnly:"只后代",HierarchySelectionMode_SelfChildren:"自己和子代",HierarchySelectionMode_ChildrenOnly:"只子代",Measures:"度量",None:"无",Default:"默认",Hierarchy:"层次结构",DisplayBehaviour:"显示行为",DisplayBehaviour_IDOnly:"编码"},AnalyticalCard:{Screenshot:"截图",DataDownload:"下载数据",Refresh:"刷新",DrillDown:"下钻",DrillLevel:"层级下钻",DrillDimension:"维度下钻",LinkAnalysis:"联动筛选",DataEmpty:"数据为空"},AnalyticalGrid:{DataDownload:"下载数据",SORT:"排序",MOVE:"移动",ASCENDING:"正序",DESCENDGING:"倒序",MOVELEFT:"向左",MOVERIGHT:"向右",Search:"搜索",SelectAll:"选择所有",Pin:"固定"},Controls:{ValueHelp:{Title:"为{{value}}设置过滤器",AvailableMembers:"可选成员",DisplayBehaviour:"展现形式",SelectedMembers:"选中成员",ClearSelection:"清空选择",ShowUnbookedMembers:"显示未分配成员",ShowAllMember:"显示‘所有’成员",ShowOnlyLeaves:"只显示叶子节点",ExcludeSelectedMembers:"排除选中成员",SelectionType:"选择类型",Presentation:"展现形式",HierarchySelectionMode:"层级选择模式",Hierarchy:"层次结构"}},Copilot:{Copilot:"副驾驶",AICopilot:"AI 副驾驶",EnableCopilot:"启用 Copilot",GetYourApiKey:"获取你的 API Key",ProvideOpenaiApiKey:"请提供 Openai API Key?",Provider:"提供商",YourAIPairProgrammer:"你的 AI 配对程序员!",LetYourAIPairProgrammerEdits:"让你的 AI 配对程序员修改一下!",SelectSomeCode:"选择代码，让你的 AI 配对程序员修改一下!",ThinkingHard:"努力思考中...",StopGenerating:"停止生成",ClearMessages:"清空消息",CharacterLength:"字数",Resubmit:"重新提交",Cancel:"取消",Model:"模型",Options:"选项",UseSystemPrompt:"使用系统提示",ExamplesOfPrompts:"提示语示例",APIKey:"API 密钥",APIHost:"API 主机",AskAICopilot:"向 AI 副驾驶询问问题",Prompt:"提示",SendPrompt:"发送提问",Placeholder:"询问副驾驶或输入 / 获取命令",ClearConversation:"清空会话",Ask:"提问",Copy:"复制",Regenerate:"重新生成",Common:"通用",PleaseSelectBusinessRole:"请选择一个业务角色",DefaultBusinessRole:{title:"通用",description:"通用业务角色"},Help:"帮助",NewChat:"新聊天",Update:"更新"},Entity:{SelectEntities:"选择数据集",SemanticModel:"语义模型",Cube:"多维数据集",AnnotatedCube:"增强过的多维数据集",MEASURE:"度量",SELECT_DIMENSION:"选择维度",MeasureFormatting:"度量格式",ShortNumber:"缩写数字",Decimals:"小数位",Unit:"单位",UseUnderlyingUnit:"使用模型单位",DigitsInfo:"数字格式"},EntitySchema:{Parameters:"参数",Measures:"度量",Properties:"属性"},Formula:{Editor:{EditFormula:"编辑公式",Format:"格式化",Help:"帮助"}},Table:{Select:"选择",NoData:"无数据",MatchingFilter:'匹配过滤条件"{{value}}"',firstPageLabel:"第一",itemsPerPageLabel:"每页",lastPageLabel:"最后",nextPageLabel:"下一页",previousPageLabel:"上一页",rangeLabel0:"页 1 共 1",pageLabel:"页",ofLabel:"共"},DatePicker:{Date:"日期",Year:"年",Quarter:"季",Month:"月",Week:"周",Day:"日",From:"从",To:"至"},TimeFilter:{SET_DATE_RANGE:"为 {{property}} 设置时间区间",CURRENT_DATE:"当前日期",SYSTEM_DATE:"系统时间",USER_CURRENT_DATE:"用户当前时间",ADD_TIME_RANGE:"添加时间区间",RANGE:"区间",RANGE_TYPE:"区间类型",RANGE_TYPE_STANDARD:"标准",RANGE_TYPE_OFFSET:"偏移",GRANULARITY:"粒度",YEAR:"年",QUARTER:"季度",MONTH:"月",WEEK:"周",DAY:"日",LOOK_BACK:"回顾",LOOK_AHEAD:"展望",CURRENT_PERIOD:"当前时间",FORMATTER:"格式",OFFSET_DIRECTION:"偏移方向",OFFSET_AMOUNT:"偏移量",SETTINGS_FOR_USERS:"为用户设置",ALLOW_MODIFY_SELECTIONS:"允许查看者修改选择",SELECTION_TYPE:"选择类型",SELECTION_TYPE_MULTIPLE:"多选",SELECTION_TYPE_SINGLE:"单选",TODAY:"当前期间",Year:"年",Quarter:"季度",Month:"月",Week:"周",Day:"日",Today:"今天"},AdvancedSlicer:{TITLE:"高级切片器",CONTEXT:"上下文",OPERATOR:"操作符",ENABLE_OTHER:"汇总其它项",VALUE:"值",VALUE_FROM:"从",VALUE_TO:"至",MEASURE:"度量",MeasureSelectPlaceholder:"选择或新建一个度量",Equal:"等于",NotEqual:"不等于",LessThan:"小于",GreaterThan:"大于",LessEqual:"小于等于",GreaterEqual:"大于等于",Between:"介于",NotBetween:"不介于",TopCount:"前 N 个",BottomCount:"后 N 个",TopPercent:"前百分比的",BottomPercent:"后百分比的",TopSum:"前总数",BottomSum:"后总数"},Property:{PARAMETER:"参数",PARAMETERS:"参数",MEASURE:"度量",MEASURES:"度量",MeasureGroup:"度量组",INDICATORS:"指标",CREATE_PARAMETER:"创建参数",EditParameter:"编辑参数",CALCULATIONS:"计算度量",DIMENSION:"维度",DIMENSIONS:"维度",ADD_DIMENSION:"添加维度",MEMBERS:"成员",HIERARCHY:"层次结构",ADD_PARAMETER_MEMBER:"添加成员",MEASURE_CONTROLS:"度量控制",CREATE_CALCULATION:"创建计算",CREATE_MEASURE_CONTROL:"创建度量控制",REFERENCE_LINE:"参考线",Input:"输入",Select:"选择",Dimensions:"维度",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",Value:"值",DefaultValue:"默认值",ValueType:"值类型",DisplayAs:"显示为",Label:"文本字段",Formatter:"格式设置",EditFormula:"编辑公式",UnbookedData:"无成员数据",ZeroSuppression:"清零",PropertyList:"属性列表",DisplayHierarchy:"包含父级层级",CreateParameter:"创建参数",CurrentMember:"当前成员",PreviousNMember:"之前第 N 个成员",NextNMember:"之后第 N 个成员",ParallelMember:"平行成员",AncestorMember:"祖先成员",SelectByMembers:"选择成员",NewCalculationInputControl:"新建计算输入",NthMember:"值 / 第 N 个",IsDefault:"默认",Default:"默认",Auto:"自动","Description and ID":"名称+ID","Description Only":"名称","ID Only":"ID",Description:"描述",Order:"排序",None:"无",Order_ASC:"正序",Order_DESC:"倒序",Dimension:"维度",AvailableMembers:"可用成员",DimensionNotFound:"在数据集‘{{cube}}’中未找到维度‘{{dimension}}’",DIMENSION_MEASURE:"维度/度量",Parameter:"参数","Measure Control":"度量控制",Measure:"度量",Calculation:"计算",Hierarchy:"层次结构",Level:"层级","Measure Group":"度量组",Indicator:"指标",Calendar:"日历","Address.Country":"国家"},MeasureSelect:{EditCalculationMeasure:"编辑计算度量",NewCalculationMeasure:"新建计算度量"},Calculation:{TITLE:"计算编辑器",TYPE:"类型",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",FUNCTIONS:"函数",DIMENSION_MEMBERS:"维度成员",CALCULATED_MEMBERS:"计算成员",PARAMETERS:"参数",CALCULATED_MEASURE:"计算公式",RESTRICTED_MEASURE:"受限度量",VARIANCE_MEASURE:"差值度量",AGGREGATION:"聚合",DIMENSION_TO_MEASURE:"维度转度量",MEASURE_CONTROL:"度量控制",PROPERTIES:"属性",OPERATION:"运算",VALUE:"值",AGGREGATION_DIMENSIONS:"聚合维度",ADD_DIMENSION:"添加维度",SELECTION_CONTEXT:"选择上下文",ENABLE_CONSTANT_SELECTION:"启用常量选择",EDIT_FORMULA:"编辑公式",ToggleSidebar:"切换侧边栏",UseConditionalAggregation:"使用条件聚合",ConditionalDimensions:"条件维度",ExcludeConditions:"排除条件",Compare:"比",To:"较",BaseDimension:"基准维度",SetNoDataasZero:"将无数据当作零",CalculateasPercentage:"计算为百分比",DirectDivide:"直接除",AbsoluteBaseValue:"绝对化基值",DivideBy:"除以",CompareValueA:"比 (A)",ToValueB:"较 (B)",Measure:"度量",RestrictiveConditions:"限定条件",ConstantSelectionTootip:"锁定限定条件维度成员,使其不会被用户上下文切片器所覆盖",Dimension:"维度",MeasureSelectOptions:"度量选择选项",ConditionalAggregation:"条件聚合",Unit:"单位",Formulas:"公式",MeasureSelectPlaceholder:"选择或新建一个度量",MeasureIsRequired:"度量必选"},AdvancedFilter:{Title:"组合切片器",AND:"且",OR:"或",GROUP:"组合",Operator:"操作符",Value:"值",Condition:"条件",AddGroup:'"且"组合',OrGroup:'"或"组合',EndGroup:"结束组合",DeleteGroup:"删除组合",Tips:"使用 且/或 创建条件组合"},Selection:{Slicers:"切片器",AdvancedFilter:"组合切片器",CombinationSlicer:"组合切片器",AdvancedSlicer:"高级切片器",DimensionMembers:"维度成员",TimeRanges:"动态时间范围",OnContext:"基于",SLICERS_BAR:{TITLE:"过滤器"},SLICER:{ADVANCED_SLICER:"高级切片器",ADVANCED_FILTER:"组合切片器"},DateFunctions:{SYSTEMTIME:"系统时间",TODAY:"今天"}}}}},"./packages/angular/mock/agent-mock.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ch:()=>MockAgent,fJ:()=>CUBE_SALES_ORDER_NAME,nH:()=>CUBE_SALES_ORDER});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts"),_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ngneat/falso/index.esm.js"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js");const columns=[{name:"OrderId",label:"订单号",type:"string"},{name:"product",label:"产品",type:"string"},{name:"productCategory",label:"产品类别",type:"string"},{name:"Department",label:"部门",type:"string"},{name:"sales",label:"销售额",type:"number"},{name:"quantity",label:"销售量",type:"number"}],SalesOrder={name:"SalesOrder",label:"销售订单",columns},SalesOrder10s={name:"SalesOrder10s",label:"销售订单10秒",columns},SalesOrder3s={name:"SalesOrder3s",label:"销售订单3秒",columns},CUBE_SALES_ORDER_NAME="SalesOrder",CUBE_SALES_ORDER={name:CUBE_SALES_ORDER_NAME,caption:"销售订单",visible:!0,tables:[{name:"sales_order"}],dimensions:[{name:"Product",caption:"产品",hierarchies:[{name:"",caption:"产品",levels:[{name:"Product",column:"product",captionColumn:"ProductName"}]}]},{name:"Department",caption:"部门",hierarchies:[{name:"",levels:[{name:"Department",column:"department",captionColumn:"DepartmentName"}]}]}],measures:[{name:"Sales",column:"sales",caption:"销售额"},{name:"Cost",column:"cost",caption:"成本"}]};let MockAgent=class MockAgent{constructor(){this.type=_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.buO.Browser,this.error$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.x}selectStatus(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.dJT.ONLINE)}selectError(){return this.error$}error(err){this.error$.next(err)}request(dataSource,options){return new Promise(((resolve,reject)=>{if("get"===options.method){if("schema"===options.url)switch(options.table){case SalesOrder10s.name:return resolve([{schema:"default",tables:[SalesOrder10s]}]);case SalesOrder3s.name:return resolve([{schema:"default",tables:[SalesOrder3s]}]);case SalesOrder.name:return resolve([{schema:"default",tables:[SalesOrder]}]);case"Empty":return resolve([{schema:"default",tables:[{name:"Empty",columns:[]}]}]);default:return'SELECT * FROM "SalesOrder"'===options.statement?resolve([{schema:"default",tables:[SalesOrder]}]):resolve([{schema:"default",tables:[{name:"Inventory",label:"库存",columns:[{name:"product",label:"产品",type:"string"},{name:"productCategory",label:"产品类别",type:"string"},{name:"sales",label:"销售额",type:"number"},{name:"quantity",label:"销售量",type:"number"}]}]}])}}else if("post"===options.method&&"query"===options.url){const results=[];if(options.body?.statement?.includes("AS `memberKey`")){const data=[];return(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:3}).forEach((product=>{data.push({memberKey:product,memberCaption:product}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:3}).filter((product2=>!data.find((item=>item.memberKey===product2)))).forEach((product2=>{data.push({memberKey:product2,memberCaption:product2,parentKey:product}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:5}).filter((product=>!data.find((item=>item.memberKey===product)))).forEach((product3=>{data.push({memberKey:product3,memberCaption:product3,parentKey:product2})}))}))})),resolve({data,columns:[{name:"memberKey",label:"成员 Key",type:"string"},{name:"parentKey",label:"父级 Key",type:"string"}]})}if(options.body?.statement?.includes('"Department" AS "Department"')){let departmentCode=0;return(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)({length:5}).forEach((name=>{departmentCode++;const department1=departmentCode;results.push({Department:department1,DepartmentName:name,quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)({length:5}).forEach((name=>{departmentCode++;const department2=departmentCode;results.push({Department:department2,DepartmentName:name,DepartmentParent:department1,quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)({length:3}).forEach((name=>{departmentCode++;const department3=departmentCode;results.push({Department:department3,DepartmentName:name,DepartmentParent:department2,quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()})}))}))})),resolve({data:results,columns:[{name:"Department",label:"部门",type:"string"},{name:"DepartmentName",label:"部门",type:"string"},{name:"DepartmentParent",label:"上级部门",type:"string"}]})}return(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.ALu)({length:3}).forEach((productCategory=>{const DepartmentParent=(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)();(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:5}).forEach((product=>{results.push({OrderId:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.s8S)(),"[Product]":(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.s8S)(),"[Product].[MEMBER_CAPTION]":product,productCategory,Department:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)(),DepartmentParent,Sales:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)(),quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()})}))})),options.body?.statement?.includes(SalesOrder10s.name)?void setTimeout((()=>{resolve({data:results,columns})}),1e4):options.body?.statement?.includes(SalesOrder3s.name)?void setTimeout((()=>{resolve({data:results,columns})}),3e3):options.body?.statement?.includes("empty_")?resolve({data:[],columns:[]}):void setTimeout((()=>{resolve({data:results,columns:[{name:"OrderId",label:"订单号",type:"string"},{name:"[Product]",label:"产品",type:"string"},{name:"productCategory",label:"产品类别",type:"string"},{name:"[Department]",label:"部门",type:"string"},{name:"[DepartmentParent]",label:"上级部门",type:"string"}]})}),1e3)}resolve({})}))}};MockAgent=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Injectable)()],MockAgent)},"./packages/angular/mock/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qX:()=>provideTranslate,zd:()=>zhHansLanguage});var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/core/i18n/missing-tanslation.ts"),_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/i18n/zhHans.ts");const zhHansLanguage="zh-Hans";class CustomTranslateLoader{getTranslation(lang){return console.log(lang),lang===zhHansLanguage?(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__.q):(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(null)}}function provideTranslate(defaultLanguage=zhHansLanguage){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.aw.forRoot({missingTranslationHandler:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.gC,useClass:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__.l},loader:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.Zw,useClass:CustomTranslateLoader,deps:[_angular_common_http__WEBPACK_IMPORTED_MODULE_5__.eN]},defaultLanguage}))}},"./node_modules/lodash-es/_baseEach.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_baseEach});var _baseFor=__webpack_require__("./node_modules/lodash-es/_baseFor.js"),keys=__webpack_require__("./node_modules/lodash-es/keys.js");const _baseForOwn=function baseForOwn(object,iteratee){return object&&(0,_baseFor.Z)(object,iteratee,keys.Z)};var isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js");const _baseEach=function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!(0,isArrayLike.Z)(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}(_baseForOwn)},"./node_modules/lodash-es/_baseFlatten.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_baseFlatten});var _arrayPush=__webpack_require__("./node_modules/lodash-es/_arrayPush.js"),_Symbol=__webpack_require__("./node_modules/lodash-es/_Symbol.js"),isArguments=__webpack_require__("./node_modules/lodash-es/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js"),spreadableSymbol=_Symbol.Z?_Symbol.Z.isConcatSpreadable:void 0;const _isFlattenable=function isFlattenable(value){return(0,isArray.Z)(value)||(0,isArguments.Z)(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])};const _baseFlatten=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=_isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):(0,_arrayPush.Z)(result,value):isStrict||(result[result.length]=value)}return result}},"./node_modules/lodash-es/_baseFor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_baseFor});const _baseFor=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}()},"./node_modules/lodash-es/_baseIteratee.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_baseIteratee});var _Stack=__webpack_require__("./node_modules/lodash-es/_Stack.js"),_baseIsEqual=__webpack_require__("./node_modules/lodash-es/_baseIsEqual.js");const _baseIsMatch=function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new _Stack.Z;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?(0,_baseIsEqual.Z)(srcValue,objValue,3,customizer,stack):result))return!1}}return!0};var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js");const _isStrictComparable=function isStrictComparable(value){return value==value&&!(0,isObject.Z)(value)};var keys=__webpack_require__("./node_modules/lodash-es/keys.js");const _getMatchData=function getMatchData(object){for(var result=(0,keys.Z)(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,_isStrictComparable(value)]}return result};const _matchesStrictComparable=function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}};const _baseMatches=function baseMatches(source){var matchData=_getMatchData(source);return 1==matchData.length&&matchData[0][2]?_matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||_baseIsMatch(object,source,matchData)}};var get=__webpack_require__("./node_modules/lodash-es/get.js"),hasIn=__webpack_require__("./node_modules/lodash-es/hasIn.js"),_isKey=__webpack_require__("./node_modules/lodash-es/_isKey.js"),_toKey=__webpack_require__("./node_modules/lodash-es/_toKey.js");const _baseMatchesProperty=function baseMatchesProperty(path,srcValue){return(0,_isKey.Z)(path)&&_isStrictComparable(srcValue)?_matchesStrictComparable((0,_toKey.Z)(path),srcValue):function(object){var objValue=(0,get.Z)(object,path);return void 0===objValue&&objValue===srcValue?(0,hasIn.Z)(object,path):(0,_baseIsEqual.Z)(srcValue,objValue,3)}};var identity=__webpack_require__("./node_modules/lodash-es/identity.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js");const _baseProperty=function baseProperty(key){return function(object){return null==object?void 0:object[key]}};var _baseGet=__webpack_require__("./node_modules/lodash-es/_baseGet.js");const _basePropertyDeep=function basePropertyDeep(path){return function(object){return(0,_baseGet.Z)(object,path)}};const lodash_es_property=function property(path){return(0,_isKey.Z)(path)?_baseProperty((0,_toKey.Z)(path)):_basePropertyDeep(path)};const _baseIteratee=function baseIteratee(value){return"function"==typeof value?value:null==value?identity.Z:"object"==typeof value?(0,isArray.Z)(value)?_baseMatchesProperty(value[0],value[1]):_baseMatches(value):lodash_es_property(value)}},"./node_modules/lodash-es/_baseMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseEach_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseEach.js"),_isArrayLike_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isArrayLike.js");const __WEBPACK_DEFAULT_EXPORT__=function baseMap(collection,iteratee){var index=-1,result=(0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_0__.Z)(collection)?Array(collection.length):[];return(0,_baseEach_js__WEBPACK_IMPORTED_MODULE_1__.Z)(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},"./node_modules/lodash-es/flatMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_flatMap});var _baseFlatten=__webpack_require__("./node_modules/lodash-es/_baseFlatten.js"),_arrayMap=__webpack_require__("./node_modules/lodash-es/_arrayMap.js"),_baseIteratee=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),_baseMap=__webpack_require__("./node_modules/lodash-es/_baseMap.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js");const lodash_es_map=function map(collection,iteratee){return((0,isArray.Z)(collection)?_arrayMap.Z:_baseMap.Z)(collection,(0,_baseIteratee.Z)(iteratee,3))};const lodash_es_flatMap=function flatMap(collection,iteratee){return(0,_baseFlatten.Z)(lodash_es_map(collection,iteratee),1)}},"./node_modules/lodash-es/hasIn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_hasIn});const _baseHasIn=function baseHasIn(object,key){return null!=object&&key in Object(object)};var _castPath=__webpack_require__("./node_modules/lodash-es/_castPath.js"),isArguments=__webpack_require__("./node_modules/lodash-es/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js"),_isIndex=__webpack_require__("./node_modules/lodash-es/_isIndex.js"),isLength=__webpack_require__("./node_modules/lodash-es/isLength.js"),_toKey=__webpack_require__("./node_modules/lodash-es/_toKey.js");const _hasPath=function hasPath(object,path,hasFunc){for(var index=-1,length=(path=(0,_castPath.Z)(path,object)).length,result=!1;++index<length;){var key=(0,_toKey.Z)(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&(0,isLength.Z)(length)&&(0,_isIndex.Z)(key,length)&&((0,isArray.Z)(object)||(0,isArguments.Z)(object))};const lodash_es_hasIn=function hasIn(object,path){return null!=object&&_hasPath(object,path,_baseHasIn)}},"./packages/angular/entity/entity-schema/entity-schema.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Capacity:()=>Capacity,Primary:()=>Primary,SelectedHierarchy:()=>SelectedHierarchy,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DragComponent,_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts_css_ngResource_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAgIC5tYXQtZHJhd2VyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiA1MDBweDsKICAgICAgfQogICAg_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/angular/entity/entity-schema/entity-schema.component.stories.ts.css?ngResource!=!./node_modules/@angular-devkit/build-angular/node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAgIC5tYXQtZHJhd2VyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiA1MDBweDsKICAgICAgfQogICAg!./packages/angular/entity/entity-schema/entity-schema.component.stories.ts"),_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts_css_ngResource_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAgIC5tYXQtZHJhd2VyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiA1MDBweDsKICAgICAgfQogICAg_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts_css_ngResource_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAgIC5tYXQtZHJhd2VyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiA1MDBweDsKICAgICAgfQogICAg_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts__WEBPACK_IMPORTED_MODULE_8__),_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/material/fesm2022/sidenav.mjs"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/angular/core/core.module.ts"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/angular/core/types.ts"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/angular/core/core.service.ts"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/angular/mock/translate.ts"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_mock_agent_mock_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/angular/mock/agent-mock.service.ts"),_entity_schema_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/angular/entity/entity-schema/entity-schema.component.ts"),_angular_common_http__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_types__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./packages/angular/entity/entity-schema/types.ts");let DragComponent=((_DragComponent=class DragComponent{constructor(){this.drops=[]}drop(event){this.drops.push(event.item.data)}}).propDecorators={dataSettings:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}]},_DragComponent);DragComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Component)({standalone:!0,imports:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.CommonModule,_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_5__.SJ,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_6__._t,_entity_schema_component__WEBPACK_IMPORTED_MODULE_7__.I],selector:"ngm-story-component-drag",template:'<mat-drawer-container class="example-container" autosize cdkDropListGroup>\n    <mat-drawer mode="side" opened cdkDropList>\n      <ngm-entity-schema [dataSettings]="dataSettings"></ngm-entity-schema>\n      <ngm-entity-schema\n        [dataSettings]="{\n          dataSource: dataSettings.dataSource,\n          entitySet: \'sales_fact\'\n        }"\n      ></ngm-entity-schema>\n    </mat-drawer>\n    <mat-drawer-content cdkDropList [cdkDropListData]="drops" (cdkDropListDropped)="drop($event)">\n      <ul>\n        <li *ngFor="let item of drops">\n          {{ item.entity }}/{{ item.name || item.raw.memberKey }}/{{ item.type }}/{{ item.dataType }}/{{ item.dbType }}\n        </li>\n      </ul>\n    </mat-drawer-content>\n  </mat-drawer-container>',styles:[_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts_css_ngResource_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAgIC5tYXQtZHJhd2VyLWNvbnRhaW5lciB7CiAgICAgICAgaGVpZ2h0OiA1MDBweDsKICAgICAgfQogICAg_home_runner_work_ocap_ocap_packages_angular_entity_entity_schema_entity_schema_component_stories_ts__WEBPACK_IMPORTED_MODULE_8___default()]})],DragComponent);var _ref;const __WEBPACK_DEFAULT_EXPORT__={title:"Entity/EntitySchema",component:_entity_schema_component__WEBPACK_IMPORTED_MODULE_7__.I,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.applicationConfig)({providers:[(0,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_9__.provideAnimations)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_10__.qX)(),(0,_angular_common_http__WEBPACK_IMPORTED_MODULE_11__.h_)(),(0,_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_12__.B)(),{provide:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_13__.fH,useClass:_mock_agent_mock_service__WEBPACK_IMPORTED_MODULE_14__.ch,multi:!0},{provide:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_13__.OF,useValue:{type:"SQL",factory:(_ref=(0,_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__.Z)((function*(){const{SQLDataSource}=yield __webpack_require__.e(3958).then(__webpack_require__.bind(__webpack_require__,"./packages/sql/src/index.ts"));return SQLDataSource})),function factory(){return _ref.apply(this,arguments)})},multi:!0},{provide:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_13__.ET,useValue:{name:"Sales",type:"SQL",agentType:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.buO.Browser,settings:{ignoreUnknownProperty:!0},schema:{cubes:[_mock_agent_mock_service__WEBPACK_IMPORTED_MODULE_14__.nH]}},multi:!0}]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_9__.BrowserAnimationsModule,_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_5__.SJ,_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_6__._t,_entity_schema_component__WEBPACK_IMPORTED_MODULE_7__.I,DragComponent],providers:[_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_16__.q]})]},Primary={args:{dataSettings:{dataSource:"Sales",entitySet:"SalesOrder"}}},SelectedHierarchy={args:{dataSettings:{dataSource:"Sales",entitySet:"SalesOrder"},selectedHierarchy:"[Product]"}},Capacity={args:{dataSettings:{dataSource:"Sales",entitySet:"SalesOrder"},capacities:[_types__WEBPACK_IMPORTED_MODULE_17__.W.Dimension,_types__WEBPACK_IMPORTED_MODULE_17__.W.Measure,_types__WEBPACK_IMPORTED_MODULE_17__.W.Calculation,_types__WEBPACK_IMPORTED_MODULE_17__.W.Indicator]}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    dataSettings: {\n      dataSource: 'Sales',\n      entitySet: 'SalesOrder'\n    }\n  }\n}",...Primary.parameters?.docs?.source}}},SelectedHierarchy.parameters={...SelectedHierarchy.parameters,docs:{...SelectedHierarchy.parameters?.docs,source:{originalSource:"{\n  args: {\n    dataSettings: {\n      dataSource: 'Sales',\n      entitySet: 'SalesOrder'\n    },\n    selectedHierarchy: '[Product]'\n  }\n}",...SelectedHierarchy.parameters?.docs?.source}}},Capacity.parameters={...Capacity.parameters,docs:{...Capacity.parameters?.docs,source:{originalSource:"{\n  args: {\n    dataSettings: {\n      dataSource: 'Sales',\n      entitySet: 'SalesOrder'\n    },\n    capacities: [EntityCapacity.Dimension, EntityCapacity.Measure, EntityCapacity.Calculation, EntityCapacity.Indicator]\n  }\n}",...Capacity.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","SelectedHierarchy","Capacity"]},"?d4c0":()=>{}}]);