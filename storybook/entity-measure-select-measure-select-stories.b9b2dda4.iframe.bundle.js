(self.webpackChunkocap=self.webpackChunkocap||[]).push([[9365],{"./packages/angular/entity/property/property.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  overflow: hidden;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/common/select/select.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>NgmSelectModule});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_select_select_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/common/select/select/select.component.ts"),_input_option_content__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/angular/common/input/option-content.ts"),_mat_select_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/angular/common/select/mat/select.component.ts");let NgmSelectModule=class NgmSelectModule{};NgmSelectModule=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,_input_option_content__WEBPACK_IMPORTED_MODULE_3__.x,_select_select_component__WEBPACK_IMPORTED_MODULE_4__.V,_mat_select_component__WEBPACK_IMPORTED_MODULE_5__.g],exports:[_input_option_content__WEBPACK_IMPORTED_MODULE_3__.x,_select_select_component__WEBPACK_IMPORTED_MODULE_4__.V,_mat_select_component__WEBPACK_IMPORTED_MODULE_5__.g]})],NgmSelectModule)},"./packages/angular/entity/measure-select/measure-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>NgmMeasureSelectComponent});var asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmMeasureSelectComponent,common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),tooltip=__webpack_require__("./node_modules/@angular/material/fesm2022/tooltip.mjs"),select_module=__webpack_require__("./packages/angular/common/select/select.module.ts"),core_service=__webpack_require__("./packages/angular/core/core.service.ts"),services_core_service=__webpack_require__("./packages/angular/core/services/core.service.ts"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),orderBy=__webpack_require__("./node_modules/lodash-es/orderBy.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),property_component=__webpack_require__("./packages/angular/entity/property/property.component.ts");let NgmMeasureSelectComponent=(_NgmMeasureSelectComponent=class NgmMeasureSelectComponent{constructor(){this.dsCoreService=(0,core.inject)(core_service.q),this.coreService=(0,core.inject)(services_core_service.z),this._dialog=(0,core.inject)(dialog.uw),this._viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.dataSettings=(0,core.input)(null),this.filter=(0,core.input)(null),this.error=(0,core.input)(null),this.formControl=new fesm2022_forms.NI(null),this.value=(0,rxjs_interop.O4)(this.formControl.valueChanges),this.entityType=(0,rxjs_interop.O4)((0,rxjs_interop.Dx)(this.dataSettings).pipe((0,filter.h)(src.vJr),(0,switchMap.w)((({dataSource,entitySet})=>this.dsCoreService.selectEntitySet(dataSource,entitySet))),(0,filter.h)(src.D_c),(0,map.U)((({entityType})=>entityType)))),this.measureOptions=(0,core.computed)((()=>{const measures=this.entityType()?(0,src.wqS)(this.entityType()):[],filter=this.filter()??(()=>!0);return[{name:null,caption:""},...(0,orderBy.Z)(measures.filter((measure=>!(0,src.ewE)(measure))),["name"]),...(0,orderBy.Z)(measures.filter((measure=>(0,src.ewE)(measure)&&!(0,src.sT)(measure))),["calculationType","name"]),...(0,orderBy.Z)(measures.filter((measure=>(0,src.sT)(measure))),["name"])].filter(filter).map((measure=>({key:measure.name,caption:measure.caption,value:measure})))})),this.syntax=(0,core.computed)((()=>this.entityType()?.syntax)),this.property=(0,core.computed)((()=>(0,src.ZBB)(this.entityType(),this.value()))),this.isCalculationProperty=(0,core.computed)((()=>(0,src.ewE)(this.property())&&!(0,src.sT)(this.property()))),this._formValueSub=this.formControl.valueChanges.pipe((0,distinctUntilChanged.x)()).subscribe((value=>{this.onChange?.(value)}))}writeValue(obj){this.formControl.setValue(obj)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){isDisabled?this.formControl.disable():this.formControl.enable()}openCalculationMeasure(){var _this=this;return(0,asyncToGenerator.Z)((function*(){const data={dataSettings:_this.dataSettings(),entityType:_this.entityType(),syntax:_this.syntax(),dsCoreService:_this.dsCoreService,value:null};_this.coreService.openCalculation(data).subscribe((property=>{property&&(_this.coreService.updateEntity({type:"Calculation",dataSettings:_this.dataSettings(),property}),_this.formControl.setValue(property.name))}))}))()}editCalculationMeasure(){var _this2=this;return(0,asyncToGenerator.Z)((function*(){const data={dataSettings:_this2.dataSettings(),entityType:_this2.entityType(),syntax:_this2.syntax(),dsCoreService:_this2.dsCoreService,value:_this2.property()};_this2.coreService.openCalculation(data).subscribe((property=>{property&&(_this2.coreService.updateEntity({type:"Calculation",dataSettings:_this2.dataSettings(),property}),_this2.formControl.setValue(property.name))}))}))()}},_NgmMeasureSelectComponent.propDecorators={label:[{type:core.Input}],placeholder:[{type:core.Input}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}],filter:[{type:core.Input,args:[{isSignal:!0,alias:"filter",required:!1,transform:void 0}]}],error:[{type:core.Input,args:[{isSignal:!0,alias:"error",required:!1,transform:void 0}]}]},_NgmMeasureSelectComponent);NgmMeasureSelectComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.UX,ngx_translate_core.aw,fesm2022_button.ot,icon.Ps,tooltip.AV,select_module.f,displayDensity.Z,property_component.lG],selector:"ngm-measure-select",template:'<ngm-select class="flex-1" searchable valueKey="key"\n    [label]="label"\n    [placeholder]="placeholder"\n    [formControl]="formControl"\n    [selectOptions]="measureOptions()"\n    [ngClass]="{\'ngm-select-error\': error()}"\n    >\n    \n    <ng-template ngmOptionContent let-property="value" let-highlight="highlight">\n        <ngm-entity-property class="flex-1" [property]="property" [highlight]="highlight" />\n    </ng-template>\n\n    <div ngmSuffix class="flex items-center">\n      <ng-content select="ngmSuffix"></ng-content>\n\n      @if (isCalculationProperty()) {\n        <button mat-icon-button\n            [matTooltip]="\'Ngm.MeasureSelect.EditCalculationMeasure\' | translate: {Default: \'Edit calculation measure\'}"\n            (click)="editCalculationMeasure()">\n            <mat-icon>functions</mat-icon>\n        </button>\n      }\n\n        <button mat-icon-button \n            [matTooltip]="\'Ngm.MeasureSelect.NewCalculationMeasure\' | translate: {Default: \'New calculation measure\'}"\n            (click)="openCalculationMeasure()">\n            <mat-icon>add</mat-icon>\n        </button>\n    </div>\n\n    <div ngmError>\n        {{error()}}\n    </div>\n</ngm-select>',inputs:["color","disabled"],host:{class:"ngm-measure-select"},providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmMeasureSelectComponent))}]})],NgmMeasureSelectComponent)},"./packages/angular/entity/property/property.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{lG:()=>NgmEntityPropertyComponent,E4:()=>propertyIcon});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmEntityPropertyComponent,property_componentngResource=__webpack_require__("./packages/angular/entity/property/property.component.scss?ngResource"),property_componentngResource_default=__webpack_require__.n(property_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),src=__webpack_require__("./packages/core/src/index.ts");let NgmEntityPropertyComponent=((_NgmEntityPropertyComponent=class NgmEntityPropertyComponent{constructor(){this.AGGREGATION_ROLE=src.uFO,this.property=(0,core.input)(null),this.displayBehaviour=(0,core.input)(null),this.displayDensity=(0,core.input)(null),this.hiddenIcon=(0,core.input)(!1,{transform:core.booleanAttribute}),this.highlight=(0,core.input)(null),this.role=(0,core.input)(null),this.icon=(0,core.signal)(null),(0,core.effect)((()=>{const property=this.property(),role=this.role();this.icon.set(property?propertyIcon({...property,role:role??property.role}).icon:null)}),{allowSignalWrites:!0})}}).ctorParameters=()=>[],_NgmEntityPropertyComponent.propDecorators={property:[{type:core.Input,args:[{isSignal:!0,alias:"property",required:!1,transform:void 0}]}],displayBehaviour:[{type:core.Input,args:[{isSignal:!0,alias:"displayBehaviour",required:!1,transform:void 0}]}],displayDensity:[{type:core.Input,args:[{isSignal:!0,alias:"displayDensity",required:!1,transform:void 0}]}],hiddenIcon:[{type:core.Input,args:[{isSignal:!0,alias:"hiddenIcon",required:!1,transform:void 0}]}],highlight:[{type:core.Input,args:[{isSignal:!0,alias:"highlight",required:!1,transform:void 0}]}],role:[{type:core.Input,args:[{isSignal:!0,alias:"role",required:!1,transform:void 0}]}]},_NgmEntityPropertyComponent);NgmEntityPropertyComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,icon.Ps,displayDensity.Z,common_module.N],changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-entity-property",template:'@if (!hiddenIcon() && icon()) {\n  <mat-icon mat-list-icon class="shrink-0 mr-1">{{ icon() }}</mat-icon>\n}\n\n<ngm-display-behaviour class="flex-1 overflow-hidden"\n  [displayBehaviour]="displayBehaviour()"\n  [option]="{\n    key: property().name,\n    caption: property().caption\n  }"\n  [highlight]="highlight()"\n>\n</ngm-display-behaviour>\n',host:{class:"ngm-entity-property"},styles:[property_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmEntityPropertyComponent);const SemanticIconMap={[src.ZRQ["Address.Country"]]:"public"};function propertyIcon(property){let icon=null,label=null;switch(property?.role){case src.uFO.dimension:(0,src.IaF)(property)?(icon="schedule",label="Calendar"):SemanticIconMap[property.semantics?.semantic]?(icon=SemanticIconMap[property.semantics?.semantic],label=property.semantics?.semantic):(icon="tag",label="Dimension");break;case src.uFO.hierarchy:icon="h_mobiledata",label="Hierarchy";break;case src.uFO.level:icon="format_list_numbered_rtl",label="Level";break;case src.uFO.measure:(0,src.ewE)(property)?(0,src.UE_)(property)?(icon="alternate_email",label="Measure Control"):(0,src.sT)(property)?(icon="trending_up",label="Indicator"):(icon="functions",label="Calculation"):(icon="straighten",label="Measure");break;default:(0,src.RZT)(property)&&(icon="alternate_email",label="Parameter")}return{icon,label}}},"./packages/angular/i18n/zhHans.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>ZhHans});const ZhHans={Ngm:{Common:{Add:"添加",Cancel:"取消",Apply:"应用",Reset:"重置",Search:"搜索",Select:"选择",Clear:"清空",Search_Placeholder:"请输入关键词",DisplayBehaviour_Description:"描述",DisplayBehaviour_DescriptionID:"描述 ID",DisplayBehaviour_IDDescription:"ID 描述",DisplayBehaviour_ID:"ID",DisplayBehaviour_Auto:"自动",SelectionType_Single:"单选",SelectionType_Multiple:"多选",Presentation_Flat:"平铺",Presentation_Hierarchy:"层级",HierarchySelectionMode_Individual:"单个",HierarchySelectionMode_SelfDescendants:"自己和后代",HierarchySelectionMode_DescendantsOnly:"只后代",HierarchySelectionMode_SelfChildren:"自己和子代",HierarchySelectionMode_ChildrenOnly:"只子代",Measures:"度量",None:"无",Default:"默认",Hierarchy:"层次结构",DisplayBehaviour:"显示行为",DisplayBehaviour_IDOnly:"编码"},AnalyticalCard:{Screenshot:"截图",DataDownload:"下载数据",Refresh:"刷新",DrillDown:"下钻",DrillLevel:"层级下钻",DrillDimension:"维度下钻",LinkAnalysis:"联动筛选",DataEmpty:"数据为空"},AnalyticalGrid:{DataDownload:"下载数据",SORT:"排序",MOVE:"移动",ASCENDING:"正序",DESCENDGING:"倒序",MOVELEFT:"向左",MOVERIGHT:"向右",Search:"搜索",SelectAll:"选择所有",Pin:"固定"},Controls:{ValueHelp:{Title:"为{{value}}设置过滤器",AvailableMembers:"可选成员",DisplayBehaviour:"展现形式",SelectedMembers:"选中成员",ClearSelection:"清空选择",ShowUnbookedMembers:"显示未分配成员",ShowAllMember:"显示‘所有’成员",ShowOnlyLeaves:"只显示叶子节点",ExcludeSelectedMembers:"排除选中成员",SelectionType:"选择类型",Presentation:"展现形式",HierarchySelectionMode:"层级选择模式",Hierarchy:"层次结构"}},Copilot:{Copilot:"副驾驶",AICopilot:"AI 副驾驶",EnableCopilot:"启用 Copilot",GetYourApiKey:"获取你的 API Key",ProvideOpenaiApiKey:"请提供 Openai API Key?",Provider:"提供商",YourAIPairProgrammer:"你的 AI 配对程序员!",LetYourAIPairProgrammerEdits:"让你的 AI 配对程序员修改一下!",SelectSomeCode:"选择代码，让你的 AI 配对程序员修改一下!",ThinkingHard:"努力思考中...",StopGenerating:"停止生成",ClearMessages:"清空消息",CharacterLength:"字数",Resubmit:"重新提交",Cancel:"取消",Model:"模型",Options:"选项",UseSystemPrompt:"使用系统提示",ExamplesOfPrompts:"提示语示例",APIKey:"API 密钥",APIHost:"API 主机",AskAICopilot:"向 AI 副驾驶询问问题",Prompt:"提示",SendPrompt:"发送提问",Placeholder:"询问副驾驶或输入 / 获取命令",ClearConversation:"清空会话",Ask:"提问",Copy:"复制",Regenerate:"重新生成",Common:"通用",PleaseSelectBusinessRole:"请选择一个业务角色",DefaultBusinessRole:{title:"通用",description:"通用业务角色"},Help:"帮助",NewChat:"新聊天",Update:"更新"},Entity:{SelectEntities:"选择数据集",SemanticModel:"语义模型",Cube:"多维数据集",AnnotatedCube:"增强过的多维数据集",MEASURE:"度量",SELECT_DIMENSION:"选择维度",MeasureFormatting:"度量格式",ShortNumber:"缩写数字",Decimals:"小数位",Unit:"单位",UseUnderlyingUnit:"使用模型单位",DigitsInfo:"数字格式"},EntitySchema:{Parameters:"参数",Measures:"度量",Properties:"属性"},Formula:{Editor:{EditFormula:"编辑公式",Format:"格式化",Help:"帮助"}},Table:{Select:"选择",NoData:"无数据",MatchingFilter:'匹配过滤条件"{{value}}"',firstPageLabel:"第一",itemsPerPageLabel:"每页",lastPageLabel:"最后",nextPageLabel:"下一页",previousPageLabel:"上一页",rangeLabel0:"页 1 共 1",pageLabel:"页",ofLabel:"共"},DatePicker:{Date:"日期",Year:"年",Quarter:"季",Month:"月",Week:"周",Day:"日",From:"从",To:"至"},TimeFilter:{SET_DATE_RANGE:"为 {{property}} 设置时间区间",CURRENT_DATE:"当前日期",SYSTEM_DATE:"系统时间",USER_CURRENT_DATE:"用户当前时间",ADD_TIME_RANGE:"添加时间区间",RANGE:"区间",RANGE_TYPE:"区间类型",RANGE_TYPE_STANDARD:"标准",RANGE_TYPE_OFFSET:"偏移",GRANULARITY:"粒度",YEAR:"年",QUARTER:"季度",MONTH:"月",WEEK:"周",DAY:"日",LOOK_BACK:"回顾",LOOK_AHEAD:"展望",CURRENT_PERIOD:"当前时间",FORMATTER:"格式",OFFSET_DIRECTION:"偏移方向",OFFSET_AMOUNT:"偏移量",SETTINGS_FOR_USERS:"为用户设置",ALLOW_MODIFY_SELECTIONS:"允许查看者修改选择",SELECTION_TYPE:"选择类型",SELECTION_TYPE_MULTIPLE:"多选",SELECTION_TYPE_SINGLE:"单选",TODAY:"当前期间",Year:"年",Quarter:"季度",Month:"月",Week:"周",Day:"日",Today:"今天"},AdvancedSlicer:{TITLE:"高级切片器",CONTEXT:"上下文",OPERATOR:"操作符",ENABLE_OTHER:"汇总其它项",VALUE:"值",VALUE_FROM:"从",VALUE_TO:"至",MEASURE:"度量",MeasureSelectPlaceholder:"选择或新建一个度量",Equal:"等于",NotEqual:"不等于",LessThan:"小于",GreaterThan:"大于",LessEqual:"小于等于",GreaterEqual:"大于等于",Between:"介于",NotBetween:"不介于",TopCount:"前 N 个",BottomCount:"后 N 个",TopPercent:"前百分比的",BottomPercent:"后百分比的",TopSum:"前总数",BottomSum:"后总数"},Property:{PARAMETER:"参数",PARAMETERS:"参数",MEASURE:"度量",MEASURES:"度量",MeasureGroup:"度量组",INDICATORS:"指标",CREATE_PARAMETER:"创建参数",EditParameter:"编辑参数",CALCULATIONS:"计算度量",DIMENSION:"维度",DIMENSIONS:"维度",ADD_DIMENSION:"添加维度",MEMBERS:"成员",HIERARCHY:"层次结构",ADD_PARAMETER_MEMBER:"添加成员",MEASURE_CONTROLS:"度量控制",CREATE_CALCULATION:"创建计算",CREATE_MEASURE_CONTROL:"创建度量控制",REFERENCE_LINE:"参考线",Input:"输入",Select:"选择",Dimensions:"维度",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",Value:"值",DefaultValue:"默认值",ValueType:"值类型",DisplayAs:"显示为",Label:"文本字段",Formatter:"格式设置",EditFormula:"编辑公式",UnbookedData:"无成员数据",ZeroSuppression:"清零",PropertyList:"属性列表",DisplayHierarchy:"包含父级层级",CreateParameter:"创建参数",CurrentMember:"当前成员",PreviousNMember:"之前第 N 个成员",NextNMember:"之后第 N 个成员",ParallelMember:"平行成员",AncestorMember:"祖先成员",SelectByMembers:"选择成员",NewCalculationInputControl:"新建计算输入",NthMember:"值 / 第 N 个",IsDefault:"默认",Default:"默认",Auto:"自动","Description and ID":"名称+ID","Description Only":"名称","ID Only":"ID",Description:"描述",Order:"排序",None:"无",Order_ASC:"正序",Order_DESC:"倒序",Dimension:"维度",AvailableMembers:"可用成员",DimensionNotFound:"在数据集‘{{cube}}’中未找到维度‘{{dimension}}’",DIMENSION_MEASURE:"维度/度量",Parameter:"参数","Measure Control":"度量控制",Measure:"度量",Calculation:"计算",Hierarchy:"层次结构",Level:"层级","Measure Group":"度量组",Indicator:"指标",Calendar:"日历","Address.Country":"国家"},MeasureSelect:{EditCalculationMeasure:"编辑计算度量",NewCalculationMeasure:"新建计算度量"},Calculation:{TITLE:"计算编辑器",TYPE:"类型",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",FUNCTIONS:"函数",DIMENSION_MEMBERS:"维度成员",CALCULATED_MEMBERS:"计算成员",PARAMETERS:"参数",CALCULATED_MEASURE:"计算公式",RESTRICTED_MEASURE:"受限度量",VARIANCE_MEASURE:"差值度量",AGGREGATION:"聚合",DIMENSION_TO_MEASURE:"维度转度量",MEASURE_CONTROL:"度量控制",PROPERTIES:"属性",OPERATION:"运算",VALUE:"值",AGGREGATION_DIMENSIONS:"聚合维度",ADD_DIMENSION:"添加维度",SELECTION_CONTEXT:"选择上下文",ENABLE_CONSTANT_SELECTION:"启用常量选择",EDIT_FORMULA:"编辑公式",ToggleSidebar:"切换侧边栏",UseConditionalAggregation:"使用条件聚合",ConditionalDimensions:"条件维度",ExcludeConditions:"排除条件",Compare:"比",To:"较",BaseDimension:"基准维度",SetNoDataasZero:"将无数据当作零",CalculateasPercentage:"计算为百分比",DirectDivide:"直接除",AbsoluteBaseValue:"绝对化基值",DivideBy:"除以",CompareValueA:"比 (A)",ToValueB:"较 (B)",Measure:"度量",RestrictiveConditions:"限定条件",ConstantSelectionTootip:"锁定限定条件维度成员,使其不会被用户上下文切片器所覆盖",Dimension:"维度",MeasureSelectOptions:"度量选择选项",ConditionalAggregation:"条件聚合",Unit:"单位",Formulas:"公式",MeasureSelectPlaceholder:"选择或新建一个度量",MeasureIsRequired:"度量必选"},AdvancedFilter:{Title:"组合切片器",AND:"且",OR:"或",GROUP:"组合",Operator:"操作符",Value:"值",Condition:"条件",AddGroup:'"且"组合',OrGroup:'"或"组合',EndGroup:"结束组合",DeleteGroup:"删除组合",Tips:"使用 且/或 创建条件组合"},Selection:{Slicers:"切片器",AdvancedFilter:"组合切片器",CombinationSlicer:"组合切片器",AdvancedSlicer:"高级切片器",DimensionMembers:"维度成员",TimeRanges:"动态时间范围",OnContext:"基于",SLICERS_BAR:{TITLE:"过滤器"},SLICER:{ADVANCED_SLICER:"高级切片器",ADVANCED_FILTER:"组合切片器"},DateFunctions:{SYSTEMTIME:"系统时间",TODAY:"今天"}}}}},"./packages/angular/mock/agent-mock.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ch:()=>MockAgent,fJ:()=>CUBE_SALES_ORDER_NAME,nH:()=>CUBE_SALES_ORDER});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts"),_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ngneat/falso/index.esm.js"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js");const columns=[{name:"OrderId",label:"订单号",type:"string"},{name:"product",label:"产品",type:"string"},{name:"productCategory",label:"产品类别",type:"string"},{name:"Department",label:"部门",type:"string"},{name:"sales",label:"销售额",type:"number"},{name:"quantity",label:"销售量",type:"number"}],SalesOrder={name:"SalesOrder",label:"销售订单",columns},SalesOrder10s={name:"SalesOrder10s",label:"销售订单10秒",columns},SalesOrder3s={name:"SalesOrder3s",label:"销售订单3秒",columns},CUBE_SALES_ORDER_NAME="SalesOrder",CUBE_SALES_ORDER={name:CUBE_SALES_ORDER_NAME,caption:"销售订单",visible:!0,tables:[{name:"sales_order"}],dimensions:[{name:"Product",caption:"产品",hierarchies:[{name:"",caption:"产品",levels:[{name:"Product",column:"product",captionColumn:"ProductName"}]}]},{name:"Department",caption:"部门",hierarchies:[{name:"",levels:[{name:"Department",column:"department",captionColumn:"DepartmentName"}]}]}],measures:[{name:"Sales",column:"sales",caption:"销售额"},{name:"Cost",column:"cost",caption:"成本"}]};let MockAgent=class MockAgent{constructor(){this.type=_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.buO.Browser,this.error$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.x}selectStatus(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.dJT.ONLINE)}selectError(){return this.error$}error(err){this.error$.next(err)}request(dataSource,options){return new Promise(((resolve,reject)=>{if("get"===options.method){if("schema"===options.url)switch(options.table){case SalesOrder10s.name:return resolve([{schema:"default",tables:[SalesOrder10s]}]);case SalesOrder3s.name:return resolve([{schema:"default",tables:[SalesOrder3s]}]);case SalesOrder.name:return resolve([{schema:"default",tables:[SalesOrder]}]);case"Empty":return resolve([{schema:"default",tables:[{name:"Empty",columns:[]}]}]);default:return'SELECT * FROM "SalesOrder"'===options.statement?resolve([{schema:"default",tables:[SalesOrder]}]):resolve([{schema:"default",tables:[{name:"Inventory",label:"库存",columns:[{name:"product",label:"产品",type:"string"},{name:"productCategory",label:"产品类别",type:"string"},{name:"sales",label:"销售额",type:"number"},{name:"quantity",label:"销售量",type:"number"}]}]}])}}else if("post"===options.method&&"query"===options.url){const results=[];if(options.body?.statement?.includes("AS `memberKey`")){const data=[];return(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:3}).forEach((product=>{data.push({memberKey:product,memberCaption:product}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:3}).filter((product2=>!data.find((item=>item.memberKey===product2)))).forEach((product2=>{data.push({memberKey:product2,memberCaption:product2,parentKey:product}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:5}).filter((product=>!data.find((item=>item.memberKey===product)))).forEach((product3=>{data.push({memberKey:product3,memberCaption:product3,parentKey:product2})}))}))})),resolve({data,columns:[{name:"memberKey",label:"成员 Key",type:"string"},{name:"parentKey",label:"父级 Key",type:"string"}]})}if(options.body?.statement?.includes('"Department" AS "Department"')){let departmentCode=0;return(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)({length:5}).forEach((name=>{departmentCode++;const department1=departmentCode;results.push({Department:department1,DepartmentName:name,quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)({length:5}).forEach((name=>{departmentCode++;const department2=departmentCode;results.push({Department:department2,DepartmentName:name,DepartmentParent:department1,quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()}),(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)({length:3}).forEach((name=>{departmentCode++;const department3=departmentCode;results.push({Department:department3,DepartmentName:name,DepartmentParent:department2,quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()})}))}))})),resolve({data:results,columns:[{name:"Department",label:"部门",type:"string"},{name:"DepartmentName",label:"部门",type:"string"},{name:"DepartmentParent",label:"上级部门",type:"string"}]})}return(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.ALu)({length:3}).forEach((productCategory=>{const DepartmentParent=(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)();(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.mJl)({length:5}).forEach((product=>{results.push({OrderId:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.s8S)(),"[Product]":(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.s8S)(),"[Product].[MEMBER_CAPTION]":product,productCategory,Department:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.T1i)(),DepartmentParent,Sales:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)(),quantity:(0,_ngneat_falso__WEBPACK_IMPORTED_MODULE_3__.Qyw)()})}))})),options.body?.statement?.includes(SalesOrder10s.name)?void setTimeout((()=>{resolve({data:results,columns})}),1e4):options.body?.statement?.includes(SalesOrder3s.name)?void setTimeout((()=>{resolve({data:results,columns})}),3e3):options.body?.statement?.includes("empty_")?resolve({data:[],columns:[]}):void setTimeout((()=>{resolve({data:results,columns:[{name:"OrderId",label:"订单号",type:"string"},{name:"[Product]",label:"产品",type:"string"},{name:"productCategory",label:"产品类别",type:"string"},{name:"[Department]",label:"部门",type:"string"},{name:"[DepartmentParent]",label:"上级部门",type:"string"}]})}),1e3)}resolve({})}))}};MockAgent=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Injectable)()],MockAgent)},"./packages/angular/mock/provider.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>MODEL_KEY,Y:()=>provideOcapMock});var _home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts"),_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/core/services/core.service.ts"),_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/angular/core/core.service.ts"),_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/angular/core/types.ts"),_agent_mock_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/mock/agent-mock.service.ts");const MODEL_KEY="key_sales";function provideOcapMock(){return[_core__WEBPACK_IMPORTED_MODULE_1__.z,_core__WEBPACK_IMPORTED_MODULE_2__.q,{provide:_core__WEBPACK_IMPORTED_MODULE_3__.fH,useClass:_agent_mock_service__WEBPACK_IMPORTED_MODULE_4__.ch,multi:!0},{provide:_core__WEBPACK_IMPORTED_MODULE_3__.OF,useValue:{type:"SQL",factory:(_ref=(0,_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__.Z)((function*(){const{SQLDataSource}=yield __webpack_require__.e(3958).then(__webpack_require__.bind(__webpack_require__,"./packages/sql/src/index.ts"));return SQLDataSource})),function factory(){return _ref.apply(this,arguments)})},multi:!0},{provide:_core__WEBPACK_IMPORTED_MODULE_3__.ET,useValue:{key:MODEL_KEY,name:"Sales",type:"SQL",agentType:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.buO.Browser,settings:{ignoreUnknownProperty:!0},schema:{cubes:[_agent_mock_service__WEBPACK_IMPORTED_MODULE_4__.nH]}},multi:!0}];var _ref}},"./packages/angular/mock/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qX:()=>provideTranslate,zd:()=>zhHansLanguage});var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/core/i18n/missing-tanslation.ts"),_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/i18n/zhHans.ts");const zhHansLanguage="zh-Hans";class CustomTranslateLoader{getTranslation(lang){return console.log(lang),lang===zhHansLanguage?(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__.q):(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(null)}}function provideTranslate(defaultLanguage=zhHansLanguage){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.aw.forRoot({missingTranslationHandler:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.gC,useClass:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__.l},loader:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.Zw,useClass:CustomTranslateLoader,deps:[_angular_common_http__WEBPACK_IMPORTED_MODULE_5__.eN]},defaultLanguage}))}},"./packages/angular/entity/measure-select/measure-select.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,actionsData:()=>actionsData,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_angular_common_http__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/angular/mock/provider.ts"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/angular/mock/translate.ts"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/angular/mock/agent-mock.service.ts"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),_measure_select_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/angular/entity/measure-select/measure-select.component.ts");const actionsData={onPinTask:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.aD)("onPinTask"),onArchiveTask:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.aD)("onArchiveTask")},__WEBPACK_DEFAULT_EXPORT__={title:"Entity/MeasureSelect",component:_measure_select_component__WEBPACK_IMPORTED_MODULE_2__.Y,excludeStories:/.*Data$/,tags:["autodocs"],decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({providers:[(0,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__.provideAnimations)(),(0,_angular_common_http__WEBPACK_IMPORTED_MODULE_4__.h_)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_5__.Y)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_6__.qX)()]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({declarations:[],imports:[]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.componentWrapperDecorator)((story=>`<div style="margin: 3em">${story}</div>`))],render:args=>({props:{...args},template:`<ngm-measure-select ${(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.argsToTemplate)(args)}></ngm-measure-select>`})},Default={args:{dataSettings:{dataSource:_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_5__.T,entitySet:_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_7__.fJ}}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    dataSettings: {\n      dataSource: MODEL_KEY,\n      entitySet: CUBE_SALES_ORDER_NAME\n    }\n  }\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["actionsData","Default"]},"?d4c0":()=>{}}]);