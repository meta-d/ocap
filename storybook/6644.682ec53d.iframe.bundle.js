/*! For license information please see 6644.682ec53d.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkocap=self.webpackChunkocap||[]).push([[6644],{"./node_modules/@angular/material/fesm2022/divider.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>MatDividerModule});var _class,_class2,_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/coercion.mjs"),_angular_material_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/material/fesm2022/core.mjs");class MatDivider{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(value){this._vertical=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_0__.Ig)(value)}get inset(){return this._inset}set inset(value){this._inset=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_0__.Ig)(value)}}(_class=MatDivider).ɵfac=function _class_Factory(t){return new(t||_class)},_class.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({type:_class,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function _class_HostBindings(rf,ctx){2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵattribute"]("aria-orientation",ctx.vertical?"vertical":"horizontal"),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("mat-divider-vertical",ctx.vertical)("mat-divider-horizontal",!ctx.vertical)("mat-divider-inset",ctx.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function _class_Template(rf,ctx){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](MatDivider,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,args:[{selector:"mat-divider",host:{role:"separator","[attr.aria-orientation]":'vertical ? "vertical" : "horizontal"',"[class.mat-divider-vertical]":"vertical","[class.mat-divider-horizontal]":"!vertical","[class.mat-divider-inset]":"inset",class:"mat-divider"},template:"",encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None,changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"]}]}],null,{vertical:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],inset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}]});class MatDividerModule{}(_class2=MatDividerModule).ɵfac=function _class2_Factory(t){return new(t||_class2)},_class2.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({type:_class2,declarations:[MatDivider],imports:[_angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ],exports:[MatDivider,_angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ]}),_class2.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({imports:[_angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ,_angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ]}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](MatDividerModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,args:[{imports:[_angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ],exports:[MatDivider,_angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ],declarations:[MatDivider]}]}],null,null)},"./node_modules/claygl/src/Camera.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var v4,_Node__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/Node.js"),_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),_math_Frustum__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/math/Frustum.js"),_math_Ray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/claygl/src/math/Ray.js"),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec4.js"),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js");const __WEBPACK_DEFAULT_EXPORT__=_Node__WEBPACK_IMPORTED_MODULE_0__.Z.extend((function(){return{projectionMatrix:new _math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z,invProjectionMatrix:new _math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z,viewMatrix:new _math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z,frustum:new _math_Frustum__WEBPACK_IMPORTED_MODULE_2__.Z}}),(function(){this.update(!0)}),{update:function(force){_Node__WEBPACK_IMPORTED_MODULE_0__.Z.prototype.update.call(this,force),_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(viewMatrix){_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z.copy(this.viewMatrix,viewMatrix),_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z.invert(this.worldTransform,viewMatrix),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(projectionMatrix){_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z.copy(this.projectionMatrix,projectionMatrix),_math_Matrix4__WEBPACK_IMPORTED_MODULE_1__.Z.invert(this.invProjectionMatrix,projectionMatrix),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:(v4=_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.create(),function(ndc,out){var ray=void 0!==out?out:new _math_Ray__WEBPACK_IMPORTED_MODULE_4__.Z,x=ndc.array[0],y=ndc.array[1];return _glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.set(v4,x,y,-1,1),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.transformMat4(v4,v4,this.invProjectionMatrix.array),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.transformMat4(v4,v4,this.worldTransform.array),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_5__.Z.scale(ray.origin.array,v4,1/v4[3]),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.set(v4,x,y,1,1),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.transformMat4(v4,v4,this.invProjectionMatrix.array),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.transformMat4(v4,v4,this.worldTransform.array),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_5__.Z.scale(v4,v4,1/v4[3]),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_5__.Z.sub(ray.direction.array,v4,ray.origin.array),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_5__.Z.normalize(ray.direction.array,ray.direction.array),ray.direction._dirty=!0,ray.origin._dirty=!0,ray})})},"./node_modules/claygl/src/FrameBuffer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _core_Base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/Base.js"),_Texture__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/Texture.js"),_core_glenum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),_core_Cache__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/core/Cache.js"),GL_FRAMEBUFFER=_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.FRAMEBUFFER,GL_RENDERBUFFER=_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.RENDERBUFFER,GL_DEPTH_ATTACHMENT=_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.DEPTH_ATTACHMENT,GL_COLOR_ATTACHMENT0=_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.COLOR_ATTACHMENT0,FrameBuffer=_core_Base__WEBPACK_IMPORTED_MODULE_1__.Z.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new _core_Cache__WEBPACK_IMPORTED_MODULE_2__.Z,this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(renderer){if(renderer.__currentFrameBuffer){if(renderer.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}renderer.__currentFrameBuffer=this;var _gl=renderer.gl;_gl.bindFramebuffer(GL_FRAMEBUFFER,this._getFrameBufferGL(renderer)),this._boundRenderer=renderer;var cache=this._cache;cache.put("viewport",renderer.viewport);var width,height,hasTextureAttached=!1;for(var attachment in this._textures){hasTextureAttached=!0;var obj=this._textures[attachment];obj&&(width=obj.texture.width,height=obj.texture.height,this._doAttach(renderer,obj.texture,attachment,obj.target))}this._width=width,this._height=height,!hasTextureAttached&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?renderer.setViewport(this.viewport):renderer.setViewport(0,0,width,height,1);var attachedTextures=cache.get("attached_textures");if(attachedTextures)for(var attachment in attachedTextures)if(!this._textures[attachment]){var target=attachedTextures[attachment];this._doDetach(_gl,attachment,target)}if(!cache.get("depthtexture_attached")&&this.depthBuffer){cache.miss("renderbuffer")&&cache.put("renderbuffer",_gl.createRenderbuffer());var renderbuffer=cache.get("renderbuffer");width===cache.get("renderbuffer_width")&&height===cache.get("renderbuffer_height")||(_gl.bindRenderbuffer(GL_RENDERBUFFER,renderbuffer),_gl.renderbufferStorage(GL_RENDERBUFFER,_gl.DEPTH_COMPONENT16,width,height),cache.put("renderbuffer_width",width),cache.put("renderbuffer_height",height),_gl.bindRenderbuffer(GL_RENDERBUFFER,null)),cache.get("renderbuffer_attached")||(_gl.framebufferRenderbuffer(GL_FRAMEBUFFER,GL_DEPTH_ATTACHMENT,GL_RENDERBUFFER,renderbuffer),cache.put("renderbuffer_attached",!0))}},unbind:function(renderer){renderer.__currentFrameBuffer=null,renderer.gl.bindFramebuffer(GL_FRAMEBUFFER,null),this._boundRenderer=null,this._cache.use(renderer.__uid__);var viewport=this._cache.get("viewport");viewport&&renderer.setViewport(viewport),this.updateMipmap(renderer)},updateMipmap:function(renderer){var _gl=renderer.gl;for(var attachment in this._textures){var obj=this._textures[attachment];if(obj){var texture=obj.texture;if(!texture.NPOT&&texture.useMipmap&&texture.minFilter===_Texture__WEBPACK_IMPORTED_MODULE_3__.Z.LINEAR_MIPMAP_LINEAR){var target="textureCube"===texture.textureType?_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.TEXTURE_CUBE_MAP:_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.TEXTURE_2D;_gl.bindTexture(target,texture.getWebGLTexture(renderer)),_gl.generateMipmap(target),_gl.bindTexture(target,null)}}}},checkStatus:function(_gl){return _gl.checkFramebufferStatus(GL_FRAMEBUFFER)},_getFrameBufferGL:function(renderer){var cache=this._cache;return cache.use(renderer.__uid__),cache.miss("framebuffer")&&cache.put("framebuffer",renderer.gl.createFramebuffer()),cache.get("framebuffer")},attach:function(texture,attachment,target){if(!texture.width)throw new Error("The texture attached to color buffer is not a valid.");attachment=attachment||GL_COLOR_ATTACHMENT0,target=target||_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.TEXTURE_2D;var attachedTextures,boundRenderer=this._boundRenderer;if(boundRenderer&&boundRenderer.gl){var cache=this._cache;cache.use(boundRenderer.__uid__),attachedTextures=cache.get("attached_textures")}var previous=this._textures[attachment];if(!previous||previous.target!==target||previous.texture!==texture||!attachedTextures||null==attachedTextures[attachment]){var canAttach=!0;boundRenderer&&(canAttach=this._doAttach(boundRenderer,texture,attachment,target),this.viewport||boundRenderer.setViewport(0,0,texture.width,texture.height,1)),canAttach&&(this._textures[attachment]=this._textures[attachment]||{},this._textures[attachment].texture=texture,this._textures[attachment].target=target)}},_doAttach:function(renderer,texture,attachment,target){var _gl=renderer.gl,webglTexture=texture.getWebGLTexture(renderer),attachedTextures=this._cache.get("attached_textures");if(attachedTextures&&attachedTextures[attachment]){var obj=attachedTextures[attachment];if(obj.texture===texture&&obj.target===target)return}var canAttach=!0;if(((attachment=+attachment)===GL_DEPTH_ATTACHMENT||attachment===_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.DEPTH_STENCIL_ATTACHMENT)&&(renderer.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),canAttach=!1),texture.format!==_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.DEPTH_COMPONENT&&texture.format!==_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),canAttach=!1),canAttach)){var renderbuffer=this._cache.get("renderbuffer");renderbuffer&&(_gl.framebufferRenderbuffer(GL_FRAMEBUFFER,GL_DEPTH_ATTACHMENT,GL_RENDERBUFFER,null),_gl.deleteRenderbuffer(renderbuffer),this._cache.put("renderbuffer",!1)),this._cache.put("renderbuffer_attached",!1),this._cache.put("depthtexture_attached",!0)}return _gl.framebufferTexture2D(GL_FRAMEBUFFER,attachment,target,webglTexture,0),attachedTextures||(attachedTextures={},this._cache.put("attached_textures",attachedTextures)),attachedTextures[attachment]=attachedTextures[attachment]||{},attachedTextures[attachment].texture=texture,attachedTextures[attachment].target=target,canAttach},_doDetach:function(_gl,attachment,target){_gl.framebufferTexture2D(GL_FRAMEBUFFER,attachment,target,null,0);var attachedTextures=this._cache.get("attached_textures");attachedTextures&&attachedTextures[attachment]&&(attachedTextures[attachment]=null),attachment!==GL_DEPTH_ATTACHMENT&&attachment!==_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.DEPTH_STENCIL_ATTACHMENT||this._cache.put("depthtexture_attached",!1)},detach:function(attachment,target){(this._textures[attachment]=null,this._boundRenderer)&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,attachment,target))},dispose:function(renderer){var _gl=renderer.gl,cache=this._cache;cache.use(renderer.__uid__);var renderBuffer=cache.get("renderbuffer");renderBuffer&&_gl.deleteRenderbuffer(renderBuffer);var frameBuffer=cache.get("framebuffer");frameBuffer&&_gl.deleteFramebuffer(frameBuffer),cache.deleteContext(renderer.__uid__),this._textures={}}});FrameBuffer.DEPTH_ATTACHMENT=GL_DEPTH_ATTACHMENT,FrameBuffer.COLOR_ATTACHMENT0=GL_COLOR_ATTACHMENT0,FrameBuffer.STENCIL_ATTACHMENT=_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.STENCIL_ATTACHMENT,FrameBuffer.DEPTH_STENCIL_ATTACHMENT=_core_glenum__WEBPACK_IMPORTED_MODULE_0__.Z.DEPTH_STENCIL_ATTACHMENT;const __WEBPACK_DEFAULT_EXPORT__=FrameBuffer},"./node_modules/claygl/src/Geometry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_Geometry});var vendor=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),vec3=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),mat4=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),BoundingBox=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),Base=__webpack_require__("./node_modules/claygl/src/core/Base.js"),glenum=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),Cache=__webpack_require__("./node_modules/claygl/src/core/Cache.js");function getArrayCtorByType(type){return{byte:vendor.Z.Int8Array,ubyte:vendor.Z.Uint8Array,short:vendor.Z.Int16Array,ushort:vendor.Z.Uint16Array}[type]||vendor.Z.Float32Array}function makeAttrKey(attrName){return"attr_"+attrName}function Attribute(name,type,size,semantic){switch(this.name=name,this.type=type,this.size=size,this.semantic=semantic||"",this.value=null,size){case 1:this.get=function(idx){return this.value[idx]},this.set=function(idx,value){this.value[idx]=value},this.copy=function(target,source){this.value[target]=this.value[target]};break;case 2:this.get=function(idx,out){var arr=this.value;return out[0]=arr[2*idx],out[1]=arr[2*idx+1],out},this.set=function(idx,val){var arr=this.value;arr[2*idx]=val[0],arr[2*idx+1]=val[1]},this.copy=function(target,source){var arr=this.value;source*=2,arr[target*=2]=arr[source],arr[target+1]=arr[source+1]};break;case 3:this.get=function(idx,out){var idx3=3*idx,arr=this.value;return out[0]=arr[idx3],out[1]=arr[idx3+1],out[2]=arr[idx3+2],out},this.set=function(idx,val){var idx3=3*idx,arr=this.value;arr[idx3]=val[0],arr[idx3+1]=val[1],arr[idx3+2]=val[2]},this.copy=function(target,source){var arr=this.value;source*=3,arr[target*=3]=arr[source],arr[target+1]=arr[source+1],arr[target+2]=arr[source+2]};break;case 4:this.get=function(idx,out){var arr=this.value,idx4=4*idx;return out[0]=arr[idx4],out[1]=arr[idx4+1],out[2]=arr[idx4+2],out[3]=arr[idx4+3],out},this.set=function(idx,val){var arr=this.value,idx4=4*idx;arr[idx4]=val[0],arr[idx4+1]=val[1],arr[idx4+2]=val[2],arr[idx4+3]=val[3]},this.copy=function(target,source){var arr=this.value;source*=4,arr[target*=4]=arr[source],arr[target+1]=arr[source+1],arr[target+2]=arr[source+2],arr[target+3]=arr[source+3]}}}function AttributeBuffer(name,type,buffer,size,semantic){this.name=name,this.type=type,this.buffer=buffer,this.size=size,this.semantic=semantic,this.symbol="",this.needsRemove=!1}function IndicesBuffer(buffer){this.buffer=buffer,this.count=0}Attribute.prototype.init=function(nVertex){if(!this.value||this.value.length!==nVertex*this.size){var ArrayConstructor=getArrayCtorByType(this.type);this.value=new ArrayConstructor(nVertex*this.size)}},Attribute.prototype.fromArray=function(array){var value,ArrayConstructor=getArrayCtorByType(this.type);if(array[0]&&array[0].length){var n=0,size=this.size;value=new ArrayConstructor(array.length*size);for(var i=0;i<array.length;i++)for(var j=0;j<size;j++)value[n++]=array[i][j]}else value=new ArrayConstructor(array);this.value=value},Attribute.prototype.clone=function(copyValue){var ret=new Attribute(this.name,this.type,this.size,this.semantic);return copyValue&&console.warn("todo"),ret};var GeometryBase=Base.Z.extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new Cache.Z,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var enabledAttributes=this.getEnabledAttributes(),i=0;i<enabledAttributes.length;i++)this.dirtyAttribute(enabledAttributes[i]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(attrName){this._cache.dirtyAll(makeAttrKey(attrName)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(idx,out){if(idx<this.triangleCount&&idx>=0){out||(out=[]);var indices=this.indices;return out[0]=indices[3*idx],out[1]=indices[3*idx+1],out[2]=indices[3*idx+2],out}},setTriangleIndices:function(idx,arr){var indices=this.indices;indices[3*idx]=arr[0],indices[3*idx+1]=arr[1],indices[3*idx+2]=arr[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(array){var value,ArrayConstructor=this.vertexCount>65535?vendor.Z.Uint32Array:vendor.Z.Uint16Array;if(array[0]&&array[0].length){var n=0;value=new ArrayConstructor(3*array.length);for(var i=0;i<array.length;i++)for(var j=0;j<3;j++)value[n++]=array[i][j]}else value=new ArrayConstructor(array);this.indices=value},createAttribute:function(name,type,size,semantic){var attrib=new Attribute(name,type,size,semantic);return this.attributes[name]&&this.removeAttribute(name),this.attributes[name]=attrib,this._attributeList.push(name),attrib},removeAttribute:function(name){var attributeList=this._attributeList,idx=attributeList.indexOf(name);return idx>=0&&(attributeList.splice(idx,1),delete this.attributes[name],!0)},getAttribute:function(name){return this.attributes[name]},getEnabledAttributes:function(){var enabledAttributes=this._enabledAttributes,attributeList=this._attributeList;if(enabledAttributes)return enabledAttributes;for(var result=[],nVertex=this.vertexCount,i=0;i<attributeList.length;i++){var name=attributeList[i],attrib=this.attributes[name];attrib.value&&attrib.value.length===nVertex*attrib.size&&result.push(name)}return this._enabledAttributes=result,result},getBufferChunks:function(renderer){var cache=this._cache;cache.use(renderer.__uid__);var isAttributesDirty=cache.isDirty("attributes"),isIndicesDirty=cache.isDirty("indices");if(isAttributesDirty||isIndicesDirty){this._updateBuffer(renderer.gl,isAttributesDirty,isIndicesDirty);for(var enabledAttributes=this.getEnabledAttributes(),i=0;i<enabledAttributes.length;i++)cache.fresh(makeAttrKey(enabledAttributes[i]));cache.fresh("attributes"),cache.fresh("indices")}return cache.fresh("any"),cache.get("chunks")},_updateBuffer:function(_gl,isAttributesDirty,isIndicesDirty){var cache=this._cache,chunks=cache.get("chunks"),firstUpdate=!1;chunks||((chunks=[])[0]={attributeBuffers:[],indicesBuffer:null},cache.put("chunks",chunks),firstUpdate=!0);var chunk=chunks[0],attributeBuffers=chunk.attributeBuffers,indicesBuffer=chunk.indicesBuffer;if(isAttributesDirty||firstUpdate){var attributeList=this.getEnabledAttributes(),attributeBufferMap={};if(!firstUpdate)for(var i=0;i<attributeBuffers.length;i++)attributeBufferMap[attributeBuffers[i].name]=attributeBuffers[i];for(var k=0;k<attributeList.length;k++){var bufferInfo,buffer,name=attributeList[k],attribute=this.attributes[name];firstUpdate||(bufferInfo=attributeBufferMap[name]),buffer=bufferInfo?bufferInfo.buffer:_gl.createBuffer(),cache.isDirty(makeAttrKey(name))&&(_gl.bindBuffer(_gl.ARRAY_BUFFER,buffer),_gl.bufferData(_gl.ARRAY_BUFFER,attribute.value,this.dynamic?_gl.DYNAMIC_DRAW:_gl.STATIC_DRAW)),attributeBuffers[k]=new AttributeBuffer(name,attribute.type,buffer,attribute.size,attribute.semantic)}for(i=k;i<attributeBuffers.length;i++)_gl.deleteBuffer(attributeBuffers[i].buffer);attributeBuffers.length=k}this.isUseIndices()&&(isIndicesDirty||firstUpdate)&&(indicesBuffer||(indicesBuffer=new IndicesBuffer(_gl.createBuffer()),chunk.indicesBuffer=indicesBuffer),indicesBuffer.count=this.indices.length,_gl.bindBuffer(_gl.ELEMENT_ARRAY_BUFFER,indicesBuffer.buffer),_gl.bufferData(_gl.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?_gl.DYNAMIC_DRAW:_gl.STATIC_DRAW))},dispose:function(renderer){var cache=this._cache;cache.use(renderer.__uid__);var chunks=cache.get("chunks");if(chunks)for(var c=0;c<chunks.length;c++){for(var chunk=chunks[c],k=0;k<chunk.attributeBuffers.length;k++){var attribs=chunk.attributeBuffers[k];renderer.gl.deleteBuffer(attribs.buffer)}chunk.indicesBuffer&&renderer.gl.deleteBuffer(chunk.indicesBuffer.buffer)}if(this.__vaoCache){var vaoExt=renderer.getGLExtension("OES_vertex_array_object");for(var id in this.__vaoCache){var vao=this.__vaoCache[id].vao;vao&&vaoExt.deleteVertexArrayOES(vao)}}this.__vaoCache={},cache.deleteContext(renderer.__uid__)}});Object.defineProperty&&(Object.defineProperty(GeometryBase.prototype,"vertexCount",{enumerable:!1,get:function(){var mainAttribute=this.attributes[this.mainAttribute];return mainAttribute||(mainAttribute=this.attributes[this._attributeList[0]]),mainAttribute&&mainAttribute.value?mainAttribute.value.length/mainAttribute.size:0}}),Object.defineProperty(GeometryBase.prototype,"triangleCount",{enumerable:!1,get:function(){var indices=this.indices;return indices?indices.length/3:0}})),GeometryBase.STATIC_DRAW=glenum.Z.STATIC_DRAW,GeometryBase.DYNAMIC_DRAW=glenum.Z.DYNAMIC_DRAW,GeometryBase.STREAM_DRAW=glenum.Z.STREAM_DRAW,GeometryBase.AttributeBuffer=AttributeBuffer,GeometryBase.IndicesBuffer=IndicesBuffer,GeometryBase.Attribute=Attribute;const src_GeometryBase=GeometryBase;var vec3Create=vec3.Z.create,vec3Add=vec3.Z.add,vec3Set=vec3.Z.set,Geometry_Attribute=src_GeometryBase.Attribute,Geometry=src_GeometryBase.extend((function(){return{attributes:{position:new Geometry_Attribute("position","float",3,"POSITION"),texcoord0:new Geometry_Attribute("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new Geometry_Attribute("texcoord1","float",2,"TEXCOORD_1"),normal:new Geometry_Attribute("normal","float",3,"NORMAL"),tangent:new Geometry_Attribute("tangent","float",4,"TANGENT"),color:new Geometry_Attribute("color","float",4,"COLOR"),weight:new Geometry_Attribute("weight","float",3,"WEIGHT"),joint:new Geometry_Attribute("joint","float",4,"JOINT"),barycentric:new Geometry_Attribute("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var bbox=this.boundingBox;bbox||(bbox=this.boundingBox=new BoundingBox.Z);var posArr=this.attributes.position.value;if(posArr&&posArr.length){var min=bbox.min,max=bbox.max,minArr=min.array,maxArr=max.array;vec3.Z.set(minArr,posArr[0],posArr[1],posArr[2]),vec3.Z.set(maxArr,posArr[0],posArr[1],posArr[2]);for(var i=3;i<posArr.length;){var x=posArr[i++],y=posArr[i++],z=posArr[i++];x<minArr[0]&&(minArr[0]=x),y<minArr[1]&&(minArr[1]=y),z<minArr[2]&&(minArr[2]=z),x>maxArr[0]&&(maxArr[0]=x),y>maxArr[1]&&(maxArr[1]=y),z>maxArr[2]&&(maxArr[2]=z)}min._dirty=!0,max._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var indices=this.indices,attributes=this.attributes,positions=attributes.position.value,normals=attributes.normal.value;if(normals&&normals.length===positions.length)for(var i=0;i<normals.length;i++)normals[i]=0;else normals=attributes.normal.value=new vendor.Z.Float32Array(positions.length);for(var i1,i2,i3,p1=vec3Create(),p2=vec3Create(),p3=vec3Create(),v21=vec3Create(),v32=vec3Create(),n=vec3Create(),len=indices?indices.length:this.vertexCount,f=0;f<len;){indices?(i1=indices[f++],i2=indices[f++],i3=indices[f++]):(i1=f++,i2=f++,i3=f++),vec3Set(p1,positions[3*i1],positions[3*i1+1],positions[3*i1+2]),vec3Set(p2,positions[3*i2],positions[3*i2+1],positions[3*i2+2]),vec3Set(p3,positions[3*i3],positions[3*i3+1],positions[3*i3+2]),vec3.Z.sub(v21,p1,p2),vec3.Z.sub(v32,p2,p3),vec3.Z.cross(n,v21,v32);for(i=0;i<3;i++)normals[3*i1+i]=normals[3*i1+i]+n[i],normals[3*i2+i]=normals[3*i2+i]+n[i],normals[3*i3+i]=normals[3*i3+i]+n[i]}for(i=0;i<normals.length;)vec3Set(n,normals[i],normals[i+1],normals[i+2]),vec3.Z.normalize(n,n),normals[i++]=n[0],normals[i++]=n[1],normals[i++]=n[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var indices=this.indices,attributes=this.attributes,positions=attributes.position.value,normals=attributes.normal.value,p1=vec3Create(),p2=vec3Create(),p3=vec3Create(),v21=vec3Create(),v32=vec3Create(),n=vec3Create();normals||(normals=attributes.normal.value=new Float32Array(positions.length));for(var i1,i2,i3,len=indices?indices.length:this.vertexCount,f=0;f<len;){indices?(i1=indices[f++],i2=indices[f++],i3=indices[f++]):(i1=f++,i2=f++,i3=f++),vec3Set(p1,positions[3*i1],positions[3*i1+1],positions[3*i1+2]),vec3Set(p2,positions[3*i2],positions[3*i2+1],positions[3*i2+2]),vec3Set(p3,positions[3*i3],positions[3*i3+1],positions[3*i3+2]),vec3.Z.sub(v21,p1,p2),vec3.Z.sub(v32,p2,p3),vec3.Z.cross(n,v21,v32),vec3.Z.normalize(n,n);for(var i=0;i<3;i++)normals[3*i1+i]=n[i],normals[3*i2+i]=n[i],normals[3*i3+i]=n[i]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var nVertex=this.vertexCount,attributes=this.attributes;attributes.tangent.value||(attributes.tangent.value=new Float32Array(4*nVertex));var texcoords=attributes.texcoord0.value,positions=attributes.position.value,tangents=attributes.tangent.value,normals=attributes.normal.value;if(texcoords){for(var tan1=[],tan2=[],i=0;i<nVertex;i++)tan1[i]=[0,0,0],tan2[i]=[0,0,0];var i1,i2,i3,sdir=[0,0,0],tdir=[0,0,0],indices=this.indices,len=indices?indices.length:this.vertexCount;for(i=0;i<len;){indices?(i1=indices[i++],i2=indices[i++],i3=indices[i++]):(i1=i++,i2=i++,i3=i++);var st1s=texcoords[2*i1],st2s=texcoords[2*i2],st3s=texcoords[2*i3],st1t=texcoords[2*i1+1],st2t=texcoords[2*i2+1],st3t=texcoords[2*i3+1],p1x=positions[3*i1],p2x=positions[3*i2],p3x=positions[3*i3],p1y=positions[3*i1+1],p2y=positions[3*i2+1],p3y=positions[3*i3+1],p1z=positions[3*i1+2],x1=p2x-p1x,x2=p3x-p1x,y1=p2y-p1y,y2=p3y-p1y,z1=positions[3*i2+2]-p1z,z2=positions[3*i3+2]-p1z,s1=st2s-st1s,s2=st3s-st1s,t1=st2t-st1t,t2=st3t-st1t,r=1/(s1*t2-t1*s2);sdir[0]=(t2*x1-t1*x2)*r,sdir[1]=(t2*y1-t1*y2)*r,sdir[2]=(t2*z1-t1*z2)*r,tdir[0]=(s1*x2-s2*x1)*r,tdir[1]=(s1*y2-s2*y1)*r,tdir[2]=(s1*z2-s2*z1)*r,vec3Add(tan1[i1],tan1[i1],sdir),vec3Add(tan1[i2],tan1[i2],sdir),vec3Add(tan1[i3],tan1[i3],sdir),vec3Add(tan2[i1],tan2[i1],tdir),vec3Add(tan2[i2],tan2[i2],tdir),vec3Add(tan2[i3],tan2[i3],tdir)}var tmp=vec3Create(),nCrossT=vec3Create(),n=vec3Create();for(i=0;i<nVertex;i++){n[0]=normals[3*i],n[1]=normals[3*i+1],n[2]=normals[3*i+2];var t=tan1[i];vec3.Z.scale(tmp,n,vec3.Z.dot(n,t)),vec3.Z.sub(tmp,t,tmp),vec3.Z.normalize(tmp,tmp),vec3.Z.cross(nCrossT,n,t),tangents[4*i]=tmp[0],tangents[4*i+1]=tmp[1],tangents[4*i+2]=tmp[2],tangents[4*i+3]=vec3.Z.dot(nCrossT,tan2[i])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new vendor.Z.Uint32Array(this.indices));for(var attributes=this.attributes,indices=this.indices,attributeNameList=this.getEnabledAttributes(),oldAttrValues={},a=0;a<attributeNameList.length;a++){oldAttrValues[name=attributeNameList[a]]=attributes[name].value,attributes[name].init(this.indices.length)}for(var cursor=0,i=0;i<indices.length;i++){var ii=indices[i];for(a=0;a<attributeNameList.length;a++)for(var name,array=attributes[name=attributeNameList[a]].value,size=attributes[name].size,k=0;k<size;k++)array[cursor*size+k]=oldAttrValues[name][ii*size+k];indices[i]=cursor,cursor++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var attributes=this.attributes,array=attributes.barycentric.value,indices=this.indices;if(!array||array.length!==3*indices.length){array=attributes.barycentric.value=new Float32Array(3*indices.length);for(var i=0;i<(indices?indices.length:this.vertexCount/3);)for(var j=0;j<3;j++){array[3*(indices?indices[i++]:3*i+j)+j]=1}this.dirty()}}},applyTransform:function(matrix){var attributes=this.attributes,positions=attributes.position.value,normals=attributes.normal.value,tangents=attributes.tangent.value;matrix=matrix.array;var inverseTransposeMatrix=mat4.Z.create();mat4.Z.invert(inverseTransposeMatrix,matrix),mat4.Z.transpose(inverseTransposeMatrix,inverseTransposeMatrix);var vec3TransformMat4=vec3.Z.transformMat4,vec3ForEach=vec3.Z.forEach;vec3ForEach(positions,3,0,null,vec3TransformMat4,matrix),normals&&vec3ForEach(normals,3,0,null,vec3TransformMat4,inverseTransposeMatrix),tangents&&vec3ForEach(tangents,4,0,null,vec3TransformMat4,inverseTransposeMatrix),this.boundingBox&&this.updateBoundingBox()},dispose:function(renderer){var cache=this._cache;cache.use(renderer.__uid__);var chunks=cache.get("chunks");if(chunks)for(var c=0;c<chunks.length;c++){for(var chunk=chunks[c],k=0;k<chunk.attributeBuffers.length;k++){var attribs=chunk.attributeBuffers[k];renderer.gl.deleteBuffer(attribs.buffer)}chunk.indicesBuffer&&renderer.gl.deleteBuffer(chunk.indicesBuffer.buffer)}if(this.__vaoCache){var vaoExt=renderer.getGLExtension("OES_vertex_array_object");for(var id in this.__vaoCache){var vao=this.__vaoCache[id].vao;vao&&vaoExt.deleteVertexArrayOES(vao)}}this.__vaoCache={},cache.deleteContext(renderer.__uid__)}});Geometry.STATIC_DRAW=src_GeometryBase.STATIC_DRAW,Geometry.DYNAMIC_DRAW=src_GeometryBase.DYNAMIC_DRAW,Geometry.STREAM_DRAW=src_GeometryBase.STREAM_DRAW,Geometry.AttributeBuffer=src_GeometryBase.AttributeBuffer,Geometry.IndicesBuffer=src_GeometryBase.IndicesBuffer,Geometry.Attribute=Geometry_Attribute;const src_Geometry=Geometry},"./node_modules/claygl/src/Light.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_Light});var Node=__webpack_require__("./node_modules/claygl/src/Node.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js");var exportEnd="@end",unconfigurable=":unconfigurable;";const light=["@export clay.header.directional_light","uniform vec3 directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+unconfigurable,"uniform vec3 directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+unconfigurable,exportEnd,"@export clay.header.ambient_light","uniform vec3 ambientLightColor[AMBIENT_LIGHT_COUNT]"+unconfigurable,exportEnd,"@export clay.header.ambient_sh_light","uniform vec3 ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+unconfigurable,"uniform vec3 ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+unconfigurable,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",exportEnd,"@export clay.header.ambient_cubemap_light","uniform vec3 ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+unconfigurable,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+unconfigurable,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+unconfigurable,exportEnd,"@export clay.header.point_light","uniform vec3 pointLightPosition[POINT_LIGHT_COUNT]"+unconfigurable,"uniform float pointLightRange[POINT_LIGHT_COUNT]"+unconfigurable,"uniform vec3 pointLightColor[POINT_LIGHT_COUNT]"+unconfigurable,exportEnd,"@export clay.header.spot_light","uniform vec3 spotLightPosition[SPOT_LIGHT_COUNT]"+unconfigurable,"uniform vec3 spotLightDirection[SPOT_LIGHT_COUNT]"+unconfigurable,"uniform float spotLightRange[SPOT_LIGHT_COUNT]"+unconfigurable,"uniform float spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+unconfigurable,"uniform float spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+unconfigurable,"uniform float spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+unconfigurable,"uniform vec3 spotLightColor[SPOT_LIGHT_COUNT]"+unconfigurable,exportEnd].join("\n");Shader.Z.import(light);var Light=Node.Z.extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var light=Node.Z.prototype.clone.call(this);return light.color=Array.prototype.slice.call(this.color),light.intensity=this.intensity,light.castShadow=this.castShadow,light.shadowResolution=this.shadowResolution,light}});const src_Light=Light},"./node_modules/claygl/src/Material.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_Material});var Base=__webpack_require__("./node_modules/claygl/src/core/Base.js"),util=__webpack_require__("./node_modules/claygl/src/core/util.js"),LRU=__webpack_require__("./node_modules/claygl/src/core/LRU.js"),colorUtil={},kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(i){return(i=Math.round(i))<0?0:i>255?255:i}function clampCssFloat(f){return f<0?0:f>1?1:f}function parseCssInt(str){return str.length&&"%"===str.charAt(str.length-1)?clampCssByte(parseFloat(str)/100*255):clampCssByte(parseInt(str,10))}function parseCssFloat(str){return str.length&&"%"===str.charAt(str.length-1)?clampCssFloat(parseFloat(str)/100):clampCssFloat(parseFloat(str))}function cssHueToRgb(m1,m2,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?m1+(m2-m1)*h*6:2*h<1?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1}function lerpNumber(a,b,p){return a+(b-a)*p}function setRgba(out,r,g,b,a){return out[0]=r,out[1]=g,out[2]=b,out[3]=a,out}function copyRgba(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}var colorCache=new LRU.Z(20),lastRemovedArr=null;function putToCache(colorStr,rgbaArr){lastRemovedArr&&copyRgba(lastRemovedArr,rgbaArr),lastRemovedArr=colorCache.put(colorStr,lastRemovedArr||rgbaArr.slice())}function hsla2rgba(hsla,rgba){var h=(parseFloat(hsla[0])%360+360)%360/360,s=parseCssFloat(hsla[1]),l=parseCssFloat(hsla[2]),m2=l<=.5?l*(s+1):l+s-l*s,m1=2*l-m2;return setRgba(rgba=rgba||[],clampCssByte(255*cssHueToRgb(m1,m2,h+1/3)),clampCssByte(255*cssHueToRgb(m1,m2,h)),clampCssByte(255*cssHueToRgb(m1,m2,h-1/3)),1),4===hsla.length&&(rgba[3]=hsla[3]),rgba}colorUtil.parse=function(colorStr,rgbaArr){if(colorStr){rgbaArr=rgbaArr||[];var cached=colorCache.get(colorStr);if(cached)return copyRgba(rgbaArr,cached);var iv,str=(colorStr+="").replace(/ /g,"").toLowerCase();if(str in kCSSColorTable)return copyRgba(rgbaArr,kCSSColorTable[str]),putToCache(colorStr,rgbaArr),rgbaArr;if("#"===str.charAt(0))return 4===str.length?(iv=parseInt(str.substr(1),16))>=0&&iv<=4095?(setRgba(rgbaArr,(3840&iv)>>4|(3840&iv)>>8,240&iv|(240&iv)>>4,15&iv|(15&iv)<<4,1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):7===str.length?(iv=parseInt(str.substr(1),16))>=0&&iv<=16777215?(setRgba(rgbaArr,(16711680&iv)>>16,(65280&iv)>>8,255&iv,1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):void 0;var op=str.indexOf("("),ep=str.indexOf(")");if(-1!==op&&ep+1===str.length){var fname=str.substr(0,op),params=str.substr(op+1,ep-(op+1)).split(","),alpha=1;switch(fname){case"rgba":if(4!==params.length)return void setRgba(rgbaArr,0,0,0,1);alpha=parseCssFloat(params.pop());case"rgb":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(setRgba(rgbaArr,parseCssInt(params[0]),parseCssInt(params[1]),parseCssInt(params[2]),alpha),putToCache(colorStr,rgbaArr),rgbaArr);case"hsla":return 4!==params.length?void setRgba(rgbaArr,0,0,0,1):(params[3]=parseCssFloat(params[3]),hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);case"hsl":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);default:return}}setRgba(rgbaArr,0,0,0,1)}},colorUtil.parseToFloat=function(colorStr,rgbaArr){if(rgbaArr=colorUtil.parse(colorStr,rgbaArr))return rgbaArr[0]/=255,rgbaArr[1]/=255,rgbaArr[2]/=255,rgbaArr},colorUtil.lift=function(color,level){var colorArr=colorUtil.parse(color);if(colorArr){for(var i=0;i<3;i++)colorArr[i]=level<0?colorArr[i]*(1-level)|0:(255-colorArr[i])*level+colorArr[i]|0;return colorUtil.stringify(colorArr,4===colorArr.length?"rgba":"rgb")}},colorUtil.toHex=function(color){var colorArr=colorUtil.parse(color);if(colorArr)return((1<<24)+(colorArr[0]<<16)+(colorArr[1]<<8)+ +colorArr[2]).toString(16).slice(1)},colorUtil.fastLerp=function(normalizedValue,colors,out){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){out=out||[];var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=colors[leftIndex],rightColor=colors[rightIndex],dv=value-leftIndex;return out[0]=clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),out[1]=clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),out[2]=clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),out[3]=clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv)),out}},colorUtil.fastMapToColor=colorUtil.fastLerp,colorUtil.lerp=function(normalizedValue,colors,fullOutput){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=colorUtil.parse(colors[leftIndex]),rightColor=colorUtil.parse(colors[rightIndex]),dv=value-leftIndex,color=colorUtil.stringify([clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv))],"rgba");return fullOutput?{color,leftIndex,rightIndex,value}:color}},colorUtil.mapToColor=colorUtil.lerp,colorUtil.modifyHSL=function(color,h,s,l){if(color=colorUtil.parse(color))return color=function rgba2hsla(rgba){if(rgba){var H,S,R=rgba[0]/255,G=rgba[1]/255,B=rgba[2]/255,vMin=Math.min(R,G,B),vMax=Math.max(R,G,B),delta=vMax-vMin,L=(vMax+vMin)/2;if(0===delta)H=0,S=0;else{S=L<.5?delta/(vMax+vMin):delta/(2-vMax-vMin);var deltaR=((vMax-R)/6+delta/2)/delta,deltaG=((vMax-G)/6+delta/2)/delta,deltaB=((vMax-B)/6+delta/2)/delta;R===vMax?H=deltaB-deltaG:G===vMax?H=1/3+deltaR-deltaB:B===vMax&&(H=2/3+deltaG-deltaR),H<0&&(H+=1),H>1&&(H-=1)}var hsla=[360*H,S,L];return null!=rgba[3]&&hsla.push(rgba[3]),hsla}}(color),null!=h&&(color[0]=function clampCssAngle(i){return(i=Math.round(i))<0?0:i>360?360:i}(h)),null!=s&&(color[1]=parseCssFloat(s)),null!=l&&(color[2]=parseCssFloat(l)),colorUtil.stringify(hsla2rgba(color),"rgba")},colorUtil.modifyAlpha=function(color,alpha){if((color=colorUtil.parse(color))&&null!=alpha)return color[3]=clampCssFloat(alpha),colorUtil.stringify(color,"rgba")},colorUtil.stringify=function(arrColor,type){if(arrColor&&arrColor.length){var colorStr=arrColor[0]+","+arrColor[1]+","+arrColor[2];return"rgba"!==type&&"hsva"!==type&&"hsla"!==type||(colorStr+=","+arrColor[3]),type+"("+colorStr+")"}};var parseColor=colorUtil.parseToFloat,programKeyCache={};function getDefineCode(defines){var defineKeys=Object.keys(defines);defineKeys.sort();for(var defineStr=[],i=0;i<defineKeys.length;i++){var key=defineKeys[i],value=defines[key];null===value?defineStr.push(key):defineStr.push(key+" "+value.toString())}return defineStr.join("\n")}const src_Material=Base.Z.extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(symbol,value){void 0===value&&console.warn('Uniform value "'+symbol+'" is undefined');var uniform=this.uniforms[symbol];uniform&&("string"==typeof value&&(value=parseColor(value)||value),uniform.value=value,this.autoUpdateTextureStatus&&"t"===uniform.type&&(value?this.enableTexture(symbol):this.disableTexture(symbol)))},setUniforms:function(obj){for(var key in obj){var val=obj[key];this.setUniform(key,val)}},isUniformEnabled:function(symbol){return this._enabledUniforms.indexOf(symbol)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(symbol,value){if("object"==typeof symbol)for(var key in symbol){var val=symbol[key];this.setUniform(key,val)}else this.setUniform(symbol,value)},get:function(symbol){var uniform=this.uniforms[symbol];if(uniform)return uniform.value},attachShader:function(shader,keepStatus){var originalUniforms=this.uniforms;this.uniforms=shader.createUniforms(),this.shader=shader;var uniforms=this.uniforms;this._enabledUniforms=Object.keys(uniforms),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(uniformName){var type=this.uniforms[uniformName].type;return"t"===type||"tv"===type}),this);var originalVertexDefines=this.vertexDefines,originalFragmentDefines=this.fragmentDefines;if(this.vertexDefines=util.Z.clone(shader.vertexDefines),this.fragmentDefines=util.Z.clone(shader.fragmentDefines),keepStatus){for(var symbol in originalUniforms)uniforms[symbol]&&(uniforms[symbol].value=originalUniforms[symbol].value);util.Z.defaults(this.vertexDefines,originalVertexDefines),util.Z.defaults(this.fragmentDefines,originalFragmentDefines)}var textureStatus={};for(var key in shader.textures)textureStatus[key]={shaderType:shader.textures[key].shaderType,type:shader.textures[key].type,enabled:!(!keepStatus||!this._textureStatus[key])&&this._textureStatus[key].enabled};this._textureStatus=textureStatus,this._programKey=""},clone:function(){var material=new this.constructor({name:this.name,shader:this.shader});for(var symbol in this.uniforms)material.uniforms[symbol].value=this.uniforms[symbol].value;return material.depthTest=this.depthTest,material.depthMask=this.depthMask,material.transparent=this.transparent,material.blend=this.blend,material.vertexDefines=util.Z.clone(this.vertexDefines),material.fragmentDefines=util.Z.clone(this.fragmentDefines),material.enableTexture(this.getEnabledTextures()),material.precision=this.precision,material},define:function(shaderType,symbol,val){var vertexDefines=this.vertexDefines,fragmentDefines=this.fragmentDefines;"vertex"!==shaderType&&"fragment"!==shaderType&&"both"!==shaderType&&arguments.length<3&&(val=symbol,symbol=shaderType,shaderType="both"),val=null!=val?val:null,"vertex"!==shaderType&&"both"!==shaderType||vertexDefines[symbol]!==val&&(vertexDefines[symbol]=val,this._programKey=""),"fragment"!==shaderType&&"both"!==shaderType||fragmentDefines[symbol]!==val&&(fragmentDefines[symbol]=val,"both"!==shaderType&&(this._programKey=""))},undefine:function(shaderType,symbol){"vertex"!==shaderType&&"fragment"!==shaderType&&"both"!==shaderType&&arguments.length<2&&(symbol=shaderType,shaderType="both"),"vertex"!==shaderType&&"both"!==shaderType||this.isDefined("vertex",symbol)&&(delete this.vertexDefines[symbol],this._programKey=""),"fragment"!==shaderType&&"both"!==shaderType||this.isDefined("fragment",symbol)&&(delete this.fragmentDefines[symbol],"both"!==shaderType&&(this._programKey=""))},isDefined:function(shaderType,symbol){switch(shaderType){case"vertex":return void 0!==this.vertexDefines[symbol];case"fragment":return void 0!==this.fragmentDefines[symbol]}},getDefine:function(shaderType,symbol){switch(shaderType){case"vertex":return this.vertexDefines[symbol];case"fragment":return this.fragmentDefines[symbol]}},enableTexture:function(symbol){if(Array.isArray(symbol))for(var i=0;i<symbol.length;i++)this.enableTexture(symbol[i]);else{var status=this._textureStatus[symbol];if(status)status.enabled||(status.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var textureStatus=this._textureStatus;for(var symbol in textureStatus)textureStatus[symbol].enabled=!0;this._programKey=""},disableTexture:function(symbol){if(Array.isArray(symbol))for(var i=0;i<symbol.length;i++)this.disableTexture(symbol[i]);else{var status=this._textureStatus[symbol];if(status)!status.enabled||(status.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var textureStatus=this._textureStatus;for(var symbol in textureStatus)textureStatus[symbol].enabled=!1;this._programKey=""},isTextureEnabled:function(symbol){var textureStatus=this._textureStatus;return!!textureStatus[symbol]&&textureStatus[symbol].enabled},getEnabledTextures:function(){var enabledTextures=[],textureStatus=this._textureStatus;for(var symbol in textureStatus)textureStatus[symbol].enabled&&enabledTextures.push(symbol);return enabledTextures},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function getProgramKey(vertexDefines,fragmentDefines,enabledTextures){enabledTextures.sort();for(var defineStr=[],i=0;i<enabledTextures.length;i++){var symbol=enabledTextures[i];defineStr.push(symbol)}var key=getDefineCode(vertexDefines)+"\n"+getDefineCode(fragmentDefines)+"\n"+defineStr.join("\n");if(programKeyCache[key])return programKeyCache[key];var id=util.Z.genGUID();return programKeyCache[key]=id,id}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}})},"./node_modules/claygl/src/Mesh.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Renderable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/Renderable.js"),_core_glenum__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),Mesh=_Renderable__WEBPACK_IMPORTED_MODULE_0__.Z.extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var mesh=_Renderable__WEBPACK_IMPORTED_MODULE_0__.Z.prototype.clone.call(this);return mesh.skeleton=this.skeleton,this.joints&&(mesh.joints=this.joints.slice()),mesh}});Mesh.POINTS=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.POINTS,Mesh.LINES=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINES,Mesh.LINE_LOOP=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINE_LOOP,Mesh.LINE_STRIP=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINE_STRIP,Mesh.TRIANGLES=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLES,Mesh.TRIANGLE_STRIP=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLE_STRIP,Mesh.TRIANGLE_FAN=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLE_FAN,Mesh.BACK=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.BACK,Mesh.FRONT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.FRONT,Mesh.FRONT_AND_BACK=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.FRONT_AND_BACK,Mesh.CW=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CW,Mesh.CCW=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CCW;const __WEBPACK_DEFAULT_EXPORT__=Mesh},"./node_modules/claygl/src/Node.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var m,v,RTMatrix,tmp,_core_Base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/core/Base.js"),_math_Vector3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),_math_Quaternion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/math/Quaternion.js"),_math_Matrix4__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),_math_BoundingBox__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),nameId=0;const __WEBPACK_DEFAULT_EXPORT__=_core_Base__WEBPACK_IMPORTED_MODULE_0__.Z.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+nameId++),this.position||(this.position=new _math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z),this.rotation||(this.rotation=new _math_Quaternion__WEBPACK_IMPORTED_MODULE_2__.Z),this.scale||(this.scale=new _math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z(1,1,1)),this.worldTransform=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z,this.localTransform=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z,this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(name){var scene=this._scene;if(scene){var nodeRepository=scene._nodeRepository;delete nodeRepository[this.name],nodeRepository[name]=this}this.name=name},add:function(node){var originalParent=node._parent;if(originalParent!==this){originalParent&&originalParent.remove(node),node._parent=this,this._children.push(node);var scene=this._scene;scene&&scene!==node.scene&&node.traverse(this._addSelfToScene,this),node._needsUpdateWorldTransform=!0}},remove:function(node){var children=this._children,idx=children.indexOf(node);idx<0||(children.splice(idx,1),node._parent=null,this._scene&&node.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var children=this._children,idx=0;idx<children.length;idx++)children[idx]._parent=null,this._scene&&children[idx].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(descendant){descendant._scene.removeFromScene(descendant),descendant._scene=null},_addSelfToScene:function(descendant){this._scene.addToScene(descendant),descendant._scene=this._scene},isAncestor:function(node){for(var parent=node._parent;parent;){if(parent===this)return!0;parent=parent._parent}return!1},children:function(){return this._children.slice()},childAt:function(idx){return this._children[idx]},getChildByName:function(name){for(var children=this._children,i=0;i<children.length;i++)if(children[i].name===name)return children[i]},getDescendantByName:function(name){for(var children=this._children,i=0;i<children.length;i++){var child=children[i];if(child.name===name)return child;var res=child.getDescendantByName(name);if(res)return res}},queryNode:function(path){if(path){for(var pathArr=path.split("/"),current=this,i=0;i<pathArr.length;i++){var name=pathArr[i];if(name){for(var found=!1,children=current._children,j=0;j<children.length;j++){var child=children[j];if(child.name===name){current=child,found=!0;break}}if(!found)return}}return current}},getPath:function(rootNode){if(!this._parent)return"/";for(var current=this._parent,path=this.name;current._parent&&(path=current.name+"/"+path,current._parent!=rootNode);)current=current._parent;return!current._parent&&rootNode?null:path},traverse:function(callback,context){callback.call(context,this);for(var _children=this._children,i=0,len=_children.length;i<len;i++)_children[i].traverse(callback,context)},eachChild:function(callback,context){for(var _children=this._children,i=0,len=_children.length;i<len;i++){var child=_children[i];callback.call(context,child,i)}},setLocalTransform:function(matrix){_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.copy(this.localTransform.array,matrix.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(keepScale){var scale=keepScale?null:this.scale;this.localTransform.decomposeMatrix(scale,this.rotation,this.position)},setWorldTransform:function(matrix){_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.copy(this.worldTransform.array,matrix.array),this.decomposeWorldTransform()},decomposeWorldTransform:(tmp=_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.create(),function(keepScale){var localTransform=this.localTransform,worldTransform=this.worldTransform;this._parent?(_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.invert(tmp,this._parent.worldTransform.array),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.multiply(localTransform.array,tmp,worldTransform.array)):_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.copy(localTransform.array,worldTransform.array);var scale=keepScale?null:this.scale;localTransform.decomposeMatrix(scale,this.rotation,this.position)}),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var position=this.position,rotation=this.rotation,scale=this.scale;if(this.transformNeedsUpdate()){var m=this.localTransform.array;_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.fromRotationTranslation(m,rotation.array,position.array),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.scale(m,m,scale.array),rotation._dirty=!1,scale._dirty=!1,position._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var localTransform=this.localTransform.array,worldTransform=this.worldTransform.array;this._parent?_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.multiplyAffine(worldTransform,this._parent.worldTransform.array,localTransform):_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_4__.Z.copy(worldTransform,localTransform)},updateWorldTransform:function(){for(var rootNodeIsDirty=this;rootNodeIsDirty&&rootNodeIsDirty.getParent()&&rootNodeIsDirty.getParent().transformNeedsUpdate();)rootNodeIsDirty=rootNodeIsDirty.getParent();rootNodeIsDirty.update()},update:function(forceUpdateWorld){this.autoUpdateLocalTransform?this.updateLocalTransform():forceUpdateWorld=!0,(forceUpdateWorld||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),forceUpdateWorld=!0,this._needsUpdateWorldTransform=!1);for(var children=this._children,i=0,len=children.length;i<len;i++)children[i].update(forceUpdateWorld)},getBoundingBox:function(){function defaultFilter(el){return!el.invisible&&el.geometry}var tmpBBox=new _math_BoundingBox__WEBPACK_IMPORTED_MODULE_5__.Z,tmpMat4=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z,invWorldTransform=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z;return function(filter,out){return out=out||new _math_BoundingBox__WEBPACK_IMPORTED_MODULE_5__.Z,filter=filter||defaultFilter,this._parent?_math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z.invert(invWorldTransform,this._parent.worldTransform):_math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z.identity(invWorldTransform),this.traverse((function(mesh){mesh.geometry&&mesh.geometry.boundingBox&&(tmpBBox.copy(mesh.geometry.boundingBox),_math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z.multiply(tmpMat4,invWorldTransform,mesh.worldTransform),tmpBBox.applyTransform(tmpMat4),out.union(tmpBBox))}),this,defaultFilter),out}}(),getWorldPosition:function(out){this.transformNeedsUpdate()&&this.updateWorldTransform();var m=this.worldTransform.array;if(out){var arr=out.array;return arr[0]=m[12],arr[1]=m[13],arr[2]=m[14],out}return new _math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z(m[12],m[13],m[14])},clone:function(){var node=new this.constructor,children=this._children;node.setName(this.name),node.position.copy(this.position),node.rotation.copy(this.rotation),node.scale.copy(this.scale);for(var i=0;i<children.length;i++)node.add(children[i].clone());return node},rotateAround:(v=new _math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z,RTMatrix=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z,function(point,axis,angle){v.copy(this.position).subtract(point);var localTransform=this.localTransform;localTransform.identity(),localTransform.translate(point),localTransform.rotate(angle,axis),RTMatrix.fromRotationTranslation(this.rotation,v),localTransform.multiply(RTMatrix),localTransform.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}),lookAt:(m=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_3__.Z,function(target,up){m.lookAt(this.position,target,up||this.localTransform.y).invert(),this.setLocalTransform(m),this.target=target})})},"./node_modules/claygl/src/Renderable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var properties,_Node__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/Node.js"),_core_glenum__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),Renderable=_Node__WEBPACK_IMPORTED_MODULE_0__.Z.extend({material:null,geometry:null,mode:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.BACK,frontFace:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(_gl){},afterRender:function(_gl,renderStat){},getBoundingBox:function(filter,out){return out=_Node__WEBPACK_IMPORTED_MODULE_0__.Z.prototype.getBoundingBox.call(this,filter,out),this.geometry&&this.geometry.boundingBox&&out.union(this.geometry.boundingBox),out},clone:(properties=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"],function(){var renderable=_Node__WEBPACK_IMPORTED_MODULE_0__.Z.prototype.clone.call(this);renderable.geometry=this.geometry,renderable.material=this.material;for(var i=0;i<properties.length;i++){var name=properties[i];renderable[name]!==this[name]&&(renderable[name]=this[name])}return renderable})});Renderable.POINTS=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.POINTS,Renderable.LINES=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINES,Renderable.LINE_LOOP=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINE_LOOP,Renderable.LINE_STRIP=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINE_STRIP,Renderable.TRIANGLES=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLES,Renderable.TRIANGLE_STRIP=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLE_STRIP,Renderable.TRIANGLE_FAN=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.TRIANGLE_FAN,Renderable.BACK=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.BACK,Renderable.FRONT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.FRONT,Renderable.FRONT_AND_BACK=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.FRONT_AND_BACK,Renderable.CW=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CW,Renderable.CCW=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CCW;const __WEBPACK_DEFAULT_EXPORT__=Renderable},"./node_modules/claygl/src/Renderer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_Renderer});var Base=__webpack_require__("./node_modules/claygl/src/core/Base.js"),EXTENSION_LIST=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],PARAMETER_NAMES=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];const core_GLInfo=function GLInfo(_gl){for(var extensions={},parameters={},i=0;i<EXTENSION_LIST.length;i++){createExtension(EXTENSION_LIST[i])}for(i=0;i<PARAMETER_NAMES.length;i++){var name=PARAMETER_NAMES[i];parameters[name]=_gl.getParameter(_gl[name])}function createExtension(name){if(_gl.getExtension){var ext=_gl.getExtension(name);ext||(ext=_gl.getExtension("MOZ_"+name)),ext||(ext=_gl.getExtension("WEBKIT_"+name)),extensions[name]=ext}}this.getExtension=function(name){return name in extensions||createExtension(name),extensions[name]},this.getParameter=function(name){return parameters[name]}};var glenum=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),vendor=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),Vector2=__webpack_require__("./node_modules/claygl/src/math/Vector2.js"),enabledAttributeList={};function addLineNumbers(string){for(var chunks=string.split("\n"),i=0,il=chunks.length;i<il;i++)chunks[i]=i+1+": "+chunks[i];return chunks.join("\n")}function checkShaderErrorMsg(_gl,shader,shaderString){if(!_gl.getShaderParameter(shader,_gl.COMPILE_STATUS))return[_gl.getShaderInfoLog(shader),addLineNumbers(shaderString)].join("\n")}var tmpFloat32Array16=new vendor.Z.Float32Array(16);const gpu_GLProgram=Base.Z.extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(renderer){this._textureSlot=0,renderer.gl.useProgram(this._program)},hasUniform:function(symbol){var location=this._locations[symbol];return null!=location},useTextureSlot:function(renderer,texture,slot){texture&&(renderer.gl.activeTexture(renderer.gl.TEXTURE0+slot),texture.isRenderable()?texture.bind(renderer):texture.unbind(renderer))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(slot){this._textureSlot=slot||0},takeCurrentTextureSlot:function(renderer,texture){var textureSlot=this._textureSlot;return this.useTextureSlot(renderer,texture,textureSlot),this._textureSlot++,textureSlot},setUniform:function(_gl,type,symbol,value){var location=this._locations[symbol];if(null==location)return!1;switch(type){case"m4":if(!(value instanceof Float32Array)){for(var i=0;i<value.length;i++)tmpFloat32Array16[i]=value[i];value=tmpFloat32Array16}_gl.uniformMatrix4fv(location,!1,value);break;case"2i":_gl.uniform2i(location,value[0],value[1]);break;case"2f":_gl.uniform2f(location,value[0],value[1]);break;case"3i":_gl.uniform3i(location,value[0],value[1],value[2]);break;case"3f":_gl.uniform3f(location,value[0],value[1],value[2]);break;case"4i":_gl.uniform4i(location,value[0],value[1],value[2],value[3]);break;case"4f":_gl.uniform4f(location,value[0],value[1],value[2],value[3]);break;case"1i":_gl.uniform1i(location,value);break;case"1f":_gl.uniform1f(location,value);break;case"1fv":_gl.uniform1fv(location,value);break;case"1iv":_gl.uniform1iv(location,value);break;case"2iv":_gl.uniform2iv(location,value);break;case"2fv":_gl.uniform2fv(location,value);break;case"3iv":_gl.uniform3iv(location,value);break;case"3fv":_gl.uniform3fv(location,value);break;case"4iv":_gl.uniform4iv(location,value);break;case"4fv":_gl.uniform4fv(location,value);break;case"m2":case"m2v":_gl.uniformMatrix2fv(location,!1,value);break;case"m3":case"m3v":_gl.uniformMatrix3fv(location,!1,value);break;case"m4v":if(Array.isArray(value)&&Array.isArray(value[0])){var array=new vendor.Z.Float32Array(16*value.length),cursor=0;for(i=0;i<value.length;i++)for(var item=value[i],j=0;j<16;j++)array[cursor++]=item[j];_gl.uniformMatrix4fv(location,!1,array)}else _gl.uniformMatrix4fv(location,!1,value)}return!0},setUniformOfSemantic:function(_gl,semantic,val){var semanticInfo=this.uniformSemantics[semantic];return!!semanticInfo&&this.setUniform(_gl,semanticInfo.type,semanticInfo.symbol,val)},enableAttributes:function(renderer,attribList,vao){var enabledAttributeListInContext,_gl=renderer.gl,program=this._program,locationMap=this._locations;(enabledAttributeListInContext=vao?vao.__enabledAttributeList:enabledAttributeList[renderer.__uid__])||(enabledAttributeListInContext=vao?vao.__enabledAttributeList=[]:enabledAttributeList[renderer.__uid__]=[]);for(var locationList=[],i=0;i<attribList.length;i++){var symbol=attribList[i];if(this.attributes[symbol]){var location=locationMap[symbol];if(null==location){if(-1===(location=_gl.getAttribLocation(program,symbol))){locationList[i]=-1;continue}locationMap[symbol]=location}locationList[i]=location,enabledAttributeListInContext[location]?enabledAttributeListInContext[location]=2:enabledAttributeListInContext[location]=1}else locationList[i]=-1}for(i=0;i<enabledAttributeListInContext.length;i++)switch(enabledAttributeListInContext[i]){case 1:_gl.enableVertexAttribArray(i),enabledAttributeListInContext[i]=3;break;case 2:enabledAttributeListInContext[i]=3;break;case 3:_gl.disableVertexAttribArray(i),enabledAttributeListInContext[i]=0}return locationList},getAttribLocation:function(_gl,symbol){var locationMap=this._locations,location=locationMap[symbol];return null==location&&(location=_gl.getAttribLocation(this._program,symbol),locationMap[symbol]=location),location},buildProgram:function(_gl,shader,vertexShaderCode,fragmentShaderCode){var vertexShader=_gl.createShader(_gl.VERTEX_SHADER),program=_gl.createProgram();_gl.shaderSource(vertexShader,vertexShaderCode),_gl.compileShader(vertexShader);var fragmentShader=_gl.createShader(_gl.FRAGMENT_SHADER);_gl.shaderSource(fragmentShader,fragmentShaderCode),_gl.compileShader(fragmentShader);var msg=checkShaderErrorMsg(_gl,vertexShader,vertexShaderCode);if(msg)return msg;if(msg=checkShaderErrorMsg(_gl,fragmentShader,fragmentShaderCode))return msg;if(_gl.attachShader(program,vertexShader),_gl.attachShader(program,fragmentShader),shader.attributeSemantics.POSITION)_gl.bindAttribLocation(program,0,shader.attributeSemantics.POSITION.symbol);else{var keys=Object.keys(this.attributes);_gl.bindAttribLocation(program,0,keys[0])}if(_gl.linkProgram(program),_gl.deleteShader(vertexShader),_gl.deleteShader(fragmentShader),this._program=program,this.vertexCode=vertexShaderCode,this.fragmentCode=fragmentShaderCode,!_gl.getProgramParameter(program,_gl.LINK_STATUS))return"Could not link program\n"+_gl.getProgramInfoLog(program);for(var i=0;i<shader.uniforms.length;i++){var uniformSymbol=shader.uniforms[i];this._locations[uniformSymbol]=_gl.getUniformLocation(program,uniformSymbol)}}});var loopRegex=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function unrollLoop(shaderStr,defines,lightsNumbers){var lightNumberDefines={};for(var lightType in lightsNumbers)lightNumberDefines[lightType+"_COUNT"]=lightsNumbers[lightType];return shaderStr.replace(loopRegex,(function replace(match,start,end,snippet){var unroll="";isNaN(start)&&(start=start in defines?defines[start]:lightNumberDefines[start]),isNaN(end)&&(end=end in defines?defines[end]:lightNumberDefines[end]);for(var idx=parseInt(start);idx<parseInt(end);idx++)unroll+="{"+snippet.replace(/float\s*\(\s*_idx_\s*\)/g,idx.toFixed(1)).replace(/_idx_/g,idx)+"}";return unroll}))}function getDefineCode(defines,lightsNumbers,enabledTextures){var defineStr=[];if(lightsNumbers)for(var lightType in lightsNumbers){var count=lightsNumbers[lightType];count>0&&defineStr.push("#define "+lightType.toUpperCase()+"_COUNT "+count)}if(enabledTextures)for(var i=0;i<enabledTextures.length;i++){var symbol=enabledTextures[i];defineStr.push("#define "+symbol.toUpperCase()+"_ENABLED")}for(var symbol in defines){var value=defines[symbol];null===value?defineStr.push("#define "+symbol):defineStr.push("#define "+symbol+" "+value.toString())}return defineStr.join("\n")}function ProgramManager(renderer){this._renderer=renderer,this._cache={}}ProgramManager.prototype.getProgram=function(renderable,material,scene){var cache=this._cache,isSkinnedMesh=renderable.isSkinnedMesh&&renderable.isSkinnedMesh(),isInstancedMesh=renderable.isInstancedMesh&&renderable.isInstancedMesh(),key="s"+material.shader.shaderID+"m"+material.getProgramKey();if(scene&&(key+="se"+scene.getProgramKey(renderable.lightGroup)),isSkinnedMesh&&(key+=",sk"+renderable.joints.length),isInstancedMesh&&(key+=",is"),program=cache[key])return program;var lightsNumbers=scene?scene.getLightsNumbers(renderable.lightGroup):{},renderer=this._renderer,_gl=renderer.gl,enabledTextures=material.getEnabledTextures(),extraDefineCode="";if(isSkinnedMesh){var skinDefines={SKINNING:null,JOINT_COUNT:renderable.joints.length};renderable.joints.length>renderer.getMaxJointNumber()&&(skinDefines.USE_SKIN_MATRICES_TEXTURE=null),extraDefineCode+="\n"+getDefineCode(skinDefines)+"\n"}isInstancedMesh&&(extraDefineCode+="\n#define INSTANCING\n");var vertexDefineStr=extraDefineCode+getDefineCode(material.vertexDefines,lightsNumbers,enabledTextures),fragmentDefineStr=extraDefineCode+getDefineCode(material.fragmentDefines,lightsNumbers,enabledTextures),vertexCode=vertexDefineStr+"\n"+material.shader.vertex,extensions=["OES_standard_derivatives","EXT_shader_texture_lod"].filter((function(ext){return null!=renderer.getGLExtension(ext)}));extensions.indexOf("EXT_shader_texture_lod")>=0&&(fragmentDefineStr+="\n#define SUPPORT_TEXTURE_LOD"),extensions.indexOf("OES_standard_derivatives")>=0&&(fragmentDefineStr+="\n#define SUPPORT_STANDARD_DERIVATIVES");var program,fragmentCode=function getExtensionCode(exts){for(var extensionStr=[],i=0;i<exts.length;i++)extensionStr.push("#extension GL_"+exts[i]+" : enable");return extensionStr.join("\n")}(extensions)+"\n"+function getPrecisionCode(precision){return["precision",precision,"float"].join(" ")+";\n"+["precision",precision,"int"].join(" ")+";\n"+["precision",precision,"sampler2D"].join(" ")+";\n"}(material.precision)+"\n"+fragmentDefineStr+"\n"+material.shader.fragment,finalVertexCode=unrollLoop(vertexCode,material.vertexDefines,lightsNumbers),finalFragmentCode=unrollLoop(fragmentCode,material.fragmentDefines,lightsNumbers);(program=new gpu_GLProgram).uniformSemantics=material.shader.uniformSemantics,program.attributes=material.shader.attributes;var errorMsg=program.buildProgram(_gl,material.shader,finalVertexCode,finalFragmentCode);return program.__error=errorMsg,cache[key]=program,program};const gpu_ProgramManager=ProgramManager;var Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),prez_glsl=__webpack_require__("./node_modules/claygl/src/shader/source/prez.glsl.js"),mat4=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),vec3=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js");Shader.Z.import(prez_glsl.Z);var mat4Create=mat4.Z.create,errorShader={};function defaultGetMaterial(renderable){return renderable.material}function defaultGetUniform(renderable,material,symbol){return material.uniforms[symbol].value}function defaultIsMaterialChanged(renderabled,prevRenderable,material,prevMaterial){return material!==prevMaterial}function defaultIfRender(renderable){return!0}function noop(){}var attributeBufferTypeMap={float:glenum.Z.FLOAT,byte:glenum.Z.BYTE,ubyte:glenum.Z.UNSIGNED_BYTE,short:glenum.Z.SHORT,ushort:glenum.Z.UNSIGNED_SHORT};function VertexArrayObject(availableAttributes,availableAttributeSymbols,indicesBuffer){this.availableAttributes=availableAttributes,this.availableAttributeSymbols=availableAttributeSymbols,this.indicesBuffer=indicesBuffer,this.vao=null}function PlaceHolderTexture(renderer){var blankCanvas,webglTexture;this.bind=function(renderer){blankCanvas||((blankCanvas=vendor.Z.createCanvas()).width=blankCanvas.height=1,blankCanvas.getContext("2d"));var gl=renderer.gl,firstBind=!webglTexture;firstBind&&(webglTexture=gl.createTexture()),gl.bindTexture(gl.TEXTURE_2D,webglTexture),firstBind&&gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,blankCanvas)},this.unbind=function(renderer){renderer.gl.bindTexture(renderer.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var Renderer=Base.Z.extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=vendor.Z.createCanvas());var canvas=this.canvas;try{var opts={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=canvas.getContext("webgl",opts)||canvas.getContext("experimental-webgl",opts),!this.gl)throw new Error;this._glinfo=new core_GLInfo(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(e){throw"Error creating WebGL Context "+e}this._programMgr=new gpu_ProgramManager(this),this._placeholderTexture=new PlaceHolderTexture(this)}),{resize:function(width,height){var canvas=this.canvas,dpr=this.devicePixelRatio;null!=width?(canvas.style&&(canvas.style.width=width+"px",canvas.style.height=height+"px"),canvas.width=width*dpr,canvas.height=height*dpr,this._width=width,this._height=height):(this._width=canvas.width/dpr,this._height=canvas.height/dpr),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var viewport=this.viewport;return viewport.width/viewport.height},setDevicePixelRatio:function(devicePixelRatio){this.devicePixelRatio=devicePixelRatio,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(name){return this._glinfo.getExtension(name)},getGLParameter:function(name){return this._glinfo.getParameter(name)},setViewport:function(x,y,width,height,dpr){if("object"==typeof x){var obj=x;x=obj.x,y=obj.y,width=obj.width,height=obj.height,dpr=obj.devicePixelRatio}dpr=dpr||this.devicePixelRatio,this.gl.viewport(x*dpr,y*dpr,width*dpr,height*dpr),this.viewport={x,y,width,height,devicePixelRatio:dpr}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var opt=this._clearStack.pop();this.clearColor=opt.clearColor,this.clearBit=opt.clearBit}},bindSceneRendering:function(scene){this._sceneRendering=scene},render:function(scene,camera,notUpdateScene,preZ){var _gl=this.gl,clearColor=this.clearColor;if(this.clearBit){_gl.colorMask(!0,!0,!0,!0),_gl.depthMask(!0);var viewport=this.viewport,needsScissor=!1,viewportDpr=viewport.devicePixelRatio;(viewport.width!==this._width||viewport.height!==this._height||viewportDpr&&viewportDpr!==this.devicePixelRatio||viewport.x||viewport.y)&&(needsScissor=!0,_gl.enable(_gl.SCISSOR_TEST),_gl.scissor(viewport.x*viewportDpr,viewport.y*viewportDpr,viewport.width*viewportDpr,viewport.height*viewportDpr)),_gl.clearColor(clearColor[0],clearColor[1],clearColor[2],clearColor[3]),_gl.clear(this.clearBit),needsScissor&&_gl.disable(_gl.SCISSOR_TEST)}if(notUpdateScene||scene.update(!1),scene.updateLights(),camera=camera||scene.getMainCamera()){camera.update();var renderList=scene.updateRenderList(camera,!0);this._sceneRendering=scene;var opaqueList=renderList.opaque,transparentList=renderList.transparent,sceneMaterial=scene.material;scene.trigger("beforerender",this,scene,camera,renderList),preZ?(this.renderPreZ(opaqueList,scene,camera),_gl.depthFunc(_gl.LEQUAL)):_gl.depthFunc(_gl.LESS);for(var worldViewMat=mat4Create(),posViewSpace=vec3.Z.create(),i=0;i<transparentList.length;i++){var renderable=transparentList[i];mat4.Z.multiplyAffine(worldViewMat,camera.viewMatrix.array,renderable.worldTransform.array),vec3.Z.transformMat4(posViewSpace,renderable.position.array,worldViewMat),renderable.__depth=posViewSpace[2]}this.renderPass(opaqueList,camera,{getMaterial:function(renderable){return sceneMaterial||renderable.material},sortCompare:this.opaqueSortCompare}),this.renderPass(transparentList,camera,{getMaterial:function(renderable){return sceneMaterial||renderable.material},sortCompare:this.transparentSortCompare}),scene.trigger("afterrender",this,scene,camera,renderList),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(renderable,renderMaterial,scene){return renderMaterial=renderMaterial||renderable.material,this._programMgr.getProgram(renderable,renderMaterial,scene)},validateProgram:function(program){if(program.__error){var errorMsg=program.__error;if(errorShader[program.__uid__])return;if(errorShader[program.__uid__]=!0,this.throwError)throw new Error(errorMsg);this.trigger("error",errorMsg)}},updatePrograms:function(list,scene,passConfig){var getMaterial=passConfig&&passConfig.getMaterial||defaultGetMaterial;scene=scene||null;for(var i=0;i<list.length;i++){var renderable=list[i],renderMaterial=getMaterial.call(this,renderable);if(i>0){var prevRenderable=list[i-1],prevJointsLen=prevRenderable.joints?prevRenderable.joints.length:0;if((renderable.joints?renderable.joints.length:0)===prevJointsLen&&renderable.material===prevRenderable.material&&renderable.lightGroup===prevRenderable.lightGroup){renderable.__program=prevRenderable.__program;continue}}var program=this._programMgr.getProgram(renderable,renderMaterial,scene);this.validateProgram(program),renderable.__program=program}},renderPass:function(list,camera,passConfig){this.trigger("beforerenderpass",this,list,camera,passConfig),(passConfig=passConfig||{}).getMaterial=passConfig.getMaterial||defaultGetMaterial,passConfig.getUniform=passConfig.getUniform||defaultGetUniform,passConfig.isMaterialChanged=passConfig.isMaterialChanged||defaultIsMaterialChanged,passConfig.beforeRender=passConfig.beforeRender||noop,passConfig.afterRender=passConfig.afterRender||noop;var ifRenderObject=passConfig.ifRender||defaultIfRender;this.updatePrograms(list,this._sceneRendering,passConfig),passConfig.sortCompare&&list.sort(passConfig.sortCompare);var viewport=this.viewport,vDpr=viewport.devicePixelRatio,viewportUniform=[viewport.x*vDpr,viewport.y*vDpr,viewport.width*vDpr,viewport.height*vDpr],windowDpr=this.devicePixelRatio,windowSizeUniform=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*windowDpr,this._height*windowDpr],viewportSizeUniform=[viewportUniform[2],viewportUniform[3]],time=Date.now();camera?(mat4.Z.copy(matrices.VIEW,camera.viewMatrix.array),mat4.Z.copy(matrices.PROJECTION,camera.projectionMatrix.array),mat4.Z.copy(matrices.VIEWINVERSE,camera.worldTransform.array)):(mat4.Z.identity(matrices.VIEW),mat4.Z.identity(matrices.PROJECTION),mat4.Z.identity(matrices.VIEWINVERSE)),mat4.Z.multiply(matrices.VIEWPROJECTION,matrices.PROJECTION,matrices.VIEW),mat4.Z.invert(matrices.PROJECTIONINVERSE,matrices.PROJECTION),mat4.Z.invert(matrices.VIEWPROJECTIONINVERSE,matrices.VIEWPROJECTION);for(var prevMaterial,prevProgram,prevRenderable,depthTest,depthMask,culling,cullFace,frontFace,transparent,drawID,currentVAO,materialTakesTextureSlot,_gl=this.gl,scene=this._sceneRendering,i=0;i<list.length;i++){var worldM,renderable=list[i],isSceneNode=null!=renderable.worldTransform;if(ifRenderObject(renderable)){isSceneNode&&(worldM=renderable.isSkinnedMesh&&renderable.isSkinnedMesh()?renderable.offsetMatrix?renderable.offsetMatrix.array:matrices.IDENTITY:renderable.worldTransform.array);var geometry=renderable.geometry,material=passConfig.getMaterial.call(this,renderable),program=renderable.__program,shader=material.shader,currentDrawID=geometry.__uid__+"-"+program.__uid__,drawIDChanged=currentDrawID!==drawID;drawID=currentDrawID,isSceneNode&&(mat4.Z.copy(matrices.WORLD,worldM),mat4.Z.multiply(matrices.WORLDVIEWPROJECTION,matrices.VIEWPROJECTION,worldM),mat4.Z.multiplyAffine(matrices.WORLDVIEW,matrices.VIEW,worldM),(shader.matrixSemantics.WORLDINVERSE||shader.matrixSemantics.WORLDINVERSETRANSPOSE)&&mat4.Z.invert(matrices.WORLDINVERSE,worldM),(shader.matrixSemantics.WORLDVIEWINVERSE||shader.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&mat4.Z.invert(matrices.WORLDVIEWINVERSE,matrices.WORLDVIEW),(shader.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||shader.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&mat4.Z.invert(matrices.WORLDVIEWPROJECTIONINVERSE,matrices.WORLDVIEWPROJECTION)),renderable.beforeRender&&renderable.beforeRender(this),passConfig.beforeRender.call(this,renderable,material,prevMaterial);var programChanged=program!==prevProgram;programChanged?(program.bind(this),program.setUniformOfSemantic(_gl,"VIEWPORT",viewportUniform),program.setUniformOfSemantic(_gl,"WINDOW_SIZE",windowSizeUniform),camera&&(program.setUniformOfSemantic(_gl,"NEAR",camera.near),program.setUniformOfSemantic(_gl,"FAR",camera.far)),program.setUniformOfSemantic(_gl,"DEVICEPIXELRATIO",vDpr),program.setUniformOfSemantic(_gl,"TIME",time),program.setUniformOfSemantic(_gl,"VIEWPORT_SIZE",viewportSizeUniform),scene&&scene.setLightUniforms(program,renderable.lightGroup,this)):program=prevProgram,(programChanged||passConfig.isMaterialChanged(renderable,prevRenderable,material,prevMaterial))&&(material.depthTest!==depthTest&&(material.depthTest?_gl.enable(_gl.DEPTH_TEST):_gl.disable(_gl.DEPTH_TEST),depthTest=material.depthTest),material.depthMask!==depthMask&&(_gl.depthMask(material.depthMask),depthMask=material.depthMask),material.transparent!==transparent&&(material.transparent?_gl.enable(_gl.BLEND):_gl.disable(_gl.BLEND),transparent=material.transparent),material.transparent&&(material.blend?material.blend(_gl):(_gl.blendEquationSeparate(_gl.FUNC_ADD,_gl.FUNC_ADD),_gl.blendFuncSeparate(_gl.SRC_ALPHA,_gl.ONE_MINUS_SRC_ALPHA,_gl.ONE,_gl.ONE_MINUS_SRC_ALPHA))),materialTakesTextureSlot=this._bindMaterial(renderable,material,program,prevRenderable||null,prevMaterial||null,prevProgram||null,passConfig.getUniform),prevMaterial=material);var matrixSemanticKeys=shader.matrixSemanticKeys;if(isSceneNode)for(var k=0;k<matrixSemanticKeys.length;k++){var semantic=matrixSemanticKeys[k],semanticInfo=shader.matrixSemantics[semantic],matrix=matrices[semantic];if(semanticInfo.isTranspose){var matrixNoTranspose=matrices[semanticInfo.semanticNoTranspose];mat4.Z.transpose(matrix,matrixNoTranspose)}program.setUniform(_gl,semanticInfo.type,semanticInfo.symbol,matrix)}renderable.cullFace!==cullFace&&(cullFace=renderable.cullFace,_gl.cullFace(cullFace)),renderable.frontFace!==frontFace&&(frontFace=renderable.frontFace,_gl.frontFace(frontFace)),renderable.culling!==culling&&((culling=renderable.culling)?_gl.enable(_gl.CULL_FACE):_gl.disable(_gl.CULL_FACE)),this._updateSkeleton(renderable,program,materialTakesTextureSlot),drawIDChanged&&(currentVAO=this._bindVAO(null,shader,geometry,program)),this._renderObject(renderable,currentVAO,program),passConfig.afterRender(this,renderable),renderable.afterRender&&renderable.afterRender(this),prevProgram=program,prevRenderable=renderable}}this.trigger("afterrenderpass",this,list,camera,passConfig)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(object,program,slot){var _gl=this.gl,skeleton=object.skeleton;if(skeleton)if(skeleton.update(),object.joints.length>this.getMaxJointNumber()){var skinMatricesTexture=skeleton.getSubSkinMatricesTexture(object.__uid__,object.joints);program.useTextureSlot(this,skinMatricesTexture,slot),program.setUniform(_gl,"1i","skinMatricesTexture",slot),program.setUniform(_gl,"1f","skinMatricesTextureSize",skinMatricesTexture.width)}else{var skinMatricesArray=skeleton.getSubSkinMatrices(object.__uid__,object.joints);program.setUniformOfSemantic(_gl,"SKIN_MATRIX",skinMatricesArray)}},_renderObject:function(renderable,vao,program){var _gl=this.gl,geometry=renderable.geometry,glDrawMode=renderable.mode;null==glDrawMode&&(glDrawMode=4);var ext=null,isInstanced=renderable.isInstancedMesh&&renderable.isInstancedMesh();if(!isInstanced||(ext=this.getGLExtension("ANGLE_instanced_arrays"))){var instancedAttrLocations;if(isInstanced&&(instancedAttrLocations=this._bindInstancedAttributes(renderable,program,ext)),vao.indicesBuffer){var indicesType=this.getGLExtension("OES_element_index_uint")&&geometry.indices instanceof Uint32Array?_gl.UNSIGNED_INT:_gl.UNSIGNED_SHORT;isInstanced?ext.drawElementsInstancedANGLE(glDrawMode,vao.indicesBuffer.count,indicesType,0,renderable.getInstanceCount()):_gl.drawElements(glDrawMode,vao.indicesBuffer.count,indicesType,0)}else isInstanced?ext.drawArraysInstancedANGLE(glDrawMode,0,geometry.vertexCount,renderable.getInstanceCount()):_gl.drawArrays(glDrawMode,0,geometry.vertexCount);if(isInstanced)for(var i=0;i<instancedAttrLocations.length;i++)_gl.disableVertexAttribArray(instancedAttrLocations[i])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(renderable,program,ext){for(var _gl=this.gl,instancedBuffers=renderable.getInstancedAttributesBuffers(this),locations=[],i=0;i<instancedBuffers.length;i++){var bufferObj=instancedBuffers[i],location=program.getAttribLocation(_gl,bufferObj.symbol);if(!(location<0)){var glType=attributeBufferTypeMap[bufferObj.type]||_gl.FLOAT;_gl.enableVertexAttribArray(location),_gl.bindBuffer(_gl.ARRAY_BUFFER,bufferObj.buffer),_gl.vertexAttribPointer(location,bufferObj.size,glType,!1,0,0),ext.vertexAttribDivisorANGLE(location,bufferObj.divisor),locations.push(location)}}return locations},_bindMaterial:function(renderable,material,program,prevRenderable,prevMaterial,prevProgram,getUniformValue){for(var _gl=this.gl,sameProgram=prevProgram===program,currentTextureSlot=program.currentTextureSlot(),enabledUniforms=material.getEnabledUniforms(),textureUniforms=material.getTextureUniforms(),placeholderTexture=this._placeholderTexture,u=0;u<textureUniforms.length;u++){var uniformValue=getUniformValue(renderable,material,symbol=textureUniforms[u]);if("t"===(uniformType=material.uniforms[symbol].type)&&uniformValue)uniformValue.__slot=-1;else if("tv"===uniformType)for(var i=0;i<uniformValue.length;i++)uniformValue[i]&&(uniformValue[i].__slot=-1)}placeholderTexture.__slot=-1;for(u=0;u<enabledUniforms.length;u++){var uniformType,symbol=enabledUniforms[u],uniform=material.uniforms[symbol],isTexture=(uniformValue=getUniformValue(renderable,material,symbol),"t"===(uniformType=uniform.type));if(isTexture&&(uniformValue&&uniformValue.isRenderable()||(uniformValue=placeholderTexture)),prevMaterial&&sameProgram){var prevUniformValue=getUniformValue(prevRenderable,prevMaterial,symbol);if(isTexture&&(prevUniformValue&&prevUniformValue.isRenderable()||(prevUniformValue=placeholderTexture)),prevUniformValue===uniformValue){if(isTexture)program.takeCurrentTextureSlot(this,null);else if("tv"===uniformType&&uniformValue)for(i=0;i<uniformValue.length;i++)program.takeCurrentTextureSlot(this,null);continue}}if(null!=uniformValue)if(isTexture)if(uniformValue.__slot<0){var slot=program.currentTextureSlot();program.setUniform(_gl,"1i",symbol,slot)&&(program.takeCurrentTextureSlot(this,uniformValue),uniformValue.__slot=slot)}else program.setUniform(_gl,"1i",symbol,uniformValue.__slot);else if(Array.isArray(uniformValue)){if(0===uniformValue.length)continue;if("tv"===uniformType){if(!program.hasUniform(symbol))continue;var arr=[];for(i=0;i<uniformValue.length;i++){var texture=uniformValue[i];if(texture.__slot<0){slot=program.currentTextureSlot();arr.push(slot),program.takeCurrentTextureSlot(this,texture),texture.__slot=slot}else arr.push(texture.__slot)}program.setUniform(_gl,"1iv",symbol,arr)}else program.setUniform(_gl,uniform.type,symbol,uniformValue)}else program.setUniform(_gl,uniform.type,symbol,uniformValue)}var newSlot=program.currentTextureSlot();return program.resetTextureSlot(currentTextureSlot),newSlot},_bindVAO:function(vaoExt,shader,geometry,program){var isStatic=!geometry.dynamic,_gl=this.gl,vaoId=this.__uid__+"-"+program.__uid__,vao=geometry.__vaoCache[vaoId];if(!vao){var chunks=geometry.getBufferChunks(this);if(!chunks||!chunks.length)return;for(var chunk=chunks[0],attributeBuffers=chunk.attributeBuffers,indicesBuffer=chunk.indicesBuffer,availableAttributes=[],availableAttributeSymbols=[],a=0;a<attributeBuffers.length;a++){var symbol,name=(attributeBufferInfo=attributeBuffers[a]).name,semantic=attributeBufferInfo.semantic;if(semantic){var semanticInfo=shader.attributeSemantics[semantic];symbol=semanticInfo&&semanticInfo.symbol}else symbol=name;symbol&&program.attributes[symbol]&&(availableAttributes.push(attributeBufferInfo),availableAttributeSymbols.push(symbol))}vao=new VertexArrayObject(availableAttributes,availableAttributeSymbols,indicesBuffer),isStatic&&(geometry.__vaoCache[vaoId]=vao)}var needsBindAttributes=!0;vaoExt&&isStatic&&(null==vao.vao?vao.vao=vaoExt.createVertexArrayOES():needsBindAttributes=!1,vaoExt.bindVertexArrayOES(vao.vao));availableAttributes=vao.availableAttributes,indicesBuffer=vao.indicesBuffer;if(needsBindAttributes){var locationList=program.enableAttributes(this,vao.availableAttributeSymbols,vaoExt&&isStatic&&vao);for(a=0;a<availableAttributes.length;a++){var location=locationList[a];if(-1!==location){var attributeBufferInfo,buffer=(attributeBufferInfo=availableAttributes[a]).buffer,size=attributeBufferInfo.size,glType=attributeBufferTypeMap[attributeBufferInfo.type]||_gl.FLOAT;_gl.bindBuffer(_gl.ARRAY_BUFFER,buffer),_gl.vertexAttribPointer(location,size,glType,!1,0,0)}}geometry.isUseIndices()&&_gl.bindBuffer(_gl.ELEMENT_ARRAY_BUFFER,indicesBuffer.buffer)}return vao},renderPreZ:function(list,scene,camera){var _gl=this.gl,preZPassMaterial=this._prezMaterial||new Material.Z({shader:new Shader.Z(Shader.Z.source("clay.prez.vertex"),Shader.Z.source("clay.prez.fragment"))});this._prezMaterial=preZPassMaterial,_gl.colorMask(!1,!1,!1,!1),_gl.depthMask(!0),this.renderPass(list,camera,{ifRender:function(renderable){return!renderable.ignorePreZ},isMaterialChanged:function(renderable,prevRenderable){var matA=renderable.material,matB=prevRenderable.material;return matA.get("diffuseMap")!==matB.get("diffuseMap")||(matA.get("alphaCutoff")||0)!==(matB.get("alphaCutoff")||0)},getUniform:function(renderable,depthMaterial,symbol){return"alphaMap"===symbol?renderable.material.get("diffuseMap"):"alphaCutoff"===symbol?renderable.material.isDefined("fragment","ALPHA_TEST")&&renderable.material.get("diffuseMap")&&renderable.material.get("alphaCutoff")||0:"uvRepeat"===symbol?renderable.material.get("uvRepeat"):"uvOffset"===symbol?renderable.material.get("uvOffset"):depthMaterial.get(symbol)},getMaterial:function(){return preZPassMaterial},sort:this.opaqueSortCompare}),_gl.colorMask(!0,!0,!0,!0),_gl.depthMask(!0)},disposeScene:function(scene){this.disposeNode(scene,!0,!0),scene.dispose()},disposeNode:function(root,disposeGeometry,disposeTexture){root.getParent()&&root.getParent().remove(root);var disposedMap={};root.traverse((function(node){var material=node.material;if(node.geometry&&disposeGeometry&&node.geometry.dispose(this),disposeTexture&&material&&!disposedMap[material.__uid__]){for(var textureUniforms=material.getTextureUniforms(),u=0;u<textureUniforms.length;u++){var uniformName=textureUniforms[u],val=material.uniforms[uniformName].value,uniformType=material.uniforms[uniformName].type;if(val)if("t"===uniformType)val.dispose&&val.dispose(this);else if("tv"===uniformType)for(var k=0;k<val.length;k++)val[k]&&val[k].dispose&&val[k].dispose(this)}disposedMap[material.__uid__]=!0}node.dispose&&node.dispose(this)}),this)},disposeGeometry:function(geometry){geometry.dispose(this)},disposeTexture:function(texture){texture.dispose(this)},disposeFrameBuffer:function(frameBuffer){frameBuffer.dispose(this)},dispose:function(){},screenToNDC:function(x,y,out){out||(out=new Vector2.Z),y=this._height-y;var viewport=this.viewport,arr=out.array;return arr[0]=(x-viewport.x)/viewport.width,arr[0]=2*arr[0]-1,arr[1]=(y-viewport.y)/viewport.height,arr[1]=2*arr[1]-1,out}});Renderer.opaqueSortCompare=Renderer.prototype.opaqueSortCompare=function(x,y){return x.renderOrder===y.renderOrder?x.__program===y.__program?x.material===y.material?x.geometry.__uid__-y.geometry.__uid__:x.material.__uid__-y.material.__uid__:x.__program&&y.__program?x.__program.__uid__-y.__program.__uid__:0:x.renderOrder-y.renderOrder},Renderer.transparentSortCompare=Renderer.prototype.transparentSortCompare=function(x,y){return x.renderOrder===y.renderOrder?x.__depth===y.__depth?x.__program===y.__program?x.material===y.material?x.geometry.__uid__-y.geometry.__uid__:x.material.__uid__-y.material.__uid__:x.__program&&y.__program?x.__program.__uid__-y.__program.__uid__:0:x.__depth-y.__depth:x.renderOrder-y.renderOrder};var matrices={IDENTITY:mat4Create(),WORLD:mat4Create(),VIEW:mat4Create(),PROJECTION:mat4Create(),WORLDVIEW:mat4Create(),VIEWPROJECTION:mat4Create(),WORLDVIEWPROJECTION:mat4Create(),WORLDINVERSE:mat4Create(),VIEWINVERSE:mat4Create(),PROJECTIONINVERSE:mat4Create(),WORLDVIEWINVERSE:mat4Create(),VIEWPROJECTIONINVERSE:mat4Create(),WORLDVIEWPROJECTIONINVERSE:mat4Create(),WORLDTRANSPOSE:mat4Create(),VIEWTRANSPOSE:mat4Create(),PROJECTIONTRANSPOSE:mat4Create(),WORLDVIEWTRANSPOSE:mat4Create(),VIEWPROJECTIONTRANSPOSE:mat4Create(),WORLDVIEWPROJECTIONTRANSPOSE:mat4Create(),WORLDINVERSETRANSPOSE:mat4Create(),VIEWINVERSETRANSPOSE:mat4Create(),PROJECTIONINVERSETRANSPOSE:mat4Create(),WORLDVIEWINVERSETRANSPOSE:mat4Create(),VIEWPROJECTIONINVERSETRANSPOSE:mat4Create(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:mat4Create()};Renderer.COLOR_BUFFER_BIT=glenum.Z.COLOR_BUFFER_BIT,Renderer.DEPTH_BUFFER_BIT=glenum.Z.DEPTH_BUFFER_BIT,Renderer.STENCIL_BUFFER_BIT=glenum.Z.STENCIL_BUFFER_BIT;const src_Renderer=Renderer},"./node_modules/claygl/src/Scene.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var cullingBoundingBox,cullingMatrix,_Node__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/Node.js"),_Light__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/claygl/src/Light.js"),_Camera__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/claygl/src/Camera.js"),_math_BoundingBox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),_core_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/util.js"),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),_core_LRU__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/claygl/src/core/LRU.js"),_math_Matrix4__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),IDENTITY=_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_0__.Z.create(),WORLDVIEW=_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_0__.Z.create(),programKeyCache={};function getProgramKey(lightNumbers){var defineStr=[],lightTypes=Object.keys(lightNumbers);lightTypes.sort();for(var i=0;i<lightTypes.length;i++){var lightType=lightTypes[i];defineStr.push(lightType+" "+lightNumbers[lightType])}var key=defineStr.join("\n");if(programKeyCache[key])return programKeyCache[key];var id=_core_util__WEBPACK_IMPORTED_MODULE_1__.Z.genGUID();return programKeyCache[key]=id,id}function RenderList(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}function lightSortFunc(a,b){if(b.castShadow&&!a.castShadow)return!0}RenderList.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},RenderList.prototype.add=function(object,isTransparent){isTransparent?this.transparent[this._transparentCount++]=object:this.opaque[this._opaqueCount++]=object},RenderList.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};const __WEBPACK_DEFAULT_EXPORT__=_Node__WEBPACK_IMPORTED_MODULE_2__.Z.extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new _math_BoundingBox__WEBPACK_IMPORTED_MODULE_3__.Z,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new _core_LRU__WEBPACK_IMPORTED_MODULE_4__.Z(20)}}),(function(){this._scene=this}),{addToScene:function(node){node instanceof _Camera__WEBPACK_IMPORTED_MODULE_5__.Z?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(node)):node instanceof _Light__WEBPACK_IMPORTED_MODULE_6__.Z&&this.lights.push(node),node.name&&(this._nodeRepository[node.name]=node)},removeFromScene:function(node){var idx;node instanceof _Camera__WEBPACK_IMPORTED_MODULE_5__.Z?(idx=this._cameraList.indexOf(node))>=0&&this._cameraList.splice(idx,1):node instanceof _Light__WEBPACK_IMPORTED_MODULE_6__.Z&&(idx=this.lights.indexOf(node))>=0&&this.lights.splice(idx,1),node.name&&delete this._nodeRepository[node.name]},getNode:function(name){return this._nodeRepository[name]},setMainCamera:function(camera){var idx=this._cameraList.indexOf(camera);idx>=0&&this._cameraList.splice(idx,1),this._cameraList.unshift(camera)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var lights=this.lights;this._previousLightNumber=this._lightNumber;for(var lightNumber={},i=0;i<lights.length;i++){var light=lights[i];if(!light.invisible){var group=light.group;lightNumber[group]||(lightNumber[group]={}),lightNumber[group][light.type]=lightNumber[group][light.type]||0,lightNumber[group][light.type]++}}for(var groupId in this._lightNumber=lightNumber,lightNumber)this._lightProgramKeys[groupId]=getProgramKey(lightNumber[groupId]);this._updateLightUniforms()},cloneNode:function(node){var newNode=node.clone(),clonedNodesMap={};return function buildNodesMap(sNode,tNode){clonedNodesMap[sNode.__uid__]=tNode;for(var i=0;i<sNode._children.length;i++){buildNodesMap(sNode._children[i],tNode._children[i])}}(node,newNode),newNode.traverse((function(newChild){newChild.skeleton&&(newChild.skeleton=newChild.skeleton.clone(clonedNodesMap)),newChild.material&&(newChild.material=newChild.material.clone())})),newNode},updateRenderList:function(camera,updateSceneBoundingBox){var id=camera.__uid__,renderList=this._renderLists.get(id);renderList||(renderList=new RenderList,this._renderLists.put(id,renderList)),renderList.startCount(),updateSceneBoundingBox&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var sceneMaterialTransparent=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,camera,sceneMaterialTransparent,renderList,updateSceneBoundingBox),renderList.endCount(),renderList},getRenderList:function(camera){return this._renderLists.get(camera.__uid__)},_doUpdateRenderList:function(parent,camera,sceneMaterialTransparent,renderList,updateSceneBoundingBox){if(!parent.invisible)for(var i=0;i<parent._children.length;i++){var child=parent._children[i];if(child.isRenderable()){var worldM=child.isSkinnedMesh()?IDENTITY:child.worldTransform.array,geometry=child.geometry;_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_0__.Z.multiplyAffine(WORLDVIEW,camera.viewMatrix.array,worldM),(updateSceneBoundingBox&&!geometry.boundingBox||!this.isFrustumCulled(child,camera,WORLDVIEW))&&renderList.add(child,child.material.transparent||sceneMaterialTransparent)}child._children.length>0&&this._doUpdateRenderList(child,camera,sceneMaterialTransparent,renderList,updateSceneBoundingBox)}},isFrustumCulled:(cullingBoundingBox=new _math_BoundingBox__WEBPACK_IMPORTED_MODULE_3__.Z,cullingMatrix=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_7__.Z,function(object,camera,worldViewMat){var geoBBox=object.boundingBox;if(geoBBox||(geoBBox=object.skeleton&&object.skeleton.boundingBox?object.skeleton.boundingBox:object.geometry.boundingBox),!geoBBox)return!1;if(cullingMatrix.array=worldViewMat,cullingBoundingBox.transformFrom(geoBBox,cullingMatrix),object.castShadow&&this.viewBoundingBoxLastFrame.union(cullingBoundingBox),object.frustumCulling){if(!cullingBoundingBox.intersectBoundingBox(camera.frustum.boundingBox))return!0;cullingMatrix.array=camera.projectionMatrix.array,cullingBoundingBox.max.array[2]>0&&cullingBoundingBox.min.array[2]<0&&(cullingBoundingBox.max.array[2]=-1e-20),cullingBoundingBox.applyProjection(cullingMatrix);var min=cullingBoundingBox.min.array,max=cullingBoundingBox.max.array;if(max[0]<-1||min[0]>1||max[1]<-1||min[1]>1||max[2]<-1||min[2]>1)return!0}return!1}),_updateLightUniforms:function(){var lights=this.lights;lights.sort(lightSortFunc);var lightUniforms=this._lightUniforms;for(var group in lightUniforms)for(var symbol in lightUniforms[group])lightUniforms[group][symbol].value.length=0;for(var i=0;i<lights.length;i++){var light=lights[i];if(!light.invisible){group=light.group;for(var symbol in light.uniformTemplates){var uniformTpl=light.uniformTemplates[symbol],value=uniformTpl.value(light);if(null!=value){lightUniforms[group]||(lightUniforms[group]={}),lightUniforms[group][symbol]||(lightUniforms[group][symbol]={type:"",value:[]});var lu=lightUniforms[group][symbol];switch(lu.type=uniformTpl.type+"v",uniformTpl.type){case"1i":case"1f":case"t":lu.value.push(value);break;case"2f":case"3f":case"4f":for(var j=0;j<value.length;j++)lu.value.push(value[j]);break;default:console.error("Unkown light uniform type "+uniformTpl.type)}}}}}},getLightGroups:function(){var lightGroups=[];for(var groupId in this._lightNumber)lightGroups.push(groupId);return lightGroups},getNumberChangedLightGroups:function(){var lightGroups=[];for(var groupId in this._lightNumber)this.isLightNumberChanged(groupId)&&lightGroups.push(groupId);return lightGroups},isLightNumberChanged:function(lightGroup){var prevLightNumber=this._previousLightNumber,currentLightNumber=this._lightNumber;for(var type in currentLightNumber[lightGroup]){if(!prevLightNumber[lightGroup])return!0;if(currentLightNumber[lightGroup][type]!==prevLightNumber[lightGroup][type])return!0}for(var type in prevLightNumber[lightGroup]){if(!currentLightNumber[lightGroup])return!0;if(currentLightNumber[lightGroup][type]!==prevLightNumber[lightGroup][type])return!0}return!1},getLightsNumbers:function(lightGroup){return this._lightNumber[lightGroup]},getProgramKey:function(lightGroup){return this._lightProgramKeys[lightGroup]},setLightUniforms:function(){function setUniforms(uniforms,program,renderer){for(var symbol in uniforms){var lu=uniforms[symbol];if("tv"===lu.type){if(!program.hasUniform(symbol))continue;for(var texSlots=[],i=0;i<lu.value.length;i++){var texture=lu.value[i],slot=program.takeCurrentTextureSlot(renderer,texture);texSlots.push(slot)}program.setUniform(renderer.gl,"1iv",symbol,texSlots)}else program.setUniform(renderer.gl,lu.type,symbol,lu.value)}}return function(program,lightGroup,renderer){setUniforms(this._lightUniforms[lightGroup],program,renderer),setUniforms(this.shadowUniforms,program,renderer)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}})},"./node_modules/claygl/src/Shader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _core_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/core/util.js"),_core_vendor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),uniformRegex=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,attributeRegex=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,defineRegex=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,uniformTypeMap={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function createZeroArray(len){for(var arr=[],i=0;i<len;i++)arr[i]=0;return arr}var uniformValueConstructor={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return createZeroArray(2)},vec3:function(){return createZeroArray(3)},vec4:function(){return createZeroArray(4)},ivec2:function(){return createZeroArray(2)},ivec3:function(){return createZeroArray(3)},ivec4:function(){return createZeroArray(4)},mat2:function(){return createZeroArray(4)},mat3:function(){return createZeroArray(9)},mat4:function(){return createZeroArray(16)},array:function(){return[]}},attributeSemantics=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],uniformSemantics=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],matrixSemantics=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],attributeSizeMap={vec4:4,vec3:3,vec2:2,float:1},shaderIDCache={},shaderCodeCache={};function removeComment(code){return code.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function logSyntaxError(){console.error("Wrong uniform/attributes syntax")}function parseDeclarations(type,line){for(var speratorsRegexp=/[,=\(\):]/,tokens=line.replace(/:\s*\[\s*(.*)\s*\]/g,"="+type+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),newTokens=[],i=0;i<tokens.length;i++)tokens[i].match(speratorsRegexp)?newTokens.push(tokens[i].charAt(0),tokens[i].slice(1)):newTokens.push(tokens[i]);var currentDeclaration,opType=0,declarations={},declarationValue=null;function addSymbol(symbol){symbol||logSyntaxError();var arrResult=symbol.match(/\[(.*?)\]/);currentDeclaration=symbol.replace(/\[(.*?)\]/,""),declarations[currentDeclaration]={},arrResult&&(declarations[currentDeclaration].isArray=!0,declarations[currentDeclaration].arraySize=arrResult[1])}addSymbol((tokens=newTokens)[0]);for(i=1;i<tokens.length;i++){var token=tokens[i];if(token)if("="!==token)if(":"!==token)if(","!==token)if(")"!==token)if("("!==token)if(token.indexOf("vec")>=0){if(1!==opType&&4!==opType){logSyntaxError();break}opType=2,declarationValue=[]}else if(1!==opType)if(4!==opType)addSymbol(token),opType=0;else{var semantic=token;attributeSemantics.indexOf(semantic)>=0||uniformSemantics.indexOf(semantic)>=0||matrixSemantics.indexOf(semantic)>=0?declarations[currentDeclaration].semantic=semantic:"ignore"===semantic||"unconfigurable"===semantic?declarations[currentDeclaration].ignore=!0:declarations[currentDeclaration].value="bool"===type?"true"===semantic:parseFloat(semantic)}else declarations[currentDeclaration].value="bool"===type?"true"===token:parseFloat(token),declarationValue=null;else{if(2!==opType){logSyntaxError();break}if(!(declarationValue instanceof Array)){logSyntaxError();break}declarationValue.push(+tokens[++i])}else declarations[currentDeclaration].value=new _core_vendor__WEBPACK_IMPORTED_MODULE_1__.Z.Float32Array(declarationValue),declarationValue=null,opType=5;else if(2===opType){if(!(declarationValue instanceof Array)){logSyntaxError();break}declarationValue.push(+tokens[++i])}else opType=5;else opType=4;else{if(0!==opType&&3!==opType){logSyntaxError();break}opType=1}}return declarations}function Shader(vertex,fragment){"object"==typeof vertex&&(fragment=vertex.fragment,vertex=vertex.vertex),vertex=removeComment(vertex),fragment=removeComment(fragment),this._shaderID=function getShaderID(vertex,fragment){var key="vertex:"+vertex+"fragment:"+fragment;if(shaderIDCache[key])return shaderIDCache[key];var id=_core_util__WEBPACK_IMPORTED_MODULE_0__.Z.genGUID();return shaderIDCache[key]=id,shaderCodeCache[id]={vertex,fragment},id}(vertex,fragment),this._vertexCode=Shader.parseImport(vertex),this._fragmentCode=Shader.parseImport(fragment),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}Shader.prototype={constructor:Shader,createUniforms:function(){var uniforms={};for(var symbol in this.uniformTemplates){var uniformTpl=this.uniformTemplates[symbol];uniforms[symbol]={type:uniformTpl.type,value:uniformTpl.value()}}return uniforms},_parseImport:function(){this._vertexCode=Shader.parseImport(this.vertex),this._fragmentCode=Shader.parseImport(this.fragment)},_addSemanticUniform:function(symbol,uniformType,semantic){if(attributeSemantics.indexOf(semantic)>=0)this.attributeSemantics[semantic]={symbol,type:uniformType};else if(matrixSemantics.indexOf(semantic)>=0){var isTranspose=!1,semanticNoTranspose=semantic;semantic.match(/TRANSPOSE$/)&&(isTranspose=!0,semanticNoTranspose=semantic.slice(0,-9)),this.matrixSemantics[semantic]={symbol,type:uniformType,isTranspose,semanticNoTranspose}}else uniformSemantics.indexOf(semantic)>=0&&(this.uniformSemantics[semantic]={symbol,type:uniformType})},_addMaterialUniform:function(symbol,type,uniformType,defaultValueFunc,isArray,materialUniforms){materialUniforms[symbol]={type:uniformType,value:isArray?uniformValueConstructor.array:defaultValueFunc||uniformValueConstructor[type],semantic:null}},_parseUniforms:function(){var uniforms={},self=this;function makeDefaultValueFunc(value){return null!=value?function(){return value}:null}function _uniformParser(str,type,content){var declaredUniforms=parseDeclarations(type,content),uniformMainStr=[];for(var symbol in declaredUniforms){var uniformInfo=declaredUniforms[symbol],semantic=uniformInfo.semantic,tmpStr=symbol,uniformType=uniformTypeMap[type],defaultValueFunc=makeDefaultValueFunc(declaredUniforms[symbol].value);declaredUniforms[symbol].isArray&&(tmpStr+="["+declaredUniforms[symbol].arraySize+"]",uniformType+="v"),uniformMainStr.push(tmpStr),self._uniformList.push(symbol),uniformInfo.ignore||("sampler2D"!==type&&"samplerCube"!==type||(self.textures[symbol]={shaderType:"fragment",type}),semantic?self._addSemanticUniform(symbol,uniformType,semantic):self._addMaterialUniform(symbol,type,uniformType,defaultValueFunc,declaredUniforms[symbol].isArray,uniforms))}return uniformMainStr.length>0?"uniform "+type+" "+uniformMainStr.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(uniformRegex,_uniformParser),this._fragmentCode=this._fragmentCode.replace(uniformRegex,_uniformParser),self.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=uniforms},_parseAttributes:function(){var attributes={},self=this;this._vertexCode=this._vertexCode.replace(attributeRegex,(function _attributeParser(str,type,content){var declaredAttributes=parseDeclarations(type,content),size=attributeSizeMap[type]||1,attributeMainStr=[];for(var symbol in declaredAttributes){var semantic=declaredAttributes[symbol].semantic;if(attributes[symbol]={type:"float",size,semantic:semantic||null},semantic){if(attributeSemantics.indexOf(semantic)<0)throw new Error('Unkown semantic "'+semantic+'"');self.attributeSemantics[semantic]={symbol,type}}attributeMainStr.push(symbol)}return"attribute "+type+" "+attributeMainStr.join(",")+";\n"})),this.attributes=attributes},_parseDefines:function(){var self=this;function _defineParser(str,symbol,value){var defines=self.fragmentDefines;return defines[symbol]||(defines[symbol]="false"!==value&&("true"===value||(value?isNaN(parseFloat(value))?value.trim():parseFloat(value):null))),""}this._vertexCode=this._vertexCode.replace(defineRegex,_defineParser),this._fragmentCode=this._fragmentCode.replace(defineRegex,_defineParser)},clone:function(){var code=shaderCodeCache[this._shaderID];return new Shader(code.vertex,code.fragment)}},Object.defineProperty&&(Object.defineProperty(Shader.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(Shader.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(Shader.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(Shader.prototype,"uniforms",{get:function(){return this._uniformList}}));var importRegex=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;Shader.parseImport=function(shaderStr){return shaderStr=shaderStr.replace(importRegex,(function(str,importSymbol,importName){return(str=Shader.source(importName))?Shader.parseImport(str):(console.error('Shader chunk "'+importName+'" not existed in library'),"")}))};var exportRegex=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;Shader.import=function(shaderStr){shaderStr.replace(exportRegex,(function(str,exportSymbol,exportName,code){if(code=code.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var key,parts=exportName.split("."),obj=Shader.codes,i=0;i<parts.length-1;)obj[key=parts[i++]]||(obj[key]={}),obj=obj[key];obj[key=parts[i]]=code}return code}))},Shader.codes={},Shader.source=function(name){for(var parts=name.split("."),obj=Shader.codes,i=0;obj&&i<parts.length;){obj=obj[parts[i++]]}return"string"!=typeof obj?(console.error('Shader "'+name+'" not existed in library'),""):obj};const __WEBPACK_DEFAULT_EXPORT__=Shader},"./node_modules/claygl/src/Texture.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _core_Base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/core/Base.js"),_core_glenum__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),_core_Cache__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/core/Cache.js"),Texture=_core_Base__WEBPACK_IMPORTED_MODULE_0__.Z.extend({width:512,height:512,type:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.UNSIGNED_BYTE,format:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.RGBA,wrapS:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.REPEAT,wrapT:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.REPEAT,minFilter:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR_MIPMAP_LINEAR,magFilter:_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new _core_Cache__WEBPACK_IMPORTED_MODULE_2__.Z}),{getWebGLTexture:function(renderer){var _gl=renderer.gl,cache=this._cache;return cache.use(renderer.__uid__),cache.miss("webgl_texture")&&cache.put("webgl_texture",_gl.createTexture()),this.dynamic?this.update(renderer):cache.isDirty()&&(this.update(renderer),cache.fresh()),cache.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(renderer){},updateCommon:function(renderer){var _gl=renderer.gl;_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL,this.flipY),_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),_gl.pixelStorei(_gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.DEPTH_COMPONENT&&(this.useMipmap=!1);var sRGBExt=renderer.getGLExtension("EXT_sRGB");this.format!==Texture.SRGB||sRGBExt||(this.format=Texture.RGB),this.format!==Texture.SRGB_ALPHA||sRGBExt||(this.format=Texture.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var minFilter=this.minFilter;return this.NPOT||!this.useMipmap?minFilter===_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.NEAREST_MIPMAP_NEAREST||minFilter===_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.NEAREST_MIPMAP_LINEAR?_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.NEAREST:minFilter===_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR_MIPMAP_LINEAR||minFilter===_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR_MIPMAP_NEAREST?_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR:minFilter:minFilter},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(x){--x;for(var i=1;i<32;i<<=1)x|=x>>i;return x+1},dispose:function(renderer){var cache=this._cache;cache.use(renderer.__uid__);var webglTexture=cache.get("webgl_texture");webglTexture&&renderer.gl.deleteTexture(webglTexture),cache.deleteContext(renderer.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(Texture.prototype,"width",{get:function(){return this._width},set:function(value){this._width=value}}),Object.defineProperty(Texture.prototype,"height",{get:function(){return this._height},set:function(value){this._height=value}}),Texture.BYTE=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.BYTE,Texture.UNSIGNED_BYTE=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.UNSIGNED_BYTE,Texture.SHORT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.SHORT,Texture.UNSIGNED_SHORT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.UNSIGNED_SHORT,Texture.INT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.INT,Texture.UNSIGNED_INT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.UNSIGNED_INT,Texture.FLOAT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.FLOAT,Texture.HALF_FLOAT=36193,Texture.UNSIGNED_INT_24_8_WEBGL=34042,Texture.DEPTH_COMPONENT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.DEPTH_COMPONENT,Texture.DEPTH_STENCIL=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.DEPTH_STENCIL,Texture.ALPHA=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.ALPHA,Texture.RGB=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.RGB,Texture.RGBA=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.RGBA,Texture.LUMINANCE=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LUMINANCE,Texture.LUMINANCE_ALPHA=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LUMINANCE_ALPHA,Texture.SRGB=35904,Texture.SRGB_ALPHA=35906,Texture.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,Texture.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,Texture.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,Texture.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,Texture.NEAREST=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.NEAREST,Texture.LINEAR=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR,Texture.NEAREST_MIPMAP_NEAREST=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.NEAREST_MIPMAP_NEAREST,Texture.LINEAR_MIPMAP_NEAREST=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR_MIPMAP_NEAREST,Texture.NEAREST_MIPMAP_LINEAR=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.NEAREST_MIPMAP_LINEAR,Texture.LINEAR_MIPMAP_LINEAR=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.LINEAR_MIPMAP_LINEAR,Texture.REPEAT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.REPEAT,Texture.CLAMP_TO_EDGE=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.CLAMP_TO_EDGE,Texture.MIRRORED_REPEAT=_core_glenum__WEBPACK_IMPORTED_MODULE_1__.Z.MIRRORED_REPEAT;const __WEBPACK_DEFAULT_EXPORT__=Texture},"./node_modules/claygl/src/Texture2D.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Texture__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/Texture.js"),_core_glenum__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),_core_vendor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),isPowerOfTwo=__webpack_require__("./node_modules/claygl/src/math/util.js").Z.isPowerOfTwo;function nearestPowerOfTwo(val){return Math.pow(2,Math.round(Math.log(val)/Math.LN2))}var Texture2D=_Texture__WEBPACK_IMPORTED_MODULE_1__.Z.extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(renderer){var _gl=renderer.gl;_gl.bindTexture(_gl.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(renderer);var glFormat=this.format,glType=this.type,convertToPOT=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==_Texture__WEBPACK_IMPORTED_MODULE_1__.Z.REPEAT&&this.wrapT!==_Texture__WEBPACK_IMPORTED_MODULE_1__.Z.REPEAT||!this.NPOT);_gl.texParameteri(_gl.TEXTURE_2D,_gl.TEXTURE_WRAP_S,convertToPOT?this.wrapS:this.getAvailableWrapS()),_gl.texParameteri(_gl.TEXTURE_2D,_gl.TEXTURE_WRAP_T,convertToPOT?this.wrapT:this.getAvailableWrapT()),_gl.texParameteri(_gl.TEXTURE_2D,_gl.TEXTURE_MAG_FILTER,convertToPOT?this.magFilter:this.getAvailableMagFilter()),_gl.texParameteri(_gl.TEXTURE_2D,_gl.TEXTURE_MIN_FILTER,convertToPOT?this.minFilter:this.getAvailableMinFilter());var anisotropicExt=renderer.getGLExtension("EXT_texture_filter_anisotropic");(anisotropicExt&&this.anisotropic>1&&_gl.texParameterf(_gl.TEXTURE_2D,anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===glType)&&(renderer.getGLExtension("OES_texture_half_float")||(glType=_core_glenum__WEBPACK_IMPORTED_MODULE_2__.Z.FLOAT));if(this.mipmaps.length)for(var width=this.width,height=this.height,i=0;i<this.mipmaps.length;i++){var mipmap=this.mipmaps[i];this._updateTextureData(_gl,mipmap,i,width,height,glFormat,glType,!1),width/=2,height/=2}else this._updateTextureData(_gl,this,0,this.width,this.height,glFormat,glType,convertToPOT),!this.useMipmap||this.NPOT&&!convertToPOT||_gl.generateMipmap(_gl.TEXTURE_2D);_gl.bindTexture(_gl.TEXTURE_2D,null)},_updateTextureData:function(_gl,data,level,width,height,glFormat,glType,convertToPOT){if(data.image){var imgData=data.image;convertToPOT&&(this._potCanvas=function convertTextureToPowerOfTwo(texture,canvas){var width=nearestPowerOfTwo(texture.width),height=nearestPowerOfTwo(texture.height);return(canvas=canvas||document.createElement("canvas")).width=width,canvas.height=height,canvas.getContext("2d").drawImage(texture.image,0,0,width,height),canvas}(this,this._potCanvas),imgData=this._potCanvas),_gl.texImage2D(_gl.TEXTURE_2D,level,glFormat,glFormat,glType,imgData)}else glFormat<=_Texture__WEBPACK_IMPORTED_MODULE_1__.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT&&glFormat>=_Texture__WEBPACK_IMPORTED_MODULE_1__.Z.COMPRESSED_RGB_S3TC_DXT1_EXT?_gl.compressedTexImage2D(_gl.TEXTURE_2D,level,glFormat,width,height,0,data.pixels):_gl.texImage2D(_gl.TEXTURE_2D,level,glFormat,width,height,0,glFormat,glType,data.pixels)},generateMipmap:function(renderer){var _gl=renderer.gl;this.useMipmap&&!this.NPOT&&(_gl.bindTexture(_gl.TEXTURE_2D,this._cache.get("webgl_texture")),_gl.generateMipmap(_gl.TEXTURE_2D))},isPowerOfTwo:function(){return isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(renderer){renderer.gl.bindTexture(renderer.gl.TEXTURE_2D,this.getWebGLTexture(renderer))},unbind:function(renderer){renderer.gl.bindTexture(renderer.gl.TEXTURE_2D,null)},load:function(src,crossOrigin){var image=_core_vendor__WEBPACK_IMPORTED_MODULE_3__.Z.createImage();crossOrigin&&(image.crossOrigin=crossOrigin);var self=this;return image.onload=function(){self.dirty(),self.trigger("success",self)},image.onerror=function(){self.trigger("error",self)},image.src=src,this.image=image,this}});Object.defineProperty(Texture2D.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(value){this.image?console.warn("Texture from image can't set width"):(this._width!==value&&this.dirty(),this._width=value)}}),Object.defineProperty(Texture2D.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(value){this.image?console.warn("Texture from image can't set height"):(this._height!==value&&this.dirty(),this._height=value)}});const __WEBPACK_DEFAULT_EXPORT__=Texture2D},"./node_modules/claygl/src/TextureCube.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Texture__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/Texture.js"),_core_glenum__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),_core_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/core/util.js"),_math_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/math/util.js"),_core_vendor__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),isPowerOfTwo=_math_util__WEBPACK_IMPORTED_MODULE_0__.Z.isPowerOfTwo,targetList=["px","nx","py","ny","pz","nz"],TextureCube=_Texture__WEBPACK_IMPORTED_MODULE_1__.Z.extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(renderer){var _gl=renderer.gl;_gl.bindTexture(_gl.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(renderer);var glFormat=this.format,glType=this.type;_gl.texParameteri(_gl.TEXTURE_CUBE_MAP,_gl.TEXTURE_WRAP_S,this.getAvailableWrapS()),_gl.texParameteri(_gl.TEXTURE_CUBE_MAP,_gl.TEXTURE_WRAP_T,this.getAvailableWrapT()),_gl.texParameteri(_gl.TEXTURE_CUBE_MAP,_gl.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),_gl.texParameteri(_gl.TEXTURE_CUBE_MAP,_gl.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var anisotropicExt=renderer.getGLExtension("EXT_texture_filter_anisotropic");(anisotropicExt&&this.anisotropic>1&&_gl.texParameterf(_gl.TEXTURE_CUBE_MAP,anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===glType)&&(renderer.getGLExtension("OES_texture_half_float")||(glType=_core_glenum__WEBPACK_IMPORTED_MODULE_2__.Z.FLOAT));if(this.mipmaps.length)for(var width=this.width,height=this.height,i=0;i<this.mipmaps.length;i++){var mipmap=this.mipmaps[i];this._updateTextureData(_gl,mipmap,i,width,height,glFormat,glType),width/=2,height/=2}else this._updateTextureData(_gl,this,0,this.width,this.height,glFormat,glType),!this.NPOT&&this.useMipmap&&_gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);_gl.bindTexture(_gl.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(_gl,data,level,width,height,glFormat,glType){for(var i=0;i<6;i++){var target=targetList[i],img=data.image&&data.image[target];img?_gl.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,level,glFormat,glFormat,glType,img):_gl.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,level,glFormat,width,height,0,glFormat,glType,data.pixels&&data.pixels[target])}},generateMipmap:function(renderer){var _gl=renderer.gl;this.useMipmap&&!this.NPOT&&(_gl.bindTexture(_gl.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),_gl.generateMipmap(_gl.TEXTURE_CUBE_MAP))},bind:function(renderer){renderer.gl.bindTexture(renderer.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(renderer))},unbind:function(renderer){renderer.gl.bindTexture(renderer.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?isPowerOfTwo(this.image.px.width)&&isPowerOfTwo(this.image.px.height):isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)},isRenderable:function(){return this.image.px?isImageRenderable(this.image.px)&&isImageRenderable(this.image.nx)&&isImageRenderable(this.image.py)&&isImageRenderable(this.image.ny)&&isImageRenderable(this.image.pz)&&isImageRenderable(this.image.nz):!(!this.width||!this.height)},load:function(imageList,crossOrigin){var loading=0,self=this;return _core_util__WEBPACK_IMPORTED_MODULE_3__.Z.each(imageList,(function(src,target){var image=_core_vendor__WEBPACK_IMPORTED_MODULE_4__.Z.createImage();crossOrigin&&(image.crossOrigin=crossOrigin),image.onload=function(){0===--loading&&(self.dirty(),self.trigger("success",self))},image.onerror=function(){loading--},loading++,image.src=src,self.image[target]=image})),this}});function isImageRenderable(image){return image.width>0&&image.height>0}Object.defineProperty(TextureCube.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(value){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==value&&this.dirty(),this._width=value)}}),Object.defineProperty(TextureCube.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(value){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==value&&this.dirty(),this._height=value)}});const __WEBPACK_DEFAULT_EXPORT__=TextureCube},"./node_modules/claygl/src/camera/Orthographic.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Camera__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/Camera.js");const __WEBPACK_DEFAULT_EXPORT__=_Camera__WEBPACK_IMPORTED_MODULE_0__.Z.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var m=this.projectionMatrix.array;this.left=(-1-m[12])/m[0],this.right=(1-m[12])/m[0],this.top=(1-m[13])/m[5],this.bottom=(-1-m[13])/m[5],this.near=-(-1-m[14])/m[10],this.far=-(1-m[14])/m[10]},clone:function(){var camera=_Camera__WEBPACK_IMPORTED_MODULE_0__.Z.prototype.clone.call(this);return camera.left=this.left,camera.right=this.right,camera.near=this.near,camera.far=this.far,camera.top=this.top,camera.bottom=this.bottom,camera}})},"./node_modules/claygl/src/camera/Perspective.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Camera__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/Camera.js");const __WEBPACK_DEFAULT_EXPORT__=_Camera__WEBPACK_IMPORTED_MODULE_0__.Z.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var rad=this.fov/180*Math.PI;this.projectionMatrix.perspective(rad,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var m=this.projectionMatrix.array,rad=2*Math.atan(1/m[5]);this.fov=rad/Math.PI*180,this.aspect=m[5]/m[0],this.near=m[14]/(m[10]-1),this.far=m[14]/(m[10]+1)},clone:function(){var camera=_Camera__WEBPACK_IMPORTED_MODULE_0__.Z.prototype.clone.call(this);return camera.fov=this.fov,camera.aspect=this.aspect,camera.near=this.near,camera.far=this.far,camera}})},"./node_modules/claygl/src/compositor/Pass.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>compositor_Pass});var Base=__webpack_require__("./node_modules/claygl/src/core/Base.js"),Orthographic=__webpack_require__("./node_modules/claygl/src/camera/Orthographic.js"),Plane=__webpack_require__("./node_modules/claygl/src/geometry/Plane.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),Mesh=__webpack_require__("./node_modules/claygl/src/Mesh.js"),glenum=__webpack_require__("./node_modules/claygl/src/core/glenum.js");Shader.Z.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var planeGeo=new Plane.Z,mesh=new Mesh.Z({geometry:planeGeo,frustumCulling:!1}),camera=new Orthographic.Z;const compositor_Pass=Base.Z.extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var shader=new Shader.Z(Shader.Z.source("clay.compositor.vertex"),this.fragment),material=new Material.Z({shader});material.enableTexturesAll(),this.material=material}),{setUniform:function(name,value){this.material.setUniform(name,value)},getUniform:function(name){var uniform=this.material.uniforms[name];if(uniform)return uniform.value},attachOutput:function(texture,attachment){this.outputs||(this.outputs={}),attachment=attachment||glenum.Z.COLOR_ATTACHMENT0,this.outputs[attachment]=texture},detachOutput:function(texture){for(var attachment in this.outputs)this.outputs[attachment]===texture&&(this.outputs[attachment]=null)},bind:function(renderer,frameBuffer){if(this.outputs)for(var attachment in this.outputs){var texture=this.outputs[attachment];texture&&frameBuffer.attach(texture,attachment)}frameBuffer&&frameBuffer.bind(renderer)},unbind:function(renderer,frameBuffer){frameBuffer.unbind(renderer)},render:function(renderer,frameBuffer){var _gl=renderer.gl;if(frameBuffer){this.bind(renderer,frameBuffer);var ext=renderer.getGLExtension("EXT_draw_buffers");if(ext&&this.outputs){var bufs=[];for(var attachment in this.outputs)(attachment=+attachment)>=_gl.COLOR_ATTACHMENT0&&attachment<=_gl.COLOR_ATTACHMENT0+8&&bufs.push(attachment);ext.drawBuffersEXT(bufs)}}this.trigger("beforerender",this,renderer);var clearBit=this.clearDepth?_gl.DEPTH_BUFFER_BIT:0;if(_gl.depthMask(!0),this.clearColor){clearBit|=_gl.COLOR_BUFFER_BIT,_gl.colorMask(!0,!0,!0,!0);var cc=this.clearColor;Array.isArray(cc)&&_gl.clearColor(cc[0],cc[1],cc[2],cc[3])}_gl.clear(clearBit),this.blendWithPrevious?(_gl.enable(_gl.BLEND),this.material.transparent=!0):(_gl.disable(_gl.BLEND),this.material.transparent=!1),this.renderQuad(renderer),this.trigger("afterrender",this,renderer),frameBuffer&&this.unbind(renderer,frameBuffer)},renderQuad:function(renderer){mesh.material=this.material,renderer.renderPass([mesh],camera)},dispose:function(renderer){}})},"./node_modules/claygl/src/core/Base.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function derive(makeDefaultOpt,initialize,proto){"object"==typeof initialize&&(proto=initialize,initialize=null);var propList,_super=this;if(!(makeDefaultOpt instanceof Function))for(var propName in propList=[],makeDefaultOpt)makeDefaultOpt.hasOwnProperty(propName)&&propList.push(propName);var sub=function(options){if(_super.apply(this,arguments),makeDefaultOpt instanceof Function?extend(this,makeDefaultOpt.call(this,options)):function extendWithPropList(target,source,propList){for(var i=0;i<propList.length;i++){var propName=propList[i];target[propName]=source[propName]}}(this,makeDefaultOpt,propList),this.constructor===sub)for(var initializers=sub.__initializers__,i=0;i<initializers.length;i++)initializers[i].apply(this,arguments)};sub.__super__=_super,_super.__initializers__?sub.__initializers__=_super.__initializers__.slice():sub.__initializers__=[],initialize&&sub.__initializers__.push(initialize);var Ctor=function(){};return Ctor.prototype=_super.prototype,sub.prototype=new Ctor,sub.prototype.constructor=sub,extend(sub.prototype,proto),sub.extend=_super.extend,sub.derive=_super.extend,sub}function extend(target,source){if(source)for(var name in source)source.hasOwnProperty(name)&&(target[name]=source[name])}__webpack_require__.d(__webpack_exports__,{Z:()=>core_Base});const mixin_extend={extend:derive,derive};var notifier=__webpack_require__("./node_modules/claygl/src/core/mixin/notifier.js"),util=__webpack_require__("./node_modules/claygl/src/core/util.js"),Base=function(){this.__uid__=util.Z.genGUID()};Base.__initializers__=[function(opts){util.Z.extend(this,opts)}],util.Z.extend(Base,mixin_extend),util.Z.extend(Base.prototype,notifier.Z);const core_Base=Base},"./node_modules/claygl/src/core/Cache.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var Cache=function(){this._contextId=0,this._caches=[],this._context={}};(Cache.prototype={use:function(contextId,documentSchema){var caches=this._caches;caches[contextId]||(caches[contextId]={},documentSchema&&(caches[contextId]=documentSchema())),this._contextId=contextId,this._context=caches[contextId]},put:function(key,value){this._context[key]=value},get:function(key){return this._context[key]},dirty:function(field){var key="__dt__"+(field=field||"");this.put(key,!0)},dirtyAll:function(field){for(var key="__dt__"+(field=field||""),caches=this._caches,i=0;i<caches.length;i++)caches[i]&&(caches[i][key]=!0)},fresh:function(field){var key="__dt__"+(field=field||"");this.put(key,!1)},freshAll:function(field){for(var key="__dt__"+(field=field||""),caches=this._caches,i=0;i<caches.length;i++)caches[i]&&(caches[i][key]=!1)},isDirty:function(field){var key="__dt__"+(field=field||""),context=this._context;return!context.hasOwnProperty(key)||!0===context[key]},deleteContext:function(contextId){delete this._caches[contextId],this._context={}},delete:function(key){delete this._context[key]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(cb,context){Object.keys(this._caches).forEach((function(key){cb&&cb.call(context,key)}))},miss:function(key){return!this._context.hasOwnProperty(key)}}).constructor=Cache;const __WEBPACK_DEFAULT_EXPORT__=Cache},"./node_modules/claygl/src/core/LRU.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>core_LRU});var LinkedList=function(){this.head=null,this.tail=null,this._length=0};LinkedList.prototype.insert=function(val){var entry=new LinkedList.Entry(val);return this.insertEntry(entry),entry},LinkedList.prototype.insertAt=function(idx,val){if(!(idx<0)){for(var next=this.head,cursor=0;next&&cursor!=idx;)next=next.next,cursor++;if(next){var entry=new LinkedList.Entry(val),prev=next.prev;prev?(prev.next=entry,entry.prev=prev):this.head=entry,entry.next=next,next.prev=entry}else this.insert(val)}},LinkedList.prototype.insertBeforeEntry=function(val,next){var entry=new LinkedList.Entry(val),prev=next.prev;prev?(prev.next=entry,entry.prev=prev):this.head=entry,entry.next=next,next.prev=entry,this._length++},LinkedList.prototype.insertEntry=function(entry){this.head?(this.tail.next=entry,entry.prev=this.tail,this.tail=entry):this.head=this.tail=entry,this._length++},LinkedList.prototype.remove=function(entry){var prev=entry.prev,next=entry.next;prev?prev.next=next:this.head=next,next?next.prev=prev:this.tail=prev,entry.next=entry.prev=null,this._length--},LinkedList.prototype.removeAt=function(idx){if(!(idx<0)){for(var curr=this.head,cursor=0;curr&&cursor!=idx;)curr=curr.next,cursor++;return curr?(this.remove(curr),curr.value):void 0}},LinkedList.prototype.getHead=function(){if(this.head)return this.head.value},LinkedList.prototype.getTail=function(){if(this.tail)return this.tail.value},LinkedList.prototype.getAt=function(idx){if(!(idx<0)){for(var curr=this.head,cursor=0;curr&&cursor!=idx;)curr=curr.next,cursor++;return curr.value}},LinkedList.prototype.indexOf=function(value){for(var curr=this.head,cursor=0;curr;){if(curr.value===value)return cursor;curr=curr.next,cursor++}},LinkedList.prototype.length=function(){return this._length},LinkedList.prototype.isEmpty=function(){return 0===this._length},LinkedList.prototype.forEach=function(cb,context){for(var curr=this.head,idx=0,haveContext=void 0!==context;curr;)haveContext?cb.call(context,curr.value,idx):cb(curr.value,idx),curr=curr.next,idx++},LinkedList.prototype.clear=function(){this.tail=this.head=null,this._length=0},LinkedList.Entry=function(val){this.value=val,this.next=null,this.prev=null};const core_LinkedList=LinkedList;var LRU=function(maxSize){this._list=new core_LinkedList,this._map={},this._maxSize=maxSize||10};LRU.prototype.setMaxSize=function(size){this._maxSize=size},LRU.prototype.put=function(key,value){if(!this._map.hasOwnProperty(key)){var len=this._list.length();if(len>=this._maxSize&&len>0){var leastUsedEntry=this._list.head;this._list.remove(leastUsedEntry),delete this._map[leastUsedEntry.key]}var entry=this._list.insert(value);entry.key=key,this._map[key]=entry}},LRU.prototype.get=function(key){var entry=this._map[key];if(this._map.hasOwnProperty(key))return entry!==this._list.tail&&(this._list.remove(entry),this._list.insertEntry(entry)),entry.value},LRU.prototype.remove=function(key){var entry=this._map[key];void 0!==entry&&(delete this._map[key],this._list.remove(entry))},LRU.prototype.clear=function(){this._list.clear(),this._map={}};const core_LRU=LRU},"./node_modules/claygl/src/core/glenum.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},"./node_modules/claygl/src/core/mixin/notifier.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function Handler(action,context){this.action=action,this.context=context}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={trigger:function(name){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(name)){var hdls=this.__handlers__[name],l=hdls.length,i=-1,args=arguments;switch(args.length){case 1:for(;++i<l;)hdls[i].action.call(hdls[i].context);return;case 2:for(;++i<l;)hdls[i].action.call(hdls[i].context,args[1]);return;case 3:for(;++i<l;)hdls[i].action.call(hdls[i].context,args[1],args[2]);return;case 4:for(;++i<l;)hdls[i].action.call(hdls[i].context,args[1],args[2],args[3]);return;case 5:for(;++i<l;)hdls[i].action.call(hdls[i].context,args[1],args[2],args[3],args[4]);return;default:for(;++i<l;)hdls[i].action.apply(hdls[i].context,Array.prototype.slice.call(args,1));return}}},on:function(name,action,context){if(name&&action){var handlers=this.__handlers__||(this.__handlers__={});if(handlers[name]){if(this.has(name,action))return}else handlers[name]=[];var handler=new Handler(action,context||this);return handlers[name].push(handler),this}},once:function(name,action,context){if(name&&action){var self=this;return this.on(name,(function wrapper(){self.off(name,wrapper),action.apply(this,arguments)}),context)}},before:function(name,action,context){if(name&&action)return name="before"+name,this.on(name,action,context)},after:function(name,action,context){if(name&&action)return name="after"+name,this.on(name,action,context)},success:function(action,context){return this.once("success",action,context)},error:function(action,context){return this.once("error",action,context)},off:function(name,action){var handlers=this.__handlers__||(this.__handlers__={});if(action){if(handlers[name]){for(var hdls=handlers[name],retains=[],i=0;i<hdls.length;i++)action&&hdls[i].action!==action&&retains.push(hdls[i]);handlers[name]=retains}return this}handlers[name]=[]},has:function(name,action){var handlers=this.__handlers__;if(!handlers||!handlers[name])return!1;for(var hdls=handlers[name],i=0;i<hdls.length;i++)if(hdls[i].action===action)return!0}}},"./node_modules/claygl/src/core/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var guid=0,nativeForEach=Array.prototype.forEach,util={genGUID:function(){return++guid},relative2absolute:function(path,basePath){if(!basePath||path.match(/^\//))return path;for(var pathParts=path.split("/"),basePathParts=basePath.split("/"),item=pathParts[0];"."===item||".."===item;)".."===item&&basePathParts.pop(),pathParts.shift(),item=pathParts[0];return basePathParts.join("/")+"/"+pathParts.join("/")},extend:function(target,source){if(source)for(var name in source)source.hasOwnProperty(name)&&(target[name]=source[name]);return target},defaults:function(target,source){if(source)for(var propName in source)void 0===target[propName]&&(target[propName]=source[propName]);return target},extendWithPropList:function(target,source,propList){if(source)for(var i=0;i<propList.length;i++){var propName=propList[i];target[propName]=source[propName]}return target},defaultsWithPropList:function(target,source,propList){if(source)for(var i=0;i<propList.length;i++){var propName=propList[i];null==target[propName]&&(target[propName]=source[propName])}return target},each:function(obj,iterator,context){if(obj&&iterator)if(obj.forEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length)for(var i=0,len=obj.length;i<len;i++)iterator.call(context,obj[i],i,obj);else for(var key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj)},isObject:function(obj){return obj===Object(obj)},isArray:function(obj){return Array.isArray(obj)},isArrayLike:function(obj){return!!obj&&obj.length===+obj.length},clone:function(obj){if(util.isObject(obj)){if(util.isArray(obj))return obj.slice();if(util.isArrayLike(obj)){for(var ret=new obj.constructor(obj.length),i=0;i<obj.length;i++)ret[i]=obj[i];return ret}return util.extend({},obj)}return obj}};const __WEBPACK_DEFAULT_EXPORT__=util},"./node_modules/claygl/src/core/vendor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>core_vendor});const request={get:function get(options){var xhr=new XMLHttpRequest;xhr.open("get",options.url),xhr.responseType=options.responseType||"text",options.onprogress&&(xhr.onprogress=function(e){if(e.lengthComputable){var percent=e.loaded/e.total;options.onprogress(percent,e.loaded,e.total)}else options.onprogress(null)}),xhr.onload=function(e){xhr.status>=400?options.onerror&&options.onerror():options.onload&&options.onload(xhr.response)},options.onerror&&(xhr.onerror=options.onerror),xhr.send(null)}};var supportWebGL,vendor={supportWebGL:function(){if(null==supportWebGL)try{var canvas=document.createElement("canvas");if(!(canvas.getContext("webgl")||canvas.getContext("experimental-webgl")))throw new Error}catch(e){supportWebGL=!1}return supportWebGL}};vendor.Int8Array="undefined"==typeof Int8Array?Array:Int8Array,vendor.Uint8Array="undefined"==typeof Uint8Array?Array:Uint8Array,vendor.Uint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,vendor.Uint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,vendor.Int16Array="undefined"==typeof Int16Array?Array:Int16Array,vendor.Float32Array="undefined"==typeof Float32Array?Array:Float32Array,vendor.Float64Array="undefined"==typeof Float64Array?Array:Float64Array;var g={};"undefined"!=typeof window?g=window:void 0!==__webpack_require__.g&&(g=__webpack_require__.g),vendor.requestAnimationFrame=g.requestAnimationFrame||g.msRequestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||function(func){setTimeout(func,16)},vendor.createCanvas=function(){return document.createElement("canvas")},vendor.createImage=function(){return new g.Image},vendor.request={get:request.get},vendor.addEventListener=function(dom,type,func,useCapture){dom.addEventListener(type,func,useCapture)},vendor.removeEventListener=function(dom,type,func){dom.removeEventListener(type,func)};const core_vendor=vendor},"./node_modules/claygl/src/dep/glmatrix.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>dep_glmatrix});var vec2=__webpack_require__("./node_modules/claygl/src/glmatrix/vec2.js"),vec3=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),vec4=__webpack_require__("./node_modules/claygl/src/glmatrix/vec4.js"),mat2=__webpack_require__("./node_modules/claygl/src/glmatrix/mat2.js"),mat2d=__webpack_require__("./node_modules/claygl/src/glmatrix/mat2d.js"),mat3=__webpack_require__("./node_modules/claygl/src/glmatrix/mat3.js"),mat4=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),quat=__webpack_require__("./node_modules/claygl/src/glmatrix/quat.js");const dep_glmatrix={vec2:vec2.Z,vec3:vec3.Z,vec4:vec4.Z,mat2:mat2.Z,mat2d:mat2d.Z,mat3:mat3.Z,mat4:mat4.Z,quat:quat.Z}},"./node_modules/claygl/src/geometry/Cube.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Geometry__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/Geometry.js"),_Plane__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/claygl/src/geometry/Plane.js"),_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),_math_Vector3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),_math_BoundingBox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),_core_vendor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),planeMatrix=new _math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z;function createPlane(pos,widthSegments,heightSegments){planeMatrix.identity();var plane=new _Plane__WEBPACK_IMPORTED_MODULE_4__.Z({widthSegments,heightSegments});switch(pos){case"px":_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.translate(planeMatrix,planeMatrix,_math_Vector3__WEBPACK_IMPORTED_MODULE_5__.Z.POSITIVE_X),_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.rotateY(planeMatrix,planeMatrix,Math.PI/2);break;case"nx":_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.translate(planeMatrix,planeMatrix,_math_Vector3__WEBPACK_IMPORTED_MODULE_5__.Z.NEGATIVE_X),_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.rotateY(planeMatrix,planeMatrix,-Math.PI/2);break;case"py":_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.translate(planeMatrix,planeMatrix,_math_Vector3__WEBPACK_IMPORTED_MODULE_5__.Z.POSITIVE_Y),_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.rotateX(planeMatrix,planeMatrix,-Math.PI/2);break;case"ny":_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.translate(planeMatrix,planeMatrix,_math_Vector3__WEBPACK_IMPORTED_MODULE_5__.Z.NEGATIVE_Y),_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.rotateX(planeMatrix,planeMatrix,Math.PI/2);break;case"pz":_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.translate(planeMatrix,planeMatrix,_math_Vector3__WEBPACK_IMPORTED_MODULE_5__.Z.POSITIVE_Z);break;case"nz":_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.translate(planeMatrix,planeMatrix,_math_Vector3__WEBPACK_IMPORTED_MODULE_5__.Z.NEGATIVE_Z),_math_Matrix4__WEBPACK_IMPORTED_MODULE_0__.Z.rotateY(planeMatrix,planeMatrix,Math.PI)}return plane.applyTransform(planeMatrix),plane}const __WEBPACK_DEFAULT_EXPORT__=_Geometry__WEBPACK_IMPORTED_MODULE_1__.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var planes={px:createPlane("px",this.depthSegments,this.heightSegments),nx:createPlane("nx",this.depthSegments,this.heightSegments),py:createPlane("py",this.widthSegments,this.depthSegments),ny:createPlane("ny",this.widthSegments,this.depthSegments),pz:createPlane("pz",this.widthSegments,this.heightSegments),nz:createPlane("nz",this.widthSegments,this.heightSegments)},attrList=["position","texcoord0","normal"],vertexNumber=0,faceNumber=0;for(var pos in planes)vertexNumber+=planes[pos].vertexCount,faceNumber+=planes[pos].indices.length;for(var k=0;k<attrList.length;k++)this.attributes[attrList[k]].init(vertexNumber);this.indices=new _core_vendor__WEBPACK_IMPORTED_MODULE_2__.Z.Uint16Array(faceNumber);var faceOffset=0,vertexOffset=0;for(var pos in planes){var plane=planes[pos];for(k=0;k<attrList.length;k++)for(var attrName=attrList[k],attrArray=plane.attributes[attrName].value,attrSize=plane.attributes[attrName].size,isNormal="normal"===attrName,i=0;i<attrArray.length;i++){var value=attrArray[i];this.inside&&isNormal&&(value=-value),this.attributes[attrName].value[i+attrSize*vertexOffset]=value}var len=plane.indices.length;for(i=0;i<plane.indices.length;i++)this.indices[i+faceOffset]=vertexOffset+plane.indices[this.inside?len-i-1:i];faceOffset+=plane.indices.length,vertexOffset+=plane.vertexCount}this.boundingBox=new _math_BoundingBox__WEBPACK_IMPORTED_MODULE_3__.Z,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}})},"./node_modules/claygl/src/geometry/Plane.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Geometry__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/Geometry.js"),_math_BoundingBox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js");const __WEBPACK_DEFAULT_EXPORT__=_Geometry__WEBPACK_IMPORTED_MODULE_0__.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var heightSegments=this.heightSegments,widthSegments=this.widthSegments,attributes=this.attributes,positions=[],texcoords=[],normals=[],faces=[],y=0;y<=heightSegments;y++)for(var t=y/heightSegments,x=0;x<=widthSegments;x++){var s=x/widthSegments;if(positions.push([2*s-1,2*t-1,0]),texcoords&&texcoords.push([s,t]),normals&&normals.push([0,0,1]),x<widthSegments&&y<heightSegments){var i=x+y*(widthSegments+1);faces.push([i,i+1,i+widthSegments+1]),faces.push([i+widthSegments+1,i+1,i+widthSegments+2])}}attributes.position.fromArray(positions),attributes.texcoord0.fromArray(texcoords),attributes.normal.fromArray(normals),this.initIndicesFromArray(faces),this.boundingBox=new _math_BoundingBox__WEBPACK_IMPORTED_MODULE_1__.Z,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}})},"./node_modules/claygl/src/glmatrix/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RQ:()=>GLMAT_RANDOM,Uc:()=>GLMAT_ARRAY_TYPE,Yh:()=>GLMAT_EPSILON});var GLMAT_EPSILON=1e-6,GLMAT_ARRAY_TYPE=Array,GLMAT_RANDOM=Math.random},"./node_modules/claygl/src/glmatrix/mat2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),mat2={create:function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(4);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out},clone:function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},copy:function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},identity:function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out},transpose:function(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out},invert:function(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null},adjoint:function(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}};mat2.mul=mat2.multiply,mat2.rotate=function(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out},mat2.scale=function(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out},mat2.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))},mat2.LDU=function(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]};const __WEBPACK_DEFAULT_EXPORT__=mat2},"./node_modules/claygl/src/glmatrix/mat2d.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),mat2d={create:function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(6);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out},clone:function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out},copy:function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out},identity:function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out},invert:function(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null},determinant:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}};mat2d.mul=mat2d.multiply,mat2d.rotate=function(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out},mat2d.scale=function(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out},mat2d.translate=function(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out},mat2d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};const __WEBPACK_DEFAULT_EXPORT__=mat2d},"./node_modules/claygl/src/glmatrix/mat3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),mat3={create:function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(9);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},fromMat4:function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out},clone:function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},copy:function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},identity:function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},transpose:function(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out},invert:function(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null},adjoint:function(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out},determinant:function(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)},multiply:function(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}};mat3.mul=mat3.multiply,mat3.translate=function(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out},mat3.rotate=function(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out},mat3.scale=function(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},mat3.fromMat2d=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out},mat3.fromQuat=function(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out},mat3.normalFromMat4=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null},mat3.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};const __WEBPACK_DEFAULT_EXPORT__=mat3},"./node_modules/claygl/src/glmatrix/mat4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),mat4={create:function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(16);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},clone:function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},copy:function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},identity:function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},transpose:function(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out},invert:function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null},adjoint:function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out},determinant:function(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)},multiply:function(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out},multiplyAffine:function(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[4],a11=a[5],a12=a[6],a20=a[8],a21=a[9],a22=a[10],a30=a[12],a31=a[13],a32=a[14],b0=b[0],b1=b[1],b2=b[2];return out[0]=b0*a00+b1*a10+b2*a20,out[1]=b0*a01+b1*a11+b2*a21,out[2]=b0*a02+b1*a12+b2*a22,b0=b[4],b1=b[5],b2=b[6],out[4]=b0*a00+b1*a10+b2*a20,out[5]=b0*a01+b1*a11+b2*a21,out[6]=b0*a02+b1*a12+b2*a22,b0=b[8],b1=b[9],b2=b[10],out[8]=b0*a00+b1*a10+b2*a20,out[9]=b0*a01+b1*a11+b2*a21,out[10]=b0*a02+b1*a12+b2*a22,b0=b[12],b1=b[13],b2=b[14],out[12]=b0*a00+b1*a10+b2*a20+a30,out[13]=b0*a01+b1*a11+b2*a21+a31,out[14]=b0*a02+b1*a12+b2*a22+a32,out}};mat4.mul=mat4.multiply,mat4.mulAffine=mat4.multiplyAffine,mat4.translate=function(out,a,v){var a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,x=v[0],y=v[1],z=v[2];return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out},mat4.scale=function(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},mat4.rotate=function(out,a,rad,axis){var s,c,t,a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,b00,b01,b02,b10,b11,b12,b20,b21,b22,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return Math.abs(len)<_common__WEBPACK_IMPORTED_MODULE_0__.Yh?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)},mat4.rotateX=function(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out},mat4.rotateY=function(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out},mat4.rotateZ=function(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out},mat4.fromRotationTranslation=function(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out},mat4.fromQuat=function(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.frustum=function(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out},mat4.perspective=function(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=2*far*near*nf,out[15]=0,out},mat4.ortho=function(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out},mat4.lookAt=function(out,eye,center,up){var x0,x1,x2,y0,y1,y2,z0,z1,z2,len,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<_common__WEBPACK_IMPORTED_MODULE_0__.Yh&&Math.abs(eyey-centery)<_common__WEBPACK_IMPORTED_MODULE_0__.Yh&&Math.abs(eyez-centerz)<_common__WEBPACK_IMPORTED_MODULE_0__.Yh?mat4.identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,x0=upy*(z2*=len=1/Math.sqrt(z0*z0+z1*z1+z2*z2))-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0,(len=Math.sqrt(x0*x0+x1*x1+x2*x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,(len=Math.sqrt(y0*y0+y1*y1+y2*y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)},mat4.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};const __WEBPACK_DEFAULT_EXPORT__=mat4},"./node_modules/claygl/src/glmatrix/quat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tmpvec3,xUnitVec3,yUnitVec3,matr,_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),_vec3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),_vec4__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec4.js"),_mat3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat3.js"),quat={};quat.create=function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out},quat.rotationTo=(tmpvec3=_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),xUnitVec3=_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.fromValues(1,0,0),yUnitVec3=_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.fromValues(0,1,0),function(out,a,b){var dot=_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(a,b);return dot<-.999999?(_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.cross(tmpvec3,xUnitVec3,a),_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.length(tmpvec3)<1e-6&&_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.cross(tmpvec3,yUnitVec3,a),_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.normalize(tmpvec3,tmpvec3),quat.setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,quat.normalize(out,out))}),quat.setAxes=(matr=_mat3__WEBPACK_IMPORTED_MODULE_2__.Z.create(),function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],quat.normalize(out,quat.fromMat3(out,matr))}),quat.clone=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.clone,quat.fromValues=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.fromValues,quat.copy=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.copy,quat.set=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.set,quat.identity=function(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out},quat.setAxisAngle=function(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out},quat.add=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.add,quat.multiply=function(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out},quat.mul=quat.multiply,quat.scale=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.scale,quat.rotateX=function(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out},quat.rotateY=function(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out},quat.rotateZ=function(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out},quat.calculateW=function(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out},quat.dot=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.dot,quat.lerp=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.lerp,quat.slerp=function(out,a,b,t){var omega,cosom,sinom,scale0,scale1,ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return(cosom=ax*bx+ay*by+az*bz+aw*bw)<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>1e-6?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out},quat.invert=function(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out},quat.conjugate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out},quat.length=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.length,quat.len=quat.length,quat.squaredLength=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.squaredLength,quat.sqrLen=quat.squaredLength,quat.normalize=_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.normalize,quat.fromMat3=function(out,m){var fRoot,fTrace=m[0]+m[4]+m[8];if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out};const __WEBPACK_DEFAULT_EXPORT__=quat},"./node_modules/claygl/src/glmatrix/vec2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vec,_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),vec2={};vec2.create=function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(2);return out[0]=0,out[1]=0,out},vec2.clone=function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(2);return out[0]=a[0],out[1]=a[1],out},vec2.fromValues=function(x,y){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(2);return out[0]=x,out[1]=y,out},vec2.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out},vec2.set=function(out,x,y){return out[0]=x,out[1]=y,out},vec2.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out},vec2.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out},vec2.sub=vec2.subtract,vec2.multiply=function(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out},vec2.mul=vec2.multiply,vec2.divide=function(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out},vec2.div=vec2.divide,vec2.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out},vec2.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out},vec2.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out},vec2.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out},vec2.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)},vec2.dist=vec2.distance,vec2.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y},vec2.sqrDist=vec2.squaredDistance,vec2.length=function(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)},vec2.len=vec2.length,vec2.squaredLength=function(a){var x=a[0],y=a[1];return x*x+y*y},vec2.sqrLen=vec2.squaredLength,vec2.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out},vec2.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out},vec2.normalize=function(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out},vec2.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},vec2.cross=function(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out},vec2.lerp=function(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out},vec2.random=function(out,scale){scale=scale||1;var r=2*GLMAT_RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out},vec2.transformMat2=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out},vec2.transformMat2d=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out},vec2.transformMat3=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out},vec2.transformMat4=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out},vec2.forEach=(vec=vec2.create(),function(a,stride,offset,count,fn,arg){var i,l;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a});const __WEBPACK_DEFAULT_EXPORT__=vec2},"./node_modules/claygl/src/glmatrix/vec3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vec,_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),vec3={};vec3.create=function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(3);return out[0]=0,out[1]=0,out[2]=0,out},vec3.clone=function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out},vec3.fromValues=function(x,y,z){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(3);return out[0]=x,out[1]=y,out[2]=z,out},vec3.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out},vec3.set=function(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out},vec3.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out},vec3.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out},vec3.sub=vec3.subtract,vec3.multiply=function(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out},vec3.mul=vec3.multiply,vec3.divide=function(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out},vec3.div=vec3.divide,vec3.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out},vec3.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out},vec3.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out},vec3.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out},vec3.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)},vec3.dist=vec3.distance,vec3.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z},vec3.sqrDist=vec3.squaredDistance,vec3.length=function(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)},vec3.len=vec3.length,vec3.squaredLength=function(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z},vec3.sqrLen=vec3.squaredLength,vec3.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out},vec3.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out},vec3.normalize=function(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out},vec3.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},vec3.cross=function(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out},vec3.lerp=function(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out},vec3.random=function(out,scale){scale=scale||1;var r=2*(0,_common__WEBPACK_IMPORTED_MODULE_0__.RQ)()*Math.PI,z=2*(0,_common__WEBPACK_IMPORTED_MODULE_0__.RQ)()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out},vec3.transformMat4=function(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out},vec3.transformMat3=function(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out},vec3.transformQuat=function(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out},vec3.rotateX=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},vec3.rotateY=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},vec3.rotateZ=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},vec3.forEach=(vec=vec3.create(),function(a,stride,offset,count,fn,arg){var i,l;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}),vec3.angle=function(a,b){var tempA=vec3.fromValues(a[0],a[1],a[2]),tempB=vec3.fromValues(b[0],b[1],b[2]);vec3.normalize(tempA,tempA),vec3.normalize(tempB,tempB);var cosine=vec3.dot(tempA,tempB);return cosine>1?0:Math.acos(cosine)};const __WEBPACK_DEFAULT_EXPORT__=vec3},"./node_modules/claygl/src/glmatrix/vec4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vec,_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/common.js"),vec4={};vec4.create=function(){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=0,out},vec4.clone=function(a){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},vec4.fromValues=function(x,y,z,w){var out=new _common__WEBPACK_IMPORTED_MODULE_0__.Uc(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out},vec4.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},vec4.set=function(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out},vec4.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out},vec4.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out},vec4.sub=vec4.subtract,vec4.multiply=function(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out},vec4.mul=vec4.multiply,vec4.divide=function(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out},vec4.div=vec4.divide,vec4.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out},vec4.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out},vec4.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out},vec4.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out},vec4.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)},vec4.dist=vec4.distance,vec4.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w},vec4.sqrDist=vec4.squaredDistance,vec4.length=function(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)},vec4.len=vec4.length,vec4.squaredLength=function(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w},vec4.sqrLen=vec4.squaredLength,vec4.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out},vec4.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out},vec4.normalize=function(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len,out[3]=a[3]*len),out},vec4.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},vec4.lerp=function(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out},vec4.random=function(out,scale){return scale=scale||1,out[0]=(0,_common__WEBPACK_IMPORTED_MODULE_0__.RQ)(),out[1]=(0,_common__WEBPACK_IMPORTED_MODULE_0__.RQ)(),out[2]=(0,_common__WEBPACK_IMPORTED_MODULE_0__.RQ)(),out[3]=(0,_common__WEBPACK_IMPORTED_MODULE_0__.RQ)(),vec4.normalize(out,out),vec4.scale(out,out,scale),out},vec4.transformMat4=function(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out},vec4.transformQuat=function(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out},vec4.forEach=(vec=vec4.create(),function(a,stride,offset,count,fn,arg){var i,l;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a});const __WEBPACK_DEFAULT_EXPORT__=vec4},"./node_modules/claygl/src/math/BoundingBox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var xa,xb,ya,yb,za,zb,_Vector3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),vec3Set=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.set,vec3Copy=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.copy,BoundingBox=function(min,max){this.min=min||new _Vector3__WEBPACK_IMPORTED_MODULE_1__.Z(1/0,1/0,1/0),this.max=max||new _Vector3__WEBPACK_IMPORTED_MODULE_1__.Z(-1/0,-1/0,-1/0),this.vertices=null};BoundingBox.prototype={constructor:BoundingBox,updateFromVertices:function(vertices){if(vertices.length>0){var min=this.min,max=this.max,minArr=min.array,maxArr=max.array;vec3Copy(minArr,vertices[0]),vec3Copy(maxArr,vertices[0]);for(var i=1;i<vertices.length;i++){var vertex=vertices[i];vertex[0]<minArr[0]&&(minArr[0]=vertex[0]),vertex[1]<minArr[1]&&(minArr[1]=vertex[1]),vertex[2]<minArr[2]&&(minArr[2]=vertex[2]),vertex[0]>maxArr[0]&&(maxArr[0]=vertex[0]),vertex[1]>maxArr[1]&&(maxArr[1]=vertex[1]),vertex[2]>maxArr[2]&&(maxArr[2]=vertex[2])}min._dirty=!0,max._dirty=!0}},union:function(bbox){var min=this.min,max=this.max;return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.min(min.array,min.array,bbox.min.array),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.max(max.array,max.array,bbox.max.array),min._dirty=!0,max._dirty=!0,this},intersection:function(bbox){var min=this.min,max=this.max;return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.max(min.array,min.array,bbox.min.array),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.min(max.array,max.array,bbox.max.array),min._dirty=!0,max._dirty=!0,this},intersectBoundingBox:function(bbox){var _min=this.min.array,_max=this.max.array,_min2=bbox.min.array,_max2=bbox.max.array;return!(_min[0]>_max2[0]||_min[1]>_max2[1]||_min[2]>_max2[2]||_max[0]<_min2[0]||_max[1]<_min2[1]||_max[2]<_min2[2])},containBoundingBox:function(bbox){var _min=this.min.array,_max=this.max.array,_min2=bbox.min.array,_max2=bbox.max.array;return _min[0]<=_min2[0]&&_min[1]<=_min2[1]&&_min[2]<=_min2[2]&&_max[0]>=_max2[0]&&_max[1]>=_max2[1]&&_max[2]>=_max2[2]},containPoint:function(p){var _min=this.min.array,_max=this.max.array,_p=p.array;return _min[0]<=_p[0]&&_min[1]<=_p[1]&&_min[2]<=_p[2]&&_max[0]>=_p[0]&&_max[1]>=_p[1]&&_max[2]>=_p[2]},isFinite:function(){var _min=this.min.array,_max=this.max.array;return isFinite(_min[0])&&isFinite(_min[1])&&isFinite(_min[2])&&isFinite(_max[0])&&isFinite(_max[1])&&isFinite(_max[2])},applyTransform:function(matrix){this.transformFrom(this,matrix)},transformFrom:(xa=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),xb=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),ya=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),yb=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),za=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),zb=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),function(source,matrix){var min=source.min.array,max=source.max.array,m=matrix.array;return xa[0]=m[0]*min[0],xa[1]=m[1]*min[0],xa[2]=m[2]*min[0],xb[0]=m[0]*max[0],xb[1]=m[1]*max[0],xb[2]=m[2]*max[0],ya[0]=m[4]*min[1],ya[1]=m[5]*min[1],ya[2]=m[6]*min[1],yb[0]=m[4]*max[1],yb[1]=m[5]*max[1],yb[2]=m[6]*max[1],za[0]=m[8]*min[2],za[1]=m[9]*min[2],za[2]=m[10]*min[2],zb[0]=m[8]*max[2],zb[1]=m[9]*max[2],zb[2]=m[10]*max[2],min=this.min.array,max=this.max.array,min[0]=Math.min(xa[0],xb[0])+Math.min(ya[0],yb[0])+Math.min(za[0],zb[0])+m[12],min[1]=Math.min(xa[1],xb[1])+Math.min(ya[1],yb[1])+Math.min(za[1],zb[1])+m[13],min[2]=Math.min(xa[2],xb[2])+Math.min(ya[2],yb[2])+Math.min(za[2],zb[2])+m[14],max[0]=Math.max(xa[0],xb[0])+Math.max(ya[0],yb[0])+Math.max(za[0],zb[0])+m[12],max[1]=Math.max(xa[1],xb[1])+Math.max(ya[1],yb[1])+Math.max(za[1],zb[1])+m[13],max[2]=Math.max(xa[2],xb[2])+Math.max(ya[2],yb[2])+Math.max(za[2],zb[2])+m[14],this.min._dirty=!0,this.max._dirty=!0,this}),applyProjection:function(matrix){var min=this.min.array,max=this.max.array,m=matrix.array,v10=min[0],v11=min[1],v12=min[2],v20=max[0],v21=max[1],v22=min[2],v30=max[0],v31=max[1],v32=max[2];if(1===m[15])min[0]=m[0]*v10+m[12],min[1]=m[5]*v11+m[13],max[2]=m[10]*v12+m[14],max[0]=m[0]*v30+m[12],max[1]=m[5]*v31+m[13],min[2]=m[10]*v32+m[14];else{var w=-1/v12;min[0]=m[0]*v10*w,min[1]=m[5]*v11*w,max[2]=(m[10]*v12+m[14])*w,w=-1/v22,max[0]=m[0]*v20*w,max[1]=m[5]*v21*w,w=-1/v32,min[2]=(m[10]*v32+m[14])*w}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var vertices=this.vertices;if(!vertices){vertices=[];for(var i=0;i<8;i++)vertices[i]=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.fromValues(0,0,0);this.vertices=vertices}var min=this.min.array,max=this.max.array;return vec3Set(vertices[0],min[0],min[1],min[2]),vec3Set(vertices[1],min[0],max[1],min[2]),vec3Set(vertices[2],max[0],min[1],min[2]),vec3Set(vertices[3],max[0],max[1],min[2]),vec3Set(vertices[4],min[0],min[1],max[2]),vec3Set(vertices[5],min[0],max[1],max[2]),vec3Set(vertices[6],max[0],min[1],max[2]),vec3Set(vertices[7],max[0],max[1],max[2]),this},copy:function(bbox){var min=this.min,max=this.max;return vec3Copy(min.array,bbox.min.array),vec3Copy(max.array,bbox.max.array),min._dirty=!0,max._dirty=!0,this},clone:function(){var boundingBox=new BoundingBox;return boundingBox.copy(this),boundingBox}};const __WEBPACK_DEFAULT_EXPORT__=BoundingBox},"./node_modules/claygl/src/math/Frustum.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tmpVec3,_BoundingBox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),_Plane__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/math/Plane.js"),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),vec3Set=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.set,vec3Copy=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.copy,vec3TranformMat4=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4,mathMin=Math.min,mathMax=Math.max,Frustum=function(){this.planes=[];for(var i=0;i<6;i++)this.planes.push(new _Plane__WEBPACK_IMPORTED_MODULE_1__.Z);this.boundingBox=new _BoundingBox__WEBPACK_IMPORTED_MODULE_2__.Z,this.vertices=[];for(i=0;i<8;i++)this.vertices[i]=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.fromValues(0,0,0)};Frustum.prototype={setFromProjection:function(projectionMatrix){var planes=this.planes,m=projectionMatrix.array,m0=m[0],m1=m[1],m2=m[2],m3=m[3],m4=m[4],m5=m[5],m6=m[6],m7=m[7],m8=m[8],m9=m[9],m10=m[10],m11=m[11],m12=m[12],m13=m[13],m14=m[14],m15=m[15];vec3Set(planes[0].normal.array,m3-m0,m7-m4,m11-m8),planes[0].distance=-(m15-m12),planes[0].normalize(),vec3Set(planes[1].normal.array,m3+m0,m7+m4,m11+m8),planes[1].distance=-(m15+m12),planes[1].normalize(),vec3Set(planes[2].normal.array,m3+m1,m7+m5,m11+m9),planes[2].distance=-(m15+m13),planes[2].normalize(),vec3Set(planes[3].normal.array,m3-m1,m7-m5,m11-m9),planes[3].distance=-(m15-m13),planes[3].normalize(),vec3Set(planes[4].normal.array,m3-m2,m7-m6,m11-m10),planes[4].distance=-(m15-m14),planes[4].normalize(),vec3Set(planes[5].normal.array,m3+m2,m7+m6,m11+m10),planes[5].distance=-(m15+m14),planes[5].normalize();var boundingBox=this.boundingBox,vertices=this.vertices;if(0===m15){var aspect=m5/m0,zNear=-m14/(m10-1),zFar=-m14/(m10+1),farY=-zFar/m5,nearY=-zNear/m5;boundingBox.min.set(-farY*aspect,-farY,zFar),boundingBox.max.set(farY*aspect,farY,zNear),vec3Set(vertices[0],-farY*aspect,-farY,zFar),vec3Set(vertices[1],-farY*aspect,farY,zFar),vec3Set(vertices[2],farY*aspect,-farY,zFar),vec3Set(vertices[3],farY*aspect,farY,zFar),vec3Set(vertices[4],-nearY*aspect,-nearY,zNear),vec3Set(vertices[5],-nearY*aspect,nearY,zNear),vec3Set(vertices[6],nearY*aspect,-nearY,zNear),vec3Set(vertices[7],nearY*aspect,nearY,zNear)}else{var left=(-1-m12)/m0,right=(1-m12)/m0,top=(1-m13)/m5,bottom=(-1-m13)/m5,near=(-1-m14)/m10,far=(1-m14)/m10;boundingBox.min.set(Math.min(left,right),Math.min(bottom,top),Math.min(far,near)),boundingBox.max.set(Math.max(right,left),Math.max(top,bottom),Math.max(near,far));var min=boundingBox.min.array,max=boundingBox.max.array;vec3Set(vertices[0],min[0],min[1],min[2]),vec3Set(vertices[1],min[0],max[1],min[2]),vec3Set(vertices[2],max[0],min[1],min[2]),vec3Set(vertices[3],max[0],max[1],min[2]),vec3Set(vertices[4],min[0],min[1],max[2]),vec3Set(vertices[5],min[0],max[1],max[2]),vec3Set(vertices[6],max[0],min[1],max[2]),vec3Set(vertices[7],max[0],max[1],max[2])}},getTransformedBoundingBox:(tmpVec3=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.create(),function(bbox,matrix){var vertices=this.vertices,m4=matrix.array,min=bbox.min,max=bbox.max,minArr=min.array,maxArr=max.array,v=vertices[0];vec3TranformMat4(tmpVec3,v,m4),vec3Copy(minArr,tmpVec3),vec3Copy(maxArr,tmpVec3);for(var i=1;i<8;i++)v=vertices[i],vec3TranformMat4(tmpVec3,v,m4),minArr[0]=mathMin(tmpVec3[0],minArr[0]),minArr[1]=mathMin(tmpVec3[1],minArr[1]),minArr[2]=mathMin(tmpVec3[2],minArr[2]),maxArr[0]=mathMax(tmpVec3[0],maxArr[0]),maxArr[1]=mathMax(tmpVec3[1],maxArr[1]),maxArr[2]=mathMax(tmpVec3[2],maxArr[2]);return min._dirty=!0,max._dirty=!0,bbox})};const __WEBPACK_DEFAULT_EXPORT__=Frustum},"./node_modules/claygl/src/math/Matrix4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var x,y,z,m3,_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),_glmatrix_quat__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/claygl/src/glmatrix/quat.js"),_glmatrix_mat3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat3.js"),_Vector3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),Matrix4=function(){this._axisX=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z,this._axisY=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z,this._axisZ=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z,this.array=_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.create(),this._dirty=!0};Matrix4.prototype={constructor:Matrix4,setArray:function(arr){for(var i=0;i<this.array.length;i++)this.array[i]=arr[i];return this._dirty=!0,this},adjoint:function(){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Matrix4).copy(this)},copy:function(a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.copy(this.array,a.array),this._dirty=!0,this},determinant:function(){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.determinant(this.array)},fromQuat:function(q){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.fromQuat(this.array,q.array),this._dirty=!0,this},fromRotationTranslation:function(q,v){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.fromRotationTranslation(this.array,q.array,v.array),this._dirty=!0,this},fromMat2d:function(m2d){return Matrix4.fromMat2d(this,m2d),this},frustum:function(left,right,bottom,top,near,far){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.frustum(this.array,left,right,bottom,top,near,far),this._dirty=!0,this},identity:function(){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.identity(this.array),this._dirty=!0,this},invert:function(){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(eye,center,up){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.lookAt(this.array,eye.array,center.array,up.array),this._dirty=!0,this},mul:function(b){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},mulLeft:function(a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.mul(this.array,a.array,this.array),this._dirty=!0,this},multiply:function(b){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},multiplyLeft:function(a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.multiply(this.array,a.array,this.array),this._dirty=!0,this},ortho:function(left,right,bottom,top,near,far){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.ortho(this.array,left,right,bottom,top,near,far),this._dirty=!0,this},perspective:function(fovy,aspect,near,far){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.perspective(this.array,fovy,aspect,near,far),this._dirty=!0,this},rotate:function(rad,axis){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotate(this.array,this.array,rad,axis.array),this._dirty=!0,this},rotateX:function(rad){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotateX(this.array,this.array,rad),this._dirty=!0,this},rotateY:function(rad){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotateY(this.array,this.array,rad),this._dirty=!0,this},rotateZ:function(rad){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotateZ(this.array,this.array,rad),this._dirty=!0,this},scale:function(v){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.scale(this.array,this.array,v.array),this._dirty=!0,this},translate:function(v){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.translate(this.array,this.array,v.array),this._dirty=!0,this},transpose:function(){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:(x=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.create(),y=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.create(),z=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.create(),m3=_glmatrix_mat3__WEBPACK_IMPORTED_MODULE_3__.Z.create(),function(scale,rotation,position){var el=this.array;_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.set(x,el[0],el[1],el[2]),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.set(y,el[4],el[5],el[6]),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.set(z,el[8],el[9],el[10]);var sx=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.length(x),sy=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.length(y),sz=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_2__.Z.length(z);this.determinant()<0&&(sx=-sx),scale&&scale.set(sx,sy,sz),position.set(el[12],el[13],el[14]),_glmatrix_mat3__WEBPACK_IMPORTED_MODULE_3__.Z.fromMat4(m3,el),m3[0]/=sx,m3[1]/=sx,m3[2]/=sx,m3[3]/=sy,m3[4]/=sy,m3[5]/=sy,m3[6]/=sz,m3[7]/=sz,m3[8]/=sz,_glmatrix_quat__WEBPACK_IMPORTED_MODULE_4__.Z.fromMat3(rotation.array,m3),_glmatrix_quat__WEBPACK_IMPORTED_MODULE_4__.Z.normalize(rotation.array,rotation.array),rotation._dirty=!0,position._dirty=!0}),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var defineProperty=Object.defineProperty;if(defineProperty){var proto=Matrix4.prototype;defineProperty(proto,"z",{get:function(){var el=this.array;return this._axisZ.set(el[8],el[9],el[10]),this._axisZ},set:function(v){var el=this.array;v=v.array,el[8]=v[0],el[9]=v[1],el[10]=v[2],this._dirty=!0}}),defineProperty(proto,"y",{get:function(){var el=this.array;return this._axisY.set(el[4],el[5],el[6]),this._axisY},set:function(v){var el=this.array;v=v.array,el[4]=v[0],el[5]=v[1],el[6]=v[2],this._dirty=!0}}),defineProperty(proto,"x",{get:function(){var el=this.array;return this._axisX.set(el[0],el[1],el[2]),this._axisX},set:function(v){var el=this.array;v=v.array,el[0]=v[0],el[1]=v[1],el[2]=v[2],this._dirty=!0}})}Matrix4.adjoint=function(out,a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.adjoint(out.array,a.array),out._dirty=!0,out},Matrix4.copy=function(out,a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.copy(out.array,a.array),out._dirty=!0,out},Matrix4.determinant=function(a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.determinant(a.array)},Matrix4.identity=function(out){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.identity(out.array),out._dirty=!0,out},Matrix4.ortho=function(out,left,right,bottom,top,near,far){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.ortho(out.array,left,right,bottom,top,near,far),out._dirty=!0,out},Matrix4.perspective=function(out,fovy,aspect,near,far){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.perspective(out.array,fovy,aspect,near,far),out._dirty=!0,out},Matrix4.lookAt=function(out,eye,center,up){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.lookAt(out.array,eye.array,center.array,up.array),out._dirty=!0,out},Matrix4.invert=function(out,a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.invert(out.array,a.array),out._dirty=!0,out},Matrix4.multiply=Matrix4.mul=function(out,a,b){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.mul(out.array,a.array,b.array),out._dirty=!0,out},Matrix4.fromQuat=function(out,q){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.fromQuat(out.array,q.array),out._dirty=!0,out},Matrix4.fromRotationTranslation=function(out,q,v){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.fromRotationTranslation(out.array,q.array,v.array),out._dirty=!0,out},Matrix4.fromMat2d=function(m4,m2d){m4._dirty=!0;m2d=m2d.array;return(m4=m4.array)[0]=m2d[0],m4[4]=m2d[2],m4[12]=m2d[4],m4[1]=m2d[1],m4[5]=m2d[3],m4[13]=m2d[5],m4},Matrix4.rotate=function(out,a,rad,axis){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotate(out.array,a.array,rad,axis.array),out._dirty=!0,out},Matrix4.rotateX=function(out,a,rad){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotateX(out.array,a.array,rad),out._dirty=!0,out},Matrix4.rotateY=function(out,a,rad){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotateY(out.array,a.array,rad),out._dirty=!0,out},Matrix4.rotateZ=function(out,a,rad){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.rotateZ(out.array,a.array,rad),out._dirty=!0,out},Matrix4.scale=function(out,a,v){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.scale(out.array,a.array,v.array),out._dirty=!0,out},Matrix4.transpose=function(out,a){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.transpose(out.array,a.array),out._dirty=!0,out},Matrix4.translate=function(out,a,v){return _glmatrix_mat4__WEBPACK_IMPORTED_MODULE_1__.Z.translate(out.array,a.array,v.array),out._dirty=!0,out};const __WEBPACK_DEFAULT_EXPORT__=Matrix4},"./node_modules/claygl/src/math/Plane.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var inverseTranspose,normalv4,pointv4,rd,_Vector3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js"),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec4.js"),Plane=function(normal,distance){this.normal=normal||new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z(0,1,0),this.distance=distance||0};Plane.prototype={constructor:Plane,distanceToPoint:function(point){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(point.array,this.normal.array)-this.distance},projectPoint:function(point,out){out||(out=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z);var d=this.distanceToPoint(point);return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,point.array,this.normal.array,-d),out._dirty=!0,out},normalize:function(){var invLen=1/_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.len(this.normal.array);_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scale(this.normal.array,invLen),this.distance*=invLen},intersectFrustum:function(frustum){for(var coords=frustum.vertices,normal=this.normal.array,onPlane=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(coords[0].array,normal)>this.distance,i=1;i<8;i++)if(_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(coords[i].array,normal)>this.distance!=onPlane)return!0},intersectLine:(rd=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),function(start,end,out){var d0=this.distanceToPoint(start),d1=this.distanceToPoint(end);if(d0>0&&d1>0||d0<0&&d1<0)return null;var pn=this.normal.array,d=this.distance,ro=start.array;_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.sub(rd,end.array,start.array),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.normalize(rd,rd);var divider=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(pn,rd);if(0===divider)return null;out||(out=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z);var t=(_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(pn,ro)-d)/divider;return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,ro,rd,-t),out._dirty=!0,out}),applyTransform:(inverseTranspose=_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_2__.Z.create(),normalv4=_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.create(),pointv4=_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.create(),pointv4[3]=1,function(m4){m4=m4.array,_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scale(pointv4,this.normal.array,this.distance),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.transformMat4(pointv4,pointv4,m4),this.distance=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(pointv4,this.normal.array),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_2__.Z.invert(inverseTranspose,m4),_glmatrix_mat4__WEBPACK_IMPORTED_MODULE_2__.Z.transpose(inverseTranspose,inverseTranspose),normalv4[3]=0,_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.copy(normalv4,this.normal.array),_glmatrix_vec4__WEBPACK_IMPORTED_MODULE_3__.Z.transformMat4(normalv4,normalv4,inverseTranspose),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.copy(this.normal.array,normalv4)}),copy:function(plane){_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.copy(this.normal.array,plane.normal.array),this.normal._dirty=!0,this.distance=plane.distance},clone:function(){var plane=new Plane;return plane.copy(this),plane}};const __WEBPACK_DEFAULT_EXPORT__=Plane},"./node_modules/claygl/src/math/Quaternion.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var m3,_glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/quat.js"),_glmatrix_mat3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/glmatrix/mat3.js"),Quaternion=function(x,y,z,w){x=x||0,y=y||0,z=z||0,w=void 0===w?1:w,this.array=_glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.fromValues(x,y,z,w),this._dirty=!0};Quaternion.prototype={constructor:Quaternion,add:function(b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.add(this.array,this.array,b.array),this._dirty=!0,this},calculateW:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.calculateW(this.array,this.array),this._dirty=!0,this},set:function(x,y,z,w){return this.array[0]=x,this.array[1]=y,this.array[2]=z,this.array[3]=w,this._dirty=!0,this},setArray:function(arr){return this.array[0]=arr[0],this.array[1]=arr[1],this.array[2]=arr[2],this.array[3]=arr[3],this._dirty=!0,this},clone:function(){return new Quaternion(this.x,this.y,this.z,this.w)},conjugate:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.copy(this.array,b.array),this._dirty=!0,this},dot:function(b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.dot(this.array,b.array)},fromMat3:function(m){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.fromMat3(this.array,m.array),this._dirty=!0,this},fromMat4:(m3=_glmatrix_mat3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),function(m){return _glmatrix_mat3__WEBPACK_IMPORTED_MODULE_1__.Z.fromMat4(m3,m.array),_glmatrix_mat3__WEBPACK_IMPORTED_MODULE_1__.Z.transpose(m3,m3),_glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.fromMat3(this.array,m3),this._dirty=!0,this}),identity:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.identity(this.array),this._dirty=!0,this},invert:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.invert(this.array,this.array),this._dirty=!0,this},len:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.len(this.array)},length:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.length(this.array)},lerp:function(a,b,t){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.lerp(this.array,a.array,b.array,t),this._dirty=!0,this},mul:function(b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},mulLeft:function(a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(this.array,a.array,this.array),this._dirty=!0,this},multiply:function(b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},multiplyLeft:function(a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(this.array,a.array,this.array),this._dirty=!0,this},normalize:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotateX(this.array,this.array,rad),this._dirty=!0,this},rotateY:function(rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotateY(this.array,this.array,rad),this._dirty=!0,this},rotateZ:function(rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotateZ(this.array,this.array,rad),this._dirty=!0,this},rotationTo:function(a,b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotationTo(this.array,a.array,b.array),this._dirty=!0,this},setAxes:function(view,right,up){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.setAxes(this.array,view.array,right.array,up.array),this._dirty=!0,this},setAxisAngle:function(axis,rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.setAxisAngle(this.array,axis.array,rad),this._dirty=!0,this},slerp:function(a,b,t){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.slerp(this.array,a.array,b.array,t),this._dirty=!0,this},sqrLen:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.sqrLen(this.array)},squaredLength:function(){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.squaredLength(this.array)},fromEuler:function(v,order){return Quaternion.fromEuler(this,v,order)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var defineProperty=Object.defineProperty;if(defineProperty){var proto=Quaternion.prototype;defineProperty(proto,"x",{get:function(){return this.array[0]},set:function(value){this.array[0]=value,this._dirty=!0}}),defineProperty(proto,"y",{get:function(){return this.array[1]},set:function(value){this.array[1]=value,this._dirty=!0}}),defineProperty(proto,"z",{get:function(){return this.array[2]},set:function(value){this.array[2]=value,this._dirty=!0}}),defineProperty(proto,"w",{get:function(){return this.array[3]},set:function(value){this.array[3]=value,this._dirty=!0}})}Quaternion.add=function(out,a,b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.add(out.array,a.array,b.array),out._dirty=!0,out},Quaternion.set=function(out,x,y,z,w){_glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.set(out.array,x,y,z,w),out._dirty=!0},Quaternion.copy=function(out,b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.copy(out.array,b.array),out._dirty=!0,out},Quaternion.calculateW=function(out,a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.calculateW(out.array,a.array),out._dirty=!0,out},Quaternion.conjugate=function(out,a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.conjugate(out.array,a.array),out._dirty=!0,out},Quaternion.identity=function(out){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.identity(out.array),out._dirty=!0,out},Quaternion.invert=function(out,a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.invert(out.array,a.array),out._dirty=!0,out},Quaternion.dot=function(a,b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.dot(a.array,b.array)},Quaternion.len=function(a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.length(a.array)},Quaternion.lerp=function(out,a,b,t){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.lerp(out.array,a.array,b.array,t),out._dirty=!0,out},Quaternion.slerp=function(out,a,b,t){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.slerp(out.array,a.array,b.array,t),out._dirty=!0,out},Quaternion.multiply=Quaternion.mul=function(out,a,b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(out.array,a.array,b.array),out._dirty=!0,out},Quaternion.rotateX=function(out,a,rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotateX(out.array,a.array,rad),out._dirty=!0,out},Quaternion.rotateY=function(out,a,rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotateY(out.array,a.array,rad),out._dirty=!0,out},Quaternion.rotateZ=function(out,a,rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotateZ(out.array,a.array,rad),out._dirty=!0,out},Quaternion.setAxisAngle=function(out,axis,rad){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.setAxisAngle(out.array,axis.array,rad),out._dirty=!0,out},Quaternion.normalize=function(out,a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(out.array,a.array),out._dirty=!0,out},Quaternion.squaredLength=Quaternion.sqrLen=function(a){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.sqrLen(a.array)},Quaternion.fromMat3=function(out,m){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.fromMat3(out.array,m.array),out._dirty=!0,out},Quaternion.setAxes=function(out,view,right,up){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.setAxes(out.array,view.array,right.array,up.array),out._dirty=!0,out},Quaternion.rotationTo=function(out,a,b){return _glmatrix_quat__WEBPACK_IMPORTED_MODULE_0__.Z.rotationTo(out.array,a.array,b.array),out._dirty=!0,out},Quaternion.fromEuler=function(out,v,order){out._dirty=!0,v=v.array;var target=out.array,c1=Math.cos(v[0]/2),c2=Math.cos(v[1]/2),c3=Math.cos(v[2]/2),s1=Math.sin(v[0]/2),s2=Math.sin(v[1]/2),s3=Math.sin(v[2]/2);switch(order=(order||"XYZ").toUpperCase()){case"XYZ":target[0]=s1*c2*c3+c1*s2*s3,target[1]=c1*s2*c3-s1*c2*s3,target[2]=c1*c2*s3+s1*s2*c3,target[3]=c1*c2*c3-s1*s2*s3;break;case"YXZ":target[0]=s1*c2*c3+c1*s2*s3,target[1]=c1*s2*c3-s1*c2*s3,target[2]=c1*c2*s3-s1*s2*c3,target[3]=c1*c2*c3+s1*s2*s3;break;case"ZXY":target[0]=s1*c2*c3-c1*s2*s3,target[1]=c1*s2*c3+s1*c2*s3,target[2]=c1*c2*s3+s1*s2*c3,target[3]=c1*c2*c3-s1*s2*s3;break;case"ZYX":target[0]=s1*c2*c3-c1*s2*s3,target[1]=c1*s2*c3+s1*c2*s3,target[2]=c1*c2*s3-s1*s2*c3,target[3]=c1*c2*c3+s1*s2*s3;break;case"YZX":target[0]=s1*c2*c3+c1*s2*s3,target[1]=c1*s2*c3+s1*c2*s3,target[2]=c1*c2*s3-s1*s2*c3,target[3]=c1*c2*c3-s1*s2*s3;break;case"XZY":target[0]=s1*c2*c3-c1*s2*s3,target[1]=c1*s2*c3-s1*c2*s3,target[2]=c1*c2*s3+s1*s2*c3,target[3]=c1*c2*c3+s1*s2*s3}};const __WEBPACK_DEFAULT_EXPORT__=Quaternion},"./node_modules/claygl/src/math/Ray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var eBA,eCA,AO,vCross,v,_Vector3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),Ray=function(origin,direction){this.origin=origin||new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z,this.direction=direction||new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z};Ray.prototype={constructor:Ray,intersectPlane:function(plane,out){var pn=plane.normal.array,d=plane.distance,ro=this.origin.array,rd=this.direction.array,divider=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(pn,rd);if(0===divider)return null;out||(out=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z);var t=(_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(pn,ro)-d)/divider;return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,ro,rd,-t),out._dirty=!0,out},mirrorAgainstPlane:function(plane){var d=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(plane.normal.array,this.direction.array);_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(this.direction.array,this.direction.array,plane.normal.array,2*-d),this.direction._dirty=!0},distanceToPoint:(v=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),function(point){_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.sub(v,point,this.origin.array);var b=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(v,this.direction.array);if(b<0)return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.distance(this.origin.array,point);var c2=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.lenSquared(v);return Math.sqrt(c2-b*b)}),intersectSphere:function(){var v=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create();return function(center,radius,out){var origin=this.origin.array,direction=this.direction.array;center=center.array,_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.sub(v,center,origin);var b=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(v,direction),d2=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.squaredLength(v)-b*b,r2=radius*radius;if(!(d2>r2)){var a=Math.sqrt(r2-d2),t0=b-a,t1=b+a;return out||(out=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z),t0<0?t1<0?null:(_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,origin,direction,t1),out):(_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,origin,direction,t0),out)}}}(),intersectBoundingBox:function(bbox,out){var tmin,tmax,tymin,tymax,tzmin,tzmax,dir=this.direction.array,origin=this.origin.array,min=bbox.min.array,max=bbox.max.array,invdirx=1/dir[0],invdiry=1/dir[1],invdirz=1/dir[2];if(invdirx>=0?(tmin=(min[0]-origin[0])*invdirx,tmax=(max[0]-origin[0])*invdirx):(tmax=(min[0]-origin[0])*invdirx,tmin=(max[0]-origin[0])*invdirx),invdiry>=0?(tymin=(min[1]-origin[1])*invdiry,tymax=(max[1]-origin[1])*invdiry):(tymax=(min[1]-origin[1])*invdiry,tymin=(max[1]-origin[1])*invdiry),tmin>tymax||tymin>tmax)return null;if((tymin>tmin||tmin!=tmin)&&(tmin=tymin),(tymax<tmax||tmax!=tmax)&&(tmax=tymax),invdirz>=0?(tzmin=(min[2]-origin[2])*invdirz,tzmax=(max[2]-origin[2])*invdirz):(tzmax=(min[2]-origin[2])*invdirz,tzmin=(max[2]-origin[2])*invdirz),tmin>tzmax||tzmin>tmax)return null;if((tzmin>tmin||tmin!=tmin)&&(tmin=tzmin),(tzmax<tmax||tmax!=tmax)&&(tmax=tzmax),tmax<0)return null;var t=tmin>=0?tmin:tmax;return out||(out=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,origin,dir,t),out},intersectTriangle:(eBA=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),eCA=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),AO=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),vCross=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.create(),function(a,b,c,singleSided,out,barycenteric){var dir=this.direction.array,origin=this.origin.array;a=a.array,b=b.array,c=c.array,_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.sub(eBA,b,a),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.sub(eCA,c,a),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.cross(vCross,eCA,dir);var det=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(eBA,vCross);if(singleSided){if(det>-1e-5)return null}else if(det>-1e-5&&det<1e-5)return null;_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.sub(AO,origin,a);var u=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(vCross,AO)/det;if(u<0||u>1)return null;_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.cross(vCross,eBA,AO);var v=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(dir,vCross)/det;if(v<0||v>1||u+v>1)return null;_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.cross(vCross,eBA,eCA);var t=-_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.dot(AO,vCross)/det;return t<0?null:(out||(out=new _Vector3__WEBPACK_IMPORTED_MODULE_0__.Z),barycenteric&&_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.set(barycenteric,1-u-v,u,v),_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_1__.Z.scaleAndAdd(out.array,origin,dir,t),out)}),applyTransform:function(matrix){_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.add(this.direction,this.direction,this.origin),_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4(this.origin,this.origin,matrix),_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4(this.direction,this.direction,matrix),_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.sub(this.direction,this.direction,this.origin),_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(this.direction,this.direction)},copy:function(ray){_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.copy(this.origin,ray.origin),_Vector3__WEBPACK_IMPORTED_MODULE_0__.Z.copy(this.direction,ray.direction)},clone:function(){var ray=new Ray;return ray.copy(this),ray}};const __WEBPACK_DEFAULT_EXPORT__=Ray},"./node_modules/claygl/src/math/Vector2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec2.js"),Vector2=function(x,y){x=x||0,y=y||0,this.array=_glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.fromValues(x,y),this._dirty=!0};if(Vector2.prototype={constructor:Vector2,add:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.add(this.array,this.array,b.array),this._dirty=!0,this},set:function(x,y){return this.array[0]=x,this.array[1]=y,this._dirty=!0,this},setArray:function(arr){return this.array[0]=arr[0],this.array[1]=arr[1],this._dirty=!0,this},clone:function(){return new Vector2(this.x,this.y)},copy:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.copy(this.array,b.array),this._dirty=!0,this},cross:function(out,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.cross(out.array,this.array,b.array),out._dirty=!0,this},dist:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.dist(this.array,b.array)},distance:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.distance(this.array,b.array)},div:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.div(this.array,this.array,b.array),this._dirty=!0,this},divide:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.divide(this.array,this.array,b.array),this._dirty=!0,this},dot:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.dot(this.array,b.array)},len:function(){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.len(this.array)},length:function(){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.length(this.array)},lerp:function(a,b,t){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.lerp(this.array,a.array,b.array,t),this._dirty=!0,this},min:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.min(this.array,this.array,b.array),this._dirty=!0,this},max:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.max(this.array,this.array,b.array),this._dirty=!0,this},mul:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},multiply:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},negate:function(){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(scale){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.random(this.array,scale),this._dirty=!0,this},scale:function(s){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.scale(this.array,this.array,s),this._dirty=!0,this},scaleAndAdd:function(b,s){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.scaleAndAdd(this.array,this.array,b.array,s),this._dirty=!0,this},sqrDist:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.sqrDist(this.array,b.array)},squaredDistance:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.squaredDistance(this.array,b.array)},sqrLen:function(){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.sqrLen(this.array)},squaredLength:function(){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.squaredLength(this.array)},sub:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.sub(this.array,this.array,b.array),this._dirty=!0,this},subtract:function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.subtract(this.array,this.array,b.array),this._dirty=!0,this},transformMat2:function(m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat2(this.array,this.array,m.array),this._dirty=!0,this},transformMat2d:function(m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat2d(this.array,this.array,m.array),this._dirty=!0,this},transformMat3:function(m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat3(this.array,this.array,m.array),this._dirty=!0,this},transformMat4:function(m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4(this.array,this.array,m.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var proto=Vector2.prototype;Object.defineProperty(proto,"x",{get:function(){return this.array[0]},set:function(value){this.array[0]=value,this._dirty=!0}}),Object.defineProperty(proto,"y",{get:function(){return this.array[1]},set:function(value){this.array[1]=value,this._dirty=!0}})}Vector2.add=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.add(out.array,a.array,b.array),out._dirty=!0,out},Vector2.set=function(out,x,y){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.set(out.array,x,y),out._dirty=!0,out},Vector2.copy=function(out,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.copy(out.array,b.array),out._dirty=!0,out},Vector2.cross=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.cross(out.array,a.array,b.array),out._dirty=!0,out},Vector2.distance=Vector2.dist=function(a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.distance(a.array,b.array)},Vector2.divide=Vector2.div=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.divide(out.array,a.array,b.array),out._dirty=!0,out},Vector2.dot=function(a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.dot(a.array,b.array)},Vector2.len=function(b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.length(b.array)},Vector2.lerp=function(out,a,b,t){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.lerp(out.array,a.array,b.array,t),out._dirty=!0,out},Vector2.min=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.min(out.array,a.array,b.array),out._dirty=!0,out},Vector2.max=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.max(out.array,a.array,b.array),out._dirty=!0,out},Vector2.multiply=Vector2.mul=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(out.array,a.array,b.array),out._dirty=!0,out},Vector2.negate=function(out,a){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.negate(out.array,a.array),out._dirty=!0,out},Vector2.normalize=function(out,a){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(out.array,a.array),out._dirty=!0,out},Vector2.random=function(out,scale){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.random(out.array,scale),out._dirty=!0,out},Vector2.scale=function(out,a,scale){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.scale(out.array,a.array,scale),out._dirty=!0,out},Vector2.scaleAndAdd=function(out,a,b,scale){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.scaleAndAdd(out.array,a.array,b.array,scale),out._dirty=!0,out},Vector2.squaredDistance=Vector2.sqrDist=function(a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.sqrDist(a.array,b.array)},Vector2.squaredLength=Vector2.sqrLen=function(a){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.sqrLen(a.array)},Vector2.subtract=Vector2.sub=function(out,a,b){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.subtract(out.array,a.array,b.array),out._dirty=!0,out},Vector2.transformMat2=function(out,a,m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat2(out.array,a.array,m.array),out._dirty=!0,out},Vector2.transformMat2d=function(out,a,m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat2d(out.array,a.array,m.array),out._dirty=!0,out},Vector2.transformMat3=function(out,a,m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat3(out.array,a.array,m.array),out._dirty=!0,out},Vector2.transformMat4=function(out,a,m){return _glmatrix_vec2__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4(out.array,a.array,m.array),out._dirty=!0,out};const __WEBPACK_DEFAULT_EXPORT__=Vector2},"./node_modules/claygl/src/math/Vector3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),Vector3=function(x,y,z){x=x||0,y=y||0,z=z||0,this.array=_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.fromValues(x,y,z),this._dirty=!0};Vector3.prototype={constructor:Vector3,add:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.add(this.array,this.array,b.array),this._dirty=!0,this},set:function(x,y,z){return this.array[0]=x,this.array[1]=y,this.array[2]=z,this._dirty=!0,this},setArray:function(arr){return this.array[0]=arr[0],this.array[1]=arr[1],this.array[2]=arr[2],this._dirty=!0,this},clone:function(){return new Vector3(this.x,this.y,this.z)},copy:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.copy(this.array,b.array),this._dirty=!0,this},cross:function(a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.cross(this.array,a.array,b.array),this._dirty=!0,this},dist:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.dist(this.array,b.array)},distance:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.distance(this.array,b.array)},div:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.div(this.array,this.array,b.array),this._dirty=!0,this},divide:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.divide(this.array,this.array,b.array),this._dirty=!0,this},dot:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.dot(this.array,b.array)},len:function(){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.len(this.array)},length:function(){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.length(this.array)},lerp:function(a,b,t){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.lerp(this.array,a.array,b.array,t),this._dirty=!0,this},min:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.min(this.array,this.array,b.array),this._dirty=!0,this},max:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.max(this.array,this.array,b.array),this._dirty=!0,this},mul:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},multiply:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},negate:function(){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(scale){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.random(this.array,scale),this._dirty=!0,this},scale:function(s){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.scale(this.array,this.array,s),this._dirty=!0,this},scaleAndAdd:function(b,s){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.scaleAndAdd(this.array,this.array,b.array,s),this._dirty=!0,this},sqrDist:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.sqrDist(this.array,b.array)},squaredDistance:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.squaredDistance(this.array,b.array)},sqrLen:function(){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.sqrLen(this.array)},squaredLength:function(){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.squaredLength(this.array)},sub:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.sub(this.array,this.array,b.array),this._dirty=!0,this},subtract:function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.subtract(this.array,this.array,b.array),this._dirty=!0,this},transformMat3:function(m){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat3(this.array,this.array,m.array),this._dirty=!0,this},transformMat4:function(m){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4(this.array,this.array,m.array),this._dirty=!0,this},transformQuat:function(q){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformQuat(this.array,this.array,q.array),this._dirty=!0,this},applyProjection:function(m){var v=this.array;if(0===(m=m.array)[15]){var w=-1/v[2];v[0]=m[0]*v[0]*w,v[1]=m[5]*v[1]*w,v[2]=(m[10]*v[2]+m[14])*w}else v[0]=m[0]*v[0]+m[12],v[1]=m[5]*v[1]+m[13],v[2]=m[10]*v[2]+m[14];return this._dirty=!0,this},eulerFromQuat:function(q,order){Vector3.eulerFromQuat(this,q,order)},eulerFromMat3:function(m,order){Vector3.eulerFromMat3(this,m,order)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var defineProperty=Object.defineProperty;if(defineProperty){var proto=Vector3.prototype;defineProperty(proto,"x",{get:function(){return this.array[0]},set:function(value){this.array[0]=value,this._dirty=!0}}),defineProperty(proto,"y",{get:function(){return this.array[1]},set:function(value){this.array[1]=value,this._dirty=!0}}),defineProperty(proto,"z",{get:function(){return this.array[2]},set:function(value){this.array[2]=value,this._dirty=!0}})}function clamp(val,min,max){return val<min?min:val>max?max:val}Vector3.add=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.add(out.array,a.array,b.array),out._dirty=!0,out},Vector3.set=function(out,x,y,z){_glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.set(out.array,x,y,z),out._dirty=!0},Vector3.copy=function(out,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.copy(out.array,b.array),out._dirty=!0,out},Vector3.cross=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.cross(out.array,a.array,b.array),out._dirty=!0,out},Vector3.distance=Vector3.dist=function(a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.distance(a.array,b.array)},Vector3.divide=Vector3.div=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.divide(out.array,a.array,b.array),out._dirty=!0,out},Vector3.dot=function(a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.dot(a.array,b.array)},Vector3.len=function(b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.length(b.array)},Vector3.lerp=function(out,a,b,t){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.lerp(out.array,a.array,b.array,t),out._dirty=!0,out},Vector3.min=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.min(out.array,a.array,b.array),out._dirty=!0,out},Vector3.max=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.max(out.array,a.array,b.array),out._dirty=!0,out},Vector3.multiply=Vector3.mul=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.multiply(out.array,a.array,b.array),out._dirty=!0,out},Vector3.negate=function(out,a){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.negate(out.array,a.array),out._dirty=!0,out},Vector3.normalize=function(out,a){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.normalize(out.array,a.array),out._dirty=!0,out},Vector3.random=function(out,scale){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.random(out.array,scale),out._dirty=!0,out},Vector3.scale=function(out,a,scale){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.scale(out.array,a.array,scale),out._dirty=!0,out},Vector3.scaleAndAdd=function(out,a,b,scale){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.scaleAndAdd(out.array,a.array,b.array,scale),out._dirty=!0,out},Vector3.squaredDistance=Vector3.sqrDist=function(a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.sqrDist(a.array,b.array)},Vector3.squaredLength=Vector3.sqrLen=function(a){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.sqrLen(a.array)},Vector3.subtract=Vector3.sub=function(out,a,b){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.subtract(out.array,a.array,b.array),out._dirty=!0,out},Vector3.transformMat3=function(out,a,m){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat3(out.array,a.array,m.array),out._dirty=!0,out},Vector3.transformMat4=function(out,a,m){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformMat4(out.array,a.array,m.array),out._dirty=!0,out},Vector3.transformQuat=function(out,a,q){return _glmatrix_vec3__WEBPACK_IMPORTED_MODULE_0__.Z.transformQuat(out.array,a.array,q.array),out._dirty=!0,out};var atan2=Math.atan2,asin=Math.asin,abs=Math.abs;Vector3.eulerFromQuat=function(out,q,order){out._dirty=!0,q=q.array;var target=out.array,x=q[0],y=q[1],z=q[2],w=q[3],x2=x*x,y2=y*y,z2=z*z,w2=w*w;switch(order=(order||"XYZ").toUpperCase()){case"XYZ":target[0]=atan2(2*(x*w-y*z),w2-x2-y2+z2),target[1]=asin(clamp(2*(x*z+y*w),-1,1)),target[2]=atan2(2*(z*w-x*y),w2+x2-y2-z2);break;case"YXZ":target[0]=asin(clamp(2*(x*w-y*z),-1,1)),target[1]=atan2(2*(x*z+y*w),w2-x2-y2+z2),target[2]=atan2(2*(x*y+z*w),w2-x2+y2-z2);break;case"ZXY":target[0]=asin(clamp(2*(x*w+y*z),-1,1)),target[1]=atan2(2*(y*w-z*x),w2-x2-y2+z2),target[2]=atan2(2*(z*w-x*y),w2-x2+y2-z2);break;case"ZYX":target[0]=atan2(2*(x*w+z*y),w2-x2-y2+z2),target[1]=asin(clamp(2*(y*w-x*z),-1,1)),target[2]=atan2(2*(x*y+z*w),w2+x2-y2-z2);break;case"YZX":target[0]=atan2(2*(x*w-z*y),w2-x2+y2-z2),target[1]=atan2(2*(y*w-x*z),w2+x2-y2-z2),target[2]=asin(clamp(2*(x*y+z*w),-1,1));break;case"XZY":target[0]=atan2(2*(x*w+y*z),w2-x2+y2-z2),target[1]=atan2(2*(x*z+y*w),w2+x2-y2-z2),target[2]=asin(clamp(2*(z*w-x*y),-1,1));break;default:console.warn("Unkown order: "+order)}return out},Vector3.eulerFromMat3=function(out,m,order){var te=m.array,m11=te[0],m12=te[3],m13=te[6],m21=te[1],m22=te[4],m23=te[7],m31=te[2],m32=te[5],m33=te[8],target=out.array;switch(order=(order||"XYZ").toUpperCase()){case"XYZ":target[1]=asin(clamp(m13,-1,1)),abs(m13)<.99999?(target[0]=atan2(-m23,m33),target[2]=atan2(-m12,m11)):(target[0]=atan2(m32,m22),target[2]=0);break;case"YXZ":target[0]=asin(-clamp(m23,-1,1)),abs(m23)<.99999?(target[1]=atan2(m13,m33),target[2]=atan2(m21,m22)):(target[1]=atan2(-m31,m11),target[2]=0);break;case"ZXY":target[0]=asin(clamp(m32,-1,1)),abs(m32)<.99999?(target[1]=atan2(-m31,m33),target[2]=atan2(-m12,m22)):(target[1]=0,target[2]=atan2(m21,m11));break;case"ZYX":target[1]=asin(-clamp(m31,-1,1)),abs(m31)<.99999?(target[0]=atan2(m32,m33),target[2]=atan2(m21,m11)):(target[0]=0,target[2]=atan2(-m12,m22));break;case"YZX":target[2]=asin(clamp(m21,-1,1)),abs(m21)<.99999?(target[0]=atan2(-m23,m22),target[1]=atan2(-m31,m11)):(target[0]=0,target[1]=atan2(m13,m33));break;case"XZY":target[2]=asin(-clamp(m12,-1,1)),abs(m12)<.99999?(target[0]=atan2(m32,m22),target[1]=atan2(m13,m11)):(target[0]=atan2(-m23,m33),target[1]=0);break;default:console.warn("Unkown order: "+order)}return out._dirty=!0,out},Object.defineProperties(Vector3,{POSITIVE_X:{get:function(){return new Vector3(1,0,0)}},NEGATIVE_X:{get:function(){return new Vector3(-1,0,0)}},POSITIVE_Y:{get:function(){return new Vector3(0,1,0)}},NEGATIVE_Y:{get:function(){return new Vector3(0,-1,0)}},POSITIVE_Z:{get:function(){return new Vector3(0,0,1)}},NEGATIVE_Z:{get:function(){return new Vector3(0,0,-1)}},UP:{get:function(){return new Vector3(0,1,0)}},ZERO:{get:function(){return new Vector3}}});const __WEBPACK_DEFAULT_EXPORT__=Vector3},"./node_modules/claygl/src/math/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var mathUtil={isPowerOfTwo:function(value){return 0==(value&value-1)},nextPowerOfTwo:function(value){return value--,value|=value>>1,value|=value>>2,value|=value>>4,value|=value>>8,value|=value>>16,++value},nearestPowerOfTwo:function(value){return Math.pow(2,Math.round(Math.log(value)/Math.LN2))}};const __WEBPACK_DEFAULT_EXPORT__=mathUtil},"./node_modules/claygl/src/plugin/Skybox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>plugin_Skybox});var Mesh=__webpack_require__("./node_modules/claygl/src/Mesh.js"),Cube=__webpack_require__("./node_modules/claygl/src/geometry/Cube.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),Texture=__webpack_require__("./node_modules/claygl/src/Texture.js"),Perspective=__webpack_require__("./node_modules/claygl/src/camera/Perspective.js"),Matrix4=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js");Shader.Z.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");const plugin_Skybox=Mesh.Z.extend((function(){var skyboxShader=new Shader.Z({vertex:Shader.Z.source("clay.skybox.vertex"),fragment:Shader.Z.source("clay.skybox.fragment")}),material=new Material.Z({shader:skyboxShader,depthMask:!1});return{scene:null,geometry:new Cube.Z,material,environmentMap:null,culling:!1,_dummyCamera:new Perspective.Z}}),(function(){var scene=this.scene;scene&&this.attachScene(scene),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(scene){this.scene&&this.detachScene(),scene.skybox=this,this.scene=scene,scene.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(renderer){this.detachScene(),this.geometry.dispose(renderer)},setEnvironmentMap:function(envMap){"texture2D"===envMap.textureType?(this.material.define("EQUIRECTANGULAR"),envMap.minFilter=Texture.Z.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",envMap)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(renderer,scene,camera){this.renderSkybox(renderer,camera)},renderSkybox:function(renderer,camera){var dummyCamera=this._dummyCamera;dummyCamera.aspect=renderer.getViewportAspect(),dummyCamera.fov=camera.fov||50,dummyCamera.updateProjectionMatrix(),Matrix4.Z.invert(dummyCamera.invProjectionMatrix,dummyCamera.projectionMatrix),dummyCamera.worldTransform.copy(camera.worldTransform),dummyCamera.viewMatrix.copy(camera.viewMatrix),this.position.copy(camera.getWorldPosition()),this.update(),renderer.gl.disable(renderer.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),renderer.renderPass([this],dummyCamera)}})},"./node_modules/claygl/src/plugin/Skydome.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/claygl/src/plugin/Skybox.js").Z},"./node_modules/claygl/src/prePass/EnvironmentMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _core_Base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/claygl/src/core/Base.js"),_math_Vector3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),_camera_Perspective__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/camera/Perspective.js"),_FrameBuffer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/FrameBuffer.js"),targets=["px","nx","py","ny","pz","nz"];const __WEBPACK_DEFAULT_EXPORT__=_core_Base__WEBPACK_IMPORTED_MODULE_0__.Z.extend((function(){var ret={position:new _math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z,far:1e3,near:.1,texture:null,shadowMapPass:null},cameras=ret._cameras={px:new _camera_Perspective__WEBPACK_IMPORTED_MODULE_2__.Z({fov:90}),nx:new _camera_Perspective__WEBPACK_IMPORTED_MODULE_2__.Z({fov:90}),py:new _camera_Perspective__WEBPACK_IMPORTED_MODULE_2__.Z({fov:90}),ny:new _camera_Perspective__WEBPACK_IMPORTED_MODULE_2__.Z({fov:90}),pz:new _camera_Perspective__WEBPACK_IMPORTED_MODULE_2__.Z({fov:90}),nz:new _camera_Perspective__WEBPACK_IMPORTED_MODULE_2__.Z({fov:90})};return cameras.px.lookAt(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.POSITIVE_X,_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Y),cameras.nx.lookAt(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_X,_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Y),cameras.py.lookAt(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.POSITIVE_Y,_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.POSITIVE_Z),cameras.ny.lookAt(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Y,_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Z),cameras.pz.lookAt(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.POSITIVE_Z,_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Y),cameras.nz.lookAt(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Z,_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.NEGATIVE_Y),ret._frameBuffer=new _FrameBuffer__WEBPACK_IMPORTED_MODULE_3__.Z,ret}),{getCamera:function(target){return this._cameras[target]},render:function(renderer,scene,notUpdateScene){var _gl=renderer.gl;notUpdateScene||scene.update();for(var n=this.texture.width,fov=2*Math.atan(n/(n-.5))/Math.PI*180,i=0;i<6;i++){var target=targets[i],camera=this._cameras[target];if(_math_Vector3__WEBPACK_IMPORTED_MODULE_1__.Z.copy(camera.position,this.position),camera.far=this.far,camera.near=this.near,camera.fov=fov,this.shadowMapPass){camera.update();var bbox=scene.getBoundingBox();bbox.applyTransform(camera.viewMatrix),scene.viewBoundingBoxLastFrame.copy(bbox),this.shadowMapPass.render(renderer,scene,camera,!0)}this._frameBuffer.attach(this.texture,_gl.COLOR_ATTACHMENT0,_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i),this._frameBuffer.bind(renderer),renderer.render(scene,camera,!0),this._frameBuffer.unbind(renderer)}},dispose:function(renderer){this._frameBuffer.dispose(renderer)}})},"./node_modules/claygl/src/shader/source/prez.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end"},"./node_modules/claygl/src/shader/source/util.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end"},"./node_modules/claygl/src/util/cubemap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>cubemap});var Texture2D=__webpack_require__("./node_modules/claygl/src/Texture2D.js"),TextureCube=__webpack_require__("./node_modules/claygl/src/TextureCube.js"),Texture=__webpack_require__("./node_modules/claygl/src/Texture.js"),FrameBuffer=__webpack_require__("./node_modules/claygl/src/FrameBuffer.js"),Pass=__webpack_require__("./node_modules/claygl/src/compositor/Pass.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),Skybox=__webpack_require__("./node_modules/claygl/src/plugin/Skybox.js"),Scene=__webpack_require__("./node_modules/claygl/src/Scene.js"),EnvironmentMap=__webpack_require__("./node_modules/claygl/src/prePass/EnvironmentMap.js"),vendor=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),texture=__webpack_require__("./node_modules/claygl/src/util/texture.js");var cubemapUtil={},targets=["px","nx","py","ny","pz","nz"];cubemapUtil.prefilterEnvironmentMap=function(renderer,envMap,textureOpts,normalDistribution,brdfLookup){brdfLookup&&normalDistribution||(normalDistribution=cubemapUtil.generateNormalDistribution(),brdfLookup=cubemapUtil.integrateBRDF(renderer,normalDistribution));var width=(textureOpts=textureOpts||{}).width||64,height=textureOpts.height||64,textureType=textureOpts.type||envMap.type,prefilteredCubeMap=new TextureCube.Z({width,height,type:textureType,flipY:!1,mipmaps:[]});prefilteredCubeMap.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var size=Math.min(width,height),mipmapNum=Math.log(size)/Math.log(2)+1,prefilterMaterial=new Material.Z({shader:new Shader.Z({vertex:Shader.Z.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});prefilterMaterial.set("normalDistribution",normalDistribution),textureOpts.encodeRGBM&&prefilterMaterial.define("fragment","RGBM_ENCODE"),textureOpts.decodeRGBM&&prefilterMaterial.define("fragment","RGBM_DECODE");var skyEnv,dummyScene=new Scene.Z;if("texture2D"===envMap.textureType){var envCubemap=new TextureCube.Z({width,height,type:textureType===Texture.Z.FLOAT?Texture.Z.HALF_FLOAT:textureType});texture.Z.panoramaToCubeMap(renderer,envMap,envCubemap,{encodeRGBM:textureOpts.decodeRGBM}),envMap=envCubemap}(skyEnv=new Skybox.Z({scene:dummyScene,material:prefilterMaterial})).material.set("environmentMap",envMap);var envMapPass=new EnvironmentMap.Z({texture:prefilteredCubeMap});textureOpts.encodeRGBM&&(textureType=prefilteredCubeMap.type=Texture.Z.UNSIGNED_BYTE);for(var renderTargetTmp=new Texture2D.Z({width,height,type:textureType}),frameBuffer=new FrameBuffer.Z({depthBuffer:!1}),ArrayCtor=vendor.Z[textureType===Texture.Z.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],i=0;i<mipmapNum;i++){prefilteredCubeMap.mipmaps[i]={pixels:{}},skyEnv.material.set("roughness",i/(mipmapNum-1));for(var n=renderTargetTmp.width,fov=2*Math.atan(n/(n-.5))/Math.PI*180,j=0;j<targets.length;j++){var pixels=new ArrayCtor(renderTargetTmp.width*renderTargetTmp.height*4);frameBuffer.attach(renderTargetTmp),frameBuffer.bind(renderer);var camera=envMapPass.getCamera(targets[j]);camera.fov=fov,renderer.render(dummyScene,camera),renderer.gl.readPixels(0,0,renderTargetTmp.width,renderTargetTmp.height,Texture.Z.RGBA,textureType,pixels),frameBuffer.unbind(renderer),prefilteredCubeMap.mipmaps[i].pixels[targets[j]]=pixels}renderTargetTmp.width/=2,renderTargetTmp.height/=2,renderTargetTmp.dirty()}return frameBuffer.dispose(renderer),renderTargetTmp.dispose(renderer),skyEnv.dispose(renderer),normalDistribution.dispose(renderer),{environmentMap:prefilteredCubeMap,brdfLookup,normalDistribution,maxMipmapLevel:mipmapNum}},cubemapUtil.integrateBRDF=function(renderer,normalDistribution){normalDistribution=normalDistribution||cubemapUtil.generateNormalDistribution();var framebuffer=new FrameBuffer.Z({depthBuffer:!1}),pass=new Pass.Z({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),texture=new Texture2D.Z({width:512,height:256,type:Texture.Z.HALF_FLOAT,wrapS:Texture.Z.CLAMP_TO_EDGE,wrapT:Texture.Z.CLAMP_TO_EDGE,minFilter:Texture.Z.NEAREST,magFilter:Texture.Z.NEAREST,useMipmap:!1});return pass.setUniform("normalDistribution",normalDistribution),pass.setUniform("viewportSize",[512,256]),pass.attachOutput(texture),pass.render(renderer,framebuffer),framebuffer.dispose(renderer),texture},cubemapUtil.generateNormalDistribution=function(roughnessLevels,sampleSize){roughnessLevels=roughnessLevels||256,sampleSize=sampleSize||1024;for(var normalDistribution=new Texture2D.Z({width:roughnessLevels,height:sampleSize,type:Texture.Z.FLOAT,minFilter:Texture.Z.NEAREST,magFilter:Texture.Z.NEAREST,wrapS:Texture.Z.CLAMP_TO_EDGE,wrapT:Texture.Z.CLAMP_TO_EDGE,useMipmap:!1}),pixels=new Float32Array(sampleSize*roughnessLevels*4),tmp=[],j=0;j<roughnessLevels;j++){for(var roughness=j/roughnessLevels,a=roughness*roughness,i=0;i<sampleSize;i++){var y=(i<<16|i>>>16)>>>0;y=(((16711935&(y=((252645135&(y=((858993459&(y=((1431655765&y)<<1|(2863311530&y)>>>1)>>>0))<<2|(3435973836&y)>>>2)>>>0))<<4|(4042322160&y)>>>4)>>>0))<<8|(4278255360&y)>>>8)>>>0)/4294967296;var cosTheta=Math.sqrt((1-y)/(1+(a*a-1)*y));tmp[i]=cosTheta}for(i=0;i<sampleSize;i++){var offset=4*(i*roughnessLevels+j),sinTheta=(cosTheta=tmp[i],Math.sqrt(1-cosTheta*cosTheta)),x=i/sampleSize,phi=2*Math.PI*x;pixels[offset]=sinTheta*Math.cos(phi),pixels[offset+1]=cosTheta,pixels[offset+2]=sinTheta*Math.sin(phi),pixels[offset+3]=1}}return normalDistribution.pixels=pixels,normalDistribution};const cubemap=cubemapUtil},"./node_modules/claygl/src/util/texture.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>texture});var Texture2D=__webpack_require__("./node_modules/claygl/src/Texture2D.js"),TextureCube=__webpack_require__("./node_modules/claygl/src/TextureCube.js"),vendor=__webpack_require__("./node_modules/claygl/src/core/vendor.js"),EnvironmentMap=__webpack_require__("./node_modules/claygl/src/prePass/EnvironmentMap.js"),Skydome=__webpack_require__("./node_modules/claygl/src/plugin/Skydome.js"),Scene=__webpack_require__("./node_modules/claygl/src/Scene.js"),Texture=__webpack_require__("./node_modules/claygl/src/Texture.js");function fourCCToInt32(value){return value.charCodeAt(0)+(value.charCodeAt(1)<<8)+(value.charCodeAt(2)<<16)+(value.charCodeAt(3)<<24)}var FOURCC_DXT1=fourCCToInt32("DXT1"),FOURCC_DXT3=fourCCToInt32("DXT3"),FOURCC_DXT5=fourCCToInt32("DXT5");const dds={parse:function(arrayBuffer,out){var header=new Int32Array(arrayBuffer,0,31);if(542327876!==header[0])return null;if(4&!header(20))return null;var blockBytes,internalFormat,fourCC=header(21),width=header[4],height=header[3],isCubeMap=512&header[28],hasMipmap=131072&header[2];switch(fourCC){case FOURCC_DXT1:blockBytes=8,internalFormat=Texture.Z.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case FOURCC_DXT3:blockBytes=16,internalFormat=Texture.Z.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case FOURCC_DXT5:blockBytes=16,internalFormat=Texture.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var dataOffset=header[1]+4,faceNumber=isCubeMap?6:1,mipmapCount=1;hasMipmap&&(mipmapCount=Math.max(1,header[7]));for(var textures=[],f=0;f<faceNumber;f++){var _width=width,_height=height;textures[f]=new Texture2D.Z({width:_width,height:_height,format:internalFormat});for(var mipmaps=[],i=0;i<mipmapCount;i++){var dataLength=Math.max(4,_width)/4*Math.max(4,_height)/4*blockBytes,byteArray=new Uint8Array(arrayBuffer,dataOffset,dataLength);dataOffset+=dataLength,_width*=.5,_height*=.5,mipmaps[i]=byteArray}textures[f].pixels=mipmaps[0],hasMipmap&&(textures[f].mipmaps=mipmaps)}if(!out)return textures[0];out.width=textures[0].width,out.height=textures[0].height,out.format=textures[0].format,out.pixels=textures[0].pixels,out.mipmaps=textures[0].mipmaps}};var toChar=String.fromCharCode;function rgbe2float(rgbe,buffer,offset,exposure){if(rgbe[3]>0){var f=Math.pow(2,rgbe[3]-128-8+exposure);buffer[offset+0]=rgbe[0]*f,buffer[offset+1]=rgbe[1]*f,buffer[offset+2]=rgbe[2]*f}else buffer[offset+0]=0,buffer[offset+1]=0,buffer[offset+2]=0;return buffer[offset+3]=1,buffer}function oldReadColors(scan,buffer,offset,xmax){for(var s,t,rshift=0,x=0,len=xmax;len>0;)if(scan[x][0]=buffer[offset++],scan[x][1]=buffer[offset++],scan[x][2]=buffer[offset++],scan[x][3]=buffer[offset++],1===scan[x][0]&&1===scan[x][1]&&1===scan[x][2]){for(var i=scan[x][3]<<rshift>>>0;i>0;i--)s=scan[x-1],(t=scan[x])[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],x++,len--;rshift+=8}else x++,len--,rshift=0;return offset}function readColors(scan,buffer,offset,xmax){if(xmax<8|xmax>32767)return oldReadColors(scan,buffer,offset,xmax);if(2!=(i=buffer[offset++]))return oldReadColors(scan,buffer,offset-1,xmax);if(scan[0][1]=buffer[offset++],scan[0][2]=buffer[offset++],i=buffer[offset++],(scan[0][2]<<8>>>0|i)>>>0!==xmax)return null;for(var i=0;i<4;i++)for(var x=0;x<xmax;){var code=buffer[offset++];if(code>128){code=(127&code)>>>0;for(var val=buffer[offset++];code--;)scan[x++][i]=val}else for(;code--;)scan[x++][i]=buffer[offset++]}return offset}var hdr_ret={parseRGBE:function(arrayBuffer,texture,exposure){null==exposure&&(exposure=0);var data=new Uint8Array(arrayBuffer),size=data.length;if("#?"===function uint82string(array,offset,size){for(var str="",i=offset;i<size;i++)str+=toChar(array[i]);return str}(data,0,2)){for(var i=2;i<size&&("\n"!==toChar(data[i])||"\n"!==toChar(data[i+1]));i++);if(!(i>=size)){i+=2;for(var str="";i<size;i++){var _char=toChar(data[i]);if("\n"===_char)break;str+=_char}var tmp=str.split(" "),height=parseInt(tmp[1]),width=parseInt(tmp[3]);if(width&&height){for(var offset=i+1,scanline=[],x=0;x<width;x++){scanline[x]=[];for(var j=0;j<4;j++)scanline[x][j]=0}for(var pixels=new Float32Array(width*height*4),offset2=0,y=0;y<height;y++){if(!(offset=readColors(scanline,data,offset,width)))return null;for(x=0;x<width;x++)rgbe2float(scanline[x],pixels,offset2,exposure),offset2+=4}return texture||(texture=new Texture2D.Z),texture.width=width,texture.height=height,texture.pixels=pixels,texture.type=Texture.Z.FLOAT,texture}}}},parseRGBEFromPNG:function(png){}};const hdr=hdr_ret;var textureUtil={loadTexture:function(path,option,onsuccess,onerror){var texture;if("function"==typeof option?(onerror=onsuccess=option,option={}):option=option||{},"string"==typeof path){if(path.match(/.hdr$/)||"hdr"===option.fileType)return texture=new Texture2D.Z({width:0,height:0,sRGB:!1}),textureUtil._fetchTexture(path,(function(data){hdr.parseRGBE(data,texture,option.exposure),texture.dirty(),onsuccess&&onsuccess(texture)}),onerror),texture;path.match(/.dds$/)||"dds"===option.fileType?(texture=new Texture2D.Z({width:0,height:0}),textureUtil._fetchTexture(path,(function(data){dds.parse(data,texture),texture.dirty(),onsuccess&&onsuccess(texture)}),onerror)):((texture=new Texture2D.Z).load(path),texture.success(onsuccess),texture.error(onerror))}else"object"==typeof path&&void 0!==path.px&&((texture=new TextureCube.Z).load(path),texture.success(onsuccess),texture.error(onerror));return texture},loadPanorama:function(renderer,path,cubeMap,option,onsuccess,onerror){var self=this;"function"==typeof option?(onerror=onsuccess=option,option={}):option=option||{},textureUtil.loadTexture(path,option,(function(texture){texture.flipY=option.flipY||!1,self.panoramaToCubeMap(renderer,texture,cubeMap,option),texture.dispose(renderer),onsuccess&&onsuccess(cubeMap)}),onerror)},panoramaToCubeMap:function(renderer,panoramaMap,cubeMap,option){var environmentMapPass=new EnvironmentMap.Z,skydome=new Skydome.Z({scene:new Scene.Z});return skydome.setEnvironmentMap(panoramaMap),(option=option||{}).encodeRGBM&&skydome.material.define("fragment","RGBM_ENCODE"),cubeMap.sRGB=panoramaMap.sRGB,environmentMapPass.texture=cubeMap,environmentMapPass.render(renderer,skydome.scene),environmentMapPass.texture=null,environmentMapPass.dispose(renderer),cubeMap},heightToNormal:function(image,checkBump){var canvas=document.createElement("canvas"),width=canvas.width=image.width,height=canvas.height=image.height,ctx=canvas.getContext("2d");ctx.drawImage(image,0,0,width,height),checkBump=checkBump||!1;for(var srcData=ctx.getImageData(0,0,width,height),dstData=ctx.createImageData(width,height),i=0;i<srcData.data.length;i+=4){if(checkBump){var r=srcData.data[i],g=srcData.data[i+1],b=srcData.data[i+2];if(Math.abs(r-g)+Math.abs(g-b)>20)return console.warn("Given image is not a height map"),image}var x1,y1,x2,y2;i%(4*width)==0?(x1=srcData.data[i],x2=srcData.data[i+4]):i%(4*width)==4*(width-1)?(x1=srcData.data[i-4],x2=srcData.data[i]):(x1=srcData.data[i-4],x2=srcData.data[i+4]),i<4*width?(y1=srcData.data[i],y2=srcData.data[i+4*width]):i>width*(height-1)*4?(y1=srcData.data[i-4*width],y2=srcData.data[i]):(y1=srcData.data[i-4*width],y2=srcData.data[i+4*width]),dstData.data[i]=x1-x2+127,dstData.data[i+1]=y1-y2+127,dstData.data[i+2]=255,dstData.data[i+3]=255}return ctx.putImageData(dstData,0,0),canvas},isHeightImage:function(img,downScaleSize,threshold){if(!img||!img.width||!img.height)return!1;var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),size=downScaleSize||32;threshold=threshold||20,canvas.width=canvas.height=size,ctx.drawImage(img,0,0,size,size);for(var srcData=ctx.getImageData(0,0,size,size),i=0;i<srcData.data.length;i+=4){var r=srcData.data[i],g=srcData.data[i+1],b=srcData.data[i+2];if(Math.abs(r-g)+Math.abs(g-b)>threshold)return!1}return!0},_fetchTexture:function(path,onsuccess,onerror){vendor.Z.request.get({url:path,responseType:"arraybuffer",onload:onsuccess,onerror})},createChessboard:function(size,unitSize,color1,color2){size=size||512,unitSize=unitSize||64,color1=color1||"black",color2=color2||"white";var repeat=Math.ceil(size/unitSize),canvas=document.createElement("canvas");canvas.width=size,canvas.height=size;var ctx=canvas.getContext("2d");ctx.fillStyle=color2,ctx.fillRect(0,0,size,size),ctx.fillStyle=color1;for(var i=0;i<repeat;i++)for(var j=0;j<repeat;j++){(j%2?i%2:i%2-1)&&ctx.fillRect(i*unitSize,j*unitSize,unitSize,unitSize)}return new Texture2D.Z({image:canvas,anisotropic:8})},createBlank:function(color){var canvas=document.createElement("canvas");canvas.width=1,canvas.height=1;var ctx=canvas.getContext("2d");return ctx.fillStyle=color,ctx.fillRect(0,0,1,1),new Texture2D.Z({image:canvas})}};const texture=textureUtil},"./node_modules/date-fns/esm/parse/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>parse});var esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js");function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}var defaultLocale=__webpack_require__("./node_modules/date-fns/esm/_lib/defaultLocale/index.js"),subMilliseconds=__webpack_require__("./node_modules/date-fns/esm/subMilliseconds/index.js"),toDate=__webpack_require__("./node_modules/date-fns/esm/toDate/index.js");function assign_assign(target,object){if(null==target)throw new TypeError("assign requires that input parameter not be null or undefined");for(var property in object)Object.prototype.hasOwnProperty.call(object,property)&&(target[property]=object[property]);return target}var longFormatters=__webpack_require__("./node_modules/date-fns/esm/_lib/format/longFormatters/index.js"),getTimezoneOffsetInMilliseconds=__webpack_require__("./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),protectedTokens=__webpack_require__("./node_modules/date-fns/esm/_lib/protectedTokens/index.js"),toInteger=__webpack_require__("./node_modules/date-fns/esm/_lib/toInteger/index.js"),requiredArgs=__webpack_require__("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===(0,esm_typeof.Z)(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}(this,result)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==(0,esm_typeof.Z)(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==(0,esm_typeof.Z)(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===(0,esm_typeof.Z)(key)?key:String(key)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Setter=function(){function Setter(){_classCallCheck(this,Setter),_defineProperty(this,"priority",void 0),_defineProperty(this,"subPriority",0)}return _createClass(Setter,[{key:"validate",value:function validate(_utcDate,_options){return!0}}]),Setter}(),ValueSetter=function(_Setter){_inherits(ValueSetter,_Setter);var _super=_createSuper(ValueSetter);function ValueSetter(value,validateValue,setValue,priority,subPriority){var _this;return _classCallCheck(this,ValueSetter),(_this=_super.call(this)).value=value,_this.validateValue=validateValue,_this.setValue=setValue,_this.priority=priority,subPriority&&(_this.subPriority=subPriority),_this}return _createClass(ValueSetter,[{key:"validate",value:function validate(utcDate,options){return this.validateValue(utcDate,this.value,options)}},{key:"set",value:function set(utcDate,flags,options){return this.setValue(utcDate,flags,this.value,options)}}]),ValueSetter}(Setter),DateToSystemTimezoneSetter=function(_Setter2){_inherits(DateToSystemTimezoneSetter,_Setter2);var _super2=_createSuper(DateToSystemTimezoneSetter);function DateToSystemTimezoneSetter(){var _this2;_classCallCheck(this,DateToSystemTimezoneSetter);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this2=_super2.call.apply(_super2,[this].concat(args))),"priority",10),_defineProperty(_assertThisInitialized(_this2),"subPriority",-1),_this2}return _createClass(DateToSystemTimezoneSetter,[{key:"set",value:function set(date,flags){if(flags.timestampIsSet)return date;var convertedDate=new Date(0);return convertedDate.setFullYear(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate()),convertedDate.setHours(date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds()),convertedDate}}]),DateToSystemTimezoneSetter}(Setter),Parser=function(){function Parser(){_classCallCheck(this,Parser),_defineProperty(this,"incompatibleTokens",void 0),_defineProperty(this,"priority",void 0),_defineProperty(this,"subPriority",void 0)}return _createClass(Parser,[{key:"run",value:function run(dateString,token,match,options){var result=this.parse(dateString,token,match,options);return result?{setter:new ValueSetter(result.value,this.validate,this.set,this.priority,this.subPriority),rest:result.rest}:null}},{key:"validate",value:function validate(_utcDate,_value,_options){return!0}}]),Parser}(),EraParser=function(_Parser){_inherits(EraParser,_Parser);var _super=_createSuper(EraParser);function EraParser(){var _this;_classCallCheck(this,EraParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",140),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["R","u","t","T"]),_this}return _createClass(EraParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"G":case"GG":case"GGG":return match.era(dateString,{width:"abbreviated"})||match.era(dateString,{width:"narrow"});case"GGGGG":return match.era(dateString,{width:"narrow"});default:return match.era(dateString,{width:"wide"})||match.era(dateString,{width:"abbreviated"})||match.era(dateString,{width:"narrow"})}}},{key:"set",value:function set(date,flags,value){return flags.era=value,date.setUTCFullYear(value,0,1),date.setUTCHours(0,0,0,0),date}}]),EraParser}(Parser),numericPatterns_month=(Math.pow(10,8),/^(1[0-2]|0?\d)/),numericPatterns_date=/^(3[0-1]|[0-2]?\d)/,numericPatterns_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,numericPatterns_week=/^(5[0-3]|[0-4]?\d)/,numericPatterns_hour23h=/^(2[0-3]|[0-1]?\d)/,numericPatterns_hour24h=/^(2[0-4]|[0-1]?\d)/,numericPatterns_hour11h=/^(1[0-1]|0?\d)/,numericPatterns_hour12h=/^(1[0-2]|0?\d)/,numericPatterns_minute=/^[0-5]?\d/,numericPatterns_second=/^[0-5]?\d/,numericPatterns_singleDigit=/^\d/,numericPatterns_twoDigits=/^\d{1,2}/,numericPatterns_threeDigits=/^\d{1,3}/,numericPatterns_fourDigits=/^\d{1,4}/,numericPatterns_anyDigitsSigned=/^-?\d+/,numericPatterns_singleDigitSigned=/^-?\d/,numericPatterns_twoDigitsSigned=/^-?\d{1,2}/,numericPatterns_threeDigitsSigned=/^-?\d{1,3}/,numericPatterns_fourDigitsSigned=/^-?\d{1,4}/,timezonePatterns_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,timezonePatterns_basic=/^([+-])(\d{2})(\d{2})|Z/,timezonePatterns_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,timezonePatterns_extended=/^([+-])(\d{2}):(\d{2})|Z/,timezonePatterns_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function mapValue(parseFnResult,mapFn){return parseFnResult?{value:mapFn(parseFnResult.value),rest:parseFnResult.rest}:parseFnResult}function parseNumericPattern(pattern,dateString){var matchResult=dateString.match(pattern);return matchResult?{value:parseInt(matchResult[0],10),rest:dateString.slice(matchResult[0].length)}:null}function parseTimezonePattern(pattern,dateString){var matchResult=dateString.match(pattern);return matchResult?"Z"===matchResult[0]?{value:0,rest:dateString.slice(1)}:{value:("+"===matchResult[1]?1:-1)*(36e5*(matchResult[2]?parseInt(matchResult[2],10):0)+6e4*(matchResult[3]?parseInt(matchResult[3],10):0)+1e3*(matchResult[5]?parseInt(matchResult[5],10):0)),rest:dateString.slice(matchResult[0].length)}:null}function parseAnyDigitsSigned(dateString){return parseNumericPattern(numericPatterns_anyDigitsSigned,dateString)}function parseNDigits(n,dateString){switch(n){case 1:return parseNumericPattern(numericPatterns_singleDigit,dateString);case 2:return parseNumericPattern(numericPatterns_twoDigits,dateString);case 3:return parseNumericPattern(numericPatterns_threeDigits,dateString);case 4:return parseNumericPattern(numericPatterns_fourDigits,dateString);default:return parseNumericPattern(new RegExp("^\\d{1,"+n+"}"),dateString)}}function parseNDigitsSigned(n,dateString){switch(n){case 1:return parseNumericPattern(numericPatterns_singleDigitSigned,dateString);case 2:return parseNumericPattern(numericPatterns_twoDigitsSigned,dateString);case 3:return parseNumericPattern(numericPatterns_threeDigitsSigned,dateString);case 4:return parseNumericPattern(numericPatterns_fourDigitsSigned,dateString);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+n+"}"),dateString)}}function dayPeriodEnumToHours(dayPeriod){switch(dayPeriod){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function normalizeTwoDigitYear(twoDigitYear,currentYear){var result,isCommonEra=currentYear>0,absCurrentYear=isCommonEra?currentYear:1-currentYear;if(absCurrentYear<=50)result=twoDigitYear||100;else{var rangeEnd=absCurrentYear+50;result=twoDigitYear+100*Math.floor(rangeEnd/100)-(twoDigitYear>=rangeEnd%100?100:0)}return isCommonEra?result:1-result}function isLeapYearIndex(year){return year%400==0||year%4==0&&year%100!=0}var YearParser=function(_Parser){_inherits(YearParser,_Parser);var _super=_createSuper(YearParser);function YearParser(){var _this;_classCallCheck(this,YearParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",130),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),_this}return _createClass(YearParser,[{key:"parse",value:function parse(dateString,token,match){var valueCallback=function valueCallback(year){return{year,isTwoDigitYear:"yy"===token}};switch(token){case"y":return mapValue(parseNDigits(4,dateString),valueCallback);case"yo":return mapValue(match.ordinalNumber(dateString,{unit:"year"}),valueCallback);default:return mapValue(parseNDigits(token.length,dateString),valueCallback)}}},{key:"validate",value:function validate(_date,value){return value.isTwoDigitYear||value.year>0}},{key:"set",value:function set(date,flags,value){var currentYear=date.getUTCFullYear();if(value.isTwoDigitYear){var normalizedTwoDigitYear=normalizeTwoDigitYear(value.year,currentYear);return date.setUTCFullYear(normalizedTwoDigitYear,0,1),date.setUTCHours(0,0,0,0),date}var year="era"in flags&&1!==flags.era?1-value.year:value.year;return date.setUTCFullYear(year,0,1),date.setUTCHours(0,0,0,0),date}}]),YearParser}(Parser),getUTCWeekYear=__webpack_require__("./node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js"),startOfUTCWeek=__webpack_require__("./node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js"),LocalWeekYearParser=function(_Parser){_inherits(LocalWeekYearParser,_Parser);var _super=_createSuper(LocalWeekYearParser);function LocalWeekYearParser(){var _this;_classCallCheck(this,LocalWeekYearParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",130),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),_this}return _createClass(LocalWeekYearParser,[{key:"parse",value:function parse(dateString,token,match){var valueCallback=function valueCallback(year){return{year,isTwoDigitYear:"YY"===token}};switch(token){case"Y":return mapValue(parseNDigits(4,dateString),valueCallback);case"Yo":return mapValue(match.ordinalNumber(dateString,{unit:"year"}),valueCallback);default:return mapValue(parseNDigits(token.length,dateString),valueCallback)}}},{key:"validate",value:function validate(_date,value){return value.isTwoDigitYear||value.year>0}},{key:"set",value:function set(date,flags,value,options){var currentYear=(0,getUTCWeekYear.Z)(date,options);if(value.isTwoDigitYear){var normalizedTwoDigitYear=normalizeTwoDigitYear(value.year,currentYear);return date.setUTCFullYear(normalizedTwoDigitYear,0,options.firstWeekContainsDate),date.setUTCHours(0,0,0,0),(0,startOfUTCWeek.Z)(date,options)}var year="era"in flags&&1!==flags.era?1-value.year:value.year;return date.setUTCFullYear(year,0,options.firstWeekContainsDate),date.setUTCHours(0,0,0,0),(0,startOfUTCWeek.Z)(date,options)}}]),LocalWeekYearParser}(Parser),startOfUTCISOWeek=__webpack_require__("./node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js"),ISOWeekYearParser=function(_Parser){_inherits(ISOWeekYearParser,_Parser);var _super=_createSuper(ISOWeekYearParser);function ISOWeekYearParser(){var _this;_classCallCheck(this,ISOWeekYearParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",130),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),_this}return _createClass(ISOWeekYearParser,[{key:"parse",value:function parse(dateString,token){return parseNDigitsSigned("R"===token?4:token.length,dateString)}},{key:"set",value:function set(_date,_flags,value){var firstWeekOfYear=new Date(0);return firstWeekOfYear.setUTCFullYear(value,0,4),firstWeekOfYear.setUTCHours(0,0,0,0),(0,startOfUTCISOWeek.Z)(firstWeekOfYear)}}]),ISOWeekYearParser}(Parser),ExtendedYearParser=function(_Parser){_inherits(ExtendedYearParser,_Parser);var _super=_createSuper(ExtendedYearParser);function ExtendedYearParser(){var _this;_classCallCheck(this,ExtendedYearParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",130),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),_this}return _createClass(ExtendedYearParser,[{key:"parse",value:function parse(dateString,token){return parseNDigitsSigned("u"===token?4:token.length,dateString)}},{key:"set",value:function set(date,_flags,value){return date.setUTCFullYear(value,0,1),date.setUTCHours(0,0,0,0),date}}]),ExtendedYearParser}(Parser),QuarterParser=function(_Parser){_inherits(QuarterParser,_Parser);var _super=_createSuper(QuarterParser);function QuarterParser(){var _this;_classCallCheck(this,QuarterParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",120),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),_this}return _createClass(QuarterParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"Q":case"QQ":return parseNDigits(token.length,dateString);case"Qo":return match.ordinalNumber(dateString,{unit:"quarter"});case"QQQ":return match.quarter(dateString,{width:"abbreviated",context:"formatting"})||match.quarter(dateString,{width:"narrow",context:"formatting"});case"QQQQQ":return match.quarter(dateString,{width:"narrow",context:"formatting"});default:return match.quarter(dateString,{width:"wide",context:"formatting"})||match.quarter(dateString,{width:"abbreviated",context:"formatting"})||match.quarter(dateString,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=4}},{key:"set",value:function set(date,_flags,value){return date.setUTCMonth(3*(value-1),1),date.setUTCHours(0,0,0,0),date}}]),QuarterParser}(Parser),StandAloneQuarterParser=function(_Parser){_inherits(StandAloneQuarterParser,_Parser);var _super=_createSuper(StandAloneQuarterParser);function StandAloneQuarterParser(){var _this;_classCallCheck(this,StandAloneQuarterParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",120),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),_this}return _createClass(StandAloneQuarterParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"q":case"qq":return parseNDigits(token.length,dateString);case"qo":return match.ordinalNumber(dateString,{unit:"quarter"});case"qqq":return match.quarter(dateString,{width:"abbreviated",context:"standalone"})||match.quarter(dateString,{width:"narrow",context:"standalone"});case"qqqqq":return match.quarter(dateString,{width:"narrow",context:"standalone"});default:return match.quarter(dateString,{width:"wide",context:"standalone"})||match.quarter(dateString,{width:"abbreviated",context:"standalone"})||match.quarter(dateString,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=4}},{key:"set",value:function set(date,_flags,value){return date.setUTCMonth(3*(value-1),1),date.setUTCHours(0,0,0,0),date}}]),StandAloneQuarterParser}(Parser),MonthParser=function(_Parser){_inherits(MonthParser,_Parser);var _super=_createSuper(MonthParser);function MonthParser(){var _this;_classCallCheck(this,MonthParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_defineProperty(_assertThisInitialized(_this),"priority",110),_this}return _createClass(MonthParser,[{key:"parse",value:function parse(dateString,token,match){var valueCallback=function valueCallback(value){return value-1};switch(token){case"M":return mapValue(parseNumericPattern(numericPatterns_month,dateString),valueCallback);case"MM":return mapValue(parseNDigits(2,dateString),valueCallback);case"Mo":return mapValue(match.ordinalNumber(dateString,{unit:"month"}),valueCallback);case"MMM":return match.month(dateString,{width:"abbreviated",context:"formatting"})||match.month(dateString,{width:"narrow",context:"formatting"});case"MMMMM":return match.month(dateString,{width:"narrow",context:"formatting"});default:return match.month(dateString,{width:"wide",context:"formatting"})||match.month(dateString,{width:"abbreviated",context:"formatting"})||match.month(dateString,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=11}},{key:"set",value:function set(date,_flags,value){return date.setUTCMonth(value,1),date.setUTCHours(0,0,0,0),date}}]),MonthParser}(Parser),StandAloneMonthParser=function(_Parser){_inherits(StandAloneMonthParser,_Parser);var _super=_createSuper(StandAloneMonthParser);function StandAloneMonthParser(){var _this;_classCallCheck(this,StandAloneMonthParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",110),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),_this}return _createClass(StandAloneMonthParser,[{key:"parse",value:function parse(dateString,token,match){var valueCallback=function valueCallback(value){return value-1};switch(token){case"L":return mapValue(parseNumericPattern(numericPatterns_month,dateString),valueCallback);case"LL":return mapValue(parseNDigits(2,dateString),valueCallback);case"Lo":return mapValue(match.ordinalNumber(dateString,{unit:"month"}),valueCallback);case"LLL":return match.month(dateString,{width:"abbreviated",context:"standalone"})||match.month(dateString,{width:"narrow",context:"standalone"});case"LLLLL":return match.month(dateString,{width:"narrow",context:"standalone"});default:return match.month(dateString,{width:"wide",context:"standalone"})||match.month(dateString,{width:"abbreviated",context:"standalone"})||match.month(dateString,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=11}},{key:"set",value:function set(date,_flags,value){return date.setUTCMonth(value,1),date.setUTCHours(0,0,0,0),date}}]),StandAloneMonthParser}(Parser),getUTCWeek=__webpack_require__("./node_modules/date-fns/esm/_lib/getUTCWeek/index.js");var LocalWeekParser=function(_Parser){_inherits(LocalWeekParser,_Parser);var _super=_createSuper(LocalWeekParser);function LocalWeekParser(){var _this;_classCallCheck(this,LocalWeekParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",100),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),_this}return _createClass(LocalWeekParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"w":return parseNumericPattern(numericPatterns_week,dateString);case"wo":return match.ordinalNumber(dateString,{unit:"week"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=53}},{key:"set",value:function set(date,_flags,value,options){return(0,startOfUTCWeek.Z)(function setUTCWeek(dirtyDate,dirtyWeek,options){(0,requiredArgs.Z)(2,arguments);var date=(0,toDate.Z)(dirtyDate),week=(0,toInteger.Z)(dirtyWeek),diff=(0,getUTCWeek.Z)(date,options)-week;return date.setUTCDate(date.getUTCDate()-7*diff),date}(date,value,options),options)}}]),LocalWeekParser}(Parser),getUTCISOWeek=__webpack_require__("./node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js");var ISOWeekParser=function(_Parser){_inherits(ISOWeekParser,_Parser);var _super=_createSuper(ISOWeekParser);function ISOWeekParser(){var _this;_classCallCheck(this,ISOWeekParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",100),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),_this}return _createClass(ISOWeekParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"I":return parseNumericPattern(numericPatterns_week,dateString);case"Io":return match.ordinalNumber(dateString,{unit:"week"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=53}},{key:"set",value:function set(date,_flags,value){return(0,startOfUTCISOWeek.Z)(function setUTCISOWeek(dirtyDate,dirtyISOWeek){(0,requiredArgs.Z)(2,arguments);var date=(0,toDate.Z)(dirtyDate),isoWeek=(0,toInteger.Z)(dirtyISOWeek),diff=(0,getUTCISOWeek.Z)(date)-isoWeek;return date.setUTCDate(date.getUTCDate()-7*diff),date}(date,value))}}]),ISOWeekParser}(Parser),DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31],DateParser=function(_Parser){_inherits(DateParser,_Parser);var _super=_createSuper(DateParser);function DateParser(){var _this;_classCallCheck(this,DateParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",90),_defineProperty(_assertThisInitialized(_this),"subPriority",1),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),_this}return _createClass(DateParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"d":return parseNumericPattern(numericPatterns_date,dateString);case"do":return match.ordinalNumber(dateString,{unit:"date"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(date,value){var isLeapYear=isLeapYearIndex(date.getUTCFullYear()),month=date.getUTCMonth();return isLeapYear?value>=1&&value<=DAYS_IN_MONTH_LEAP_YEAR[month]:value>=1&&value<=DAYS_IN_MONTH[month]}},{key:"set",value:function set(date,_flags,value){return date.setUTCDate(value),date.setUTCHours(0,0,0,0),date}}]),DateParser}(Parser),DayOfYearParser=function(_Parser){_inherits(DayOfYearParser,_Parser);var _super=_createSuper(DayOfYearParser);function DayOfYearParser(){var _this;_classCallCheck(this,DayOfYearParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",90),_defineProperty(_assertThisInitialized(_this),"subpriority",1),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),_this}return _createClass(DayOfYearParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"D":case"DD":return parseNumericPattern(numericPatterns_dayOfYear,dateString);case"Do":return match.ordinalNumber(dateString,{unit:"date"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(date,value){return isLeapYearIndex(date.getUTCFullYear())?value>=1&&value<=366:value>=1&&value<=365}},{key:"set",value:function set(date,_flags,value){return date.setUTCMonth(0,value),date.setUTCHours(0,0,0,0),date}}]),DayOfYearParser}(Parser),_lib_defaultOptions=__webpack_require__("./node_modules/date-fns/esm/_lib/defaultOptions/index.js");function setUTCDay(dirtyDate,dirtyDay,options){var _ref,_ref2,_ref3,_options$weekStartsOn,_options$locale,_options$locale$optio,_defaultOptions$local,_defaultOptions$local2;(0,requiredArgs.Z)(2,arguments);var defaultOptions=(0,_lib_defaultOptions.j)(),weekStartsOn=(0,toInteger.Z)(null!==(_ref=null!==(_ref2=null!==(_ref3=null!==(_options$weekStartsOn=null==options?void 0:options.weekStartsOn)&&void 0!==_options$weekStartsOn?_options$weekStartsOn:null==options||null===(_options$locale=options.locale)||void 0===_options$locale||null===(_options$locale$optio=_options$locale.options)||void 0===_options$locale$optio?void 0:_options$locale$optio.weekStartsOn)&&void 0!==_ref3?_ref3:defaultOptions.weekStartsOn)&&void 0!==_ref2?_ref2:null===(_defaultOptions$local=defaultOptions.locale)||void 0===_defaultOptions$local||null===(_defaultOptions$local2=_defaultOptions$local.options)||void 0===_defaultOptions$local2?void 0:_defaultOptions$local2.weekStartsOn)&&void 0!==_ref?_ref:0);if(!(weekStartsOn>=0&&weekStartsOn<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var date=(0,toDate.Z)(dirtyDate),day=(0,toInteger.Z)(dirtyDay),diff=((day%7+7)%7<weekStartsOn?7:0)+day-date.getUTCDay();return date.setUTCDate(date.getUTCDate()+diff),date}var DayParser=function(_Parser){_inherits(DayParser,_Parser);var _super=_createSuper(DayParser);function DayParser(){var _this;_classCallCheck(this,DayParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",90),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["D","i","e","c","t","T"]),_this}return _createClass(DayParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"E":case"EE":case"EEE":return match.day(dateString,{width:"abbreviated",context:"formatting"})||match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"});case"EEEEE":return match.day(dateString,{width:"narrow",context:"formatting"});case"EEEEEE":return match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"});default:return match.day(dateString,{width:"wide",context:"formatting"})||match.day(dateString,{width:"abbreviated",context:"formatting"})||match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=6}},{key:"set",value:function set(date,_flags,value,options){return(date=setUTCDay(date,value,options)).setUTCHours(0,0,0,0),date}}]),DayParser}(Parser),LocalDayParser=function(_Parser){_inherits(LocalDayParser,_Parser);var _super=_createSuper(LocalDayParser);function LocalDayParser(){var _this;_classCallCheck(this,LocalDayParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",90),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),_this}return _createClass(LocalDayParser,[{key:"parse",value:function parse(dateString,token,match,options){var valueCallback=function valueCallback(value){var wholeWeekDays=7*Math.floor((value-1)/7);return(value+options.weekStartsOn+6)%7+wholeWeekDays};switch(token){case"e":case"ee":return mapValue(parseNDigits(token.length,dateString),valueCallback);case"eo":return mapValue(match.ordinalNumber(dateString,{unit:"day"}),valueCallback);case"eee":return match.day(dateString,{width:"abbreviated",context:"formatting"})||match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"});case"eeeee":return match.day(dateString,{width:"narrow",context:"formatting"});case"eeeeee":return match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"});default:return match.day(dateString,{width:"wide",context:"formatting"})||match.day(dateString,{width:"abbreviated",context:"formatting"})||match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=6}},{key:"set",value:function set(date,_flags,value,options){return(date=setUTCDay(date,value,options)).setUTCHours(0,0,0,0),date}}]),LocalDayParser}(Parser),StandAloneLocalDayParser=function(_Parser){_inherits(StandAloneLocalDayParser,_Parser);var _super=_createSuper(StandAloneLocalDayParser);function StandAloneLocalDayParser(){var _this;_classCallCheck(this,StandAloneLocalDayParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",90),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),_this}return _createClass(StandAloneLocalDayParser,[{key:"parse",value:function parse(dateString,token,match,options){var valueCallback=function valueCallback(value){var wholeWeekDays=7*Math.floor((value-1)/7);return(value+options.weekStartsOn+6)%7+wholeWeekDays};switch(token){case"c":case"cc":return mapValue(parseNDigits(token.length,dateString),valueCallback);case"co":return mapValue(match.ordinalNumber(dateString,{unit:"day"}),valueCallback);case"ccc":return match.day(dateString,{width:"abbreviated",context:"standalone"})||match.day(dateString,{width:"short",context:"standalone"})||match.day(dateString,{width:"narrow",context:"standalone"});case"ccccc":return match.day(dateString,{width:"narrow",context:"standalone"});case"cccccc":return match.day(dateString,{width:"short",context:"standalone"})||match.day(dateString,{width:"narrow",context:"standalone"});default:return match.day(dateString,{width:"wide",context:"standalone"})||match.day(dateString,{width:"abbreviated",context:"standalone"})||match.day(dateString,{width:"short",context:"standalone"})||match.day(dateString,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=6}},{key:"set",value:function set(date,_flags,value,options){return(date=setUTCDay(date,value,options)).setUTCHours(0,0,0,0),date}}]),StandAloneLocalDayParser}(Parser);var ISODayParser=function(_Parser){_inherits(ISODayParser,_Parser);var _super=_createSuper(ISODayParser);function ISODayParser(){var _this;_classCallCheck(this,ISODayParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",90),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),_this}return _createClass(ISODayParser,[{key:"parse",value:function parse(dateString,token,match){var valueCallback=function valueCallback(value){return 0===value?7:value};switch(token){case"i":case"ii":return parseNDigits(token.length,dateString);case"io":return match.ordinalNumber(dateString,{unit:"day"});case"iii":return mapValue(match.day(dateString,{width:"abbreviated",context:"formatting"})||match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"}),valueCallback);case"iiiii":return mapValue(match.day(dateString,{width:"narrow",context:"formatting"}),valueCallback);case"iiiiii":return mapValue(match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"}),valueCallback);default:return mapValue(match.day(dateString,{width:"wide",context:"formatting"})||match.day(dateString,{width:"abbreviated",context:"formatting"})||match.day(dateString,{width:"short",context:"formatting"})||match.day(dateString,{width:"narrow",context:"formatting"}),valueCallback)}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=7}},{key:"set",value:function set(date,_flags,value){return date=function setUTCISODay(dirtyDate,dirtyDay){(0,requiredArgs.Z)(2,arguments);var day=(0,toInteger.Z)(dirtyDay);day%7==0&&(day-=7);var date=(0,toDate.Z)(dirtyDate),diff=((day%7+7)%7<1?7:0)+day-date.getUTCDay();return date.setUTCDate(date.getUTCDate()+diff),date}(date,value),date.setUTCHours(0,0,0,0),date}}]),ISODayParser}(Parser),AMPMParser=function(_Parser){_inherits(AMPMParser,_Parser);var _super=_createSuper(AMPMParser);function AMPMParser(){var _this;_classCallCheck(this,AMPMParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",80),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["b","B","H","k","t","T"]),_this}return _createClass(AMPMParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"a":case"aa":case"aaa":return match.dayPeriod(dateString,{width:"abbreviated",context:"formatting"})||match.dayPeriod(dateString,{width:"narrow",context:"formatting"});case"aaaaa":return match.dayPeriod(dateString,{width:"narrow",context:"formatting"});default:return match.dayPeriod(dateString,{width:"wide",context:"formatting"})||match.dayPeriod(dateString,{width:"abbreviated",context:"formatting"})||match.dayPeriod(dateString,{width:"narrow",context:"formatting"})}}},{key:"set",value:function set(date,_flags,value){return date.setUTCHours(dayPeriodEnumToHours(value),0,0,0),date}}]),AMPMParser}(Parser),AMPMMidnightParser=function(_Parser){_inherits(AMPMMidnightParser,_Parser);var _super=_createSuper(AMPMMidnightParser);function AMPMMidnightParser(){var _this;_classCallCheck(this,AMPMMidnightParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",80),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["a","B","H","k","t","T"]),_this}return _createClass(AMPMMidnightParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"b":case"bb":case"bbb":return match.dayPeriod(dateString,{width:"abbreviated",context:"formatting"})||match.dayPeriod(dateString,{width:"narrow",context:"formatting"});case"bbbbb":return match.dayPeriod(dateString,{width:"narrow",context:"formatting"});default:return match.dayPeriod(dateString,{width:"wide",context:"formatting"})||match.dayPeriod(dateString,{width:"abbreviated",context:"formatting"})||match.dayPeriod(dateString,{width:"narrow",context:"formatting"})}}},{key:"set",value:function set(date,_flags,value){return date.setUTCHours(dayPeriodEnumToHours(value),0,0,0),date}}]),AMPMMidnightParser}(Parser),DayPeriodParser=function(_Parser){_inherits(DayPeriodParser,_Parser);var _super=_createSuper(DayPeriodParser);function DayPeriodParser(){var _this;_classCallCheck(this,DayPeriodParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",80),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["a","b","t","T"]),_this}return _createClass(DayPeriodParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"B":case"BB":case"BBB":return match.dayPeriod(dateString,{width:"abbreviated",context:"formatting"})||match.dayPeriod(dateString,{width:"narrow",context:"formatting"});case"BBBBB":return match.dayPeriod(dateString,{width:"narrow",context:"formatting"});default:return match.dayPeriod(dateString,{width:"wide",context:"formatting"})||match.dayPeriod(dateString,{width:"abbreviated",context:"formatting"})||match.dayPeriod(dateString,{width:"narrow",context:"formatting"})}}},{key:"set",value:function set(date,_flags,value){return date.setUTCHours(dayPeriodEnumToHours(value),0,0,0),date}}]),DayPeriodParser}(Parser),Hour1to12Parser=function(_Parser){_inherits(Hour1to12Parser,_Parser);var _super=_createSuper(Hour1to12Parser);function Hour1to12Parser(){var _this;_classCallCheck(this,Hour1to12Parser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",70),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["H","K","k","t","T"]),_this}return _createClass(Hour1to12Parser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"h":return parseNumericPattern(numericPatterns_hour12h,dateString);case"ho":return match.ordinalNumber(dateString,{unit:"hour"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=12}},{key:"set",value:function set(date,_flags,value){var isPM=date.getUTCHours()>=12;return isPM&&value<12?date.setUTCHours(value+12,0,0,0):isPM||12!==value?date.setUTCHours(value,0,0,0):date.setUTCHours(0,0,0,0),date}}]),Hour1to12Parser}(Parser),Hour0to23Parser=function(_Parser){_inherits(Hour0to23Parser,_Parser);var _super=_createSuper(Hour0to23Parser);function Hour0to23Parser(){var _this;_classCallCheck(this,Hour0to23Parser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",70),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["a","b","h","K","k","t","T"]),_this}return _createClass(Hour0to23Parser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"H":return parseNumericPattern(numericPatterns_hour23h,dateString);case"Ho":return match.ordinalNumber(dateString,{unit:"hour"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=23}},{key:"set",value:function set(date,_flags,value){return date.setUTCHours(value,0,0,0),date}}]),Hour0to23Parser}(Parser),Hour0To11Parser=function(_Parser){_inherits(Hour0To11Parser,_Parser);var _super=_createSuper(Hour0To11Parser);function Hour0To11Parser(){var _this;_classCallCheck(this,Hour0To11Parser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",70),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["h","H","k","t","T"]),_this}return _createClass(Hour0To11Parser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"K":return parseNumericPattern(numericPatterns_hour11h,dateString);case"Ko":return match.ordinalNumber(dateString,{unit:"hour"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=11}},{key:"set",value:function set(date,_flags,value){return date.getUTCHours()>=12&&value<12?date.setUTCHours(value+12,0,0,0):date.setUTCHours(value,0,0,0),date}}]),Hour0To11Parser}(Parser),Hour1To24Parser=function(_Parser){_inherits(Hour1To24Parser,_Parser);var _super=_createSuper(Hour1To24Parser);function Hour1To24Parser(){var _this;_classCallCheck(this,Hour1To24Parser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",70),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["a","b","h","H","K","t","T"]),_this}return _createClass(Hour1To24Parser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"k":return parseNumericPattern(numericPatterns_hour24h,dateString);case"ko":return match.ordinalNumber(dateString,{unit:"hour"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=1&&value<=24}},{key:"set",value:function set(date,_flags,value){var hours=value<=24?value%24:value;return date.setUTCHours(hours,0,0,0),date}}]),Hour1To24Parser}(Parser),MinuteParser=function(_Parser){_inherits(MinuteParser,_Parser);var _super=_createSuper(MinuteParser);function MinuteParser(){var _this;_classCallCheck(this,MinuteParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",60),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["t","T"]),_this}return _createClass(MinuteParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"m":return parseNumericPattern(numericPatterns_minute,dateString);case"mo":return match.ordinalNumber(dateString,{unit:"minute"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=59}},{key:"set",value:function set(date,_flags,value){return date.setUTCMinutes(value,0,0),date}}]),MinuteParser}(Parser),SecondParser=function(_Parser){_inherits(SecondParser,_Parser);var _super=_createSuper(SecondParser);function SecondParser(){var _this;_classCallCheck(this,SecondParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",50),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["t","T"]),_this}return _createClass(SecondParser,[{key:"parse",value:function parse(dateString,token,match){switch(token){case"s":return parseNumericPattern(numericPatterns_second,dateString);case"so":return match.ordinalNumber(dateString,{unit:"second"});default:return parseNDigits(token.length,dateString)}}},{key:"validate",value:function validate(_date,value){return value>=0&&value<=59}},{key:"set",value:function set(date,_flags,value){return date.setUTCSeconds(value,0),date}}]),SecondParser}(Parser),FractionOfSecondParser=function(_Parser){_inherits(FractionOfSecondParser,_Parser);var _super=_createSuper(FractionOfSecondParser);function FractionOfSecondParser(){var _this;_classCallCheck(this,FractionOfSecondParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",30),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["t","T"]),_this}return _createClass(FractionOfSecondParser,[{key:"parse",value:function parse(dateString,token){return mapValue(parseNDigits(token.length,dateString),(function valueCallback(value){return Math.floor(value*Math.pow(10,3-token.length))}))}},{key:"set",value:function set(date,_flags,value){return date.setUTCMilliseconds(value),date}}]),FractionOfSecondParser}(Parser),ISOTimezoneWithZParser=function(_Parser){_inherits(ISOTimezoneWithZParser,_Parser);var _super=_createSuper(ISOTimezoneWithZParser);function ISOTimezoneWithZParser(){var _this;_classCallCheck(this,ISOTimezoneWithZParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",10),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["t","T","x"]),_this}return _createClass(ISOTimezoneWithZParser,[{key:"parse",value:function parse(dateString,token){switch(token){case"X":return parseTimezonePattern(timezonePatterns_basicOptionalMinutes,dateString);case"XX":return parseTimezonePattern(timezonePatterns_basic,dateString);case"XXXX":return parseTimezonePattern(timezonePatterns_basicOptionalSeconds,dateString);case"XXXXX":return parseTimezonePattern(timezonePatterns_extendedOptionalSeconds,dateString);default:return parseTimezonePattern(timezonePatterns_extended,dateString)}}},{key:"set",value:function set(date,flags,value){return flags.timestampIsSet?date:new Date(date.getTime()-value)}}]),ISOTimezoneWithZParser}(Parser),ISOTimezoneParser=function(_Parser){_inherits(ISOTimezoneParser,_Parser);var _super=_createSuper(ISOTimezoneParser);function ISOTimezoneParser(){var _this;_classCallCheck(this,ISOTimezoneParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",10),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens",["t","T","X"]),_this}return _createClass(ISOTimezoneParser,[{key:"parse",value:function parse(dateString,token){switch(token){case"x":return parseTimezonePattern(timezonePatterns_basicOptionalMinutes,dateString);case"xx":return parseTimezonePattern(timezonePatterns_basic,dateString);case"xxxx":return parseTimezonePattern(timezonePatterns_basicOptionalSeconds,dateString);case"xxxxx":return parseTimezonePattern(timezonePatterns_extendedOptionalSeconds,dateString);default:return parseTimezonePattern(timezonePatterns_extended,dateString)}}},{key:"set",value:function set(date,flags,value){return flags.timestampIsSet?date:new Date(date.getTime()-value)}}]),ISOTimezoneParser}(Parser),TimestampSecondsParser=function(_Parser){_inherits(TimestampSecondsParser,_Parser);var _super=_createSuper(TimestampSecondsParser);function TimestampSecondsParser(){var _this;_classCallCheck(this,TimestampSecondsParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",40),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens","*"),_this}return _createClass(TimestampSecondsParser,[{key:"parse",value:function parse(dateString){return parseAnyDigitsSigned(dateString)}},{key:"set",value:function set(_date,_flags,value){return[new Date(1e3*value),{timestampIsSet:!0}]}}]),TimestampSecondsParser}(Parser),TimestampMillisecondsParser=function(_Parser){_inherits(TimestampMillisecondsParser,_Parser);var _super=_createSuper(TimestampMillisecondsParser);function TimestampMillisecondsParser(){var _this;_classCallCheck(this,TimestampMillisecondsParser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"priority",20),_defineProperty(_assertThisInitialized(_this),"incompatibleTokens","*"),_this}return _createClass(TimestampMillisecondsParser,[{key:"parse",value:function parse(dateString){return parseAnyDigitsSigned(dateString)}},{key:"set",value:function set(_date,_flags,value){return[new Date(value),{timestampIsSet:!0}]}}]),TimestampMillisecondsParser}(Parser),parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(dirtyDateString,dirtyFormatString,dirtyReferenceDate,options){var _ref,_options$locale,_ref2,_ref3,_ref4,_options$firstWeekCon,_options$locale2,_options$locale2$opti,_defaultOptions$local,_defaultOptions$local2,_ref5,_ref6,_ref7,_options$weekStartsOn,_options$locale3,_options$locale3$opti,_defaultOptions$local3,_defaultOptions$local4;(0,requiredArgs.Z)(3,arguments);var dateString=String(dirtyDateString),formatString=String(dirtyFormatString),defaultOptions=(0,_lib_defaultOptions.j)(),locale=null!==(_ref=null!==(_options$locale=null==options?void 0:options.locale)&&void 0!==_options$locale?_options$locale:defaultOptions.locale)&&void 0!==_ref?_ref:defaultLocale.Z;if(!locale.match)throw new RangeError("locale must contain match property");var firstWeekContainsDate=(0,toInteger.Z)(null!==(_ref2=null!==(_ref3=null!==(_ref4=null!==(_options$firstWeekCon=null==options?void 0:options.firstWeekContainsDate)&&void 0!==_options$firstWeekCon?_options$firstWeekCon:null==options||null===(_options$locale2=options.locale)||void 0===_options$locale2||null===(_options$locale2$opti=_options$locale2.options)||void 0===_options$locale2$opti?void 0:_options$locale2$opti.firstWeekContainsDate)&&void 0!==_ref4?_ref4:defaultOptions.firstWeekContainsDate)&&void 0!==_ref3?_ref3:null===(_defaultOptions$local=defaultOptions.locale)||void 0===_defaultOptions$local||null===(_defaultOptions$local2=_defaultOptions$local.options)||void 0===_defaultOptions$local2?void 0:_defaultOptions$local2.firstWeekContainsDate)&&void 0!==_ref2?_ref2:1);if(!(firstWeekContainsDate>=1&&firstWeekContainsDate<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var weekStartsOn=(0,toInteger.Z)(null!==(_ref5=null!==(_ref6=null!==(_ref7=null!==(_options$weekStartsOn=null==options?void 0:options.weekStartsOn)&&void 0!==_options$weekStartsOn?_options$weekStartsOn:null==options||null===(_options$locale3=options.locale)||void 0===_options$locale3||null===(_options$locale3$opti=_options$locale3.options)||void 0===_options$locale3$opti?void 0:_options$locale3$opti.weekStartsOn)&&void 0!==_ref7?_ref7:defaultOptions.weekStartsOn)&&void 0!==_ref6?_ref6:null===(_defaultOptions$local3=defaultOptions.locale)||void 0===_defaultOptions$local3||null===(_defaultOptions$local4=_defaultOptions$local3.options)||void 0===_defaultOptions$local4?void 0:_defaultOptions$local4.weekStartsOn)&&void 0!==_ref5?_ref5:0);if(!(weekStartsOn>=0&&weekStartsOn<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===formatString)return""===dateString?(0,toDate.Z)(dirtyReferenceDate):new Date(NaN);var _step,subFnOptions={firstWeekContainsDate,weekStartsOn,locale},setters=[new DateToSystemTimezoneSetter],tokens=formatString.match(longFormattingTokensRegExp).map((function(substring){var firstCharacter=substring[0];return firstCharacter in longFormatters.Z?(0,longFormatters.Z[firstCharacter])(substring,locale.formatLong):substring})).join("").match(formattingTokensRegExp),usedTokens=[],_iterator=_createForOfIteratorHelper(tokens);try{var _loop=function _loop(){var token=_step.value;null!=options&&options.useAdditionalWeekYearTokens||!(0,protectedTokens.Do)(token)||(0,protectedTokens.qp)(token,formatString,dirtyDateString),null!=options&&options.useAdditionalDayOfYearTokens||!(0,protectedTokens.Iu)(token)||(0,protectedTokens.qp)(token,formatString,dirtyDateString);var firstCharacter=token[0],parser=parsers[firstCharacter];if(parser){var incompatibleTokens=parser.incompatibleTokens;if(Array.isArray(incompatibleTokens)){var incompatibleToken=usedTokens.find((function(usedToken){return incompatibleTokens.includes(usedToken.token)||usedToken.token===firstCharacter}));if(incompatibleToken)throw new RangeError("The format string mustn't contain `".concat(incompatibleToken.fullToken,"` and `").concat(token,"` at the same time"))}else if("*"===parser.incompatibleTokens&&usedTokens.length>0)throw new RangeError("The format string mustn't contain `".concat(token,"` and any other token at the same time"));usedTokens.push({token:firstCharacter,fullToken:token});var parseResult=parser.run(dateString,token,locale.match,subFnOptions);if(!parseResult)return{v:new Date(NaN)};setters.push(parseResult.setter),dateString=parseResult.rest}else{if(firstCharacter.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+firstCharacter+"`");if("''"===token?token="'":"'"===firstCharacter&&(token=function cleanEscapedString(input){return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}(token)),0!==dateString.indexOf(token))return{v:new Date(NaN)};dateString=dateString.slice(token.length)}};for(_iterator.s();!(_step=_iterator.n()).done;){var _ret=_loop();if("object"===(0,esm_typeof.Z)(_ret))return _ret.v}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(dateString.length>0&&notWhitespaceRegExp.test(dateString))return new Date(NaN);var uniquePrioritySetters=setters.map((function(setter){return setter.priority})).sort((function(a,b){return b-a})).filter((function(priority,index,array){return array.indexOf(priority)===index})).map((function(priority){return setters.filter((function(setter){return setter.priority===priority})).sort((function(a,b){return b.subPriority-a.subPriority}))})).map((function(setterArray){return setterArray[0]})),date=(0,toDate.Z)(dirtyReferenceDate);if(isNaN(date.getTime()))return new Date(NaN);var _step2,utcDate=(0,subMilliseconds.Z)(date,(0,getTimezoneOffsetInMilliseconds.Z)(date)),flags={},_iterator2=_createForOfIteratorHelper(uniquePrioritySetters);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var setter=_step2.value;if(!setter.validate(utcDate,subFnOptions))return new Date(NaN);var result=setter.set(utcDate,flags,subFnOptions);Array.isArray(result)?(utcDate=result[0],assign_assign(flags,result[1])):utcDate=result}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return utcDate}},"./node_modules/echarts-gl/lib/chart/bar3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),Vector3=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),vec3=glmatrix.Z.vec3,isDimensionStacked=echarts._y.dataStack.isDimensionStacked;const bar3D_cartesian3DLayout=function cartesian3DLayout(seriesModel,coordSys){var data=seriesModel.getData(),barSize=seriesModel.get("barSize");if(null==barSize){var barWidth,barDepth,size=coordSys.size,xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");barWidth="category"===xAxis.type?.7*xAxis.getBandWidth():.6*Math.round(size[0]/Math.sqrt(data.count())),barDepth="category"===yAxis.type?.7*yAxis.getBandWidth():.6*Math.round(size[1]/Math.sqrt(data.count())),barSize=[barWidth,barDepth]}else echarts.D5.isArray(barSize)||(barSize=[barSize,barSize]);var zAxisExtent=coordSys.getAxis("z").scale.getExtent(),ifZAxisCrossZero=function ifCrossZero(extent){var min=extent[0],max=extent[1];return!(min>0&&max>0||min<0&&max<0)}(zAxisExtent),dims=["x","y","z"].map((function(coordDimName){return seriesModel.coordDimToDataDim(coordDimName)[0]})),isStacked=isDimensionStacked(data,dims[2]),valueDim=isStacked?data.getCalculationInfo("stackResultDimension"):dims[2];data.each(dims,(function(x,y,z,idx){var stackedValue=data.get(valueDim,idx),baseValue=isStacked?stackedValue-z:ifZAxisCrossZero?0:zAxisExtent[0],start=coordSys.dataToPoint([x,y,baseValue]),end=coordSys.dataToPoint([x,y,stackedValue]),height=vec3.dist(start,end),dir=[0,end[1]<start[1]?-1:1,0];0===Math.abs(height)&&(height=.1);var size=[barSize[0],height,barSize[1]];data.setItemLayout(idx,[start,dir,size])})),data.setLayout("orient",[1,0,0])};function evaluateBarSparseness(data,dimX,dimY){for(var xExtent=data.getDataExtent(dimX),yExtent=data.getDataExtent(dimY),xSpan=xExtent[1]-xExtent[0]||xExtent[0],ySpan=yExtent[1]-yExtent[0]||yExtent[0],tmp=new Uint8Array(2500),i=0;i<data.count();i++){var x=data.get(dimX,i),y=data.get(dimY,i),xIdx=Math.floor((x-xExtent[0])/xSpan*49),idx=50*Math.floor((y-yExtent[0])/ySpan*49)+xIdx;tmp[idx]=tmp[idx]||1}var filledCount=0;for(i=0;i<tmp.length;i++)tmp[i]&&filledCount++;return filledCount/tmp.length}var bar3DLayout_vec3=glmatrix.Z.vec3,bar3DLayout_isDimensionStacked=echarts._y.dataStack.isDimensionStacked;function getValueDimension(data,dataDims){var isStacked=bar3DLayout_isDimensionStacked(data,dataDims[2]);return{dimension:isStacked?data.getCalculationInfo("stackResultDimension"):dataDims[2],isStacked}}function registerBarLayout(registers){registers.registerLayout((function(ecModel,api){ecModel.eachSeriesByType("bar3D",(function(seriesModel){var coordSys=seriesModel.coordinateSystem,coordSysType=coordSys&&coordSys.type;"globe"===coordSysType?function globeLayout(seriesModel,coordSys){var data=seriesModel.getData(),barMinHeight=seriesModel.get("minHeight")||0,barSize=seriesModel.get("barSize"),dims=["lng","lat","alt"].map((function(coordDimName){return seriesModel.coordDimToDataDim(coordDimName)[0]}));if(null==barSize){var perimeter=coordSys.radius*Math.PI,fillRatio=evaluateBarSparseness(data,dims[0],dims[1]);barSize=[perimeter/Math.sqrt(data.count()/fillRatio),perimeter/Math.sqrt(data.count()/fillRatio)]}else echarts.D5.isArray(barSize)||(barSize=[barSize,barSize]);var valueDim=getValueDimension(data,dims);data.each(dims,(function(lng,lat,val,idx){var stackedValue=data.get(valueDim.dimension,idx),baseValue=valueDim.isStacked?stackedValue-val:coordSys.altitudeAxis.scale.getExtent()[0],height=Math.max(coordSys.altitudeAxis.dataToCoord(val),barMinHeight),start=coordSys.dataToPoint([lng,lat,baseValue]),end=coordSys.dataToPoint([lng,lat,stackedValue]),dir=bar3DLayout_vec3.sub([],end,start);bar3DLayout_vec3.normalize(dir,dir);var size=[barSize[0],height,barSize[1]];data.setItemLayout(idx,[start,dir,size])})),data.setLayout("orient",Vector3.Z.UP.array)}(seriesModel,coordSys):"cartesian3D"===coordSysType?bar3D_cartesian3DLayout(seriesModel,coordSys):"geo3D"===coordSysType?function geo3DLayout(seriesModel,coordSys){var data=seriesModel.getData(),barSize=seriesModel.get("barSize"),barMinHeight=seriesModel.get("minHeight")||0,dims=["lng","lat","alt"].map((function(coordDimName){return seriesModel.coordDimToDataDim(coordDimName)[0]}));if(null==barSize){var size=Math.min(coordSys.size[0],coordSys.size[2]),fillRatio=evaluateBarSparseness(data,dims[0],dims[1]);barSize=[size/Math.sqrt(data.count()/fillRatio),size/Math.sqrt(data.count()/fillRatio)]}else echarts.D5.isArray(barSize)||(barSize=[barSize,barSize]);var dir=[0,1,0],valueDim=getValueDimension(data,dims);data.each(dims,(function(lng,lat,val,idx){var stackedValue=data.get(valueDim.dimension,idx),baseValue=valueDim.isStacked?stackedValue-val:coordSys.altitudeAxis.scale.getExtent()[0],height=Math.max(coordSys.altitudeAxis.dataToCoord(val),barMinHeight),start=coordSys.dataToPoint([lng,lat,baseValue]),size=[barSize[0],height,barSize[1]];data.setItemLayout(idx,[start,dir,size])})),data.setLayout("orient",[1,0,0])}(seriesModel,coordSys):("mapbox3D"===coordSysType||"maptalks3D"===coordSysType)&&function mapService3DLayout(seriesModel,coordSys){var data=seriesModel.getData(),dimLng=seriesModel.coordDimToDataDim("lng")[0],dimLat=seriesModel.coordDimToDataDim("lat")[0],dimAlt=seriesModel.coordDimToDataDim("alt")[0],barSize=seriesModel.get("barSize"),barMinHeight=seriesModel.get("minHeight")||0;if(null==barSize){var xExtent=data.getDataExtent(dimLng),yExtent=data.getDataExtent(dimLat),corner0=coordSys.dataToPoint([xExtent[0],yExtent[0]]),corner1=coordSys.dataToPoint([xExtent[1],yExtent[1]]),size=Math.min(Math.abs(corner0[0]-corner1[0]),Math.abs(corner0[1]-corner1[1]))||1,fillRatio=evaluateBarSparseness(data,dimLng,dimLat);barSize=[size/Math.sqrt(data.count()/fillRatio),size/Math.sqrt(data.count()/fillRatio)]}else echarts.D5.isArray(barSize)||(barSize=[barSize,barSize]),barSize[0]/=coordSys.getScale()/16,barSize[1]/=coordSys.getScale()/16;var dir=[0,0,1],dims=[dimLng,dimLat,dimAlt],valueDim=getValueDimension(data,dims);data.each(dims,(function(lng,lat,val,idx){var stackedValue=data.get(valueDim.dimension,idx),baseValue=valueDim.isStacked?stackedValue-val:0,start=coordSys.dataToPoint([lng,lat,baseValue]),end=coordSys.dataToPoint([lng,lat,stackedValue]),height=Math.max(end[2]-start[2],barMinHeight),size=[barSize[0],height,barSize[1]];data.setItemLayout(idx,[start,dir,size])})),data.setLayout("orient",[1,0,0])}(seriesModel,coordSys)}))}))}var componentShadingMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js"),format=__webpack_require__("./node_modules/echarts-gl/lib/util/format.js"),formatTooltip=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/formatTooltip.js"),createList=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/createList.js"),Bar3DSeries=echarts.wJ.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(option,ecModel){return(0,createList.Z)(this)},getFormattedLabel:function(dataIndex,status,dataType,dimIndex){var text=format.Z.getFormattedLabel(this,dataIndex,status,dataType,dimIndex);return null==text&&(text=this.getData().get("z",dataIndex)),text},formatTooltip:function(dataIndex){return(0,formatTooltip.Z)(this,dataIndex)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});echarts.D5.merge(Bar3DSeries.prototype,componentShadingMixin.Z);const bar3D_Bar3DSeries=Bar3DSeries;var px,py,pz,rotateMat,bevelStartSize,xOffsets,zOffsets,yOffsets,graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),dynamicConvertMixin=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/dynamicConvertMixin.js"),trianglesSortMixin=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/trianglesSortMixin.js"),Geometry=__webpack_require__("./node_modules/claygl/src/Geometry.js"),Bars3DGeometry_vec3=glmatrix.Z.vec3,mat3=glmatrix.Z.mat3,BarsGeometry=Geometry.Z.extend((function(){return{attributes:{position:new Geometry.Z.Attribute("position","float",3,"POSITION"),normal:new Geometry.Z.Attribute("normal","float",3,"NORMAL"),color:new Geometry.Z.Attribute("color","float",4,"COLOR"),prevPosition:new Geometry.Z.Attribute("prevPosition","float",3),prevNormal:new Geometry.Z.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(barCount){var enableNormal=this.enableNormal,vertexCount=this.getBarVertexCount()*barCount,triangleCount=this.getBarTriangleCount()*barCount;this.vertexCount!==vertexCount&&(this.attributes.position.init(vertexCount),enableNormal?this.attributes.normal.init(vertexCount):this.attributes.normal.value=null,this.attributes.color.init(vertexCount)),this.triangleCount!==triangleCount&&(this.indices=vertexCount>65535?new Uint32Array(3*triangleCount):new Uint16Array(3*triangleCount),this._dataIndices=new Uint32Array(vertexCount))},getBarVertexCount:function(){var bevelSegments=this.bevelSize>0?this.bevelSegments:0;return bevelSegments>0?this._getBevelBarVertexCount(bevelSegments):this.enableNormal?24:8},getBarTriangleCount:function(){var bevelSegments=this.bevelSize>0?this.bevelSegments:0;return bevelSegments>0?this._getBevelBarTriangleCount(bevelSegments):12},_getBevelBarVertexCount:function(bevelSegments){return 4*(bevelSegments+1)*(bevelSegments+1)*2},_getBevelBarTriangleCount:function(bevelSegments){return(4*bevelSegments+3+1)*(2*bevelSegments+1)*2+4},setColor:function(idx,color){for(var vertexCount=this.getBarVertexCount(),end=vertexCount*(idx+1),i=vertexCount*idx;i<end;i++)this.attributes.color.set(i,color);this.dirtyAttribute("color")},getDataIndexOfVertex:function(vertexIndex){return this._dataIndices?this._dataIndices[vertexIndex]:null},addBar:function(){for(var v3Create=Bars3DGeometry_vec3.create,v3ScaleAndAdd=Bars3DGeometry_vec3.scaleAndAdd,end=v3Create(),px=v3Create(),py=v3Create(),pz=v3Create(),nx=v3Create(),ny=v3Create(),nz=v3Create(),pts=[],normals=[],i=0;i<8;i++)pts[i]=v3Create();var cubeFaces4=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],face4To3=[0,1,2,0,2,3],cubeFaces3=[];for(i=0;i<cubeFaces4.length;i++)for(var face4=cubeFaces4[i],j=0;j<2;j++){for(var face=[],k=0;k<3;k++)face.push(face4[face4To3[3*j+k]]);cubeFaces3.push(face)}return function(start,dir,leftDir,size,color,dataIndex){var startVertex=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(start,dir,leftDir,size,this.bevelSize,this.bevelSegments,color);else{Bars3DGeometry_vec3.copy(py,dir),Bars3DGeometry_vec3.normalize(py,py),Bars3DGeometry_vec3.cross(pz,leftDir,py),Bars3DGeometry_vec3.normalize(pz,pz),Bars3DGeometry_vec3.cross(px,py,pz),Bars3DGeometry_vec3.normalize(pz,pz),Bars3DGeometry_vec3.negate(nx,px),Bars3DGeometry_vec3.negate(ny,py),Bars3DGeometry_vec3.negate(nz,pz),v3ScaleAndAdd(pts[0],start,px,size[0]/2),v3ScaleAndAdd(pts[0],pts[0],pz,size[2]/2),v3ScaleAndAdd(pts[1],start,px,size[0]/2),v3ScaleAndAdd(pts[1],pts[1],nz,size[2]/2),v3ScaleAndAdd(pts[2],start,nx,size[0]/2),v3ScaleAndAdd(pts[2],pts[2],nz,size[2]/2),v3ScaleAndAdd(pts[3],start,nx,size[0]/2),v3ScaleAndAdd(pts[3],pts[3],pz,size[2]/2),v3ScaleAndAdd(end,start,py,size[1]),v3ScaleAndAdd(pts[4],end,px,size[0]/2),v3ScaleAndAdd(pts[4],pts[4],pz,size[2]/2),v3ScaleAndAdd(pts[5],end,px,size[0]/2),v3ScaleAndAdd(pts[5],pts[5],nz,size[2]/2),v3ScaleAndAdd(pts[6],end,nx,size[0]/2),v3ScaleAndAdd(pts[6],pts[6],nz,size[2]/2),v3ScaleAndAdd(pts[7],end,nx,size[0]/2),v3ScaleAndAdd(pts[7],pts[7],pz,size[2]/2);var attributes=this.attributes;if(this.enableNormal){normals[0]=px,normals[1]=nx,normals[2]=py,normals[3]=ny,normals[4]=pz,normals[5]=nz;for(var vertexOffset=this._vertexOffset,i=0;i<cubeFaces4.length;i++){for(var idx3=3*this._triangleOffset,k=0;k<6;k++)this.indices[idx3++]=vertexOffset+face4To3[k];vertexOffset+=4,this._triangleOffset+=2}for(i=0;i<cubeFaces4.length;i++){var normal=normals[i];for(k=0;k<4;k++){var idx=cubeFaces4[i][k];attributes.position.set(this._vertexOffset,pts[idx]),attributes.normal.set(this._vertexOffset,normal),attributes.color.set(this._vertexOffset++,color)}}}else{for(i=0;i<cubeFaces3.length;i++){for(idx3=3*this._triangleOffset,k=0;k<3;k++)this.indices[idx3+k]=cubeFaces3[i][k]+this._vertexOffset;this._triangleOffset++}for(i=0;i<pts.length;i++)attributes.position.set(this._vertexOffset,pts[i]),attributes.color.set(this._vertexOffset++,color)}}var endVerex=this._vertexOffset;for(i=startVertex;i<endVerex;i++)this._dataIndices[i]=dataIndex}}(),_addBevelBar:(px=Bars3DGeometry_vec3.create(),py=Bars3DGeometry_vec3.create(),pz=Bars3DGeometry_vec3.create(),rotateMat=mat3.create(),bevelStartSize=[],xOffsets=[1,-1,-1,1],zOffsets=[1,1,-1,-1],yOffsets=[2,0],function(start,dir,leftDir,size,bevelSize,bevelSegments,color){Bars3DGeometry_vec3.copy(py,dir),Bars3DGeometry_vec3.normalize(py,py),Bars3DGeometry_vec3.cross(pz,leftDir,py),Bars3DGeometry_vec3.normalize(pz,pz),Bars3DGeometry_vec3.cross(px,py,pz),Bars3DGeometry_vec3.normalize(pz,pz),rotateMat[0]=px[0],rotateMat[1]=px[1],rotateMat[2]=px[2],rotateMat[3]=py[0],rotateMat[4]=py[1],rotateMat[5]=py[2],rotateMat[6]=pz[0],rotateMat[7]=pz[1],rotateMat[8]=pz[2],bevelSize=Math.min(size[0],size[2])/2*bevelSize;for(var i=0;i<3;i++)bevelStartSize[i]=Math.max(size[i]-2*bevelSize,0);var rx=(size[0]-bevelStartSize[0])/2,ry=(size[1]-bevelStartSize[1])/2,rz=(size[2]-bevelStartSize[2])/2,pos=[],normal=[],vertexOffset=this._vertexOffset,endIndices=[];for(i=0;i<2;i++){endIndices[i]=endIndices[i]=[];for(var m=0;m<=bevelSegments;m++)for(var j=0;j<4;j++){(0===m&&0===i||1===i&&m===bevelSegments)&&endIndices[i].push(vertexOffset);for(var n=0;n<=bevelSegments;n++){var phi=n/bevelSegments*Math.PI/2+Math.PI/2*j,theta=m/bevelSegments*Math.PI/2+Math.PI/2*i;normal[0]=rx*Math.cos(phi)*Math.sin(theta),normal[1]=ry*Math.cos(theta),normal[2]=rz*Math.sin(phi)*Math.sin(theta),pos[0]=normal[0]+xOffsets[j]*bevelStartSize[0]/2,pos[1]=normal[1]+ry+yOffsets[i]*bevelStartSize[1]/2,pos[2]=normal[2]+zOffsets[j]*bevelStartSize[2]/2,Math.abs(rx-ry)<1e-6&&Math.abs(ry-rz)<1e-6||(normal[0]/=rx*rx,normal[1]/=ry*ry,normal[2]/=rz*rz),Bars3DGeometry_vec3.normalize(normal,normal),Bars3DGeometry_vec3.transformMat3(pos,pos,rotateMat),Bars3DGeometry_vec3.transformMat3(normal,normal,rotateMat),Bars3DGeometry_vec3.add(pos,pos,start),this.attributes.position.set(vertexOffset,pos),this.enableNormal&&this.attributes.normal.set(vertexOffset,normal),this.attributes.color.set(vertexOffset,color),vertexOffset++}}}var widthSegments=4*bevelSegments+3,heightSegments=2*bevelSegments+1,len=widthSegments+1;for(j=0;j<heightSegments;j++)for(i=0;i<=widthSegments;i++){var i2=j*len+i+this._vertexOffset,i1=j*len+(i+1)%len+this._vertexOffset,i4=(j+1)*len+(i+1)%len+this._vertexOffset,i3=(j+1)*len+i+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[i4,i2,i1]),this.setTriangleIndices(this._triangleOffset++,[i4,i3,i2])}this.setTriangleIndices(this._triangleOffset++,[endIndices[0][0],endIndices[0][2],endIndices[0][1]]),this.setTriangleIndices(this._triangleOffset++,[endIndices[0][0],endIndices[0][3],endIndices[0][2]]),this.setTriangleIndices(this._triangleOffset++,[endIndices[1][0],endIndices[1][1],endIndices[1][2]]),this.setTriangleIndices(this._triangleOffset++,[endIndices[1][0],endIndices[1][2],endIndices[1][3]]),this._vertexOffset=vertexOffset})});echarts.D5.defaults(BarsGeometry.prototype,dynamicConvertMixin.Z),echarts.D5.defaults(BarsGeometry.prototype,trianglesSortMixin.Z);const Bars3DGeometry=BarsGeometry;var LabelsBuilder=__webpack_require__("./node_modules/echarts-gl/lib/component/common/LabelsBuilder.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),Bar3DView_vec3=glmatrix.Z.vec3;const Bar3DView=echarts.TA.extend({type:"bar3D",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this._api=api,this._labelsBuilder=new LabelsBuilder.Z(256,256,api);var self=this;this._labelsBuilder.getLabelPosition=function(dataIndex,position,distance){if(self._data){var layout=self._data.getItemLayout(dataIndex),start=layout[0],dir=layout[1],height=layout[2][1];return Bar3DView_vec3.scaleAndAdd([],start,dir,distance+height)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(seriesModel,ecModel,api){var tmp=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=tmp,this._barMesh||(this._barMesh=new graphicGL.Z.Mesh({geometry:new Bars3DGeometry,shadowDepthMaterial:new graphicGL.Z.Material({shader:new graphicGL.Z.Shader(graphicGL.Z.Shader.source("ecgl.sm.depth.vertex"),graphicGL.Z.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===seriesModel.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var coordSys=seriesModel.coordinateSystem;if(this._doRender(seriesModel,api),coordSys&&coordSys.viewGL){coordSys.viewGL.add(this.groupGL);var methodName=coordSys.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[methodName]("fragment","SRGB_DECODE")}this._data=seriesModel.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(seriesModel)},_updateAnimation:function(seriesModel){graphicGL.Z.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,seriesModel)},_doRender:function(seriesModel,api){var data=seriesModel.getData(),shading=seriesModel.get("shading"),enableNormal="color"!==shading,self=this,barMesh=this._barMesh,shadingPrefix="ecgl."+shading;barMesh.material&&barMesh.material.shader.name===shadingPrefix||(barMesh.material=graphicGL.Z.createMaterial(shadingPrefix,["VERTEX_COLOR"])),graphicGL.Z.setMaterialFromModel(shading,barMesh.material,seriesModel,api),barMesh.geometry.enableNormal=enableNormal,barMesh.geometry.resetOffset();var bevelSize=seriesModel.get("bevelSize"),bevelSegments=seriesModel.get("bevelSmoothness");barMesh.geometry.bevelSegments=bevelSegments,barMesh.geometry.bevelSize=bevelSize;var colorArr=[],vertexColors=new Float32Array(4*data.count()),colorOffset=0,barCount=0,hasTransparent=!1;data.each((function(idx){if(data.hasValue(idx)){var color=(0,visual.BM)(data,idx),opacity=(0,visual.Jk)(data,idx);null==opacity&&(opacity=1),graphicGL.Z.parseColor(color,colorArr),colorArr[3]*=opacity,vertexColors[colorOffset++]=colorArr[0],vertexColors[colorOffset++]=colorArr[1],vertexColors[colorOffset++]=colorArr[2],vertexColors[colorOffset++]=colorArr[3],colorArr[3]>0&&(barCount++,colorArr[3]<.99&&(hasTransparent=!0))}})),barMesh.geometry.setBarCount(barCount);var orient=data.getLayout("orient"),barIndexOfData=this._barIndexOfData=new Int32Array(data.count());barCount=0;data.each((function(idx){if(data.hasValue(idx)){var layout=data.getItemLayout(idx),start=layout[0],dir=layout[1],size=layout[2],idx4=4*idx;colorArr[0]=vertexColors[idx4++],colorArr[1]=vertexColors[idx4++],colorArr[2]=vertexColors[idx4++],colorArr[3]=vertexColors[idx4++],colorArr[3]>0&&(self._barMesh.geometry.addBar(start,dir,orient,size,colorArr,idx),barIndexOfData[idx]=barCount++)}else barIndexOfData[idx]=-1})),barMesh.geometry.dirty(),barMesh.geometry.updateBoundingBox();var material=barMesh.material;material.transparent=hasTransparent,material.depthMask=!hasTransparent,barMesh.geometry.sortTriangles=hasTransparent,this._initHandler(seriesModel,api)},_initHandler:function(seriesModel,api){var data=seriesModel.getData(),barMesh=this._barMesh,isCartesian3D="cartesian3D"===seriesModel.coordinateSystem.type;barMesh.seriesIndex=seriesModel.seriesIndex;var lastDataIndex=-1;barMesh.off("mousemove"),barMesh.off("mouseout"),barMesh.on("mousemove",(function(e){var dataIndex=barMesh.geometry.getDataIndexOfVertex(e.triangle[0]);dataIndex!==lastDataIndex&&(this._downplay(lastDataIndex),this._highlight(dataIndex),this._labelsBuilder.updateLabels([dataIndex]),isCartesian3D&&api.dispatchAction({type:"grid3DShowAxisPointer",value:[data.get("x",dataIndex),data.get("y",dataIndex),data.get("z",dataIndex,!0)]})),lastDataIndex=dataIndex,barMesh.dataIndex=dataIndex}),this),barMesh.on("mouseout",(function(e){this._downplay(lastDataIndex),this._labelsBuilder.updateLabels(),lastDataIndex=-1,barMesh.dataIndex=-1,isCartesian3D&&api.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(dataIndex){var data=this._data;if(data){var barIndex=this._barIndexOfData[dataIndex];if(!(barIndex<0)){var emphasisItemStyleModel=data.getItemModel(dataIndex).getModel("emphasis.itemStyle"),emphasisColor=emphasisItemStyleModel.get("color"),emphasisOpacity=emphasisItemStyleModel.get("opacity");if(null==emphasisColor){var color=(0,visual.BM)(data,dataIndex);emphasisColor=echarts.$_.lift(color,-.4)}null==emphasisOpacity&&(emphasisOpacity=(0,visual.Jk)(data,dataIndex));var colorArr=graphicGL.Z.parseColor(emphasisColor);colorArr[3]*=emphasisOpacity,this._barMesh.geometry.setColor(barIndex,colorArr),this._api.getZr().refresh()}}},_downplay:function(dataIndex){var data=this._data;if(data){var barIndex=this._barIndexOfData[dataIndex];if(!(barIndex<0)){var color=(0,visual.BM)(data,dataIndex),opacity=(0,visual.Jk)(data,dataIndex),colorArr=graphicGL.Z.parseColor(color);colorArr[3]*=opacity,this._barMesh.geometry.setColor(barIndex,colorArr),this._api.getZr().refresh()}}},highlight:function(seriesModel,ecModel,api,payload){this._toggleStatus("highlight",seriesModel,ecModel,api,payload)},downplay:function(seriesModel,ecModel,api,payload){this._toggleStatus("downplay",seriesModel,ecModel,api,payload)},_toggleStatus:function(status,seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=retrieve.Z.queryDataIndex(data,payload),self=this;null!=dataIndex?echarts.D5.each(format.Z.normalizeToArray(dataIndex),(function(dataIdx){"highlight"===status?this._highlight(dataIdx):this._downplay(dataIdx)}),this):data.each((function(dataIdx){"highlight"===status?self._highlight(dataIdx):self._downplay(dataIdx)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});function install(registers){registers.registerChartView(Bar3DView),registers.registerSeriesModel(bar3D_Bar3DSeries),registerBarLayout(registers),registers.registerProcessor((function(ecModel,api){ecModel.eachSeriesByType("bar3d",(function(seriesModel){var data=seriesModel.getData();data.filterSelf((function(idx){return data.hasValue(idx)}))}))}))}},"./node_modules/echarts-gl/lib/chart/common/GLViewHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>common_GLViewHelper});var vector=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/core/vector.js");function GLViewHelper(viewGL){this.viewGL=viewGL}GLViewHelper.prototype.reset=function(seriesModel,api){this._updateCamera(api.getWidth(),api.getHeight(),api.getDevicePixelRatio()),this._viewTransform=[1,0,0,1,0,0],this.updateTransform(seriesModel,api)},GLViewHelper.prototype.updateTransform=function(seriesModel,api){var coordinateSystem=seriesModel.coordinateSystem;coordinateSystem.getRoamTransform&&(!function invert(out,a){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}(this._viewTransform,coordinateSystem.getRoamTransform()),this._setCameraTransform(this._viewTransform),api.getZr().refresh())},GLViewHelper.prototype.dataToPoint=function(coordSys,data,pt){pt=coordSys.dataToPoint(data,null,pt);var viewTransform=this._viewTransform;viewTransform&&vector.Ne(pt,pt,viewTransform)},GLViewHelper.prototype.removeTransformInPoint=function(pt){return this._viewTransform&&vector.Ne(pt,pt,this._viewTransform),pt},GLViewHelper.prototype.getZoom=function(){if(this._viewTransform){var m=this._viewTransform;return 1/Math.max(Math.sqrt(m[0]*m[0]+m[1]*m[1]),Math.sqrt(m[2]*m[2]+m[3]*m[3]))}return 1},GLViewHelper.prototype._setCameraTransform=function(m){var camera=this.viewGL.camera;camera.position.set(m[4],m[5],0),camera.scale.set(Math.sqrt(m[0]*m[0]+m[1]*m[1]),Math.sqrt(m[2]*m[2]+m[3]*m[3]),1)},GLViewHelper.prototype._updateCamera=function(width,height,dpr){this.viewGL.setViewport(0,0,width,height,dpr);var camera=this.viewGL.camera;camera.left=camera.top=0,camera.bottom=height,camera.right=width,camera.near=0,camera.far=100};const common_GLViewHelper=GLViewHelper},"./node_modules/echarts-gl/lib/chart/common/PointsBuilder.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>common_PointsBuilder});var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js");function makeSprite(size,canvas,draw){(canvas=canvas||document.createElement("canvas")).width=size,canvas.height=size;var ctx=canvas.getContext("2d");return draw&&draw(ctx),canvas}var spriteUtil={getMarginByStyle:function(style){var minMargin=style.minMargin||0,lineWidth=0;style.stroke&&"none"!==style.stroke&&(lineWidth=null==style.lineWidth?1:style.lineWidth);var shadowBlurSize=style.shadowBlur||0,shadowOffsetX=style.shadowOffsetX||0,shadowOffsetY=style.shadowOffsetY||0,margin={};return margin.left=Math.max(lineWidth/2,-shadowOffsetX+shadowBlurSize,minMargin),margin.right=Math.max(lineWidth/2,shadowOffsetX+shadowBlurSize,minMargin),margin.top=Math.max(lineWidth/2,-shadowOffsetY+shadowBlurSize,minMargin),margin.bottom=Math.max(lineWidth/2,shadowOffsetY+shadowBlurSize,minMargin),margin},createSymbolSprite:function(symbol,symbolSize,style,canvas){var path=function makePath(symbol,symbolSize,style,marginBias){echarts.D5.isArray(symbolSize)||(symbolSize=[symbolSize,symbolSize]);var margin=spriteUtil.getMarginByStyle(style,marginBias),width=symbolSize[0]+margin.left+margin.right,height=symbolSize[1]+margin.top+margin.bottom,path=echarts._y.createSymbol(symbol,0,0,symbolSize[0],symbolSize[1]),size=Math.max(width,height);path.x=margin.left,path.y=margin.top,width>height?path.y+=(size-height)/2:path.x+=(size-width)/2;var rect=path.getBoundingRect();return path.x-=rect.x,path.y-=rect.y,path.setStyle(style),path.update(),path.__size=size,path}(symbol,symbolSize,style),margin=spriteUtil.getMarginByStyle(style);return{image:makeSprite(path.__size,canvas,(function(ctx){echarts.z$(ctx,path)})),margin}},createSDFFromCanvas:function(canvas,size,range,outCanvas){return makeSprite(size,outCanvas,(function(outCtx){var imgData=canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height);outCtx.putImageData(function generateSDF(ctx,sourceImageData,range){var sourceWidth=sourceImageData.width,sourceHeight=sourceImageData.height,width=ctx.canvas.width,height=ctx.canvas.height,scaleX=sourceWidth/width,scaleY=sourceHeight/height;function sign(r){return r<128?1:-1}function searchMinDistance(x,y){var minDistSqr=1/0;x=Math.floor(x*scaleX);for(var i=(y=Math.floor(y*scaleY))*sourceWidth+x,a=sign(sourceImageData.data[4*i]),y2=Math.max(y-range,0);y2<Math.min(y+range,sourceHeight);y2++)for(var x2=Math.max(x-range,0);x2<Math.min(x+range,sourceWidth);x2++){i=y2*sourceWidth+x2;var dx=x2-x,dy=y2-y;if(a!==sign(sourceImageData.data[4*i])){var distSqr=dx*dx+dy*dy;distSqr<minDistSqr&&(minDistSqr=distSqr)}}return a*Math.sqrt(minDistSqr)}for(var sdfImageData=ctx.createImageData(width,height),y=0;y<height;y++)for(var x=0;x<width;x++){var normalized=searchMinDistance(x,y)/range*.5+.5,i=4*(y*width+x);sdfImageData.data[i++]=255*(1-normalized),sdfImageData.data[i++]=255*(1-normalized),sdfImageData.data[i++]=255*(1-normalized),sdfImageData.data[i++]=255}return sdfImageData}(outCtx,imgData,range),0,0)}))},createSimpleSprite:function(size,canvas){return makeSprite(size,canvas,(function(ctx){var halfSize=size/2;ctx.beginPath(),ctx.arc(halfSize,halfSize,60,0,2*Math.PI,!1),ctx.closePath();var gradient=ctx.createRadialGradient(halfSize,halfSize,0,halfSize,halfSize,halfSize);gradient.addColorStop(0,"rgba(255, 255, 255, 1)"),gradient.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),gradient.addColorStop(1,"rgba(255, 255, 255, 0)"),ctx.fillStyle=gradient,ctx.fill()}))}};const sprite=spriteUtil;var ProgressiveQuickSort=__webpack_require__("./node_modules/echarts-gl/lib/util/ProgressiveQuickSort.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),vec3=glmatrix.Z.vec3;const verticesSortMixin={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(cameraPos,frame){var indices=this.indices,p=vec3.create();if(!indices){indices=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<indices.length;i++)indices[i]=i}if(0===frame){var firstZ,posAttr=this.attributes.position,noneCount=(cameraPos=cameraPos.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){posAttr.get(i,p);var z=vec3.sqrDist(p,cameraPos);isNaN(z)&&(z=1e7,noneCount++),0===i?(firstZ=z,z=0):z-=firstZ,this._zList[i]=z}this._noneCount=noneCount}if(this.vertexCount<2e4)0===frame&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*frame+i);this.dirtyIndices()},_simpleSort:function(useNativeQuickSort){var zList=this._zList,indices=this.indices;function compare(a,b){return zList[b]-zList[a]}useNativeQuickSort?Array.prototype.sort.call(indices,compare):ProgressiveQuickSort.Z.sort(indices,compare,0,indices.length-1)},_progressiveQuickSort:function(frame){var zList=this._zList,indices=this.indices;this._quickSort=this._quickSort||new ProgressiveQuickSort.Z,this._quickSort.step(indices,(function(a,b){return zList[b]-zList[a]}),frame)}};var vec4=glmatrix.Z.vec4;graphicGL.Z.Shader.import("@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end");const common_PointsMesh=graphicGL.Z.Mesh.extend((function(){var geometry=new graphicGL.Z.Geometry({dynamic:!0,attributes:{color:new graphicGL.Z.Geometry.Attribute("color","float",4,"COLOR"),position:new graphicGL.Z.Geometry.Attribute("position","float",3,"POSITION"),size:new graphicGL.Z.Geometry.Attribute("size","float",1),prevPosition:new graphicGL.Z.Geometry.Attribute("prevPosition","float",3),prevSize:new graphicGL.Z.Geometry.Attribute("prevSize","float",1)}});Object.assign(geometry,verticesSortMixin);var material=new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});material.enableTexture("sprite"),material.define("both","VERTEX_COLOR"),material.define("both","VERTEX_SIZE");var sdfTexture=new graphicGL.Z.Texture2D({image:document.createElement("canvas"),flipY:!1});return material.set("sprite",sdfTexture),geometry.pick=this._pick.bind(this),{geometry,material,mode:graphicGL.Z.Mesh.POINTS,sizeScale:1}}),{_pick:function(x,y,renderer,camera,renderable,out){var positionNDC=this._positionNDC;if(positionNDC)for(var viewport=renderer.viewport,ndcScaleX=2/viewport.width,ndcScaleY=2/viewport.height,i=this.geometry.vertexCount-1;i>=0;i--){var idx,cx=positionNDC[2*(idx=this.geometry.indices?this.geometry.indices[i]:i)],cy=positionNDC[2*idx+1],halfSize=this.geometry.attributes.size.get(idx)/this.sizeScale/2;if(x>cx-halfSize*ndcScaleX&&x<cx+halfSize*ndcScaleX&&y>cy-halfSize*ndcScaleY&&y<cy+halfSize*ndcScaleY){var point=new graphicGL.Z.Vector3,pointWorld=new graphicGL.Z.Vector3;this.geometry.attributes.position.get(idx,point.array),graphicGL.Z.Vector3.transformMat4(pointWorld,point,this.worldTransform),out.push({vertexIndex:idx,point,pointWorld,target:this,distance:pointWorld.distance(camera.getWorldPosition())})}}},updateNDCPosition:function(worldViewProjection,is2D,api){var positionNDC=this._positionNDC,geometry=this.geometry;positionNDC&&positionNDC.length/2===geometry.vertexCount||(positionNDC=this._positionNDC=new Float32Array(2*geometry.vertexCount));for(var pos=vec4.create(),i=0;i<geometry.vertexCount;i++)geometry.attributes.position.get(i,pos),pos[3]=1,vec4.transformMat4(pos,pos,worldViewProjection.array),vec4.scale(pos,pos,1/pos[3]),positionNDC[2*i]=pos[0],positionNDC[2*i+1]=pos[1]}});var LabelsBuilder=__webpack_require__("./node_modules/echarts-gl/lib/component/common/LabelsBuilder.js"),Matrix4=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js");function PointsBuilder(is2D,api){this.rootNode=new graphicGL.Z.Node,this.is2D=is2D,this._labelsBuilder=new LabelsBuilder.Z(256,256,api),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=api,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}PointsBuilder.prototype={constructor:PointsBuilder,highlightOnMouseover:!0,update:function(seriesModel,ecModel,api,start,end){var tmp=this._prevMesh;this._prevMesh=this._mesh,this._mesh=tmp;var data=seriesModel.getData();if(null==start&&(start=0),null==end&&(end=data.count()),this._startDataIndex=start,this._endDataIndex=end-1,!this._mesh){var material=this._prevMesh&&this._prevMesh.material;this._mesh=new common_PointsMesh({renderOrder:10,frustumCulling:!1}),material&&(this._mesh.material=material)}material=this._mesh.material;var geometry=this._mesh.geometry,attributes=geometry.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var symbolInfo=this._getSymbolInfo(seriesModel,start,end),dpr=api.getDevicePixelRatio(),itemStyle=seriesModel.getModel("itemStyle").getItemStyle(),largeMode=seriesModel.get("large"),pointSizeScale=1;symbolInfo.maxSize>2?(pointSizeScale=this._updateSymbolSprite(seriesModel,itemStyle,symbolInfo,dpr),material.enableTexture("sprite")):material.disableTexture("sprite"),attributes.position.init(end-start);var rgbaArr=[];if(largeMode){material.undefine("VERTEX_SIZE"),material.undefine("VERTEX_COLOR");var color=(0,visual.NA)(data),opacity=(0,visual.gj)(data);graphicGL.Z.parseColor(color,rgbaArr),rgbaArr[3]*=opacity,material.set({color:rgbaArr,u_Size:symbolInfo.maxSize*this._sizeScale})}else material.set({color:[1,1,1,1]}),material.define("VERTEX_SIZE"),material.define("VERTEX_COLOR"),attributes.size.init(end-start),attributes.color.init(end-start),this._originalOpacity=new Float32Array(end-start);for(var points=data.getLayout("points"),positionArr=attributes.position.value,i=0;i<end-start;i++){var i3=3*i,i2=2*i;if(this.is2D?(positionArr[i3]=points[i2],positionArr[i3+1]=points[i2+1],positionArr[i3+2]=-10):(positionArr[i3]=points[i3],positionArr[i3+1]=points[i3+1],positionArr[i3+2]=points[i3+2]),!largeMode){color=(0,visual.BM)(data,i),opacity=(0,visual.Jk)(data,i);graphicGL.Z.parseColor(color,rgbaArr),rgbaArr[3]*=opacity,attributes.color.set(i,rgbaArr),rgbaArr[3]<.99&&!0;var symbolSize=data.getItemVisual(i,"symbolSize");symbolSize=symbolSize instanceof Array?Math.max(symbolSize[0],symbolSize[1]):symbolSize,isNaN(symbolSize)&&(symbolSize=0),attributes.size.value[i]=symbolSize*pointSizeScale*this._sizeScale,this._originalOpacity[i]=rgbaArr[3]}}this._mesh.sizeScale=pointSizeScale,geometry.updateBoundingBox(),geometry.dirty(),this._updateMaterial(seriesModel,itemStyle);var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.viewGL&&material[coordSys.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE");largeMode||this._updateLabelBuilder(seriesModel,start,end),this._updateHandler(seriesModel,ecModel,api),this._updateAnimation(seriesModel),this._api=api},getPointsMesh:function(){return this._mesh},updateLabels:function(highlightDataIndices){this._labelsBuilder.updateLabels(highlightDataIndices)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(seriesModel,itemStyle,symbolInfo,dpr){symbolInfo.maxSize=Math.min(2*symbolInfo.maxSize,200);var symbolSize=[];return symbolInfo.aspect>1?(symbolSize[0]=symbolInfo.maxSize,symbolSize[1]=symbolInfo.maxSize/symbolInfo.aspect):(symbolSize[1]=symbolInfo.maxSize,symbolSize[0]=symbolInfo.maxSize*symbolInfo.aspect),symbolSize[0]=symbolSize[0]||1,symbolSize[1]=symbolSize[1]||1,this._symbolType===symbolInfo.type&&function isSymbolSizeSame(a,b){return a&&b&&a[0]===b[0]&&a[1]===b[1]}(this._symbolSize,symbolSize)&&this._lineWidth===itemStyle.lineWidth||(sprite.createSymbolSprite(symbolInfo.type,symbolSize,{fill:"#fff",lineWidth:itemStyle.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(symbolSize[0]/2,10)},this._spriteImageCanvas),sprite.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=symbolInfo.type,this._symbolSize=symbolSize,this._lineWidth=itemStyle.lineWidth),this._spriteImageCanvas.width/symbolInfo.maxSize*dpr},_updateMaterial:function(seriesModel,itemStyle){var blendFunc="lighter"===seriesModel.get("blendMode")?graphicGL.Z.additiveBlend:null,material=this._mesh.material;material.blend=blendFunc,material.set("lineWidth",itemStyle.lineWidth/20);var strokeColor=graphicGL.Z.parseColor(itemStyle.stroke);material.set("strokeColor",strokeColor),material.transparent=!0,material.depthMask=!1,material.depthTest=!this.is2D,material.sortVertices=!this.is2D},_updateLabelBuilder:function(seriesModel,start,end){var data=seriesModel.getData(),geometry=this._mesh.geometry,positionArr=geometry.attributes.position.value,pointSizeScale=(start=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(data,start,end),this._labelsBuilder.getLabelPosition=function(dataIndex,positionDesc,distance){var idx3=3*(dataIndex-start);return[positionArr[idx3],positionArr[idx3+1],positionArr[idx3+2]]},this._labelsBuilder.getLabelDistance=function(dataIndex,positionDesc,distance){return geometry.attributes.size.get(dataIndex-start)/pointSizeScale/2+distance},this._labelsBuilder.updateLabels()},_updateAnimation:function(seriesModel){graphicGL.Z.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,seriesModel)},_updateHandler:function(seriesModel,ecModel,api){var grid3DModel,data=seriesModel.getData(),pointsMesh=this._mesh,self=this,lastDataIndex=-1,isCartesian3D=seriesModel.coordinateSystem&&"cartesian3D"===seriesModel.coordinateSystem.type;isCartesian3D&&(grid3DModel=seriesModel.coordinateSystem.model),pointsMesh.seriesIndex=seriesModel.seriesIndex,pointsMesh.off("mousemove"),pointsMesh.off("mouseout"),pointsMesh.on("mousemove",(function(e){var dataIndex=e.vertexIndex+self._startDataIndex;dataIndex!==lastDataIndex&&(this.highlightOnMouseover&&(this.downplay(data,lastDataIndex),this.highlight(data,dataIndex),this._labelsBuilder.updateLabels([dataIndex])),isCartesian3D&&api.dispatchAction({type:"grid3DShowAxisPointer",value:[data.get(seriesModel.coordDimToDataDim("x")[0],dataIndex),data.get(seriesModel.coordDimToDataDim("y")[0],dataIndex),data.get(seriesModel.coordDimToDataDim("z")[0],dataIndex)],grid3DIndex:grid3DModel.componentIndex})),pointsMesh.dataIndex=dataIndex,lastDataIndex=dataIndex}),this),pointsMesh.on("mouseout",(function(e){var dataIndex=e.vertexIndex+self._startDataIndex;this.highlightOnMouseover&&(this.downplay(data,dataIndex),this._labelsBuilder.updateLabels()),lastDataIndex=-1,pointsMesh.dataIndex=-1,isCartesian3D&&api.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:grid3DModel.componentIndex})}),this)},updateLayout:function(seriesModel,ecModel,api){var data=seriesModel.getData();if(this._mesh){var positionArr=this._mesh.geometry.attributes.position.value,points=data.getLayout("points");if(this.is2D)for(var i=0;i<points.length/2;i++){var i3=3*i,i2=2*i;positionArr[i3]=points[i2],positionArr[i3+1]=points[i2+1],positionArr[i3+2]=-10}else for(i=0;i<points.length;i++)positionArr[i]=points[i];this._mesh.geometry.dirty(),api.getZr().refresh()}},updateView:function(camera){if(this._mesh){var worldViewProjection=new Matrix4.Z;Matrix4.Z.mul(worldViewProjection,camera.viewMatrix,this._mesh.worldTransform),Matrix4.Z.mul(worldViewProjection,camera.projectionMatrix,worldViewProjection),this._mesh.updateNDCPosition(worldViewProjection,this.is2D,this._api)}},highlight:function(data,dataIndex){if(!(dataIndex>this._endDataIndex||dataIndex<this._startDataIndex)){var emphasisItemStyleModel=data.getItemModel(dataIndex).getModel("emphasis.itemStyle"),emphasisColor=emphasisItemStyleModel.get("color"),emphasisOpacity=emphasisItemStyleModel.get("opacity");if(null==emphasisColor){var color=(0,visual.BM)(data,dataIndex);emphasisColor=echarts.$_.lift(color,-.4)}null==emphasisOpacity&&(emphasisOpacity=(0,visual.Jk)(data,dataIndex));var colorArr=graphicGL.Z.parseColor(emphasisColor);colorArr[3]*=emphasisOpacity,this._mesh.geometry.attributes.color.set(dataIndex-this._startDataIndex,colorArr),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(data,dataIndex){if(!(dataIndex>this._endDataIndex||dataIndex<this._startDataIndex)){var color=(0,visual.BM)(data,dataIndex),opacity=(0,visual.Jk)(data,dataIndex),colorArr=graphicGL.Z.parseColor(color);colorArr[3]*=opacity,this._mesh.geometry.attributes.color.set(dataIndex-this._startDataIndex,colorArr),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(fadeOutPercent){if(this._originalOpacity){for(var geo=this._mesh.geometry,i=0;i<geo.vertexCount;i++){var fadeOutOpacity=this._originalOpacity[i]*fadeOutPercent;geo.attributes.color.value[4*i+3]=fadeOutOpacity}geo.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(texture){this._mesh&&this._setPositionTextureToMesh(this._mesh,texture),this._positionTexture=texture},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(sizeScale){if(sizeScale!==this._sizeScale){if(this._mesh){var originalSize=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",originalSize/this._sizeScale*sizeScale);var attributes=this._mesh.geometry.attributes;if(attributes.size.value)for(var i=0;i<attributes.size.value.length;i++)attributes.size.value[i]=attributes.size.value[i]/this._sizeScale*sizeScale}this._sizeScale=sizeScale}},_setPositionTextureToMesh:function(mesh,texture){texture&&mesh.material.set("positionTexture",texture),mesh.material[texture?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(seriesModel,start,end){if(seriesModel.get("large"))return(symbolSize=retrieve.Z.firstNotNull(seriesModel.get("symbolSize"),1))instanceof Array?(maxSymbolSize=Math.max(symbolSize[0],symbolSize[1]),symbolAspect=symbolSize[0]/symbolSize[1]):(maxSymbolSize=symbolSize,symbolAspect=1),{maxSize:symbolSize,type:seriesModel.get("symbol"),aspect:symbolAspect};for(var symbolAspect,data=seriesModel.getData(),symbolType=data.getItemVisual(0,"symbol")||"circle",maxSymbolSize=0,idx=start;idx<end;idx++){var currentSymbolAspect,symbolSize=data.getItemVisual(idx,"symbolSize"),currentSymbolType=data.getItemVisual(idx,"symbol");if(symbolSize instanceof Array)currentSymbolAspect=symbolSize[0]/symbolSize[1],maxSymbolSize=Math.max(Math.max(symbolSize[0],symbolSize[1]),maxSymbolSize);else{if(isNaN(symbolSize))continue;currentSymbolAspect=1,maxSymbolSize=Math.max(symbolSize,maxSymbolSize)}0,symbolType=currentSymbolType,symbolAspect=currentSymbolAspect}return{maxSize:maxSymbolSize,type:symbolType,aspect:symbolAspect}}};const common_PointsBuilder=PointsBuilder},"./node_modules/echarts-gl/lib/chart/common/createList.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js");function __WEBPACK_DEFAULT_EXPORT__(seriesModel,dims,source){source=source||seriesModel.getSource();var coordSysDimensions=dims||echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.wL(seriesModel.get("coordinateSystem"))||["x","y","z"],dimensions=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__._y.createDimensions(source,{dimensionsDefine:source.dimensionsDefine||seriesModel.get("dimensions"),encodeDefine:source.encodeDefine||seriesModel.get("encode"),coordDimensions:coordSysDimensions.map((function(dim){var axis3DModel=seriesModel.getReferringComponents(dim+"Axis3D").models[0];return{type:axis3DModel&&"category"===axis3DModel.get("type")?"ordinal":"float",name:dim}}))});"cartesian3D"===seriesModel.get("coordinateSystem")&&dimensions.forEach((function(dimInfo){if(coordSysDimensions.indexOf(dimInfo.coordDim)>=0){var axis3DModel=seriesModel.getReferringComponents(dimInfo.coordDim+"Axis3D").models[0];axis3DModel&&"category"===axis3DModel.get("type")&&(dimInfo.ordinalMeta=axis3DModel.getOrdinalMeta())}}));var stackCalculationInfo=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__._y.dataStack.enableDataStack(seriesModel,dimensions,{byIndex:!0,stackedCoordDimension:"z"}),data=new echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.aV(dimensions,seriesModel);return data.setCalculationInfo(stackCalculationInfo),data.initData(source),data}},"./node_modules/echarts-gl/lib/chart/common/formatTooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js"),_util_visual__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js");function __WEBPACK_DEFAULT_EXPORT__(seriesModel,dataIndex,multipleSeries){var data=seriesModel.getData(),value=seriesModel.getRawValue(dataIndex),formattedValue=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.isArray(value)?function formatArrayValue(value){var result=[],tooltipDims=function otherDimToDataDim(data,otherDim){var dataDim=[];return echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.each(data.dimensions,(function(dimName){var dimItem=data.getDimensionInfo(dimName),dimIndex=dimItem.otherDims[otherDim];null!=dimIndex&&!1!==dimIndex&&(dataDim[dimIndex]=dimItem.name)})),dataDim}(data,"tooltip");function setEachItem(val,dimIdx){var dimInfo=data.getDimensionInfo(dimIdx);if(dimInfo&&!1!==dimInfo.otherDims.tooltip){var dimType=dimInfo.type,valStr="- "+(dimInfo.tooltipName||dimInfo.name)+": "+("ordinal"===dimType?val+"":"time"===dimType?multipleSeries?"":echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.formatTime("yyyy/MM/dd hh:mm:ss",val):echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.addCommas(val));valStr&&result.push(echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.encodeHTML(valStr))}}return tooltipDims.length?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.each(tooltipDims,(function(dimIdx){setEachItem(data.get(dimIdx,dataIndex),dimIdx)})):echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.each(value,setEachItem),"<br/>"+result.join("<br/>")}(value):echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.encodeHTML(echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.addCommas(value)),name=data.getName(dataIndex),color=(0,_util_visual__WEBPACK_IMPORTED_MODULE_1__.BM)(data,dataIndex);echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.isObject(color)&&color.colorStops&&(color=(color.colorStops[0]||{}).color),color=color||"transparent";var colorEl=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.getTooltipMarker(color),seriesName=seriesModel.name;return"\0-"===seriesName&&(seriesName=""),seriesName=seriesName?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.encodeHTML(seriesName)+(multipleSeries?": ":"<br/>"):"",multipleSeries?colorEl+seriesName+formattedValue:seriesName+colorEl+(name?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.encodeHTML(name)+": "+formattedValue:formattedValue)}},"./node_modules/echarts-gl/lib/chart/flowGL/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js");const FlowGLSeries=echarts.wJ.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(option,ecModel){var coordType=this.get("coordinateSystem"),coordSysDimensions="geo"===coordType?["lng","lat"]:echarts.wL(coordType)||["x","y"];coordSysDimensions.push("vx","vy");var dimensions=echarts._y.createDimensions(this.getSource(),{coordDimensions:coordSysDimensions,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),data=new echarts.aV(dimensions,this);return data.initData(this.getSource()),data},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js"),Pass=__webpack_require__("./node_modules/claygl/src/compositor/Pass.js"),Geometry=__webpack_require__("./node_modules/claygl/src/Geometry.js"),Mesh=__webpack_require__("./node_modules/claygl/src/Mesh.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),Texture2D=__webpack_require__("./node_modules/claygl/src/Texture2D.js"),Texture=__webpack_require__("./node_modules/claygl/src/Texture.js"),Orthographic=__webpack_require__("./node_modules/claygl/src/camera/Orthographic.js"),Plane=__webpack_require__("./node_modules/claygl/src/geometry/Plane.js"),FrameBuffer=__webpack_require__("./node_modules/claygl/src/FrameBuffer.js");const Line2D=Geometry.Z.extend((function(){return{dynamic:!0,attributes:{position:new Geometry.Z.Attribute("position","float",3,"POSITION")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(nLine){var attributes=this.attributes,nVertex=4*nLine,nTriangle=2*nLine;this.vertexCount!==nVertex&&attributes.position.init(nVertex),this.triangleCount!==nTriangle&&(this.indices=0===nTriangle?null:this.vertexCount>65535?new Uint32Array(3*nTriangle):new Uint16Array(3*nTriangle))},addLine:function(p){var vertexOffset=this._vertexOffset;this.attributes.position.set(vertexOffset,[p[0],p[1],1]),this.attributes.position.set(vertexOffset+1,[p[0],p[1],-1]),this.attributes.position.set(vertexOffset+2,[p[0],p[1],2]),this.attributes.position.set(vertexOffset+3,[p[0],p[1],-2]),this.setTriangleIndices(this._faceOffset++,[vertexOffset,vertexOffset+1,vertexOffset+2]),this.setTriangleIndices(this._faceOffset++,[vertexOffset+1,vertexOffset+2,vertexOffset+3]),this._vertexOffset+=4}});Shader.Z.import("@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n");var VectorFieldParticleSurface=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Texture2D.Z({type:Texture.Z.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};VectorFieldParticleSurface.prototype={constructor:VectorFieldParticleSurface,init:function(){var parameters={type:Texture.Z.FLOAT,minFilter:Texture.Z.NEAREST,magFilter:Texture.Z.NEAREST,useMipmap:!1};this._spawnTexture=new Texture2D.Z(parameters),this._particleTexture0=new Texture2D.Z(parameters),this._particleTexture1=new Texture2D.Z(parameters),this._frameBuffer=new FrameBuffer.Z({depthBuffer:!1}),this._particlePass=new Pass.Z({fragment:Shader.Z.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new Pass.Z({fragment:Shader.Z.source("clay.compositor.downsample")});var particlePointsMesh=new Mesh.Z({renderOrder:10,material:new Material.Z({shader:new Shader.Z(Shader.Z.source("ecgl.vfParticle.renderPoints.vertex"),Shader.Z.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Mesh.Z.POINTS,geometry:new Geometry.Z({dynamic:!0,mainAttribute:"texcoord0"})}),particleLinesMesh=new Mesh.Z({renderOrder:10,material:new Material.Z({shader:new Shader.Z(Shader.Z.source("ecgl.vfParticle.renderLines.vertex"),Shader.Z.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new Line2D,culling:!1}),lastFrameFullQuad=new Mesh.Z({material:new Material.Z({shader:new Shader.Z(Shader.Z.source("ecgl.color.vertex"),Shader.Z.source("ecgl.color.fragment"))}),geometry:new Plane.Z});lastFrameFullQuad.material.enableTexture("diffuseMap"),this._particlePointsMesh=particlePointsMesh,this._particleLinesMesh=particleLinesMesh,this._lastFrameFullQuadMesh=lastFrameFullQuad,this._camera=new Orthographic.Z,this._thisFrameTexture=new Texture2D.Z,this._lastFrameTexture=new Texture2D.Z},setParticleDensity:function(width,height){for(var spawnTextureData=new Float32Array(4*(width*height)),off=0,lifeRange=this.particleLife,i=0;i<width;i++)for(var j=0;j<height;j++,off++){spawnTextureData[4*off]=Math.random(),spawnTextureData[4*off+1]=Math.random(),spawnTextureData[4*off+2]=Math.random();var life=(lifeRange[1]-lifeRange[0])*Math.random()+lifeRange[0];spawnTextureData[4*off+3]=life}"line"===this._particleType?this._setLineGeometry(width,height):this._setPointsGeometry(width,height),this._spawnTexture.width=width,this._spawnTexture.height=height,this._spawnTexture.pixels=spawnTextureData,this._particleTexture0.width=this._particleTexture1.width=width,this._particleTexture0.height=this._particleTexture1.height=height,this._particlePass.setUniform("textureSize",[width,height])},_setPointsGeometry:function(width,height){var nVertex=width*height,geometry=this._particlePointsMesh.geometry,attributes=geometry.attributes;attributes.texcoord0.init(nVertex);for(var off=0,i=0;i<width;i++)for(var j=0;j<height;j++,off++)attributes.texcoord0.value[2*off]=i/width,attributes.texcoord0.value[2*off+1]=j/height;geometry.dirty()},_setLineGeometry:function(width,height){var nLine=width*height,geometry=this._getParticleMesh().geometry;geometry.setLineCount(nLine),geometry.resetOffset();for(var i=0;i<width;i++)for(var j=0;j<height;j++)geometry.addLine([i/width,j/height]);geometry.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(renderer,api,deltaTime,firstFrame){var particleMesh=this._getParticleMesh(),frameBuffer=this._frameBuffer,particlePass=this._particlePass;firstFrame&&this._updateDownsampleTextures(renderer,api),particleMesh.material.set("size",this._particleSize*this._supersampling),particleMesh.material.set("color",this.particleColor),particlePass.setUniform("speedScaling",this.particleSpeedScaling),frameBuffer.attach(this._particleTexture1),particlePass.setUniform("firstFrameTime",firstFrame?(this.particleLife[1]+this.particleLife[0])/2:0),particlePass.setUniform("particleTexture",this._particleTexture0),particlePass.setUniform("deltaTime",deltaTime),particlePass.setUniform("elapsedTime",this._elapsedTime),particlePass.render(renderer,frameBuffer),particleMesh.material.set("particleTexture",this._particleTexture1),particleMesh.material.set("prevParticleTexture",this._particleTexture0),frameBuffer.attach(this._thisFrameTexture),frameBuffer.bind(renderer),renderer.gl.clear(renderer.gl.DEPTH_BUFFER_BIT|renderer.gl.COLOR_BUFFER_BIT);var lastFrameFullQuad=this._lastFrameFullQuadMesh;lastFrameFullQuad.material.set("diffuseMap",this._lastFrameTexture),lastFrameFullQuad.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),renderer.renderPass([lastFrameFullQuad,particleMesh],this._camera),frameBuffer.unbind(renderer),this._downsample(renderer),this._swapTexture(),this._elapsedTime+=deltaTime},_downsample:function(renderer){var downsampleTextures=this._downsampleTextures;if(0!==downsampleTextures.length)for(var current=0,sourceTexture=this._thisFrameTexture,targetTexture=downsampleTextures[current];targetTexture;)this._frameBuffer.attach(targetTexture),this._downsamplePass.setUniform("texture",sourceTexture),this._downsamplePass.setUniform("textureSize",[sourceTexture.width,sourceTexture.height]),this._downsamplePass.render(renderer,this._frameBuffer),sourceTexture=targetTexture,targetTexture=downsampleTextures[++current]},getSurfaceTexture:function(){var downsampleTextures=this._downsampleTextures;return downsampleTextures.length>0?downsampleTextures[downsampleTextures.length-1]:this._lastFrameTexture},setRegion:function(region){this._particlePass.setUniform("region",region)},resize:function(width,height){this._lastFrameTexture.width=width*this._supersampling,this._lastFrameTexture.height=height*this._supersampling,this._thisFrameTexture.width=width*this._supersampling,this._thisFrameTexture.height=height*this._supersampling,this._width=width,this._height=height},setParticleSize:function(size){var particleMesh=this._getParticleMesh();if(size<=2)return particleMesh.material.disableTexture("spriteTexture"),void(particleMesh.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new Texture2D.Z),this._spriteTexture.image&&this._spriteTexture.image.width===size||(this._spriteTexture.image=function createSpriteCanvas(size){var canvas=document.createElement("canvas");canvas.width=canvas.height=size;var ctx=canvas.getContext("2d");return ctx.fillStyle="#fff",ctx.arc(size/2,size/2,size/2,0,2*Math.PI),ctx.fill(),canvas}(size),this._spriteTexture.dirty()),particleMesh.material.transparent=!0,particleMesh.material.enableTexture("spriteTexture"),particleMesh.material.set("spriteTexture",this._spriteTexture),this._particleSize=size},setGradientTexture:function(gradientTexture){var material=this._getParticleMesh().material;material[gradientTexture?"enableTexture":"disableTexture"]("gradientTexture"),material.setUniform("gradientTexture",gradientTexture)},setColorTextureImage:function(colorTextureImg,api){this._getParticleMesh().material.setTextureImage("colorTexture",colorTextureImg,api,{flipY:!0})},setParticleType:function(type){this._particleType=type},clearFrame:function(renderer){var frameBuffer=this._frameBuffer;frameBuffer.attach(this._lastFrameTexture),frameBuffer.bind(renderer),renderer.gl.clear(renderer.gl.DEPTH_BUFFER_BIT|renderer.gl.COLOR_BUFFER_BIT),frameBuffer.unbind(renderer)},setSupersampling:function(supersampling){this._supersampling=supersampling,this.resize(this._width,this._height)},_updateDownsampleTextures:function(renderer,api){for(var downsampleTextures=this._downsampleTextures,upScale=Math.max(Math.floor(Math.log(this._supersampling/api.getDevicePixelRatio())/Math.log(2)),0),scale=2,width=this._width*this._supersampling,height=this._height*this._supersampling,i=0;i<upScale;i++)downsampleTextures[i]=downsampleTextures[i]||new Texture2D.Z,downsampleTextures[i].width=width/scale,downsampleTextures[i].height=height/scale,scale*=2;for(;i<downsampleTextures.length;i++)downsampleTextures[i].dispose(renderer);downsampleTextures.length=upScale},_swapTexture:function(){var tmp=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=tmp;tmp=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=tmp},dispose:function(renderer){renderer.disposeFrameBuffer(this._frameBuffer),renderer.disposeTexture(this.vectorFieldTexture),renderer.disposeTexture(this._spawnTexture),renderer.disposeTexture(this._particleTexture0),renderer.disposeTexture(this._particleTexture1),renderer.disposeTexture(this._thisFrameTexture),renderer.disposeTexture(this._lastFrameTexture),renderer.disposeGeometry(this._particleLinesMesh.geometry),renderer.disposeGeometry(this._particlePointsMesh.geometry),renderer.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&renderer.disposeTexture(this._spriteTexture),this._particlePass.dispose(renderer),this._downsamplePass.dispose(renderer),this._downsampleTextures.forEach((function(texture){texture.dispose(renderer)}))}};const flowGL_VectorFieldParticleSurface=VectorFieldParticleSurface,FlowGLView=echarts.TA.extend({type:"flowGL",__ecgl__:!0,init:function(ecModel,api){this.viewGL=new ViewGL.Z("orthographic"),this.groupGL=new graphicGL.Z.Node,this.viewGL.add(this.groupGL),this._particleSurface=new flowGL_VectorFieldParticleSurface;var planeMesh=new graphicGL.Z.Mesh({geometry:new graphicGL.Z.PlaneGeometry,material:new graphicGL.Z.Material({shader:new graphicGL.Z.Shader({vertex:graphicGL.Z.Shader.source("ecgl.color.vertex"),fragment:graphicGL.Z.Shader.source("ecgl.color.fragment")}),transparent:!0})});planeMesh.material.enableTexture("diffuseMap"),this.groupGL.add(planeMesh),this._planeMesh=planeMesh},render:function(seriesModel,ecModel,api){var particleSurface=this._particleSurface;particleSurface.setParticleType(seriesModel.get("particleType")),particleSurface.setSupersampling(seriesModel.get("supersampling")),this._updateData(seriesModel,api),this._updateCamera(api.getWidth(),api.getHeight(),api.getDevicePixelRatio());var particleDensity=retrieve.Z.firstNotNull(seriesModel.get("particleDensity"),128);particleSurface.setParticleDensity(particleDensity,particleDensity);var planeMesh=this._planeMesh,time=+new Date,self=this,firstFrame=!0;planeMesh.__percent=0,planeMesh.stopAnimation(),planeMesh.animate("",{loop:!0}).when(1e5,{__percent:1}).during((function(){var timeNow=+new Date,dTime=Math.min(timeNow-time,20);time+=dTime,self._renderer&&(particleSurface.update(self._renderer,api,dTime/1e3,firstFrame),planeMesh.material.set("diffuseMap",particleSurface.getSurfaceTexture())),firstFrame=!1})).start();var itemStyleModel=seriesModel.getModel("itemStyle"),color=graphicGL.Z.parseColor(itemStyleModel.get("color"));color[3]*=retrieve.Z.firstNotNull(itemStyleModel.get("opacity"),1),planeMesh.material.set("color",color),particleSurface.setColorTextureImage(seriesModel.get("colorTexture"),api),particleSurface.setParticleSize(seriesModel.get("particleSize")),particleSurface.particleSpeedScaling=seriesModel.get("particleSpeed"),particleSurface.motionBlurFactor=1-Math.pow(.1,seriesModel.get("particleTrail"))},updateTransform:function(seriesModel,ecModel,api){this._updateData(seriesModel,api)},afterRender:function(globeModel,ecModel,api,layerGL){var renderer=layerGL.renderer;this._renderer=renderer},_updateData:function(seriesModel,api){var coordSys=seriesModel.coordinateSystem,dims=coordSys.dimensions.map((function(coordDim){return seriesModel.coordDimToDataDim(coordDim)[0]})),data=seriesModel.getData(),xExtent=data.getDataExtent(dims[0]),yExtent=data.getDataExtent(dims[1]),gridWidth=seriesModel.get("gridWidth"),gridHeight=seriesModel.get("gridHeight");if(null==gridWidth||"auto"===gridWidth){var aspect=(xExtent[1]-xExtent[0])/(yExtent[1]-yExtent[0]);gridWidth=Math.round(Math.sqrt(aspect*data.count()))}null!=gridHeight&&"auto"!==gridHeight||(gridHeight=Math.ceil(data.count()/gridWidth));var vectorFieldTexture=this._particleSurface.vectorFieldTexture,pixels=vectorFieldTexture.pixels;if(pixels&&pixels.length===gridHeight*gridWidth*4)for(var i=0;i<pixels.length;i++)pixels[i]=0;else pixels=vectorFieldTexture.pixels=new Float32Array(gridWidth*gridHeight*4);var maxMag=0,minMag=1/0,points=new Float32Array(2*data.count()),offset=0,bbox=[[1/0,1/0],[-1/0,-1/0]];data.each([dims[0],dims[1],"vx","vy"],(function(x,y,vx,vy){var pt=coordSys.dataToPoint([x,y]);points[offset++]=pt[0],points[offset++]=pt[1],bbox[0][0]=Math.min(pt[0],bbox[0][0]),bbox[0][1]=Math.min(pt[1],bbox[0][1]),bbox[1][0]=Math.max(pt[0],bbox[1][0]),bbox[1][1]=Math.max(pt[1],bbox[1][1]);var mag=Math.sqrt(vx*vx+vy*vy);maxMag=Math.max(maxMag,mag),minMag=Math.min(minMag,mag)})),data.each(["vx","vy"],(function(vx,vy,i){var xPix=Math.round((points[2*i]-bbox[0][0])/(bbox[1][0]-bbox[0][0])*(gridWidth-1)),idx=4*((gridHeight-1-Math.round((points[2*i+1]-bbox[0][1])/(bbox[1][1]-bbox[0][1])*(gridHeight-1)))*gridWidth+xPix);pixels[idx]=vx/maxMag*.5+.5,pixels[idx+1]=vy/maxMag*.5+.5,pixels[idx+3]=1})),vectorFieldTexture.width=gridWidth,vectorFieldTexture.height=gridHeight,"bmap"===seriesModel.get("coordinateSystem")&&this._fillEmptyPixels(vectorFieldTexture),vectorFieldTexture.dirty(),this._updatePlanePosition(bbox[0],bbox[1],seriesModel,api),this._updateGradientTexture(data.getVisual("visualMeta"),[minMag,maxMag])},_fillEmptyPixels:function(texture){var pixels=texture.pixels,width=texture.width,height=texture.height;function fetchPixel(x,y,rg){x=Math.max(Math.min(x,width-1),0);var idx=4*((y=Math.max(Math.min(y,height-1),0))*(width-1)+x);return 0!==pixels[idx+3]&&(rg[0]=pixels[idx],rg[1]=pixels[idx+1],!0)}function addPixel(a,b,out){out[0]=a[0]+b[0],out[1]=a[1]+b[1]}for(var center=[],left=[],right=[],top=[],bottom=[],weight=0,y=0;y<height;y++)for(var x=0;x<width;x++){var idx=4*(y*(width-1)+x);0===pixels[idx+3]&&(weight=center[0]=center[1]=0,fetchPixel(x-1,y,left)&&(weight++,addPixel(left,center,center)),fetchPixel(x+1,y,right)&&(weight++,addPixel(right,center,center)),fetchPixel(x,y-1,top)&&(weight++,addPixel(top,center,center)),fetchPixel(x,y+1,bottom)&&(weight++,addPixel(bottom,center,center)),center[0]/=weight,center[1]/=weight,pixels[idx]=center[0],pixels[idx+1]=center[1]),pixels[idx+3]=1}},_updateGradientTexture:function(visualMeta,magExtent){if(visualMeta&&visualMeta.length){this._gradientTexture=this._gradientTexture||new graphicGL.Z.Texture2D({image:document.createElement("canvas")});var gradientTexture=this._gradientTexture,canvas=gradientTexture.image;canvas.width=200,canvas.height=1;var ctx=canvas.getContext("2d"),gradient=ctx.createLinearGradient(0,.5,canvas.width,.5);visualMeta[0].stops.forEach((function(stop){var offset;magExtent[1]===magExtent[0]?offset=0:(offset=stop.value/magExtent[1],offset=Math.min(Math.max(offset,0),1)),gradient.addColorStop(offset,stop.color)})),ctx.fillStyle=gradient,ctx.fillRect(0,0,canvas.width,canvas.height),gradientTexture.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(leftTop,rightBottom,seriesModel,api){var limitedResult=this._limitInViewportAndFullFill(leftTop,rightBottom,seriesModel,api);leftTop=limitedResult.leftTop,rightBottom=limitedResult.rightBottom,this._particleSurface.setRegion(limitedResult.region),this._planeMesh.position.set((leftTop[0]+rightBottom[0])/2,api.getHeight()-(leftTop[1]+rightBottom[1])/2,0);var width=rightBottom[0]-leftTop[0],height=rightBottom[1]-leftTop[1];this._planeMesh.scale.set(width/2,height/2,1),this._particleSurface.resize(Math.max(Math.min(width,2048),1),Math.max(Math.min(height,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(leftTop,rightBottom,seriesModel,api){var newLeftTop=[Math.max(leftTop[0],0),Math.max(leftTop[1],0)],newRightBottom=[Math.min(rightBottom[0],api.getWidth()),Math.min(rightBottom[1],api.getHeight())];if("bmap"===seriesModel.get("coordinateSystem")){var lngRange=seriesModel.getData().getDataExtent(seriesModel.coordDimToDataDim("lng")[0]);Math.floor(lngRange[1]-lngRange[0])>=359&&(newLeftTop[0]>0&&(newLeftTop[0]=0),newRightBottom[0]<api.getWidth()&&(newRightBottom[0]=api.getWidth()))}var width=rightBottom[0]-leftTop[0],height=rightBottom[1]-leftTop[1],newWidth=newRightBottom[0]-newLeftTop[0],newHeight=newRightBottom[1]-newLeftTop[1];return{leftTop:newLeftTop,rightBottom:newRightBottom,region:[(newLeftTop[0]-leftTop[0])/width,1-newHeight/height-(newLeftTop[1]-leftTop[1])/height,newWidth/width,newHeight/height]}},_updateCamera:function(width,height,dpr){this.viewGL.setViewport(0,0,width,height,dpr);var camera=this.viewGL.camera;camera.left=camera.bottom=0,camera.top=height,camera.right=width,camera.near=0,camera.far=100,camera.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function install(registers){registers.registerChartView(FlowGLView),registers.registerSeriesModel(FlowGLSeries)}},"./node_modules/echarts-gl/lib/chart/graphGL/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),Graph=__webpack_require__("./node_modules/echarts/lib/data/Graph.js");const linkList=__webpack_require__("./node_modules/echarts/lib/data/helper/linkSeriesData.js").Z;var retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js");var format=__webpack_require__("./node_modules/echarts-gl/lib/util/format.js"),GraphSeries=echarts.wJ.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(option){GraphSeries.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(option){GraphSeries.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(dataIndex,status,dataType,dimIndex){var text=format.Z.getFormattedLabel(this,dataIndex,status,dataType,dimIndex);if(null==text){var data=this.getData(),lastDim=data.dimensions[data.dimensions.length-1];text=data.get(lastDim,dataIndex)}return text},getInitialData:function(option,ecModel){var edges=option.edges||option.links||[],nodes=option.data||option.nodes||[],self=this;if(nodes&&edges)return function createGraphFromNodeEdge(nodes,edges,hostModel,directed,beforeLink){for(var graph=new Graph.ZP(directed),i=0;i<nodes.length;i++)graph.addNode(retrieve.Z.firstNotNull(nodes[i].id,nodes[i].name,i),i);var nodeData,linkNameList=[],validEdges=[],linkCount=0;for(i=0;i<edges.length;i++){var link=edges[i],source=link.source,target=link.target;graph.addEdge(source,target,linkCount)&&(validEdges.push(link),linkNameList.push(retrieve.Z.firstNotNull(link.id,source+" > "+target)),linkCount++)}var dimensionNames=echarts._y.createDimensions(nodes,{coordDimensions:["value"]});(nodeData=new echarts.aV(dimensionNames,hostModel)).initData(nodes);var edgeData=new echarts.aV(["value"],hostModel);return edgeData.initData(validEdges,linkNameList),beforeLink&&beforeLink(nodeData,edgeData),linkList({mainData:nodeData,struct:graph,structAttr:"graph",datas:{node:nodeData,edge:edgeData},datasAttr:{node:"data",edge:"edgeData"}}),graph.update(),graph}(nodes,edges,this,!0,(function beforeLink(nodeData,edgeData){nodeData.wrapMethod("getItemModel",(function(model){const categoryModel=self._categoriesModels[model.getShallow("category")];return categoryModel&&(categoryModel.parentModel=model.parentModel,model.parentModel=categoryModel),model}));const oldGetModel=ecModel.getModel([]).getModel;function newGetModel(path,parentModel){const model=oldGetModel.call(this,path,parentModel);return model.resolveParentPath=resolveParentPath,model}function resolveParentPath(pathArr){if(pathArr&&("label"===pathArr[0]||"label"===pathArr[1])){const newPathArr=pathArr.slice();return"label"===pathArr[0]?newPathArr[0]="edgeLabel":"label"===pathArr[1]&&(newPathArr[1]="edgeLabel"),newPathArr}return pathArr}edgeData.wrapMethod("getItemModel",(function(model){return model.resolveParentPath=resolveParentPath,model.getModel=newGetModel,model}))})).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(dataIndex,multipleSeries,dataType){if("edge"===dataType){var nodeData=this.getData(),params=this.getDataParams(dataIndex,dataType),edge=nodeData.graph.getEdgeByIndex(dataIndex),sourceName=nodeData.getName(edge.node1.dataIndex),targetName=nodeData.getName(edge.node2.dataIndex),html=[];return null!=sourceName&&html.push(sourceName),null!=targetName&&html.push(targetName),html=echarts.WU.encodeHTML(html.join(" > ")),params.value&&(html+=" : "+echarts.WU.encodeHTML(params.value)),html}return GraphSeries.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var categories=(this.option.categories||[]).map((function(category){return null!=category.value?category:Object.assign({value:0},category)})),categoriesData=new echarts.aV(["value"],this);categoriesData.initData(categories),this._categoriesData=categoriesData,this._categoriesModels=categoriesData.mapArray((function(idx){return categoriesData.getItemModel(idx,!0)}))},setView:function(payload){null!=payload.zoom&&(this.option.zoom=payload.zoom),null!=payload.offset&&(this.option.offset=payload.offset)},setNodePosition:function(points){for(var i=0;i<points.length/2;i++){var x=points[2*i],y=points[2*i+1],opt=this.getData().getRawDataItem(i);opt.x=x,opt.y=y}},isAnimationEnabled:function(){return GraphSeries.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const GraphGLSeries=GraphSeries;var util_layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js"),Lines2D=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/Lines2D.js"),Pass=__webpack_require__("./node_modules/claygl/src/compositor/Pass.js"),FrameBuffer=__webpack_require__("./node_modules/claygl/src/FrameBuffer.js");graphicGL.Z.Shader.import("@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end");var defaultConfigs={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function ForceAtlas2GPU(options){var textureOpt={type:graphicGL.Z.Texture.FLOAT,minFilter:graphicGL.Z.Texture.NEAREST,magFilter:graphicGL.Z.Texture.NEAREST};this._positionSourceTex=new graphicGL.Z.Texture2D(textureOpt),this._positionSourceTex.flipY=!1,this._positionTex=new graphicGL.Z.Texture2D(textureOpt),this._positionPrevTex=new graphicGL.Z.Texture2D(textureOpt),this._forceTex=new graphicGL.Z.Texture2D(textureOpt),this._forcePrevTex=new graphicGL.Z.Texture2D(textureOpt),this._weightedSumTex=new graphicGL.Z.Texture2D(textureOpt),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new graphicGL.Z.Texture2D(textureOpt),this._globalSpeedPrevTex=new graphicGL.Z.Texture2D(textureOpt),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new Pass.Z({fragment:graphicGL.Z.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new Pass.Z({fragment:graphicGL.Z.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new Pass.Z({fragment:graphicGL.Z.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new Pass.Z({fragment:graphicGL.Z.Shader.source("clay.compositor.output")});var additiveBlend=function(gl){gl.blendEquation(gl.FUNC_ADD),gl.blendFunc(gl.ONE,gl.ONE)};this._edgeForceMesh=new graphicGL.Z.Mesh({geometry:new graphicGL.Z.Geometry({attributes:{node1:new graphicGL.Z.Geometry.Attribute("node1","float",2),node2:new graphicGL.Z.Geometry.Attribute("node2","float",2),weight:new graphicGL.Z.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new graphicGL.Z.Material({transparent:!0,shader:graphicGL.Z.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:additiveBlend,depthMask:!1,depthText:!1}),mode:graphicGL.Z.Mesh.POINTS}),this._weightedSumMesh=new graphicGL.Z.Mesh({geometry:new graphicGL.Z.Geometry({attributes:{node:new graphicGL.Z.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new graphicGL.Z.Material({transparent:!0,shader:graphicGL.Z.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:additiveBlend,depthMask:!1,depthText:!1}),mode:graphicGL.Z.Mesh.POINTS}),this._framebuffer=new FrameBuffer.Z({depthBuffer:!1}),this._dummyCamera=new graphicGL.Z.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}ForceAtlas2GPU.prototype.updateOption=function(options){for(var name in defaultConfigs)this[name]=defaultConfigs[name];var nNodes=this._nodes.length;if(this.jitterTolerence=nNodes>5e4?10:nNodes>5e3?1:.1,this.scaling=nNodes>100?2:10,options)for(var name in defaultConfigs)null!=options[name]&&(this[name]=options[name]);if(this.repulsionByDegree)for(var positionBuffer=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)positionBuffer[4*i+2]=(this._nodes[i].degree||0)+1},ForceAtlas2GPU.prototype._updateGravityCenter=function(options){var nodes=this._nodes,edges=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var min=[1/0,1/0],max=[-1/0,-1/0],i=0;i<nodes.length;i++)min[0]=Math.min(nodes[i].x,min[0]),min[1]=Math.min(nodes[i].y,min[1]),max[0]=Math.max(nodes[i].x,max[0]),max[1]=Math.max(nodes[i].y,max[1]);this._gravityCenter=[.5*(min[0]+max[0]),.5*(min[1]+max[1])]}for(i=0;i<edges.length;i++){var node1=edges[i].node1,node2=edges[i].node2;nodes[node1].degree=(nodes[node1].degree||0)+1,nodes[node2].degree=(nodes[node2].degree||0)+1}},ForceAtlas2GPU.prototype.initData=function(nodes,edges){this._nodes=nodes,this._edges=edges,this._updateGravityCenter();var textureWidth=Math.ceil(Math.sqrt(nodes.length)),textureHeight=textureWidth,positionBuffer=new Float32Array(textureWidth*textureHeight*4);this._resize(textureWidth,textureHeight);for(var offset=0,i=0;i<nodes.length;i++){var node=nodes[i];positionBuffer[offset++]=node.x||0,positionBuffer[offset++]=node.y||0,positionBuffer[offset++]=node.mass||1,positionBuffer[offset++]=node.size||1}this._positionSourceTex.pixels=positionBuffer;var edgeGeometry=this._edgeForceMesh.geometry,edgeLen=edges.length;edgeGeometry.attributes.node1.init(2*edgeLen),edgeGeometry.attributes.node2.init(2*edgeLen),edgeGeometry.attributes.weight.init(2*edgeLen);var uv=[];for(i=0;i<edges.length;i++){var attributes=edgeGeometry.attributes,weight=edges[i].weight;null==weight&&(weight=1),attributes.node1.set(i,this.getNodeUV(edges[i].node1,uv)),attributes.node2.set(i,this.getNodeUV(edges[i].node2,uv)),attributes.weight.set(i,weight),attributes.node1.set(i+edgeLen,this.getNodeUV(edges[i].node2,uv)),attributes.node2.set(i+edgeLen,this.getNodeUV(edges[i].node1,uv)),attributes.weight.set(i+edgeLen,weight)}var weigtedSumGeo=this._weightedSumMesh.geometry;weigtedSumGeo.attributes.node.init(nodes.length);for(i=0;i<nodes.length;i++)weigtedSumGeo.attributes.node.set(i,this.getNodeUV(i,uv));edgeGeometry.dirty(),weigtedSumGeo.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",nodes.length),this._nodeRepulsionPass.material.setUniform("textureSize",[textureWidth,textureHeight]),this._inited=!1,this._frame=0},ForceAtlas2GPU.prototype.getNodes=function(){return this._nodes},ForceAtlas2GPU.prototype.getEdges=function(){return this._edges},ForceAtlas2GPU.prototype.step=function(renderer){this._inited||(this._initFromSource(renderer),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(renderer);var nodeRepulsionPass=this._nodeRepulsionPass;nodeRepulsionPass.setUniform("strongGravityMode",this.strongGravityMode),nodeRepulsionPass.setUniform("gravity",this.gravity),nodeRepulsionPass.setUniform("gravityCenter",this._gravityCenter),nodeRepulsionPass.setUniform("scaling",this.scaling),nodeRepulsionPass.setUniform("preventOverlap",this.preventOverlap),nodeRepulsionPass.setUniform("positionTex",this._positionPrevTex),nodeRepulsionPass.render(renderer);var edgeForceMesh=this._edgeForceMesh;edgeForceMesh.material.set("linLogMode",this.linLogMode),edgeForceMesh.material.set("edgeWeightInfluence",this.edgeWeightInfluence),edgeForceMesh.material.set("preventOverlap",this.preventOverlap),edgeForceMesh.material.set("positionTex",this._positionPrevTex),renderer.gl.enable(renderer.gl.BLEND),renderer.renderPass([edgeForceMesh],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),renderer.gl.clearColor(0,0,0,0),renderer.gl.clear(renderer.gl.COLOR_BUFFER_BIT),renderer.gl.enable(renderer.gl.BLEND);var weightedSumMesh=this._weightedSumMesh;weightedSumMesh.material.set("positionTex",this._positionPrevTex),weightedSumMesh.material.set("forceTex",this._forceTex),weightedSumMesh.material.set("forcePrevTex",this._forcePrevTex),renderer.renderPass([weightedSumMesh],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var globalSpeedPass=this._globalSpeedPass;globalSpeedPass.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),globalSpeedPass.setUniform("weightedSumTex",this._weightedSumTex),globalSpeedPass.setUniform("jitterTolerence",this.jitterTolerence),renderer.gl.disable(renderer.gl.BLEND),globalSpeedPass.render(renderer);var positionPass=this._positionPass;this._framebuffer.attach(this._positionTex),positionPass.setUniform("globalSpeedTex",this._globalSpeedTex),positionPass.setUniform("positionTex",this._positionPrevTex),positionPass.setUniform("forceTex",this._forceTex),positionPass.setUniform("forcePrevTex",this._forcePrevTex),positionPass.render(renderer),this._framebuffer.unbind(renderer),this._swapTexture()},ForceAtlas2GPU.prototype.update=function(renderer,steps,cb){null==steps&&(steps=1),steps=Math.max(steps,1);for(var i=0;i<steps;i++)this.step(renderer);cb&&cb()},ForceAtlas2GPU.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},ForceAtlas2GPU.prototype.getNodeUV=function(nodeIndex,uv){uv=uv||[];var textureWidth=this._positionTex.width,textureHeight=this._positionTex.height;return uv[0]=nodeIndex%textureWidth/(textureWidth-1),uv[1]=Math.floor(nodeIndex/textureWidth)/(textureHeight-1)||0,uv},ForceAtlas2GPU.prototype.getNodePosition=function(renderer,out){var positionArr=this._positionArr,width=this._positionTex.width,height=this._positionTex.height,size=width*height;positionArr&&positionArr.length===4*size||(positionArr=this._positionArr=new Float32Array(4*size)),this._framebuffer.bind(renderer),this._framebuffer.attach(this._positionPrevTex),renderer.gl.readPixels(0,0,width,height,renderer.gl.RGBA,renderer.gl.FLOAT,positionArr),this._framebuffer.unbind(renderer),out||(out=new Float32Array(2*this._nodes.length));for(var i=0;i<this._nodes.length;i++)out[2*i]=positionArr[4*i],out[2*i+1]=positionArr[4*i+1];return out},ForceAtlas2GPU.prototype.getTextureData=function(renderer,textureName){var tex=this["_"+textureName+"Tex"],width=tex.width,height=tex.height;this._framebuffer.bind(renderer),this._framebuffer.attach(tex);var arr=new Float32Array(width*height*4);return renderer.gl.readPixels(0,0,width,height,renderer.gl.RGBA,renderer.gl.FLOAT,arr),this._framebuffer.unbind(renderer),arr},ForceAtlas2GPU.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},ForceAtlas2GPU.prototype.isFinished=function(maxSteps){return this._frame>maxSteps},ForceAtlas2GPU.prototype._swapTexture=function(){var tmp=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=tmp;tmp=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=tmp;tmp=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=tmp},ForceAtlas2GPU.prototype._initFromSource=function(renderer){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(renderer),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(renderer),renderer.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),renderer.gl.clear(renderer.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),renderer.gl.clear(renderer.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(renderer)},ForceAtlas2GPU.prototype._resize=function(width,height){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach((function(texName){this[texName].width=width,this[texName].height=height,this[texName].dirty()}),this)},ForceAtlas2GPU.prototype.dispose=function(renderer){this._framebuffer.dispose(renderer),this._copyPass.dispose(renderer),this._nodeRepulsionPass.dispose(renderer),this._positionPass.dispose(renderer),this._globalSpeedPass.dispose(renderer),this._edgeForceMesh.geometry.dispose(renderer),this._weightedSumMesh.geometry.dispose(renderer),this._positionSourceTex.dispose(renderer),this._positionTex.dispose(renderer),this._positionPrevTex.dispose(renderer),this._forceTex.dispose(renderer),this._forcePrevTex.dispose(renderer),this._weightedSumTex.dispose(renderer),this._globalSpeedTex.dispose(renderer),this._globalSpeedPrevTex.dispose(renderer)};const graphGL_ForceAtlas2GPU=ForceAtlas2GPU;var Texture2D=__webpack_require__("./node_modules/claygl/src/Texture2D.js"),Texture=__webpack_require__("./node_modules/claygl/src/Texture.js");const graphGL_forceAtlas2Worker=function forceAtlas2Worker(){var vec2_create=function(){return new Float32Array(2)},vec2_dist=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)},vec2_len=function(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)},vec2_scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out},vec2_add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out},vec2_sub=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out},vec2_copy=function(out,a){return out[0]=a[0],out[1]=a[1],out},vec2_set=function(out,x,y){return out[0]=x,out[1]=y,out};function Region(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var regionProto=Region.prototype;function GraphNode(){this.position=new Float32Array(2),this.force=vec2_create(),this.forcePrev=vec2_create(),this.mass=1,this.inDegree=0,this.outDegree=0}function GraphEdge(source,target){this.source=source,this.target=target,this.weight=1}function ForceAtlas2(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new Region,this.rootRegion.centerOfMass=vec2_create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}regionProto.beforeUpdate=function(){for(var i=0;i<this.nSubRegions;i++)this.subRegions[i].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},regionProto.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var i=0;i<this.nSubRegions;i++)this.subRegions[i].afterUpdate()},regionProto.addNode=function(node){if(0===this.nSubRegions){if(null==this.node)return void(this.node=node);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(node),this._updateCenterOfMass(node)},regionProto.findSubRegion=function(x,y){for(var i=0;i<this.nSubRegions;i++){var region=this.subRegions[i];if(region.contain(x,y))return region}},regionProto.contain=function(x,y){return this.bbox[0]<=x&&this.bbox[2]>=x&&this.bbox[1]<=y&&this.bbox[3]>=y},regionProto.setBBox=function(minX,minY,maxX,maxY){this.bbox[0]=minX,this.bbox[1]=minY,this.bbox[2]=maxX,this.bbox[3]=maxY,this.size=(maxX-minX+maxY-minY)/2},regionProto._newSubRegion=function(){var subRegion=this.subRegions[this.nSubRegions];return subRegion||(subRegion=new Region,this.subRegions[this.nSubRegions]=subRegion),this.nSubRegions++,subRegion},regionProto._addNodeToSubRegion=function(node){var subRegion=this.findSubRegion(node.position[0],node.position[1]),bbox=this.bbox;if(!subRegion){var cx=(bbox[0]+bbox[2])/2,cy=(bbox[1]+bbox[3])/2,w=(bbox[2]-bbox[0])/2,h=(bbox[3]-bbox[1])/2,xi=node.position[0]>=cx?1:0,yi=node.position[1]>=cy?1:0;(subRegion=this._newSubRegion()).setBBox(xi*w+bbox[0],yi*h+bbox[1],(xi+1)*w+bbox[0],(yi+1)*h+bbox[1])}subRegion.addNode(node)},regionProto._updateCenterOfMass=function(node){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var x=this.centerOfMass[0]*this.mass,y=this.centerOfMass[1]*this.mass;x+=node.position[0]*node.mass,y+=node.position[1]*node.mass,this.mass+=node.mass,this.centerOfMass[0]=x/this.mass,this.centerOfMass[1]=y/this.mass};var v,forceAtlas2Proto=ForceAtlas2.prototype;forceAtlas2Proto.initNodes=function(positionArr,massArr,sizeArr){var nNodes=massArr.length;this.nodes.length=0;for(var haveSize=void 0!==sizeArr,i=0;i<nNodes;i++){var node=new GraphNode;node.position[0]=positionArr[2*i],node.position[1]=positionArr[2*i+1],node.mass=massArr[i],haveSize&&(node.size=sizeArr[i]),this.nodes.push(node)}this._massArr=massArr,this._swingingArr=new Float32Array(nNodes),haveSize&&(this._sizeArr=sizeArr)},forceAtlas2Proto.initEdges=function(edgeArr,edgeWeightArr){var nEdges=edgeArr.length/2;this.edges.length=0;for(var i=0;i<nEdges;i++){var sIdx=edgeArr[2*i],tIdx=edgeArr[2*i+1],sNode=this.nodes[sIdx],tNode=this.nodes[tIdx];if(!sNode||!tNode)return void console.error("Node not exists, try initNodes before initEdges");sNode.outDegree++,tNode.inDegree++;var edge=new GraphEdge(sNode,tNode);edgeWeightArr&&(edge.weight=edgeWeightArr[i]),this.edges.push(edge)}},forceAtlas2Proto.updateSettings=function(){if(this.repulsionByDegree)for(var i=0;i<this.nodes.length;i++){(node=this.nodes[i]).mass=node.inDegree+node.outDegree+1}else for(i=0;i<this.nodes.length;i++){var node;(node=this.nodes[i]).mass=this._massArr[i]}},forceAtlas2Proto.update=function(){var nNodes=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var i=0;i<nNodes;i++)this.rootRegion.addNode(this.nodes[i]);this.rootRegion.afterUpdate()}for(i=0;i<nNodes;i++){var node=this.nodes[i];vec2_copy(node.forcePrev,node.force),vec2_set(node.force,0,0)}for(i=0;i<nNodes;i++){var na=this.nodes[i];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,na);else for(var j=i+1;j<nNodes;j++){var nb=this.nodes[j];this.applyNodeToNodeRepulsion(na,nb,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(na):this.applyNodeGravity(na))}for(i=0;i<this.edges.length;i++)this.applyEdgeAttraction(this.edges[i]);var swingWeightedSum=0,tractionWeightedSum=0,tmp=vec2_create();for(i=0;i<nNodes;i++){node=this.nodes[i];swingWeightedSum+=(swing=vec2_dist(node.force,node.forcePrev))*node.mass,vec2_add(tmp,node.force,node.forcePrev),tractionWeightedSum+=.5*vec2_len(tmp)*node.mass,this._swingingArr[i]=swing}var globalSpeed=this.jitterTolerence*this.jitterTolerence*tractionWeightedSum/swingWeightedSum;this._globalSpeed>0&&(globalSpeed=Math.min(globalSpeed/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=globalSpeed;for(i=0;i<nNodes;i++){node=this.nodes[i];var swing=this._swingingArr[i],speed=.1*globalSpeed/(1+globalSpeed*Math.sqrt(swing)),df=vec2_len(node.force);df>0&&(speed=Math.min(df*speed,10)/df,vec2_scaleAndAdd(node.position,node.position,node.force,speed))}},forceAtlas2Proto.applyRegionToNodeRepulsion=(v=vec2_create(),function applyRegionToNodeRepulsion(region,node){if(region.node)this.applyNodeToNodeRepulsion(region.node,node,!0);else{vec2_sub(v,node.position,region.centerOfMass);var d2=v[0]*v[0]+v[1]*v[1];if(d2>this.barnesHutTheta*region.size*region.size){var factor=this.scaling*node.mass*region.mass/d2;vec2_scaleAndAdd(node.force,node.force,v,factor)}else for(var i=0;i<region.nSubRegions;i++)this.applyRegionToNodeRepulsion(region.subRegions[i],node)}}),forceAtlas2Proto.applyNodeToNodeRepulsion=function(){var v=vec2_create();return function applyNodeToNodeRepulsion(na,nb,oneWay){if(na!=nb){vec2_sub(v,na.position,nb.position);var d2=v[0]*v[0]+v[1]*v[1];if(0!==d2){var factor;if(this.preventOverlap){var d=Math.sqrt(d2);if((d=d-na.size-nb.size)>0)factor=this.scaling*na.mass*nb.mass/(d*d);else{if(!(d<0))return;factor=100*this.scaling*na.mass*nb.mass}}else factor=this.scaling*na.mass*nb.mass/d2;vec2_scaleAndAdd(na.force,na.force,v,factor),vec2_scaleAndAdd(nb.force,nb.force,v,-factor)}}}}(),forceAtlas2Proto.applyEdgeAttraction=function(){var v=vec2_create();return function applyEdgeAttraction(edge){var na=edge.source,nb=edge.target;vec2_sub(v,na.position,nb.position);var w,factor,d=vec2_len(v);w=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?edge.weight:Math.pow(edge.weight,this.edgeWeightInfluence),this.preventOverlap&&(d=d-na.size-nb.size)<=0||(factor=this.linLogMode?-w*Math.log(d+1)/(d+1):-w,vec2_scaleAndAdd(na.force,na.force,v,factor),vec2_scaleAndAdd(nb.force,nb.force,v,-factor))}}(),forceAtlas2Proto.applyNodeGravity=function(){var v=vec2_create();return function(node){vec2_sub(v,this.gravityCenter,node.position);var d=vec2_len(v);vec2_scaleAndAdd(node.force,node.force,v,this.gravity*node.mass/(d+1))}}(),forceAtlas2Proto.applyNodeStrongGravity=function(){var v=vec2_create();return function(node){vec2_sub(v,this.gravityCenter,node.position),vec2_scaleAndAdd(node.force,node.force,v,this.gravity*node.mass)}}(),forceAtlas2Proto.updateBBox=function(){for(var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<this.nodes.length;i++){var pos=this.nodes[i].position;minX=Math.min(minX,pos[0]),minY=Math.min(minY,pos[1]),maxX=Math.max(maxX,pos[0]),maxY=Math.max(maxY,pos[1])}this.bbox[0]=minX,this.bbox[1]=minY,this.bbox[2]=maxX,this.bbox[3]=maxY},forceAtlas2Proto.getGlobalSpeed=function(){return this._globalSpeed};var forceAtlas2=null;self.onmessage=function(e){switch(e.data.cmd){case"init":(forceAtlas2=new ForceAtlas2).initNodes(e.data.nodesPosition,e.data.nodesMass,e.data.nodesSize),forceAtlas2.initEdges(e.data.edges,e.data.edgesWeight);break;case"updateConfig":if(forceAtlas2)for(var name in e.data.config)forceAtlas2[name]=e.data.config[name];break;case"update":var steps=e.data.steps;if(forceAtlas2){for(var i=0;i<steps;i++)forceAtlas2.update();var nNodes=forceAtlas2.nodes.length,positionArr=new Float32Array(2*nNodes);for(i=0;i<nNodes;i++){var node=forceAtlas2.nodes[i];positionArr[2*i]=node.position[0],positionArr[2*i+1]=node.position[1]}self.postMessage({buffer:positionArr.buffer,globalSpeed:forceAtlas2.getGlobalSpeed()},[positionArr.buffer])}else{var emptyArr=new Float32Array;self.postMessage({buffer:emptyArr.buffer,globalSpeed:forceAtlas2.getGlobalSpeed()},[emptyArr.buffer])}}}};var workerUrl=graphGL_forceAtlas2Worker.toString();workerUrl=workerUrl.slice(workerUrl.indexOf("{")+1,workerUrl.lastIndexOf("}"));var ForceAtlas2_defaultConfigs={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},ForceAtlas2=function(options){for(var name in ForceAtlas2_defaultConfigs)this[name]=ForceAtlas2_defaultConfigs[name];if(options)for(var name in options)this[name]=options[name];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Texture2D.Z({type:Texture.Z.FLOAT,flipY:!1,minFilter:Texture.Z.NEAREST,magFilter:Texture.Z.NEAREST})};ForceAtlas2.prototype.initData=function(nodes,edges){var bb=new Blob([workerUrl]),blobURL=window.URL.createObjectURL(bb);this._worker=new Worker(blobURL),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=nodes,this._edges=edges,this._frame=0;for(var nNodes=nodes.length,nEdges=edges.length,positionArr=new Float32Array(2*nNodes),massArr=new Float32Array(nNodes),sizeArr=new Float32Array(nNodes),edgeArr=new Float32Array(2*nEdges),edgeWeightArr=new Float32Array(nEdges),i=0;i<nodes.length;i++){var node=nodes[i];positionArr[2*i]=node.x,positionArr[2*i+1]=node.y,massArr[i]=null==node.mass?1:node.mass,sizeArr[i]=null==node.size?1:node.size}for(i=0;i<edges.length;i++){var edge=edges[i],source=edge.node1,target=edge.node2;edgeArr[2*i]=source,edgeArr[2*i+1]=target,edgeWeightArr[i]=null==edge.weight?1:edge.weight}var textureWidth=Math.ceil(Math.sqrt(nodes.length)),textureHeight=textureWidth,pixels=new Float32Array(textureWidth*textureHeight*4),positionTex=this._positionTex;positionTex.width=textureWidth,positionTex.height=textureHeight,positionTex.pixels=pixels,this._worker.postMessage({cmd:"init",nodesPosition:positionArr,nodesMass:massArr,nodesSize:sizeArr,edges:edgeArr,edgesWeight:edgeWeightArr}),this._globalSpeed=1/0},ForceAtlas2.prototype.updateOption=function(options){var config={};for(var name in ForceAtlas2_defaultConfigs)config[name]=ForceAtlas2_defaultConfigs[name];var nodes=this._nodes,edges=this._edges,nNodes=nodes.length;if(config.jitterTolerence=nNodes>5e4?10:nNodes>5e3?1:.1,config.scaling=nNodes>100?2:10,config.barnesHutOptimize=nNodes>1e3,options)for(var name in ForceAtlas2_defaultConfigs)null!=options[name]&&(config[name]=options[name]);if(!config.gravityCenter){for(var min=[1/0,1/0],max=[-1/0,-1/0],i=0;i<nodes.length;i++)min[0]=Math.min(nodes[i].x,min[0]),min[1]=Math.min(nodes[i].y,min[1]),max[0]=Math.max(nodes[i].x,max[0]),max[1]=Math.max(nodes[i].y,max[1]);config.gravityCenter=[.5*(min[0]+max[0]),.5*(min[1]+max[1])]}for(i=0;i<edges.length;i++){var node1=edges[i].node1,node2=edges[i].node2;nodes[node1].degree=(nodes[node1].degree||0)+1,nodes[node2].degree=(nodes[node2].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config})},ForceAtlas2.prototype.update=function(renderer,steps,cb){null==steps&&(steps=1),steps=Math.max(steps,1),this._frame+=steps,this._onupdate=cb,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(steps)})},ForceAtlas2.prototype._$onupdate=function(e){if(!this._disposed){var positionArr=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=positionArr,this._updateTexture(positionArr),this._onupdate&&this._onupdate()}},ForceAtlas2.prototype.getNodePositionTexture=function(){return this._positionTex},ForceAtlas2.prototype.getNodeUV=function(nodeIndex,uv){uv=uv||[];var textureWidth=this._positionTex.width,textureHeight=this._positionTex.height;return uv[0]=nodeIndex%textureWidth/(textureWidth-1),uv[1]=Math.floor(nodeIndex/textureWidth)/(textureHeight-1),uv},ForceAtlas2.prototype.getNodes=function(){return this._nodes},ForceAtlas2.prototype.getEdges=function(){return this._edges},ForceAtlas2.prototype.isFinished=function(maxSteps){return this._frame>maxSteps},ForceAtlas2.prototype.getNodePosition=function(renderer,out){if(out||(out=new Float32Array(2*this._nodes.length)),this._positionArr)for(var i=0;i<this._positionArr.length;i++)out[i]=this._positionArr[i];return out},ForceAtlas2.prototype._updateTexture=function(positionArr){for(var pixels=this._positionTex.pixels,offset=0,i=0;i<positionArr.length;)pixels[offset++]=positionArr[i++],pixels[offset++]=positionArr[i++],pixels[offset++]=1,pixels[offset++]=1;this._positionTex.dirty()},ForceAtlas2.prototype.dispose=function(renderer){this._disposed=!0,this._worker=null};const graphGL_ForceAtlas2=ForceAtlas2;var requestAnimationFrame=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/animation/requestAnimationFrame.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js");const util_Roam2DControl=__webpack_require__("./node_modules/claygl/src/core/Base.js").Z.extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var zr=this.zr;zr.on("mousedown",this._mouseDownHandler),zr.on("mousewheel",this._mouseWheelHandler),zr.on("globalout",this._mouseUpHandler),zr.animation.on("frame",this._update)},setTarget:function(target){this._target=target},setZoom:function(zoom){this._zoom=Math.max(Math.min(zoom,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(offset){this._dx=offset[0],this._dy=offset[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var target=this._target,scale=this._zoom;target.position.x=this._dx,target.position.y=this._dy,target.scale.set(scale,scale,scale),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var x=e.offsetX,y=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(x,y)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var pos=this._convertPos(x,y);this._x=pos.x,this._y=pos.y}}},_convertPos:function(x,y){var camera=this.viewGL.camera,viewport=this.viewGL.viewport;return{x:(x-viewport.x)/viewport.width*(camera.right-camera.left)+camera.left,y:(y-viewport.y)/viewport.height*(camera.bottom-camera.top)+camera.top}},_mouseMoveHandler:function(e){var pos=this._convertPos(e.offsetX,e.offsetY);this._dx+=pos.x-this._x,this._dy+=pos.y-this._y,this._x=pos.x,this._y=pos.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){var delta=(e=e.event).wheelDelta||-e.detail;if(0!==delta){var x=e.offsetX,y=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(x,y)){var zoomScale=delta>0?1.1:.9,newZoom=Math.max(Math.min(this._zoom*zoomScale,this.maxZoom),this.minZoom);zoomScale=newZoom/this._zoom;var pos=this._convertPos(x,y),fixX=(pos.x-this._dx)*(zoomScale-1),fixY=(pos.y-this._dy)*(zoomScale-1);this._dx-=fixX,this._dy-=fixY,this._zoom=newZoom,this._needsUpdate=!0}}},dispose:function(){var zr=this.zr;zr.off("mousedown",this._mouseDownHandler),zr.off("mousemove",this._mouseMoveHandler),zr.off("mouseup",this._mouseUpHandler),zr.off("mousewheel",this._mouseWheelHandler),zr.off("globalout",this._mouseUpHandler),zr.animation.off("frame",this._update)}});var PointsBuilder=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/PointsBuilder.js");var vec2=glmatrix.Z.vec2;graphicGL.Z.Shader.import("@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end");var globalLayoutId=1;const GraphGLView=echarts.TA.extend({type:"graphGL",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this.viewGL=new ViewGL.Z("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new PointsBuilder.Z(!0,api),this._forceEdgesMesh=new graphicGL.Z.Mesh({material:new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new graphicGL.Z.Geometry({attributes:{node:new graphicGL.Z.Geometry.Attribute("node","float",2),color:new graphicGL.Z.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:graphicGL.Z.Mesh.LINES}),this._edgesMesh=new graphicGL.Z.Mesh({material:new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new Lines2D.Z({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new util_Roam2DControl({zr:api.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(seriesModel,ecModel,api){this.groupGL.add(this._pointsBuilder.rootNode),this._model=seriesModel,this._api=api,this._initLayout(seriesModel,ecModel,api),this._pointsBuilder.update(seriesModel,ecModel,api),this._forceLayoutInstance instanceof graphGL_ForceAtlas2GPU||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(seriesModel,api),this._control.off("update"),this._control.on("update",(function(){api.dispatchAction({type:"graphGLRoam",seriesId:seriesModel.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(retrieve.Z.firstNotNull(seriesModel.get("zoom"),1)),this._control.setOffset(seriesModel.get("offset")||[0,0]);var mesh=this._pointsBuilder.getPointsMesh();if(mesh.off("mousemove",this._mousemoveHandler),mesh.off("mouseout",this._mouseOutHandler,this),api.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,seriesModel.get("focusNodeAdjacency")){var focusNodeAdjacencyOn=seriesModel.get("focusNodeAdjacencyOn");"click"===focusNodeAdjacencyOn?api.getZr().on("click",this._clickHandler):"mouseover"===focusNodeAdjacencyOn&&(mesh.on("mousemove",this._mousemoveHandler,this),mesh.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var dataIndex=this._pointsBuilder.getPointsMesh().dataIndex;dataIndex>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var dataIndex=this._pointsBuilder.getPointsMesh().dataIndex;dataIndex>=0?dataIndex!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=dataIndex}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(edges,seriesModel){var geometry=this._forceEdgesMesh.geometry,edgeData=seriesModel.getEdgeData(),offset=0,layoutInstance=this._forceLayoutInstance,vertexCount=2*edgeData.count();geometry.attributes.node.init(vertexCount),geometry.attributes.color.init(vertexCount),edgeData.each((function(idx){var edge=edges[idx];geometry.attributes.node.set(offset,layoutInstance.getNodeUV(edge.node1)),geometry.attributes.node.set(offset+1,layoutInstance.getNodeUV(edge.node2));var color=(0,visual.BM)(edgeData,edge.dataIndex),colorArr=graphicGL.Z.parseColor(color);colorArr[3]*=retrieve.Z.firstNotNull((0,visual.Jk)(edgeData,edge.dataIndex),1),geometry.attributes.color.set(offset,colorArr),geometry.attributes.color.set(offset+1,colorArr),offset+=2})),geometry.dirty()},_updateMeshLinesGeometry:function(){var edgeData=this._model.getEdgeData(),geometry=this._edgesMesh.geometry,points=(edgeData=this._model.getEdgeData(),this._model.getData().getLayout("points"));geometry.resetOffset(),geometry.setVertexCount(edgeData.count()*geometry.getLineVertexCount()),geometry.setTriangleCount(edgeData.count()*geometry.getLineTriangleCount());var p0=[],p1=[],lineWidthQuery=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*edgeData.count()),this._edgeIndicesMap=new Float32Array(edgeData.count()),edgeData.each((function(idx){var edge=edgeData.graph.getEdgeByIndex(idx),idx1=2*edge.node1.dataIndex,idx2=2*edge.node2.dataIndex;p0[0]=points[idx1],p0[1]=points[idx1+1],p1[0]=points[idx2],p1[1]=points[idx2+1];var color=(0,visual.BM)(edgeData,edge.dataIndex),colorArr=graphicGL.Z.parseColor(color);colorArr[3]*=retrieve.Z.firstNotNull((0,visual.Jk)(edgeData,edge.dataIndex),1);var itemModel=edgeData.getItemModel(edge.dataIndex),lineWidth=retrieve.Z.firstNotNull(itemModel.get(lineWidthQuery),1)*this._api.getDevicePixelRatio();geometry.addLine(p0,p1,colorArr,lineWidth);for(var k=0;k<4;k++)this._originalEdgeColors[4*edge.dataIndex+k]=colorArr[k];this._edgeIndicesMap[edge.dataIndex]=idx}),this),geometry.dirty()},_updateForceNodesGeometry:function(nodeData){for(var pointsMesh=this._pointsBuilder.getPointsMesh(),pos=[],i=0;i<nodeData.count();i++)this._forceLayoutInstance.getNodeUV(i,pos),pointsMesh.geometry.attributes.position.set(i,pos);pointsMesh.geometry.dirty("position")},_initLayout:function(seriesModel,ecModel,api){var layout=seriesModel.get("layout"),graph=seriesModel.getGraph(),boxLayoutOption=seriesModel.getBoxLayoutParams(),viewport=(0,util_layout.ME)(boxLayoutOption,{width:api.getWidth(),height:api.getHeight()});"force"===layout&&(layout="forceAtlas2"),this.stopLayout(seriesModel,ecModel,api,{beforeLayout:!0});var nodeData=seriesModel.getData(),edgeData=seriesModel.getData();if("forceAtlas2"===layout){var layoutModel=seriesModel.getModel("forceAtlas2"),layoutInstance=this._forceLayoutInstance,nodes=[],edges=[],nodeDataExtent=nodeData.getDataExtent("value"),edgeDataExtent=edgeData.getDataExtent("value"),edgeWeightRange=retrieve.Z.firstNotNull(layoutModel.get("edgeWeight"),1),nodeWeightRange=retrieve.Z.firstNotNull(layoutModel.get("nodeWeight"),1);"number"==typeof edgeWeightRange&&(edgeWeightRange=[edgeWeightRange,edgeWeightRange]),"number"==typeof nodeWeightRange&&(nodeWeightRange=[nodeWeightRange,nodeWeightRange]);var offset=0,nodesIndicesMap={},layoutPoints=new Float32Array(2*nodeData.count());if(graph.eachNode((function(node){var x,y,dataIndex=node.dataIndex,value=nodeData.get("value",dataIndex);if(nodeData.hasItemOption){var itemModel=nodeData.getItemModel(dataIndex);x=itemModel.get("x"),y=itemModel.get("y")}null==x&&(x=viewport.x+Math.random()*viewport.width,y=viewport.y+Math.random()*viewport.height),layoutPoints[2*offset]=x,layoutPoints[2*offset+1]=y,nodesIndicesMap[node.id]=offset++;var mass=echarts.Rx.linearMap(value,nodeDataExtent,nodeWeightRange);isNaN(mass)&&(mass=isNaN(nodeWeightRange[0])?1:nodeWeightRange[0]),nodes.push({x,y,mass,size:nodeData.getItemVisual(dataIndex,"symbolSize")})})),nodeData.setLayout("points",layoutPoints),graph.eachEdge((function(edge){var dataIndex=edge.dataIndex,value=nodeData.get("value",dataIndex),weight=echarts.Rx.linearMap(value,edgeDataExtent,edgeWeightRange);isNaN(weight)&&(weight=isNaN(edgeWeightRange[0])?1:edgeWeightRange[0]),edges.push({node1:nodesIndicesMap[edge.node1.id],node2:nodesIndicesMap[edge.node2.id],weight,dataIndex})})),!layoutInstance){var isGPU=layoutModel.get("GPU");this._forceLayoutInstance&&((!isGPU||this._forceLayoutInstance instanceof graphGL_ForceAtlas2GPU)&&(isGPU||this._forceLayoutInstance instanceof graphGL_ForceAtlas2)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),layoutInstance=this._forceLayoutInstance=isGPU?new graphGL_ForceAtlas2GPU:new graphGL_ForceAtlas2}layoutInstance.initData(nodes,edges),layoutInstance.updateOption(layoutModel.option),this._updateForceEdgesGeometry(layoutInstance.getEdges(),seriesModel),this._updatePositionTexture(),api.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{layoutPoints=new Float32Array(2*nodeData.count()),offset=0;graph.eachNode((function(node){var x,y,dataIndex=node.dataIndex;if(nodeData.hasItemOption){var itemModel=nodeData.getItemModel(dataIndex);x=itemModel.get("x"),y=itemModel.get("y")}layoutPoints[offset++]=x,layoutPoints[offset++]=y})),nodeData.setLayout("points",layoutPoints),this._updateAfterLayout(seriesModel,ecModel,api)}},_updatePositionTexture:function(){var positionTex=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(positionTex),this._forceEdgesMesh.material.set("positionTex",positionTex)},startLayout:function(seriesModel,ecModel,api,payload){if(!payload||null==payload.from||payload.from===this.uid){var viewGL=this.viewGL,layoutInstance=(api=this._api,this._forceLayoutInstance),data=this._model.getData(),layoutModel=this._model.getModel("forceAtlas2");if(layoutInstance&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(seriesModel.getData()),this._pointsBuilder.hideLabels();var self=this,layoutId=this._layoutId=globalLayoutId++,maxSteps=layoutModel.getShallow("maxSteps"),steps=layoutModel.getShallow("steps"),stepsCount=0,syncStepCount=Math.max(2*steps,20),doLayout=function(layoutId){if(layoutId===self._layoutId)return layoutInstance.isFinished(maxSteps)?(api.dispatchAction({type:"graphGLStopLayout",from:self.uid}),void api.dispatchAction({type:"graphGLFinishLayout",points:data.getLayout("points"),from:self.uid})):void layoutInstance.update(viewGL.layer.renderer,steps,(function(){self._updatePositionTexture(),(stepsCount+=steps)>=syncStepCount&&(self._syncNodePosition(seriesModel),stepsCount=0),api.getZr().refresh(),(0,requestAnimationFrame.Z)((function(){doLayout(layoutId)}))}))};(0,requestAnimationFrame.Z)((function(){self._forceLayoutInstanceToDispose&&(self._forceLayoutInstanceToDispose.dispose(viewGL.layer.renderer),self._forceLayoutInstanceToDispose=null),doLayout(layoutId)})),this._layouting=!0}}},stopLayout:function(seriesModel,ecModel,api,payload){payload&&null!=payload.from&&payload.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(payload&&payload.beforeLayout||(this._syncNodePosition(seriesModel),this._updateAfterLayout(seriesModel,ecModel,api)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(seriesModel){var points=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);seriesModel.getData().setLayout("points",points),seriesModel.setNodePosition(points)},_updateAfterLayout:function(seriesModel,ecModel,api){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(seriesModel,ecModel,api),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(seriesModel,ecModel,api,payload){var data=this._model.getData();this._downplayAll();var dataIndex=payload.dataIndex,graph=data.graph,focusNodes=[],node=graph.getNodeByIndex(dataIndex);focusNodes.push(node),node.edges.forEach((function(edge){edge.dataIndex<0||(edge.node1!==node&&focusNodes.push(edge.node1),edge.node2!==node&&focusNodes.push(edge.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),focusNodes.forEach((function(node){this._pointsBuilder.highlight(data,node.dataIndex)}),this),this._pointsBuilder.updateLabels(focusNodes.map((function(node){return node.dataIndex})));var focusEdges=[];node.edges.forEach((function(edge){edge.dataIndex>=0&&(this._highlightEdge(edge.dataIndex),focusEdges.push(edge))}),this),this._focusNodes=focusNodes,this._focusEdges=focusEdges},unfocusNodeAdjacency:function(seriesModel,ecModel,api,payload){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(dataIndex){var itemModel=this._model.getEdgeData().getItemModel(dataIndex),emphasisColor=graphicGL.Z.parseColor(itemModel.get("emphasis.lineStyle.color")||itemModel.get("lineStyle.color")),emphasisOpacity=retrieve.Z.firstNotNull(itemModel.get("emphasis.lineStyle.opacity"),itemModel.get("lineStyle.opacity"),1);emphasisColor[3]*=emphasisOpacity,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[dataIndex],emphasisColor)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(node){this._pointsBuilder.downplay(this._model.getData(),node.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(edge){this._downplayEdge(edge.dataIndex)}),this)},_downplayEdge:function(dataIndex){var color=this._getColor(dataIndex,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[dataIndex],color)},_setEdgeFade:(color=[],function(dataIndex,percent){this._getColor(dataIndex,color),color[3]*=percent,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[dataIndex],color)}),_getColor:function(dataIndex,out){for(var i=0;i<4;i++)out[i]=this._originalEdgeColors[4*dataIndex+i];return out},_fadeOutEdgesAll:function(percent){this._model.getData().graph.eachEdge((function(edge){this._setEdgeFade(edge.dataIndex,percent)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(seriesModel,api){this.viewGL.setViewport(0,0,api.getWidth(),api.getHeight(),api.getDevicePixelRatio());for(var camera=this.viewGL.camera,points=seriesModel.getData().getLayout("points"),min=vec2.create(1/0,1/0),max=vec2.create(-1/0,-1/0),pt=[],i=0;i<points.length;)pt[0]=points[i++],pt[1]=points[i++],vec2.min(min,min,pt),vec2.max(max,max,pt);var cy=(max[1]+min[1])/2,cx=(max[0]+min[0])/2;if(!(cx>camera.left&&cx<camera.right&&cy<camera.bottom&&cy>camera.top)){var width=Math.max(max[0]-min[0],10),height=width/api.getWidth()*api.getHeight();width*=1.4,height*=1.4,min[0]-=.2*width,camera.left=min[0],camera.top=cy-height/2,camera.bottom=cy+height/2,camera.right=width+min[0],camera.near=0,camera.far=100}},dispose:function(){var renderer=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(renderer),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});var color;function normalize(a){return a instanceof Array||(a=[a,a]),a}function install(registers){function noop(){}registers.registerChartView(GraphGLView),registers.registerSeriesModel(GraphGLSeries),registers.registerVisual((function(ecModel){const paletteScope={};ecModel.eachSeriesByType("graphGL",(function(seriesModel){var categoriesData=seriesModel.getCategoriesData(),data=seriesModel.getData(),categoryNameIdxMap={};categoriesData.each((function(idx){var name=categoriesData.getName(idx);categoryNameIdxMap["ec-"+name]=idx;var itemModel=categoriesData.getItemModel(idx),style=itemModel.getModel("itemStyle").getItemStyle();style.fill||(style.fill=seriesModel.getColorFromPalette(name,paletteScope)),categoriesData.setItemVisual(idx,"style",style);var symbolVisualList=["symbol","symbolSize","symbolKeepAspect"];for(let i=0;i<symbolVisualList.length;i++){var symbolVisual=itemModel.getShallow(symbolVisualList[i],!0);null!=symbolVisual&&categoriesData.setItemVisual(idx,symbolVisualList[i],symbolVisual)}})),categoriesData.count()&&data.each((function(idx){let categoryIdx=data.getItemModel(idx).getShallow("category");if(null!=categoryIdx){"string"==typeof categoryIdx&&(categoryIdx=categoryNameIdxMap["ec-"+categoryIdx]);var categoryStyle=categoriesData.getItemVisual(categoryIdx,"style"),style=data.ensureUniqueItemVisual(idx,"style");echarts.D5.extend(style,categoryStyle);var visualList=["symbol","symbolSize","symbolKeepAspect"];for(let i=0;i<visualList.length;i++)data.setItemVisual(idx,visualList[i],categoriesData.getItemVisual(categoryIdx,visualList[i]))}}))}))})),registers.registerVisual((function(ecModel){ecModel.eachSeriesByType("graphGL",(function(seriesModel){var graph=seriesModel.getGraph(),edgeData=seriesModel.getEdgeData(),symbolType=normalize(seriesModel.get("edgeSymbol")),symbolSize=normalize(seriesModel.get("edgeSymbolSize"));edgeData.setVisual("drawType","stroke"),edgeData.setVisual("fromSymbol",symbolType&&symbolType[0]),edgeData.setVisual("toSymbol",symbolType&&symbolType[1]),edgeData.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),edgeData.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),edgeData.setVisual("style",seriesModel.getModel("lineStyle").getLineStyle()),edgeData.each((function(idx){var itemModel=edgeData.getItemModel(idx),edge=graph.getEdgeByIndex(idx),symbolType=normalize(itemModel.getShallow("symbol",!0)),symbolSize=normalize(itemModel.getShallow("symbolSize",!0)),style=itemModel.getModel("lineStyle").getLineStyle(),existsStyle=edgeData.ensureUniqueItemVisual(idx,"style");switch(echarts.D5.extend(existsStyle,style),existsStyle.stroke){case"source":var nodeStyle=edge.node1.getVisual("style");existsStyle.stroke=nodeStyle&&nodeStyle.fill;break;case"target":nodeStyle=edge.node2.getVisual("style");existsStyle.stroke=nodeStyle&&nodeStyle.fill}symbolType[0]&&edge.setVisual("fromSymbol",symbolType[0]),symbolType[1]&&edge.setVisual("toSymbol",symbolType[1]),symbolSize[0]&&edge.setVisual("fromSymbolSize",symbolSize[0]),symbolSize[1]&&edge.setVisual("toSymbolSize",symbolSize[1])}))}))})),registers.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",query:payload},(function(componentModel){componentModel.setView(payload)}))})),registers.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},noop),registers.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},noop),registers.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},noop),registers.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},noop)}},"./node_modules/echarts-gl/lib/chart/line3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),formatTooltip=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/formatTooltip.js"),createList=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/createList.js");const line3D_Line3DSeries=echarts.wJ.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(option,ecModel){return(0,createList.Z)(this)},formatTooltip:function(dataIndex){return(0,formatTooltip.Z)(this,dataIndex)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),Lines3D=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/Lines3D.js"),Matrix4=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),Vector3=__webpack_require__("./node_modules/claygl/src/math/Vector3.js");function containStroke(x0,y0,x1,y1,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth,_a=0;if(y>y0+_l&&y>y1+_l||y<y0-_l&&y<y1-_l||x>x0+_l&&x>x1+_l||x<x0-_l&&x<x1-_l)return!1;if(x0===x1)return Math.abs(x-x0)<=_l/2;var tmp=(_a=(y0-y1)/(x0-x1))*x-y+(x0*y1-x1*y0)/(x0-x1);return tmp*tmp/(_a*_a+1)<=_l/2*_l/2}var glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),lines3D_glsl=__webpack_require__("./node_modules/echarts-gl/lib/util/shader/lines3D.glsl.js"),vec3=glmatrix.Z.vec3;graphicGL.Z.Shader.import(lines3D_glsl.Z);const Line3DView=echarts.TA.extend({type:"line3D",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this._api=api},render:function(seriesModel,ecModel,api){var tmp=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=tmp,this._line3DMesh||(this._line3DMesh=new graphicGL.Z.Mesh({geometry:new Lines3D.Z({useNativeLine:!1,sortTriangles:!0}),material:new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var coordSys=seriesModel.coordinateSystem;if(coordSys&&coordSys.viewGL){coordSys.viewGL.add(this.groupGL);var methodName=coordSys.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[methodName]("fragment","SRGB_DECODE")}this._doRender(seriesModel,api),this._data=seriesModel.getData(),this._camera=coordSys.viewGL.camera,this.updateCamera(),this._updateAnimation(seriesModel)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(seriesModel,api){var data=seriesModel.getData(),lineMesh=this._line3DMesh;lineMesh.geometry.resetOffset();var points=data.getLayout("points"),colorArr=[],vertexColors=new Float32Array(points.length/3*4),colorOffset=0,hasTransparent=!1;data.each((function(idx){var color=(0,visual.BM)(data,idx),opacity=(0,visual.Jk)(data,idx);null==opacity&&(opacity=1),graphicGL.Z.parseColor(color,colorArr),colorArr[3]*=opacity,vertexColors[colorOffset++]=colorArr[0],vertexColors[colorOffset++]=colorArr[1],vertexColors[colorOffset++]=colorArr[2],vertexColors[colorOffset++]=colorArr[3],colorArr[3]<.99&&(hasTransparent=!0)})),lineMesh.geometry.setVertexCount(lineMesh.geometry.getPolylineVertexCount(points)),lineMesh.geometry.setTriangleCount(lineMesh.geometry.getPolylineTriangleCount(points)),lineMesh.geometry.addPolyline(points,vertexColors,retrieve.Z.firstNotNull(seriesModel.get("lineStyle.width"),1)),lineMesh.geometry.dirty(),lineMesh.geometry.updateBoundingBox();var material=lineMesh.material;material.transparent=hasTransparent,material.depthMask=!hasTransparent;var debugWireframeModel=seriesModel.getModel("debug.wireframe");debugWireframeModel.get("show")?(lineMesh.geometry.createAttribute("barycentric","float",3),lineMesh.geometry.generateBarycentric(),lineMesh.material.set("both","WIREFRAME_TRIANGLE"),lineMesh.material.set("wireframeLineColor",graphicGL.Z.parseColor(debugWireframeModel.get("lineStyle.color")||"rgba(0,0,0,0.5)")),lineMesh.material.set("wireframeLineWidth",retrieve.Z.firstNotNull(debugWireframeModel.get("lineStyle.width"),1))):lineMesh.material.set("both","WIREFRAME_TRIANGLE"),this._points=points,this._initHandler(seriesModel,api)},_updateAnimation:function(seriesModel){graphicGL.Z.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,seriesModel)},_initHandler:function(seriesModel,api){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,lineMesh=this._line3DMesh,lastDataIndex=-1;lineMesh.seriesIndex=seriesModel.seriesIndex,lineMesh.off("mousemove"),lineMesh.off("mouseout"),lineMesh.on("mousemove",(function(e){var value=coordSys.pointToData(e.point.array),dataIndex=data.indicesOfNearest("x",value[0])[0];dataIndex!==lastDataIndex&&(api.dispatchAction({type:"grid3DShowAxisPointer",value:[data.get("x",dataIndex),data.get("y",dataIndex),data.get("z",dataIndex)]}),lineMesh.dataIndex=dataIndex),lastDataIndex=dataIndex}),this),lineMesh.on("mouseout",(function(e){lastDataIndex=-1,lineMesh.dataIndex=-1,api.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateNDCPosition:function(){var worldViewProjection=new Matrix4.Z,camera=this._camera;Matrix4.Z.multiply(worldViewProjection,camera.projectionMatrix,camera.viewMatrix);var positionNDC=this._positionNDC,points=this._points,nPoints=points.length/3;positionNDC&&positionNDC.length/2===nPoints||(positionNDC=this._positionNDC=new Float32Array(2*nPoints));for(var pos=[],i=0;i<nPoints;i++){var i3=3*i,i2=2*i;pos[0]=points[i3],pos[1]=points[i3+1],pos[2]=points[i3+2],pos[3]=1,vec3.transformMat4(pos,pos,worldViewProjection.array),positionNDC[i2]=pos[0]/pos[3],positionNDC[i2+1]=pos[1]/pos[3]}},_pick:function(x,y,renderer,camera,renderable,out){var positionNDC=this._positionNDC,lineWidth=this._data.hostModel.get("lineStyle.width"),dataIndex=-1,halfWidth=.5*renderer.viewport.width,halfHeight=.5*renderer.viewport.height;x=(x+1)*halfWidth,y=(y+1)*halfHeight;for(var i=1;i<positionNDC.length/2;i++){var x0=(positionNDC[2*(i-1)]+1)*halfWidth,y0=(positionNDC[2*(i-1)+1]+1)*halfHeight,x1=(positionNDC[2*i]+1)*halfWidth,y1=(positionNDC[2*i+1]+1)*halfHeight;if(containStroke(x0,y0,x1,y1,lineWidth,x,y))dataIndex=(x0-x)*(x0-x)+(y0-y)*(y0-y)<(x1-x)*(x1-x)+(y1-y)*(y1-y)?i-1:i}if(dataIndex>=0){var i3=3*dataIndex,point=new Vector3.Z(this._points[i3],this._points[i3+1],this._points[i3+2]);out.push({dataIndex,point,pointWorld:point.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(point)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function install(registers){registers.registerChartView(Line3DView),registers.registerSeriesModel(line3D_Line3DSeries),registers.registerLayout((function(ecModel,api){ecModel.eachSeriesByType("line3D",(function(seriesModel){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem;if(coordSys){if("cartesian3D"!==coordSys.type)return void 0;var points=new Float32Array(3*data.count()),item=[],out=[],dims=coordSys.dimensions.map((function(coordDim){return seriesModel.coordDimToDataDim(coordDim)[0]}));coordSys&&data.each(dims,(function(x,y,z,idx){item[0]=x,item[1]=y,item[2]=z,coordSys.dataToPoint(item,out),points[3*idx]=out[0],points[3*idx+1]=out[1],points[3*idx+2]=out[2]})),data.setLayout("points",points)}}))}))}},"./node_modules/echarts-gl/lib/chart/lines3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),vec3=glmatrix.Z.vec3,vec2=glmatrix.Z.vec2,normalize=vec3.normalize,cross=vec3.cross,sub=vec3.sub,add=vec3.add,create=vec3.create,normal=create(),tangent=create(),bitangent=create(),halfVector=create(),coord0=[],coord1=[];function getCubicPointsOnGlobe(coords,coordSys){vec2.copy(coord0,coords[0]),vec2.copy(coord1,coords[1]);var pts=[],p0=pts[0]=create(),p1=pts[1]=create(),p2=pts[2]=create(),p3=pts[3]=create();coordSys.dataToPoint(coord0,p0),coordSys.dataToPoint(coord1,p3),normalize(normal,p0),sub(tangent,p3,p0),normalize(tangent,tangent),cross(bitangent,tangent,normal),normalize(bitangent,bitangent),cross(tangent,normal,bitangent),add(p1,normal,tangent),normalize(p1,p1),normalize(normal,p3),sub(tangent,p0,p3),normalize(tangent,tangent),cross(bitangent,tangent,normal),normalize(bitangent,bitangent),cross(tangent,normal,bitangent),add(p2,normal,tangent),normalize(p2,p2),add(halfVector,p0,p3),normalize(halfVector,halfVector);var projDist=vec3.dot(p0,halfVector),cosTheta=vec3.dot(halfVector,p1),len=(Math.max(vec3.len(p0),vec3.len(p3))-projDist)/cosTheta*2;return vec3.scaleAndAdd(p1,p0,p1,len),vec3.scaleAndAdd(p2,p3,p2,len),pts}function getPolylinePoints(coords,coordSys){for(var pts=new Float32Array(3*coords.length),off=0,pt=[],i=0;i<coords.length;i++)coordSys.dataToPoint(coords[i],pt),pts[off++]=pt[0],pts[off++]=pt[1],pts[off++]=pt[2];return pts}function prepareCoords(data){var coordsList=[];return data.each((function(idx){var itemModel=data.getItemModel(idx),coords=itemModel.option instanceof Array?itemModel.option:itemModel.getShallow("coords",!0);coordsList.push(coords)})),{coordsList}}function layoutOnPlane(seriesModel,coordSys,normal){var data=seriesModel.getData(),isPolyline=seriesModel.get("polyline"),res=prepareCoords(data);data.setLayout("lineType",isPolyline?"polyline":"cubicBezier"),data.each((function(idx){var coords=res.coordsList[idx],pts=isPolyline?getPolylinePoints(coords,coordSys):function getCubicPointsOnPlane(coords,coordSys,up){var pts=[],p0=pts[0]=vec3.create(),p1=pts[1]=vec3.create(),p2=pts[2]=vec3.create(),p3=pts[3]=vec3.create();coordSys.dataToPoint(coords[0],p0),coordSys.dataToPoint(coords[1],p3);var len=vec3.dist(p0,p3);return vec3.lerp(p1,p0,p3,.3),vec3.lerp(p2,p0,p3,.3),vec3.scaleAndAdd(p1,p1,up,Math.min(.1*len,10)),vec3.scaleAndAdd(p2,p2,up,Math.min(.1*len,10)),pts}(coords,coordSys,normal);data.setItemLayout(idx,pts)}))}function lines3DLayout(ecModel,api){ecModel.eachSeriesByType("lines3D",(function(seriesModel){var coordSys=seriesModel.coordinateSystem;"globe"===coordSys.type?function layoutGlobe(seriesModel,coordSys){var data=seriesModel.getData(),isPolyline=seriesModel.get("polyline");data.setLayout("lineType",isPolyline?"polyline":"cubicBezier");var res=prepareCoords(data);data.each((function(idx){var coords=res.coordsList[idx],getPointsMethod=isPolyline?getPolylinePoints:getCubicPointsOnGlobe;data.setItemLayout(idx,getPointsMethod(coords,coordSys))}))}(seriesModel,coordSys):"geo3D"===coordSys.type?layoutOnPlane(seriesModel,coordSys,[0,1,0]):"mapbox3D"!==coordSys.type&&"maptalks3D"!==coordSys.type||layoutOnPlane(seriesModel,coordSys,[0,0,1])}))}const Lines3DSeries=echarts.wJ.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(option,ecModel){var lineData=new echarts.aV(["value"],this);return lineData.hasItemOption=!1,lineData.initData(option.data,[],(function(dataItem,dimName,dataIndex,dimIndex){if(dataItem instanceof Array)return NaN;lineData.hasItemOption=!0;var value=dataItem.value;return null!=value?value instanceof Array?value[dimIndex]:value:void 0})),lineData},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}});var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),Lines3D=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/Lines3D.js");var visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),TrailMesh2_vec3=glmatrix.Z.vec3;graphicGL.Z.Shader.import("@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end");const TrailMesh2=graphicGL.Z.Mesh.extend((function(){var material=new graphicGL.Z.Material({shader:new graphicGL.Z.Shader(graphicGL.Z.Shader.source("ecgl.trail2.vertex"),graphicGL.Z.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),geometry=new Lines3D.Z({dynamic:!0});return geometry.createAttribute("dist","float",1),geometry.createAttribute("distAll","float",1),geometry.createAttribute("start","float",1),{geometry,material,culling:!1,$ignorePicking:!0}}),{updateData:function(data,api,lines3DGeometry){var seriesModel=data.hostModel,geometry=this.geometry,effectModel=seriesModel.getModel("effect"),size=effectModel.get("trailWidth")*api.getDevicePixelRatio(),trailLength=effectModel.get("trailLength"),speed=seriesModel.get("effect.constantSpeed"),period=1e3*seriesModel.get("effect.period"),useConstantSpeed=null!=speed;useConstantSpeed?this.material.set("speed",speed/1e3):this.material.set("period",period),this.material[useConstantSpeed?"define":"undefine"]("vertex","CONSTANT_SPEED");var isPolyline=seriesModel.get("polyline");geometry.trailLength=trailLength,this.material.set("trailLength",trailLength),geometry.resetOffset(),["position","positionPrev","positionNext"].forEach((function(attrName){geometry.attributes[attrName].value=lines3DGeometry.attributes[attrName].value}));["dist","distAll","start","offset","color"].forEach((function(attrName){geometry.attributes[attrName].init(geometry.vertexCount)})),geometry.indices=lines3DGeometry.indices;var colorArr=[],effectColor=effectModel.get("trailColor"),effectOpacity=effectModel.get("trailOpacity"),hasEffectColor=null!=effectColor,hasEffectOpacity=null!=effectOpacity;this.updateWorldTransform();var xScale=this.worldTransform.x.len(),yScale=this.worldTransform.y.len(),zScale=this.worldTransform.z.len(),vertexOffset=0,maxDistance=0;data.each((function(idx){var pts=data.getItemLayout(idx),opacity=hasEffectOpacity?effectOpacity:(0,visual.Jk)(data,idx),color=(0,visual.BM)(data,idx);null==opacity&&(opacity=1),(colorArr=graphicGL.Z.parseColor(hasEffectColor?effectColor:color,colorArr))[3]*=opacity;for(var vertexCount=isPolyline?lines3DGeometry.getPolylineVertexCount(pts):lines3DGeometry.getCubicCurveVertexCount(pts[0],pts[1],pts[2],pts[3]),dist=0,pos=[],posPrev=[],i=vertexOffset;i<vertexOffset+vertexCount;i++)geometry.attributes.position.get(i,pos),pos[0]*=xScale,pos[1]*=yScale,pos[2]*=zScale,i>vertexOffset&&(dist+=TrailMesh2_vec3.dist(pos,posPrev)),geometry.attributes.dist.set(i,dist),TrailMesh2_vec3.copy(posPrev,pos);maxDistance=Math.max(maxDistance,dist);var randomStart=Math.random()*(useConstantSpeed?dist:period);for(i=vertexOffset;i<vertexOffset+vertexCount;i++)geometry.attributes.distAll.set(i,dist),geometry.attributes.start.set(i,randomStart),geometry.attributes.offset.set(i,(lines3DGeometry.attributes.offset.get(i)>0?1:-1)*size/2),geometry.attributes.color.set(i,colorArr);vertexOffset+=vertexCount})),this.material.set("spotSize",.1*maxDistance*trailLength),this.material.set("spotIntensity",effectModel.get("spotIntensity")),geometry.dirty()},setAnimationTime:function(time){this.material.set("time",time)}});var lines3D_glsl=__webpack_require__("./node_modules/echarts-gl/lib/util/shader/lines3D.glsl.js");graphicGL.Z.Shader.import(lines3D_glsl.Z);const Lines3DView=echarts.TA.extend({type:"lines3D",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this._meshLinesMaterial=new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new graphicGL.Z.Mesh({geometry:new Lines3D.Z,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new TrailMesh2},render:function(seriesModel,ecModel,api){this.groupGL.add(this._linesMesh);var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData();if(coordSys&&coordSys.viewGL){coordSys.viewGL.add(this.groupGL),this._updateLines(seriesModel,ecModel,api);var methodName=coordSys.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[methodName]("fragment","SRGB_DECODE"),this._trailMesh.material[methodName]("fragment","SRGB_DECODE")}var trailMesh=this._trailMesh;if(trailMesh.stopAnimation(),seriesModel.get("effect.show")){this.groupGL.add(trailMesh),trailMesh.updateData(data,api,this._linesMesh.geometry),trailMesh.__time=trailMesh.__time||0;this._curveEffectsAnimator=trailMesh.animate("",{loop:!0}).when(36e5,{__time:36e5}).during((function(){trailMesh.setAnimationTime(trailMesh.__time)})).start()}else this.groupGL.remove(trailMesh),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===seriesModel.get("blendMode")?graphicGL.Z.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var animator=this._curveEffectsAnimator;animator&&(animator.isPaused()?animator.resume():animator.pause())},_updateLines:function(seriesModel,ecModel,api){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,geometry=this._linesMesh.geometry,isPolyline=seriesModel.get("polyline");geometry.expandLine=!0;var size=function getCoordSysSize(coordSys){return null!=coordSys.radius?coordSys.radius:null!=coordSys.size?Math.max(coordSys.size[0],coordSys.size[1],coordSys.size[2]):100}(coordSys);geometry.segmentScale=size/20;var lineWidthQueryPath="lineStyle.width".split("."),dpr=api.getDevicePixelRatio(),maxLineWidth=0;data.each((function(idx){var lineWidth=data.getItemModel(idx).get(lineWidthQueryPath);null==lineWidth&&(lineWidth=1),data.setItemVisual(idx,"lineWidth",lineWidth),maxLineWidth=Math.max(lineWidth,maxLineWidth)})),geometry.useNativeLine=!1;var nVertex=0,nTriangle=0;data.each((function(idx){var pts=data.getItemLayout(idx);isPolyline?(nVertex+=geometry.getPolylineVertexCount(pts),nTriangle+=geometry.getPolylineTriangleCount(pts)):(nVertex+=geometry.getCubicCurveVertexCount(pts[0],pts[1],pts[2],pts[3]),nTriangle+=geometry.getCubicCurveTriangleCount(pts[0],pts[1],pts[2],pts[3]))})),geometry.setVertexCount(nVertex),geometry.setTriangleCount(nTriangle),geometry.resetOffset();var colorArr=[];data.each((function(idx){var pts=data.getItemLayout(idx),color=(0,visual.BM)(data,idx),opacity=(0,visual.Jk)(data,idx),lineWidth=data.getItemVisual(idx,"lineWidth")*dpr;null==opacity&&(opacity=1),(colorArr=graphicGL.Z.parseColor(color,colorArr))[3]*=opacity,isPolyline?geometry.addPolyline(pts,colorArr,lineWidth):geometry.addCubicCurve(pts[0],pts[1],pts[2],pts[3],colorArr,lineWidth)})),geometry.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function install(registers){registers.registerChartView(Lines3DView),registers.registerSeriesModel(Lines3DSeries),registers.registerLayout(lines3DLayout),registers.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},(function(){})),registers.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},(function(){})),registers.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},(function(){}))}},"./node_modules/echarts-gl/lib/chart/linesGL/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),util=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/core/util.js"),LinesGLSeries=echarts.wJ.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(option){var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count)),LinesGLSeries.superApply(this,"init",arguments)},mergeOption:function(option){var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count)),LinesGLSeries.superApply(this,"mergeOption",arguments)},appendData:function(params){var result=this._processFlatCoordsArray(params.data);result.flatCoords&&(this._flatCoords?(this._flatCoords=(0,util.WW)(this._flatCoords,result.flatCoords),this._flatCoordsOffset=(0,util.WW)(this._flatCoordsOffset,result.flatCoordsOffset)):(this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset),params.data=new Float32Array(result.count)),this.getRawData().appendData(params.data)},_getCoordsFromItemModel:function(idx){var itemModel=this.getData().getItemModel(idx);return itemModel.option instanceof Array?itemModel.option:itemModel.getShallow("coords")},getLineCoordsCount:function(idx){return this._flatCoordsOffset?this._flatCoordsOffset[2*idx+1]:this._getCoordsFromItemModel(idx).length},getLineCoords:function(idx,out){if(this._flatCoordsOffset){for(var offset=this._flatCoordsOffset[2*idx],len=this._flatCoordsOffset[2*idx+1],i=0;i<len;i++)out[i]=out[i]||[],out[i][0]=this._flatCoords[offset+2*i],out[i][1]=this._flatCoords[offset+2*i+1];return len}var coords=this._getCoordsFromItemModel(idx);for(i=0;i<coords.length;i++)out[i]=out[i]||[],out[i][0]=coords[i][0],out[i][1]=coords[i][1];return coords.length},_processFlatCoordsArray:function(data){var startOffset=0;if(this._flatCoords&&(startOffset=this._flatCoords.length),"number"==typeof data[0]){for(var len=data.length,coordsOffsetAndLenStorage=new Uint32Array(len),coordsStorage=new Float64Array(len),coordsCursor=0,offsetCursor=0,dataCount=0,i=0;i<len;){dataCount++;var count=data[i++];coordsOffsetAndLenStorage[offsetCursor++]=coordsCursor+startOffset,coordsOffsetAndLenStorage[offsetCursor++]=count;for(var k=0;k<count;k++){var x=data[i++],y=data[i++];coordsStorage[coordsCursor++]=x,coordsStorage[coordsCursor++]=y}}return{flatCoordsOffset:new Uint32Array(coordsOffsetAndLenStorage.buffer,0,offsetCursor),flatCoords:coordsStorage,count:dataCount}}return{flatCoordsOffset:null,flatCoords:null,count:data.length}},getInitialData:function(option,ecModel){var lineData=new echarts.aV(["value"],this);return lineData.hasItemOption=!1,lineData.initData(option.data,[],(function(dataItem,dimName,dataIndex,dimIndex){if(dataItem instanceof Array)return NaN;lineData.hasItemOption=!0;var value=dataItem.value;return null!=value?value instanceof Array?value[dimIndex]:value:void 0})),lineData},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const linesGL_LinesGLSeries=LinesGLSeries;var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js"),Lines2D=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/Lines2D.js"),GLViewHelper=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/GLViewHelper.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js");const LinesGLView=echarts.TA.extend({type:"linesGL",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this.viewGL=new ViewGL.Z("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new GLViewHelper.Z(this.viewGL),this._nativeLinesShader=graphicGL.Z.createShader("ecgl.lines3D"),this._meshLinesShader=graphicGL.Z.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(seriesModel,ecModel,api){this.groupGL.removeAll(),this._glViewHelper.reset(seriesModel,api);var linesMesh=this._linesMeshes[0];linesMesh||(linesMesh=this._linesMeshes[0]=this._createLinesMesh(seriesModel)),this._linesMeshes.length=1,this.groupGL.add(linesMesh),this._updateLinesMesh(seriesModel,linesMesh,0,seriesModel.getData().count()),this.viewGL.setPostEffect(seriesModel.getModel("postEffect"),api)},incrementalPrepareRender:function(seriesModel,ecModel,api){this.groupGL.removeAll(),this._glViewHelper.reset(seriesModel,api),this._currentStep=0,this.viewGL.setPostEffect(seriesModel.getModel("postEffect"),api)},incrementalRender:function(params,seriesModel,ecModel,api){var linesMesh=this._linesMeshes[this._currentStep];linesMesh||(linesMesh=this._createLinesMesh(seriesModel),this._linesMeshes[this._currentStep]=linesMesh),this._updateLinesMesh(seriesModel,linesMesh,params.start,params.end),this.groupGL.add(linesMesh),api.getZr().refresh(),this._currentStep++},updateTransform:function(seriesModel,ecModel,api){seriesModel.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(seriesModel,api)},_createLinesMesh:function(seriesModel){return new graphicGL.Z.Mesh({$ignorePicking:!0,material:new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new Lines2D.Z({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:graphicGL.Z.Mesh.LINES,culling:!1})},_updateLinesMesh:function(seriesModel,linesMesh,start,end){var data=seriesModel.getData();linesMesh.material.blend="lighter"===seriesModel.get("blendMode")?graphicGL.Z.additiveBlend:null;var curveness=seriesModel.get("lineStyle.curveness")||0,isPolyline=seriesModel.get("polyline"),geometry=linesMesh.geometry,coordSys=seriesModel.coordinateSystem,lineWidth=retrieve.Z.firstNotNull(seriesModel.get("lineStyle.width"),1);lineWidth>1?(linesMesh.material.shader!==this._meshLinesShader&&linesMesh.material.attachShader(this._meshLinesShader),linesMesh.mode=graphicGL.Z.Mesh.TRIANGLES):(linesMesh.material.shader!==this._nativeLinesShader&&linesMesh.material.attachShader(this._nativeLinesShader),linesMesh.mode=graphicGL.Z.Mesh.LINES),start=start||0,end=end||data.count(),geometry.resetOffset();var vertexCount=0,triangleCount=0,p0=[],p1=[],p2=[],p3=[],lineCoords=[],t=.3;function updateBezierControlPoints(){p1[0]=.7*p0[0]+p3[0]*t-(p0[1]-p3[1])*curveness,p1[1]=.7*p0[1]+p3[1]*t-(p3[0]-p0[0])*curveness,p2[0]=p0[0]*t+.7*p3[0]-(p0[1]-p3[1])*curveness,p2[1]=p0[1]*t+.7*p3[1]-(p3[0]-p0[0])*curveness}if(isPolyline||0!==curveness)for(var idx=start;idx<end;idx++)if(isPolyline){var count=seriesModel.getLineCoordsCount(idx);vertexCount+=geometry.getPolylineVertexCount(count),triangleCount+=geometry.getPolylineTriangleCount(count)}else seriesModel.getLineCoords(idx,lineCoords),this._glViewHelper.dataToPoint(coordSys,lineCoords[0],p0),this._glViewHelper.dataToPoint(coordSys,lineCoords[1],p3),updateBezierControlPoints(),vertexCount+=geometry.getCubicCurveVertexCount(p0,p1,p2,p3),triangleCount+=geometry.getCubicCurveTriangleCount(p0,p1,p2,p3);else{var lineCount=end-start;vertexCount+=lineCount*geometry.getLineVertexCount(),triangleCount+=lineCount*geometry.getLineVertexCount()}geometry.setVertexCount(vertexCount),geometry.setTriangleCount(triangleCount);var dataIndex=start,colorArr=[];for(idx=start;idx<end;idx++){graphicGL.Z.parseColor((0,visual.BM)(data,dataIndex),colorArr);var opacity=retrieve.Z.firstNotNull((0,visual.Jk)(data,dataIndex),1);colorArr[3]*=opacity;count=seriesModel.getLineCoords(idx,lineCoords);for(var k=0;k<count;k++)this._glViewHelper.dataToPoint(coordSys,lineCoords[k],lineCoords[k]);isPolyline?geometry.addPolyline(lineCoords,colorArr,lineWidth,0,count):0!==curveness?(p0=lineCoords[0],p3=lineCoords[1],updateBezierControlPoints(),geometry.addCubicCurve(p0,p1,p2,p3,colorArr,lineWidth)):geometry.addPolyline(lineCoords,colorArr,lineWidth,0,2),dataIndex++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function install(registers){registers.registerChartView(LinesGLView),registers.registerSeriesModel(linesGL_LinesGLSeries)}},"./node_modules/echarts-gl/lib/chart/map3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install_install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),componentViewControlMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentViewControlMixin.js"),componentPostEffectMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentPostEffectMixin.js"),componentLightMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentLightMixin.js"),componentShadingMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js"),geo3DModelMixin=__webpack_require__("./node_modules/echarts-gl/lib/coord/geo3D/geo3DModelMixin.js"),format=__webpack_require__("./node_modules/echarts-gl/lib/util/format.js"),formatTooltip=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/formatTooltip.js"),geo3DCreator=__webpack_require__("./node_modules/echarts-gl/lib/coord/geo3DCreator.js");function transformPolygon(mapbox3DCoordSys,poly){for(var newPoly=[],k=0;k<poly.length;k++)newPoly.push(mapbox3DCoordSys.dataToPoint(poly[k]));return newPoly}var Map3DSeries=echarts.wJ.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(newOpt){newOpt=newOpt||{};var coordSysType=this.get("coordinateSystem");null!=coordSysType&&"geo3D"!==coordSysType&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(option){option.data=this.getFilledRegions(option.data,option.map);var dimensions=echarts._y.createDimensions(option.data,{coordDimensions:["value"]}),list=new echarts.aV(dimensions,this);list.initData(option.data);var regionModelMap={};return list.each((function(idx){var name=list.getName(idx),itemModel=list.getItemModel(idx);regionModelMap[name]=itemModel})),this._regionModelMap=regionModelMap,list},formatTooltip:function(dataIndex){return(0,formatTooltip.Z)(this,dataIndex)},getRegionModel:function(idx){var name=this.getData().getName(idx);return this._regionModelMap[name]||new echarts.Hn(null,this)},getRegionPolygonCoords:function(idx){var coordSys=this.coordinateSystem,name=this.getData().getName(idx);if(coordSys.transform)return(region=coordSys.getRegion(name))?region.geometries:[];this._geo||(this._geo=geo3DCreator.Z.createGeo3D(this));for(var region=this._geo.getRegion(name),ret=[],k=0;k<region.geometries.length;k++){var geo=region.geometries[k],interiors=[],exterior=transformPolygon(coordSys,geo.exterior);if(interiors&&interiors.length)for(var m=0;m<geo.interiors.length;m++)interiors.push(transformPolygon(coordSys,interiors[m]));ret.push({interiors,exterior})}return ret},getFormattedLabel:function(dataIndex,status){var text=format.Z.getFormattedLabel(this,dataIndex,status);return null==text&&(text=this.getData().getName(dataIndex)),text},defaultOption:{coordinateSystem:"geo3D",data:null}});echarts.D5.merge(Map3DSeries.prototype,geo3DModelMixin.Z),echarts.D5.merge(Map3DSeries.prototype,componentViewControlMixin.Z),echarts.D5.merge(Map3DSeries.prototype,componentPostEffectMixin.Z),echarts.D5.merge(Map3DSeries.prototype,componentLightMixin.Z),echarts.D5.merge(Map3DSeries.prototype,componentShadingMixin.Z);const map3D_Map3DSeries=Map3DSeries;var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),OrbitControl=__webpack_require__("./node_modules/echarts-gl/lib/util/OrbitControl.js"),SceneHelper=__webpack_require__("./node_modules/echarts-gl/lib/component/common/SceneHelper.js"),Geo3DBuilder=__webpack_require__("./node_modules/echarts-gl/lib/component/common/Geo3DBuilder.js");const Map3DView=echarts.TA.extend({type:"map3D",__ecgl__:!0,init:function(ecModel,api){this._geo3DBuilder=new Geo3DBuilder.Z(api),this.groupGL=new graphicGL.Z.Node},render:function(map3DModel,ecModel,api){var coordSys=map3DModel.coordinateSystem;if(coordSys&&coordSys.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),coordSys.viewGL.add(this.groupGL),"geo3D"===coordSys.type){coordSys,this._sceneHelper||(this._sceneHelper=new SceneHelper.Z,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(coordSys.viewGL.scene),this._sceneHelper.updateLight(map3DModel),coordSys.viewGL.setPostEffect(map3DModel.getModel("postEffect"),api),coordSys.viewGL.setTemporalSuperSampling(map3DModel.getModel("temporalSuperSampling"));var control=this._control;control||(control=this._control=new OrbitControl.Z({zr:api.getZr()}),this._control.init());var viewControlModel=map3DModel.getModel("viewControl");control.setViewGL(coordSys.viewGL),control.setFromViewControlModel(viewControlModel,0),control.off("update"),control.on("update",(function(){api.dispatchAction({type:"map3DChangeCamera",alpha:control.getAlpha(),beta:control.getBeta(),distance:control.getDistance(),from:this.uid,map3DId:map3DModel.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),map3DModel.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(map3DModel,ecModel,api,0,map3DModel.getData().count());var srgbDefineMethod=coordSys.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(mesh){mesh.material&&mesh.material[srgbDefineMethod]("fragment","SRGB_DECODE")}))}},afterRender:function(map3DModel,ecModel,api,layerGL){var renderer=layerGL.renderer,coordSys=map3DModel.coordinateSystem;coordSys&&"geo3D"===coordSys.type&&(this._sceneHelper.updateAmbientCubemap(renderer,map3DModel,api),this._sceneHelper.updateSkybox(renderer,map3DModel,api))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});var install=__webpack_require__("./node_modules/echarts-gl/lib/component/geo3D/install.js");function install_install(registers){(0,install.N)(registers),registers.registerChartView(Map3DView),registers.registerSeriesModel(map3D_Map3DSeries),registers.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"map3D",query:payload},(function(componentModel){componentModel.setView(payload)}))}))}},"./node_modules/echarts-gl/lib/chart/polygons3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),componentShadingMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js");function transformPolygon(coordSys,poly){for(var ret=[],i=0;i<poly.length;i++)ret.push(coordSys.dataToPoint(poly[i]));return ret}var Polygons3DSeries=echarts.wJ.extend({type:"series.polygons3D",getRegionModel:function(idx){return this.getData().getItemModel(idx)},getRegionPolygonCoords:function(idx){var coordSys=this.coordinateSystem,itemModel=this.getData().getItemModel(idx),coords=itemModel.option instanceof Array?itemModel.option:itemModel.getShallow("coords");itemModel.get("multiPolygon")||(coords=[coords]);for(var out=[],i=0;i<coords.length;i++){for(var interiors=[],k=1;k<coords[i].length;k++)interiors.push(transformPolygon(coordSys,coords[i][k]));out.push({exterior:transformPolygon(coordSys,coords[i][0]),interiors})}return out},getInitialData:function(option){var polygonsData=new echarts.aV(["value"],this);return polygonsData.hasItemOption=!1,polygonsData.initData(option.data,[],(function(dataItem,dimName,dataIndex,dimIndex){if(dataItem instanceof Array)return NaN;polygonsData.hasItemOption=!0;var value=dataItem.value;return null!=value?value instanceof Array?value[dimIndex]:value:void 0})),polygonsData},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});echarts.D5.merge(Polygons3DSeries.prototype,componentShadingMixin.Z);const polygons3D_Polygons3DSeries=Polygons3DSeries;var Geo3DBuilder=__webpack_require__("./node_modules/echarts-gl/lib/component/common/Geo3DBuilder.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js");const Polygons3DView=echarts.TA.extend({type:"polygons3D",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(seriesModel,ecModel,api){this.groupGL.removeAll();var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.viewGL&&coordSys.viewGL.add(this.groupGL);var geo3DBuilder=this._geo3DBuilderList[0];geo3DBuilder||((geo3DBuilder=new Geo3DBuilder.Z(api)).extrudeY="mapbox3D"!==coordSys.type&&"maptalks3D"!==coordSys.type,this._geo3DBuilderList[0]=geo3DBuilder),this._updateShaderDefines(coordSys,geo3DBuilder),geo3DBuilder.update(seriesModel,ecModel,api),this._geo3DBuilderList.length=1,this.groupGL.add(geo3DBuilder.rootNode)},incrementalPrepareRender:function(seriesModel,ecModel,api){this.groupGL.removeAll();var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.viewGL&&coordSys.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(params,seriesModel,ecModel,api){var geo3DBuilder=this._geo3DBuilderList[this._currentStep],coordSys=seriesModel.coordinateSystem;geo3DBuilder||((geo3DBuilder=new Geo3DBuilder.Z(api)).extrudeY="mapbox3D"!==coordSys.type&&"maptalks3D"!==coordSys.type,this._geo3DBuilderList[this._currentStep]=geo3DBuilder),geo3DBuilder.update(seriesModel,ecModel,api,params.start,params.end),this.groupGL.add(geo3DBuilder.rootNode),this._updateShaderDefines(coordSys,geo3DBuilder),this._currentStep++},_updateShaderDefines:function(coordSys,geo3DBuilder){var methodName=coordSys.viewGL.isLinearSpace()?"define":"undefine";geo3DBuilder.rootNode.traverse((function(mesh){mesh.material&&(mesh.material[methodName]("fragment","SRGB_DECODE"),"mapbox3D"!==coordSys.type&&"maptalks3D"!==coordSys.type||(mesh.material.define("fragment","NORMAL_UP_AXIS",2),mesh.material.define("fragment","NORMAL_FRONT_AXIS",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach((function(geo3DBuilder){geo3DBuilder.dispose()}))}});function install(registers){registers.registerChartView(Polygons3DView),registers.registerSeriesModel(polygons3D_Polygons3DSeries)}},"./node_modules/echarts-gl/lib/chart/scatter3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),format=__webpack_require__("./node_modules/echarts-gl/lib/util/format.js"),formatTooltip=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/formatTooltip.js"),createList=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/createList.js");const Scatter3DSeries=echarts.wJ.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(option,ecModel){return(0,createList.Z)(this)},getFormattedLabel:function(dataIndex,status,dataType,dimIndex){var text=format.Z.getFormattedLabel(this,dataIndex,status,dataType,dimIndex);if(null==text){var data=this.getData(),lastDim=data.dimensions[data.dimensions.length-1];text=data.get(lastDim,dataIndex)}return text},formatTooltip:function(dataIndex){return(0,formatTooltip.Z)(this,dataIndex)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),PointsBuilder=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/PointsBuilder.js");const Scatter3DView=echarts.TA.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(seriesModel,ecModel,api){if(this.groupGL.removeAll(),seriesModel.getData().count()){var coordSys=seriesModel.coordinateSystem;if(coordSys&&coordSys.viewGL){coordSys.viewGL.add(this.groupGL),this._camera=coordSys.viewGL.camera;var pointsBuilder=this._pointsBuilderList[0];pointsBuilder||(pointsBuilder=this._pointsBuilderList[0]=new PointsBuilder.Z(!1,api)),this._pointsBuilderList.length=1,this.groupGL.add(pointsBuilder.rootNode),pointsBuilder.update(seriesModel,ecModel,api),pointsBuilder.updateView(coordSys.viewGL.camera)}else 0}},incrementalPrepareRender:function(seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.viewGL&&(coordSys.viewGL.add(this.groupGL),this._camera=coordSys.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(params,seriesModel,ecModel,api){if(!(params.end<=params.start)){var pointsBuilder=this._pointsBuilderList[this._currentStep];pointsBuilder||(pointsBuilder=new PointsBuilder.Z(!1,api),this._pointsBuilderList[this._currentStep]=pointsBuilder),this.groupGL.add(pointsBuilder.rootNode),pointsBuilder.update(seriesModel,ecModel,api,params.start,params.end),pointsBuilder.updateView(seriesModel.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(pointsBuilder){pointsBuilder.updateView(this._camera)}),this)},highlight:function(seriesModel,ecModel,api,payload){this._toggleStatus("highlight",seriesModel,ecModel,api,payload)},downplay:function(seriesModel,ecModel,api,payload){this._toggleStatus("downplay",seriesModel,ecModel,api,payload)},_toggleStatus:function(status,seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=retrieve.Z.queryDataIndex(data,payload),isHighlight="highlight"===status;null!=dataIndex?echarts.D5.each(format.Z.normalizeToArray(dataIndex),(function(dataIdx){for(var i=0;i<this._pointsBuilderList.length;i++){var pointsBuilder=this._pointsBuilderList[i];isHighlight?pointsBuilder.highlight(data,dataIdx):pointsBuilder.downplay(data,dataIdx)}}),this):data.each((function(dataIdx){for(var i=0;i<this._pointsBuilderList.length;i++){var pointsBuilder=this._pointsBuilderList[i];isHighlight?pointsBuilder.highlight(data,dataIdx):pointsBuilder.downplay(data,dataIdx)}}))},dispose:function(){this._pointsBuilderList.forEach((function(pointsBuilder){pointsBuilder.dispose()})),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function install(registers){registers.registerChartView(Scatter3DView),registers.registerSeriesModel(Scatter3DSeries),registers.registerLayout({seriesType:"scatter3D",reset:function(seriesModel){var coordSys=seriesModel.coordinateSystem;if(coordSys){var coordDims=coordSys.dimensions;if(coordDims.length<3)return void 0;var dims=coordDims.map((function(coordDim){return seriesModel.coordDimToDataDim(coordDim)[0]})),item=[],out=[];return{progress:function(params,data){for(var points=new Float32Array(3*(params.end-params.start)),idx=params.start;idx<params.end;idx++){var idx3=3*(idx-params.start);item[0]=data.get(dims[0],idx),item[1]=data.get(dims[1],idx),item[2]=data.get(dims[2],idx),coordSys.dataToPoint(item,out),points[idx3]=out[0],points[idx3+1]=out[1],points[idx3+2]=out[2]}data.setLayout("points",points)}}}}})}},"./node_modules/echarts-gl/lib/chart/scatterGL/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js");const ScatterGLSeries=echarts.wJ.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return echarts._y.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js"),PointsBuilder=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/PointsBuilder.js"),GLViewHelper=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/GLViewHelper.js");const ScatterGLView=echarts.TA.extend({type:"scatterGL",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this.viewGL=new ViewGL.Z("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new GLViewHelper.Z(this.viewGL)},render:function(seriesModel,ecModel,api){if(this.groupGL.removeAll(),this._glViewHelper.reset(seriesModel,api),seriesModel.getData().count()){var pointsBuilder=this._pointsBuilderList[0];pointsBuilder||(pointsBuilder=this._pointsBuilderList[0]=new PointsBuilder.Z(!0,api)),this._pointsBuilderList.length=1,this.groupGL.add(pointsBuilder.rootNode),this._removeTransformInPoints(seriesModel.getData().getLayout("points")),pointsBuilder.update(seriesModel,ecModel,api),this.viewGL.setPostEffect(seriesModel.getModel("postEffect"),api)}},incrementalPrepareRender:function(seriesModel,ecModel,api){this.groupGL.removeAll(),this._glViewHelper.reset(seriesModel,api),this._currentStep=0,this.viewGL.setPostEffect(seriesModel.getModel("postEffect"),api)},incrementalRender:function(params,seriesModel,ecModel,api){if(!(params.end<=params.start)){var pointsBuilder=this._pointsBuilderList[this._currentStep];pointsBuilder||(pointsBuilder=new PointsBuilder.Z(!0,api),this._pointsBuilderList[this._currentStep]=pointsBuilder),this.groupGL.add(pointsBuilder.rootNode),this._removeTransformInPoints(seriesModel.getData().getLayout("points")),pointsBuilder.setSizeScale(this._sizeScale),pointsBuilder.update(seriesModel,ecModel,api,params.start,params.end),api.getZr().refresh(),this._currentStep++}},updateTransform:function(seriesModel,ecModel,api){if(seriesModel.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(seriesModel,api);var zoom=this._glViewHelper.getZoom(),sizeScale=Math.max((seriesModel.get("zoomScale")||0)*(zoom-1)+1,0);this._sizeScale=sizeScale,this._pointsBuilderList.forEach((function(pointsBuilder){pointsBuilder.setSizeScale(sizeScale)}))}},_removeTransformInPoints:function(points){if(points)for(var pt=[],i=0;i<points.length;i+=2)pt[0]=points[i],pt[1]=points[i+1],this._glViewHelper.removeTransformInPoint(pt),points[i]=pt[0],points[i+1]=pt[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach((function(pointsBuilder){pointsBuilder.dispose()}))},remove:function(){this.groupGL.removeAll()}});function install(registers){registers.registerChartView(ScatterGLView),registers.registerSeriesModel(ScatterGLSeries),registers.registerLayout({seriesType:"scatterGL",reset:function(seriesModel){var progress,coordSys=seriesModel.coordinateSystem,data=seriesModel.getData();if(coordSys){var dims=coordSys.dimensions.map((function(dim){return data.mapDimension(dim)})).slice(0,2),pt=[];1===dims.length?progress=function(params){for(var points=new Float32Array(2*(params.end-params.start)),idx=params.start;idx<params.end;idx++){var offset=2*(idx-params.start),x=data.get(dims[0],idx),pt=coordSys.dataToPoint(x);points[offset]=pt[0],points[offset+1]=pt[1]}data.setLayout("points",points)}:2===dims.length&&(progress=function(params){for(var points=new Float32Array(2*(params.end-params.start)),idx=params.start;idx<params.end;idx++){var offset=2*(idx-params.start),x=data.get(dims[0],idx),y=data.get(dims[1],idx);pt[0]=x,pt[1]=y,pt=coordSys.dataToPoint(pt),points[offset]=pt[0],points[offset+1]=pt[1]}data.setLayout("points",points)})}return{progress}}})}},"./node_modules/echarts-gl/lib/chart/surface/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),componentShadingMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js"),formatTooltip=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/formatTooltip.js"),createList=__webpack_require__("./node_modules/echarts-gl/lib/chart/common/createList.js"),SurfaceSeries=echarts.wJ.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(dataIndex){return(0,formatTooltip.Z)(this,dataIndex)},getInitialData:function(option,ecModel){var data=option.data;function validateDimension(dimOpts){return!(isNaN(dimOpts.min)||isNaN(dimOpts.max)||isNaN(dimOpts.step))}function getPrecision(dimOpts){var getPrecision=echarts.Rx.getPrecisionSafe;return Math.max(getPrecision(dimOpts.min),getPrecision(dimOpts.max),getPrecision(dimOpts.step))+1}if(!data)if(option.parametric){var parametricEquation=option.parametricEquation||{},uOpts=parametricEquation.u||{},vOpts=parametricEquation.v||{};["u","v"].forEach((function(dim){validateDimension(parametricEquation[dim])})),["x","y","z"].forEach((function(dim){parametricEquation[dim]}));var uCount=Math.floor((uOpts.max+uOpts.step-uOpts.min)/uOpts.step),vCount=Math.floor((vOpts.max+vOpts.step-vOpts.min)/vOpts.step);data=new Float32Array(uCount*vCount*5);var uPrecision=getPrecision(uOpts),vPrecision=getPrecision(vOpts);for(off=0,j=0;j<vCount;j++)for(i=0;i<uCount;i++){var u=i*uOpts.step+uOpts.min,v=j*vOpts.step+vOpts.min,u2=echarts.Rx.round(Math.min(u,uOpts.max),uPrecision),v2=echarts.Rx.round(Math.min(v,vOpts.max),vPrecision);x=parametricEquation.x(u2,v2),y=parametricEquation.y(u2,v2),z=parametricEquation.z(u2,v2);data[off++]=x,data[off++]=y,data[off++]=z,data[off++]=u2,data[off++]=v2}}else{var equation=option.equation||{},xOpts=equation.x||{},yOpts=equation.y||{};if(["x","y"].forEach((function(dim){validateDimension(equation[dim])})),"function"!=typeof equation.z)return void 0;var xCount=Math.floor((xOpts.max+xOpts.step-xOpts.min)/xOpts.step),yCount=Math.floor((yOpts.max+yOpts.step-yOpts.min)/yOpts.step);data=new Float32Array(xCount*yCount*3);for(var xPrecision=getPrecision(xOpts),yPrecision=getPrecision(yOpts),off=0,j=0;j<yCount;j++)for(var i=0;i<xCount;i++){var x=i*xOpts.step+xOpts.min,y=j*yOpts.step+yOpts.min,x2=echarts.Rx.round(Math.min(x,xOpts.max),xPrecision),y2=echarts.Rx.round(Math.min(y,yOpts.max),yPrecision),z=equation.z(x2,y2);data[off++]=x2,data[off++]=y2,data[off++]=z}}var dims=["x","y","z"];return option.parametric&&dims.push("u","v"),(0,createList.Z)(this,dims,data)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});echarts.D5.merge(SurfaceSeries.prototype,componentShadingMixin.Z);const surface_SurfaceSeries=SurfaceSeries;var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),trianglesSortMixin=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/trianglesSortMixin.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),vec3=glmatrix.Z.vec3;const SurfaceView=echarts.TA.extend({type:"surface",__ecgl__:!0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node},render:function(seriesModel,ecModel,api){var tmp=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=tmp,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var coordSys=seriesModel.coordinateSystem,shading=seriesModel.get("shading"),data=seriesModel.getData(),shadingPrefix="ecgl."+shading;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===shadingPrefix||(this._surfaceMesh.material=graphicGL.Z.createMaterial(shadingPrefix,["VERTEX_COLOR","DOUBLE_SIDED"])),graphicGL.Z.setMaterialFromModel(shading,this._surfaceMesh.material,seriesModel,api),coordSys&&coordSys.viewGL){coordSys.viewGL.add(this.groupGL);var methodName=coordSys.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[methodName]("fragment","SRGB_DECODE")}var isParametric=seriesModel.get("parametric"),dataShape=seriesModel.get("dataShape");dataShape||(dataShape=this._getDataShape(data,isParametric));var wireframeModel=seriesModel.getModel("wireframe"),wireframeLineWidth=wireframeModel.get("lineStyle.width"),showWireframe=wireframeModel.get("show")&&wireframeLineWidth>0;this._updateSurfaceMesh(this._surfaceMesh,seriesModel,dataShape,showWireframe);var material=this._surfaceMesh.material;showWireframe?(material.define("WIREFRAME_QUAD"),material.set("wireframeLineWidth",wireframeLineWidth),material.set("wireframeLineColor",graphicGL.Z.parseColor(wireframeModel.get("lineStyle.color")))):material.undefine("WIREFRAME_QUAD"),this._initHandler(seriesModel,api),this._updateAnimation(seriesModel)},_updateAnimation:function(seriesModel){graphicGL.Z.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,seriesModel)},_createSurfaceMesh:function(){var mesh=new graphicGL.Z.Mesh({geometry:new graphicGL.Z.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new graphicGL.Z.Material({shader:new graphicGL.Z.Shader(graphicGL.Z.Shader.source("ecgl.sm.depth.vertex"),graphicGL.Z.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return mesh.geometry.createAttribute("barycentric","float",4),mesh.geometry.createAttribute("prevPosition","float",3),mesh.geometry.createAttribute("prevNormal","float",3),Object.assign(mesh.geometry,trianglesSortMixin.Z),mesh},_initHandler:function(seriesModel,api){var data=seriesModel.getData(),surfaceMesh=this._surfaceMesh,coordSys=seriesModel.coordinateSystem;surfaceMesh.seriesIndex=seriesModel.seriesIndex;var lastDataIndex=-1;surfaceMesh.off("mousemove"),surfaceMesh.off("mouseout"),surfaceMesh.on("mousemove",(function(e){var idx=function getNearestPointIdx(triangle,point){for(var nearestDist=1/0,nearestIdx=-1,pos=[],i=0;i<triangle.length;i++){surfaceMesh.geometry.attributes.position.get(triangle[i],pos);var dist=vec3.dist(point.array,pos);dist<nearestDist&&(nearestDist=dist,nearestIdx=triangle[i])}return nearestIdx}(e.triangle,e.point);if(idx>=0){var point=[];surfaceMesh.geometry.attributes.position.get(idx,point);for(var value=coordSys.pointToData(point),minDist=1/0,dataIndex=-1,item=[],i=0;i<data.count();i++){item[0]=data.get("x",i),item[1]=data.get("y",i),item[2]=data.get("z",i);var dist=vec3.squaredDistance(item,value);dist<minDist&&(dataIndex=i,minDist=dist)}dataIndex!==lastDataIndex&&api.dispatchAction({type:"grid3DShowAxisPointer",value}),lastDataIndex=dataIndex,surfaceMesh.dataIndex=dataIndex}else surfaceMesh.dataIndex=-1}),this),surfaceMesh.on("mouseout",(function(e){lastDataIndex=-1,surfaceMesh.dataIndex=-1,api.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateSurfaceMesh:function(surfaceMesh,seriesModel,dataShape,showWireframe){var geometry=surfaceMesh.geometry,data=seriesModel.getData(),pointsArr=data.getLayout("points"),invalidDataCount=0;data.each((function(idx){data.hasValue(idx)||invalidDataCount++}));var needsSplitQuad=invalidDataCount||showWireframe,positionAttr=geometry.attributes.position,normalAttr=geometry.attributes.normal,texcoordAttr=geometry.attributes.texcoord0,barycentricAttr=geometry.attributes.barycentric,colorAttr=geometry.attributes.color,row=dataShape[0],column=dataShape[1],needsNormal="color"!==seriesModel.get("shading");if(needsSplitQuad){var vertexCount=(row-1)*(column-1)*4;positionAttr.init(vertexCount),showWireframe&&barycentricAttr.init(vertexCount)}else positionAttr.value=new Float32Array(pointsArr);colorAttr.init(geometry.vertexCount),texcoordAttr.init(geometry.vertexCount);var pt,quadToTriangle=[0,3,1,1,3,2],quadBarycentric=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],indices=geometry.indices=new(geometry.vertexCount>65535?Uint32Array:Uint16Array)((row-1)*(column-1)*6),getQuadIndices=function(i,j,out){out[1]=i*column+j,out[0]=i*column+j+1,out[3]=(i+1)*column+j+1,out[2]=(i+1)*column+j},isTransparent=!1;if(needsSplitQuad){var quadIndices=[],pos=[],faceOffset=0;needsNormal?normalAttr.init(geometry.vertexCount):normalAttr.value=null;for(var pts=[[],[],[]],v21=[],v32=[],normal=vec3.create(),getFromArray=function(arr,idx,out){var idx3=3*idx;return out[0]=arr[idx3],out[1]=arr[idx3+1],out[2]=arr[idx3+2],out},vertexNormals=new Float32Array(pointsArr.length),vertexColors=new Float32Array(pointsArr.length/3*4),i=0;i<data.count();i++)if(data.hasValue(i)){var rgbaArr=graphicGL.Z.parseColor((0,visual.BM)(data,i));null!=(opacity=(0,visual.Jk)(data,i))&&(rgbaArr[3]*=opacity),rgbaArr[3]<.99&&(isTransparent=!0);for(var k=0;k<4;k++)vertexColors[4*i+k]=rgbaArr[k]}var farPoints=[1e7,1e7,1e7];for(i=0;i<row-1;i++)for(var j=0;j<column-1;j++){var vertexOffset=4*(i*(column-1)+j);getQuadIndices(i,j,quadIndices);var invisibleQuad=!1;for(k=0;k<4;k++)getFromArray(pointsArr,quadIndices[k],pos),pt=pos,(isNaN(pt[0])||isNaN(pt[1])||isNaN(pt[2]))&&(invisibleQuad=!0);for(k=0;k<4;k++)invisibleQuad?positionAttr.set(vertexOffset+k,farPoints):(getFromArray(pointsArr,quadIndices[k],pos),positionAttr.set(vertexOffset+k,pos)),showWireframe&&barycentricAttr.set(vertexOffset+k,quadBarycentric[k]);for(k=0;k<6;k++)indices[faceOffset++]=quadToTriangle[k]+vertexOffset;if(needsNormal&&!invisibleQuad)for(k=0;k<2;k++){for(var k3=3*k,m=0;m<3;m++){getFromArray(pointsArr,idx=quadIndices[quadToTriangle[k3]+m],pts[m])}vec3.sub(v21,pts[0],pts[1]),vec3.sub(v32,pts[1],pts[2]),vec3.cross(normal,v21,v32);for(m=0;m<3;m++){var idx3=3*quadIndices[quadToTriangle[k3]+m];vertexNormals[idx3]=vertexNormals[idx3]+normal[0],vertexNormals[idx3+1]=vertexNormals[idx3+1]+normal[1],vertexNormals[idx3+2]=vertexNormals[idx3+2]+normal[2]}}}if(needsNormal)for(i=0;i<vertexNormals.length/3;i++)getFromArray(vertexNormals,i,normal),vec3.normalize(normal,normal),vertexNormals[3*i]=normal[0],vertexNormals[3*i+1]=normal[1],vertexNormals[3*i+2]=normal[2];rgbaArr=[];var uvArr=[];for(i=0;i<row-1;i++)for(j=0;j<column-1;j++){vertexOffset=4*(i*(column-1)+j);getQuadIndices(i,j,quadIndices);for(k=0;k<4;k++){for(m=0;m<4;m++)rgbaArr[m]=vertexColors[4*quadIndices[k]+m];colorAttr.set(vertexOffset+k,rgbaArr),needsNormal&&(getFromArray(vertexNormals,quadIndices[k],normal),normalAttr.set(vertexOffset+k,normal));var idx=quadIndices[k];uvArr[0]=idx%column/(column-1),uvArr[1]=Math.floor(idx/column)/(row-1),texcoordAttr.set(vertexOffset+k,uvArr)}0}}else{for(uvArr=[],i=0;i<data.count();i++){uvArr[0]=i%column/(column-1),uvArr[1]=Math.floor(i/column)/(row-1);var opacity;rgbaArr=graphicGL.Z.parseColor((0,visual.BM)(data,i));null!=(opacity=(0,visual.Jk)(data,i))&&(rgbaArr[3]*=opacity),rgbaArr[3]<.99&&(isTransparent=!0),colorAttr.set(i,rgbaArr),texcoordAttr.set(i,uvArr)}quadIndices=[];var cursor=0;for(i=0;i<row-1;i++)for(j=0;j<column-1;j++){getQuadIndices(i,j,quadIndices);for(k=0;k<6;k++)indices[cursor++]=quadIndices[quadToTriangle[k]]}needsNormal?geometry.generateVertexNormals():normalAttr.value=null}surfaceMesh.material.get("normalMap")&&geometry.generateTangents(),geometry.updateBoundingBox(),geometry.dirty(),surfaceMesh.material.transparent=isTransparent,surfaceMesh.material.depthMask=!isTransparent},_getDataShape:function(data,isParametric){for(var prevX=-1/0,rowCount=0,columnCount=0,mayInvalid=!1,rowDim=isParametric?"u":"x",dataCount=data.count(),i=0;i<dataCount;i++){var x=data.get(rowDim,i);x<prevX&&(columnCount,columnCount=0,rowCount++),prevX=x,columnCount++}if(rowCount&&1!==columnCount||(mayInvalid=!0),!mayInvalid)return[rowCount+1,columnCount];for(var rows=Math.floor(Math.sqrt(dataCount));rows>0;){if(Math.floor(dataCount/rows)===dataCount/rows)return[rows,dataCount/rows];rows--}return[rows=Math.floor(Math.sqrt(dataCount)),rows]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function install(registers){registers.registerChartView(SurfaceView),registers.registerSeriesModel(surface_SurfaceSeries),registers.registerLayout((function(ecModel,api){ecModel.eachSeriesByType("surface",(function(surfaceModel){var cartesian=surfaceModel.coordinateSystem;cartesian&&cartesian.type;var data=surfaceModel.getData(),points=new Float32Array(3*data.count()),nanPoint=[NaN,NaN,NaN];if(cartesian&&"cartesian3D"===cartesian.type){var dims=cartesian.dimensions.map((function(coordDim){return surfaceModel.coordDimToDataDim(coordDim)[0]}));data.each(dims,(function(x,y,z,idx){var pt;pt=data.hasValue(idx)?cartesian.dataToPoint([x,y,z]):nanPoint,points[3*idx]=pt[0],points[3*idx+1]=pt[1],points[3*idx+2]=pt[2]}))}data.setLayout("points",points)}))}))}},"./node_modules/echarts-gl/lib/component/common/Geo3DBuilder.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>common_Geo3DBuilder});var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js");const earcut=earcut_earcut;function earcut_earcut(data,holeIndices,dim){dim=dim||2;var minX,minY,maxX,maxY,x,y,size,hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,!0),triangles=[];if(!outerNode)return triangles;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim){var i,len,list,queue=[];for(i=0,len=holeIndices.length;i<len;i++)(list=linkedList(data,holeIndices[i]*dim,i<len-1?holeIndices[i+1]*dim:data.length,dim,!1))===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)eliminateHole(queue[i],outerNode),outerNode=filterPoints(outerNode,outerNode.next);return outerNode}(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=maxX=data[0],minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim)(x=data[i])<minX&&(minX=x),(y=data[i+1])<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);size=Math.max(maxX-minX,maxY-minY)}return earcutLinked(outerNode,triangles,dim,minX,minY,size),triangles}function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);var again,p=start;do{if(again=!1,p.steiner||!equals(p,p.next)&&0!==earcut_area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),(p=end=p.prev)===p.next)return null;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,size,pass){if(ear){!pass&&size&&function indexCurve(start,minX,minY,size){var p=start;do{null===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,size)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,size);for(var prev,next,stop=ear;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,size?isEarHashed(ear,minX,minY,size):isEar(ear))triangles.push(prev.i/dim),triangles.push(ear.i/dim),triangles.push(next.i/dim),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(ear,triangles,dim),triangles,dim,minX,minY,size,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,size):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,size,1);break}}}function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(earcut_area(a,b,c)>=0)return!1;for(var p=ear.next.next;p!==ear.prev;){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,size){var a=ear.prev,b=ear,c=ear.next;if(earcut_area(a,b,c)>=0)return!1;for(var minTX=a.x<b.x?a.x<c.x?a.x:c.x:b.x<c.x?b.x:c.x,minTY=a.y<b.y?a.y<c.y?a.y:c.y:b.y<c.y?b.y:c.y,maxTX=a.x>b.x?a.x>c.x?a.x:c.x:b.x>c.x?b.x:c.x,maxTY=a.y>b.y?a.y>c.y?a.y:c.y:b.y>c.y?b.y:c.y,minZ=zOrder(minTX,minTY,minX,minY,size),maxZ=zOrder(maxTX,maxTY,minX,minY,size),p=ear.nextZ;p&&p.z<=maxZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=ear.prevZ;p&&p.z>=minZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim),triangles.push(p.i/dim),triangles.push(b.i/dim),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return p}function splitEarcut(start,triangles,dim,minX,minY,size){var a=start;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,size),void earcutLinked(c,triangles,dim,minX,minY,size)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){if(outerNode=function findHoleBridge(hole,outerNode){var m,p=outerNode,hx=hole.x,hy=hole.y,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){if(qx=x,x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next}m=p.x<p.next.x?p:p.next}}p=p.next}while(p!==outerNode);if(!m)return null;if(hx===qx)return m.prev;var tan,stop=m,mx=m.x,my=m.y,tanMin=1/0;p=m.next;for(;p!==stop;)hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&((tan=Math.abs(hy-p.y)/(hx-p.x))<tanMin||tan===tanMin&&p.x>m.x)&&locallyInside(p,hole)&&(m=p,tanMin=tan),p=p.next;return m}(hole,outerNode),outerNode){var b=splitPolygon(outerNode,hole);filterPoints(b,b.next)}}function zOrder(x,y,minX,minY,size){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=32767*(x-minX)/size)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=32767*(y-minY)/size)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){var p=start,leftmost=start;do{p.x<leftmost.x&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){var p=a,inside=!1,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)}function earcut_area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){return!!(equals(p1,q1)&&equals(p2,q2)||equals(p1,q2)&&equals(p2,q1))||earcut_area(p1,q1,p2)>0!=earcut_area(p1,q1,q2)>0&&earcut_area(p2,q2,p1)>0!=earcut_area(p2,q2,q1)>0}function locallyInside(a,b){return earcut_area(a.prev,a,a.next)<0?earcut_area(a,b,a.next)>=0&&earcut_area(a,a.prev,b)>=0:earcut_area(a,b,a.prev)<0||earcut_area(a,a.next,b)<0}function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){var p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,i=start,j=end-dim;i<end;i+=dim)sum+=(data[j]-data[i])*(data[i+1]+data[j+1]),j=i;return sum}earcut_earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles)for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim))}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim,b=triangles[i+1]*dim,c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]))}return 0===polygonArea&&0===trianglesArea?0:Math.abs((trianglesArea-polygonArea)/polygonArea)};var Lines3D=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/Lines3D.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),trianglesSortMixin=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/trianglesSortMixin.js"),LabelsBuilder=__webpack_require__("./node_modules/echarts-gl/lib/component/common/LabelsBuilder.js"),lines3D_glsl=__webpack_require__("./node_modules/echarts-gl/lib/util/shader/lines3D.glsl.js"),visual=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),vec3=glmatrix.Z.vec3;function Geo3DBuilder(api){this.rootNode=new graphicGL.Z.Node,this._triangulationResults={},this._shadersMap=graphicGL.Z.COMMON_SHADERS.filter((function(shaderName){return"shadow"!==shaderName})).reduce((function(obj,shaderName){return obj[shaderName]=graphicGL.Z.createShader("ecgl."+shaderName),obj}),{}),this._linesShader=graphicGL.Z.createShader("ecgl.meshLines3D");var groundMaterials={};graphicGL.Z.COMMON_SHADERS.forEach((function(shading){groundMaterials[shading]=new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl."+shading)})})),this._groundMaterials=groundMaterials,this._groundMesh=new graphicGL.Z.Mesh({geometry:new graphicGL.Z.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new LabelsBuilder.Z(512,512,api),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=api}graphicGL.Z.Shader.import(lines3D_glsl.Z),Geo3DBuilder.prototype={constructor:Geo3DBuilder,extrudeY:!0,update:function(componentModel,ecModel,api,start,end){var data=componentModel.getData();null==start&&(start=0),null==end&&(end=data.count()),this._startIndex=start,this._endIndex=end-1,this._triangulation(componentModel,start,end);var shader=this._getShader(componentModel.get("shading"));this._prepareMesh(componentModel,shader,api,start,end),this.rootNode.updateWorldTransform(),this._updateRegionMesh(componentModel,api,start,end);var coordSys=componentModel.coordinateSystem;"geo3D"===coordSys.type&&this._updateGroundPlane(componentModel,coordSys,api);var self=this;this._labelsBuilder.updateData(data,start,end),this._labelsBuilder.getLabelPosition=function(dataIndex,positionDesc,distance){var name=data.getName(dataIndex),height=distance;if("geo3D"===coordSys.type){var region=coordSys.getRegion(name);return region?(center=region.getCenter(),coordSys.dataToPoint([center[0],center[1],height])):[NaN,NaN,NaN]}var tmp=self._triangulationResults[dataIndex-self._startIndex],center=self.extrudeY?[(tmp.max[0]+tmp.min[0])/2,tmp.max[1]+height,(tmp.max[2]+tmp.min[2])/2]:[(tmp.max[0]+tmp.min[0])/2,(tmp.max[1]+tmp.min[1])/2,tmp.max[2]+height]},this._data=data,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(componentModel),this._lastHoverDataIndex=0},_initMeshes:function(){var self=this;var polygonMesh=function createPolygonMesh(){var mesh=new graphicGL.Z.Mesh({name:"Polygon",material:new graphicGL.Z.Material({shader:self._shadersMap.lambert}),geometry:new graphicGL.Z.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(mesh.geometry,trianglesSortMixin.Z),mesh}(),linesMesh=new graphicGL.Z.Mesh({material:new graphicGL.Z.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Lines3D.Z({useNativeLine:!1})});this.rootNode.add(polygonMesh),this.rootNode.add(linesMesh),polygonMesh.material.define("both","VERTEX_COLOR"),polygonMesh.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=polygonMesh,this._linesMesh=linesMesh,this.rootNode.add(this._groundMesh)},_getShader:function(shading){var shader=this._shadersMap[shading];return shader||(shader=this._shadersMap.lambert),shader.__shading=shading,shader},_prepareMesh:function(componentModel,shader,api,start,end){for(var polygonVertexCount=0,polygonTriangleCount=0,linesVertexCount=0,linesTriangleCount=0,idx=start;idx<end;idx++){var polyInfo=this._getRegionPolygonInfo(idx),lineInfo=this._getRegionLinesInfo(idx,componentModel,this._linesMesh.geometry);polygonVertexCount+=polyInfo.vertexCount,polygonTriangleCount+=polyInfo.triangleCount,linesVertexCount+=lineInfo.vertexCount,linesTriangleCount+=lineInfo.triangleCount}var polygonMesh=this._polygonMesh,polygonGeo=polygonMesh.geometry;["position","normal","texcoord0","color"].forEach((function(attrName){polygonGeo.attributes[attrName].init(polygonVertexCount)})),polygonGeo.indices=polygonVertexCount>65535?new Uint32Array(3*polygonTriangleCount):new Uint16Array(3*polygonTriangleCount),polygonMesh.material.shader!==shader&&polygonMesh.material.attachShader(shader,!0),graphicGL.Z.setMaterialFromModel(shader.__shading,polygonMesh.material,componentModel,api),linesVertexCount>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(linesVertexCount),this._linesMesh.geometry.setTriangleCount(linesTriangleCount)),this._dataIndexOfVertex=new Uint32Array(polygonVertexCount),this._vertexRangeOfDataIndex=new Uint32Array(2*(end-start))},_updateRegionMesh:function(componentModel,api,start,end){for(var data=componentModel.getData(),vertexOffset=0,triangleOffset=0,hasTranparentRegion=!1,polygonMesh=this._polygonMesh,linesMesh=this._linesMesh,dataIndex=start;dataIndex<end;dataIndex++){var regionModel=componentModel.getRegionModel(dataIndex),itemStyleModel=regionModel.getModel("itemStyle"),color=retrieve.Z.firstNotNull((0,visual.BM)(data,dataIndex),itemStyleModel.get("color"),"#fff"),opacity=retrieve.Z.firstNotNull((0,visual.Jk)(data,dataIndex),itemStyleModel.get("opacity"),1),colorArr=graphicGL.Z.parseColor(color),borderColorArr=graphicGL.Z.parseColor(itemStyleModel.get("borderColor"));colorArr[3]*=opacity,borderColorArr[3]*=opacity;var isTransparent=colorArr[3]<.99;polygonMesh.material.set("color",[1,1,1,1]),hasTranparentRegion=hasTranparentRegion||isTransparent;for(var regionHeight=retrieve.Z.firstNotNull(regionModel.get("height",!0),componentModel.get("regionHeight")),newOffsets=this._updatePolygonGeometry(componentModel,polygonMesh.geometry,dataIndex,regionHeight,vertexOffset,triangleOffset,colorArr),i=vertexOffset;i<newOffsets.vertexOffset;i++)this._dataIndexOfVertex[i]=dataIndex;this._vertexRangeOfDataIndex[2*(dataIndex-start)]=vertexOffset,this._vertexRangeOfDataIndex[2*(dataIndex-start)+1]=newOffsets.vertexOffset,vertexOffset=newOffsets.vertexOffset,triangleOffset=newOffsets.triangleOffset;var lineWidth=itemStyleModel.get("borderWidth"),hasLine=lineWidth>0;hasLine&&(lineWidth*=api.getDevicePixelRatio(),this._updateLinesGeometry(linesMesh.geometry,componentModel,dataIndex,regionHeight,lineWidth,componentModel.coordinateSystem.transform)),linesMesh.invisible=!hasLine,linesMesh.material.set({color:borderColorArr})}(polygonMesh=this._polygonMesh).material.transparent=hasTranparentRegion,polygonMesh.material.depthMask=!hasTranparentRegion,polygonMesh.geometry.updateBoundingBox(),polygonMesh.frontFace=this.extrudeY?graphicGL.Z.Mesh.CCW:graphicGL.Z.Mesh.CW,polygonMesh.material.get("normalMap")&&polygonMesh.geometry.generateTangents(),polygonMesh.seriesIndex=componentModel.seriesIndex,polygonMesh.on("mousemove",this._onmousemove,this),polygonMesh.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(componentModel){var debugWireframeModel=componentModel.getModel("debug.wireframe");if(debugWireframeModel.get("show")){var color=graphicGL.Z.parseColor(debugWireframeModel.get("lineStyle.color")||"rgba(0,0,0,0.5)"),width=retrieve.Z.firstNotNull(debugWireframeModel.get("lineStyle.width"),1),mesh=this._polygonMesh;mesh.geometry.generateBarycentric(),mesh.material.define("both","WIREFRAME_TRIANGLE"),mesh.material.set("wireframeLineColor",color),mesh.material.set("wireframeLineWidth",width)}},_onmousemove:function(e){var dataIndex=this._dataIndexOfVertex[e.triangle[0]];null==dataIndex&&(dataIndex=-1),dataIndex!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(dataIndex),this._labelsBuilder.updateLabels([dataIndex])),this._lastHoverDataIndex=dataIndex,this._polygonMesh.dataIndex=dataIndex},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(componentModel,geo3D,api){var groundModel=componentModel.getModel("groundPlane",componentModel);if(this._groundMesh.invisible=!groundModel.get("show",!0),!this._groundMesh.invisible){var shading=componentModel.get("shading"),material=this._groundMaterials[shading];material||(material=this._groundMaterials.lambert),graphicGL.Z.setMaterialFromModel(shading,material,groundModel,api),material.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=material,this._groundMesh.material.set("color",graphicGL.Z.parseColor(groundModel.get("color"))),this._groundMesh.scale.set(geo3D.size[0],geo3D.size[2],1)}},_triangulation:function(componentModel,start,end){this._triangulationResults=[];for(var minAll=[1/0,1/0,1/0],maxAll=[-1/0,-1/0,-1/0],coordSys=componentModel.coordinateSystem,idx=start;idx<end;idx++){for(var polygons=[],polygonCoords=componentModel.getRegionPolygonCoords(idx),i=0;i<polygonCoords.length;i++){var exterior=polygonCoords[i].exterior,interiors=polygonCoords[i].interiors,points=[],holes=[];if(!(exterior.length<3)){for(var offset=0,j=0;j<exterior.length;j++){var p=exterior[j];points[offset++]=p[0],points[offset++]=p[1]}for(j=0;j<interiors.length;j++)if(!(interiors[j].length<3)){for(var startIdx=points.length/2,k=0;k<interiors[j].length;k++){p=interiors[j][k];points.push(p[0]),points.push(p[1])}holes.push(startIdx)}var triangles=earcut(points,holes),points3=new Float64Array(points.length/2*3),pos=[],min=[1/0,1/0,1/0],max=[-1/0,-1/0,-1/0],off3=0;for(j=0;j<points.length;)vec3.set(pos,points[j++],0,points[j++]),coordSys&&coordSys.transform&&vec3.transformMat4(pos,pos,coordSys.transform),vec3.min(min,min,pos),vec3.max(max,max,pos),points3[off3++]=pos[0],points3[off3++]=pos[1],points3[off3++]=pos[2];vec3.min(minAll,minAll,min),vec3.max(maxAll,maxAll,max),polygons.push({points:points3,indices:triangles,min,max})}}this._triangulationResults.push(polygons)}this._geoBoundingBox=[minAll,maxAll]},_getRegionPolygonInfo:function(idx){for(var polygons=this._triangulationResults[idx-this._startIndex],sideVertexCount=0,sideTriangleCount=0,i=0;i<polygons.length;i++)sideVertexCount+=polygons[i].points.length/3,sideTriangleCount+=polygons[i].indices.length/3;return{vertexCount:2*sideVertexCount+4*sideVertexCount,triangleCount:2*sideTriangleCount+2*sideVertexCount}},_updatePolygonGeometry:function(componentModel,geometry,dataIndex,regionHeight,vertexOffset,triangleOffset,color){var projectUVOnGround=componentModel.get("projectUVOnGround"),positionAttr=geometry.attributes.position,normalAttr=geometry.attributes.normal,texcoordAttr=geometry.attributes.texcoord0,colorAttr=geometry.attributes.color,polygons=this._triangulationResults[dataIndex-this._startIndex],hasColor=colorAttr.value&&color,indices=geometry.indices,extrudeCoordIndex=this.extrudeY?1:2,sideCoordIndex=this.extrudeY?2:1,scale=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],min=vec3.mul([],this._geoBoundingBox[0],scale),max=vec3.mul([],this._geoBoundingBox[1],scale),maxDimSize=Math.max(max[0]-min[0],max[2]-min[2]);function buildTopBottom(polygon,y,insideOffset){var startVertexOffset=vertexOffset;!function addVertices(polygon,y,insideOffset){for(var points=polygon.points,pointsLen=points.length,currentPosition=[],uv=[],k=0;k<pointsLen;k+=3)currentPosition[0]=points[k],currentPosition[extrudeCoordIndex]=y,currentPosition[sideCoordIndex]=points[k+2],uv[0]=(points[k]*scale[0]-min[0])/maxDimSize,uv[1]=(points[k+2]*scale[sideCoordIndex]-min[2])/maxDimSize,positionAttr.set(vertexOffset,currentPosition),hasColor&&colorAttr.set(vertexOffset,color),texcoordAttr.set(vertexOffset++,uv)}(polygon,y);for(var len=polygon.indices.length,k=0;k<len;k++)indices[3*triangleOffset+k]=polygon.indices[k]+startVertexOffset;triangleOffset+=polygon.indices.length/3}for(var normalTop=this.extrudeY?[0,1,0]:[0,0,1],normalBottom=vec3.negate([],normalTop),p=0;p<polygons.length;p++){var startVertexOffset=vertexOffset,polygon=polygons[p];buildTopBottom(polygon,0),buildTopBottom(polygon,regionHeight);for(var ringVertexCount=polygon.points.length/3,v=0;v<ringVertexCount;v++)normalAttr.set(startVertexOffset+v,normalBottom),normalAttr.set(startVertexOffset+v+ringVertexCount,normalTop);var quadToTriangle=[0,3,1,1,3,2],quadPos=[[],[],[],[]],a=[],b=[],normal=[],uv=[],len=0;for(v=0;v<ringVertexCount;v++){for(var next=(v+1)%ringVertexCount,dx=(polygon.points[3*next]-polygon.points[3*v])*scale[0],dy=(polygon.points[3*next+2]-polygon.points[3*v+2])*scale[sideCoordIndex],sideLen=Math.sqrt(dx*dx+dy*dy),k=0;k<4;k++){var isCurrent=0===k||3===k,idx3=3*(isCurrent?v:next);quadPos[k][0]=polygon.points[idx3],quadPos[k][extrudeCoordIndex]=k>1?regionHeight:0,quadPos[k][sideCoordIndex]=polygon.points[idx3+2],positionAttr.set(vertexOffset+k,quadPos[k]),projectUVOnGround?(uv[0]=(polygon.points[idx3]*scale[0]-min[0])/maxDimSize,uv[1]=(polygon.points[idx3+2]*scale[sideCoordIndex]-min[sideCoordIndex])/maxDimSize):(uv[0]=(isCurrent?len:len+sideLen)/maxDimSize,uv[1]=(quadPos[k][extrudeCoordIndex]*scale[extrudeCoordIndex]-min[extrudeCoordIndex])/maxDimSize),texcoordAttr.set(vertexOffset+k,uv)}vec3.sub(a,quadPos[1],quadPos[0]),vec3.sub(b,quadPos[3],quadPos[0]),vec3.cross(normal,a,b),vec3.normalize(normal,normal);for(k=0;k<4;k++)normalAttr.set(vertexOffset+k,normal),hasColor&&colorAttr.set(vertexOffset+k,color);for(k=0;k<6;k++)indices[3*triangleOffset+k]=quadToTriangle[k]+vertexOffset;vertexOffset+=4,triangleOffset+=2,len+=sideLen}}return geometry.dirty(),{vertexOffset,triangleOffset}},_getRegionLinesInfo:function(idx,componentModel,geometry){var vertexCount=0,triangleCount=0;componentModel.getRegionModel(idx).getModel("itemStyle").get("borderWidth")>0&&componentModel.getRegionPolygonCoords(idx).forEach((function(coords){var exterior=coords.exterior,interiors=coords.interiors;vertexCount+=geometry.getPolylineVertexCount(exterior),triangleCount+=geometry.getPolylineTriangleCount(exterior);for(var i=0;i<interiors.length;i++)vertexCount+=geometry.getPolylineVertexCount(interiors[i]),triangleCount+=geometry.getPolylineTriangleCount(interiors[i])}),this);return{vertexCount,triangleCount}},_updateLinesGeometry:function(geometry,componentModel,dataIndex,regionHeight,lineWidth,transform){function convertToPoints3(polygon){for(var points=new Float64Array(3*polygon.length),offset=0,pos=[],i=0;i<polygon.length;i++)pos[0]=polygon[i][0],pos[1]=regionHeight+.1,pos[2]=polygon[i][1],transform&&vec3.transformMat4(pos,pos,transform),points[offset++]=pos[0],points[offset++]=pos[1],points[offset++]=pos[2];return points}var whiteColor=[1,1,1,1];componentModel.getRegionPolygonCoords(dataIndex).forEach((function(geo){var exterior=geo.exterior,interiors=geo.interiors;geometry.addPolyline(convertToPoints3(exterior),whiteColor,lineWidth);for(var i=0;i<interiors.length;i++)geometry.addPolyline(convertToPoints3(interiors[i]),whiteColor,lineWidth)}))},highlight:function(dataIndex){var data=this._data;if(data){var emphasisItemStyleModel=data.getItemModel(dataIndex).getModel(["emphasis","itemStyle"]),emphasisColor=emphasisItemStyleModel.get("color"),emphasisOpacity=retrieve.Z.firstNotNull(emphasisItemStyleModel.get("opacity"),(0,visual.Jk)(data,dataIndex),1);if(null==emphasisColor){var color=(0,visual.BM)(data,dataIndex);emphasisColor=echarts.$_.lift(color,-.4)}null==emphasisOpacity&&(emphasisOpacity=(0,visual.Jk)(data,dataIndex));var colorArr=graphicGL.Z.parseColor(emphasisColor);colorArr[3]*=emphasisOpacity,this._setColorOfDataIndex(data,dataIndex,colorArr)}},downplay:function(dataIndex){var data=this._data;if(data){var itemStyleModel=data.getItemModel(dataIndex),color=retrieve.Z.firstNotNull((0,visual.BM)(data,dataIndex),itemStyleModel.get(["itemStyle","color"]),"#fff"),opacity=retrieve.Z.firstNotNull((0,visual.Jk)(data,dataIndex),itemStyleModel.get(["itemStyle","opacity"]),1),colorArr=graphicGL.Z.parseColor(color);colorArr[3]*=opacity,this._setColorOfDataIndex(data,dataIndex,colorArr)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(data,dataIndex,colorArr){if(!(dataIndex<this._startIndex&&dataIndex>this._endIndex)){dataIndex-=this._startIndex;for(var i=this._vertexRangeOfDataIndex[2*dataIndex];i<this._vertexRangeOfDataIndex[2*dataIndex+1];i++)this._polygonMesh.geometry.attributes.color.set(i,colorArr);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const common_Geo3DBuilder=Geo3DBuilder},"./node_modules/echarts-gl/lib/component/common/LabelsBuilder.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js"),_util_ZRTextureAtlasSurface__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts-gl/lib/util/ZRTextureAtlasSurface.js"),_util_mesh_LabelsMesh__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts-gl/lib/util/mesh/LabelsMesh.js"),_util_retrieve__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),_util_visual__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts-gl/lib/util/visual.js"),echarts_lib_label_labelStyle__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js");function LabelsBuilder(width,height,api){this._labelsMesh=new _util_mesh_LabelsMesh__WEBPACK_IMPORTED_MODULE_1__.Z,this._labelTextureSurface=new _util_ZRTextureAtlasSurface__WEBPACK_IMPORTED_MODULE_2__.Z({width:512,height:512,devicePixelRatio:api.getDevicePixelRatio(),onupdate:function(){api.getZr().refresh()}}),this._api=api,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}LabelsBuilder.prototype.getLabelPosition=function(dataIndex,positionDesc,distance){return[0,0,0]},LabelsBuilder.prototype.getLabelDistance=function(dataIndex,positionDesc,distance){return 0},LabelsBuilder.prototype.getMesh=function(){return this._labelsMesh},LabelsBuilder.prototype.updateData=function(data,start,end){null==start&&(start=0),null==end&&(end=data.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===end-start||(this._labelsVisibilitiesBits=new Uint8Array(end-start));for(var normalLabelVisibilityQuery=["label","show"],emphasisLabelVisibilityQuery=["emphasis","label","show"],idx=start;idx<end;idx++){var itemModel=data.getItemModel(idx),normalVisibility=itemModel.get(normalLabelVisibilityQuery),emphasisVisibility=itemModel.get(emphasisLabelVisibilityQuery);null==emphasisVisibility&&(emphasisVisibility=normalVisibility);var bit=(normalVisibility?1:0)|(emphasisVisibility?2:0);this._labelsVisibilitiesBits[idx-start]=bit}this._start=start,this._end=end,this._data=data},LabelsBuilder.prototype.updateLabels=function(highlightDataIndices){if(this._data){for(var hasHighlightData=(highlightDataIndices=highlightDataIndices||[]).length>0,highlightDataIndicesMap={},i=0;i<highlightDataIndices.length;i++)highlightDataIndicesMap[highlightDataIndices[i]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var normalLabelQuery=["label"],emphasisLabelQuery=["emphasis","label"],seriesModel=this._data.hostModel,data=this._data,seriesLabelModel=seriesModel.getModel(normalLabelQuery),seriesLabelEmphasisModel=seriesModel.getModel(emphasisLabelQuery,seriesLabelModel),textAlignMap={left:"right",right:"left",top:"center",bottom:"center"},textVerticalAlignMap={left:"middle",right:"middle",top:"bottom",bottom:"top"},dataIndex=this._start;dataIndex<this._end;dataIndex++){var isEmphasis=!1;if(hasHighlightData&&highlightDataIndicesMap[dataIndex]&&(isEmphasis=!0),this._labelsVisibilitiesBits[dataIndex-this._start]&(isEmphasis?2:1)){var labelModel=data.getItemModel(dataIndex).getModel(isEmphasis?emphasisLabelQuery:normalLabelQuery,isEmphasis?seriesLabelEmphasisModel:seriesLabelModel),distance=labelModel.get("distance")||0,position=labelModel.get("position"),dpr=this._api.getDevicePixelRatio(),text=seriesModel.getFormattedLabel(dataIndex,isEmphasis?"emphasis":"normal");if(null==text||""===text)return;var textEl=new echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.Q.Text({style:(0,echarts_lib_label_labelStyle__WEBPACK_IMPORTED_MODULE_3__.Lr)(labelModel,{text,fill:labelModel.get("color")||(0,_util_visual__WEBPACK_IMPORTED_MODULE_4__.BM)(data,dataIndex)||"#000",align:"left",verticalAlign:"top",opacity:_util_retrieve__WEBPACK_IMPORTED_MODULE_5__.Z.firstNotNull(labelModel.get("opacity"),(0,_util_visual__WEBPACK_IMPORTED_MODULE_4__.Jk)(data,dataIndex),1)})}),rect=textEl.getBoundingRect();rect.height*=1.2;var coords=this._labelTextureSurface.add(textEl),textAlign=textAlignMap[position]||"center",textVerticalAlign=textVerticalAlignMap[position]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(dataIndex,position,distance),[rect.width*dpr,rect.height*dpr],coords,textAlign,textVerticalAlign,this.getLabelDistance(dataIndex,position,distance)*dpr)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},LabelsBuilder.prototype.dispose=function(){this._labelTextureSurface.dispose()};const __WEBPACK_DEFAULT_EXPORT__=LabelsBuilder},"./node_modules/echarts-gl/lib/component/common/SceneHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _util_graphicGL__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),claygl_src_plugin_Skybox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/plugin/Skybox.js"),echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js");function SceneHelper(){}SceneHelper.prototype={constructor:SceneHelper,setScene:function(scene){this._scene=scene,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(rootNode){this._lightRoot=rootNode,this.mainLight=new _util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.DirectionalLight({shadowBias:.005}),this.ambientLight=new _util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.AmbientLight,rootNode.add(this.mainLight),rootNode.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(componentModel){var mainLight=this.mainLight,ambientLight=this.ambientLight,lightModel=componentModel.getModel("light"),mainLightModel=lightModel.getModel("main"),ambientLightModel=lightModel.getModel("ambient");mainLight.intensity=mainLightModel.get("intensity"),ambientLight.intensity=ambientLightModel.get("intensity"),mainLight.color=_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.parseColor(mainLightModel.get("color")).slice(0,3),ambientLight.color=_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.parseColor(ambientLightModel.get("color")).slice(0,3);var alpha=mainLightModel.get("alpha")||0,beta=mainLightModel.get("beta")||0;mainLight.position.setArray(_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.directionFromAlphaBeta(alpha,beta)),mainLight.lookAt(_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.Vector3.ZERO),mainLight.castShadow=mainLightModel.get("shadow"),mainLight.shadowResolution=_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.getShadowResolution(mainLightModel.get("shadowQuality"))},updateAmbientCubemap:function(renderer,componentModel,api){var ambientCubemapModel=componentModel.getModel("light.ambientCubemap"),textureUrl=ambientCubemapModel.get("texture");if(textureUrl){this._cubemapLightsCache=this._cubemapLightsCache||{};var lights=this._cubemapLightsCache[textureUrl];if(!lights){var self=this;lights=this._cubemapLightsCache[textureUrl]=_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.createAmbientCubemap(ambientCubemapModel.option,renderer,api,(function(){self._isSkyboxFromAmbientCubemap&&self._skybox.setEnvironmentMap(lights.specular.cubemap),api.getZr().refresh()}))}this._lightRoot.add(lights.diffuse),this._lightRoot.add(lights.specular),this._currentCubemapLights=lights}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(renderer,componentModel,api){var environmentUrl=componentModel.get("environment"),self=this;var skybox=function getSkybox(){return self._skybox=self._skybox||new claygl_src_plugin_Skybox__WEBPACK_IMPORTED_MODULE_2__.Z,self._skybox}();if(environmentUrl&&"none"!==environmentUrl)if("auto"===environmentUrl)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var cubemap=this._currentCubemapLights.specular.cubemap;skybox.setEnvironmentMap(cubemap),this._scene&&skybox.attachScene(this._scene),skybox.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"==typeof environmentUrl&&environmentUrl.colorStops||"string"==typeof environmentUrl&&echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.$_.parse(environmentUrl)){this._isSkyboxFromAmbientCubemap=!1;var texture=new _util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.Texture2D({anisotropic:8,flipY:!1});skybox.setEnvironmentMap(texture);var canvas=texture.image=document.createElement("canvas");canvas.width=canvas.height=16;var ctx=canvas.getContext("2d"),rect=new echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.Q.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:environmentUrl}});echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.z$(ctx,rect),skybox.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;texture=_util_graphicGL__WEBPACK_IMPORTED_MODULE_1__.Z.loadTexture(environmentUrl,api,{anisotropic:8,flipY:!1});skybox.setEnvironmentMap(texture),skybox.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var coordSys=componentModel.coordinateSystem;if(this._skybox)if(!coordSys||!coordSys.viewGL||"auto"===environmentUrl||environmentUrl.match&&environmentUrl.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var srgbDefineMethod=coordSys.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[srgbDefineMethod]("fragment","SRGB_DECODE")}}};const __WEBPACK_DEFAULT_EXPORT__=SceneHelper},"./node_modules/echarts-gl/lib/component/common/componentLightMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}}},"./node_modules/echarts-gl/lib/component/common/componentPostEffectMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}}},"./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}}},"./node_modules/echarts-gl/lib/component/common/componentViewControlMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(opts){opts=opts||{},this.option.viewControl=this.option.viewControl||{},null!=opts.alpha&&(this.option.viewControl.alpha=opts.alpha),null!=opts.beta&&(this.option.viewControl.beta=opts.beta),null!=opts.distance&&(this.option.viewControl.distance=opts.distance),null!=opts.center&&(this.option.viewControl.center=opts.center)}}},"./node_modules/echarts-gl/lib/component/geo3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),componentViewControlMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentViewControlMixin.js"),componentPostEffectMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentPostEffectMixin.js"),componentLightMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentLightMixin.js"),componentShadingMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js"),geo3DModelMixin=__webpack_require__("./node_modules/echarts-gl/lib/coord/geo3D/geo3DModelMixin.js"),Geo3DModel=echarts.tF.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var option=this.option;option.regions=this.getFilledRegions(option.regions,option.map);var dimensions=echarts._y.createDimensions(option.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),list=new echarts.aV(dimensions,this);list.initData(option.regions);var regionModelMap={};list.each((function(idx){var name=list.getName(idx),itemModel=list.getItemModel(idx);regionModelMap[name]=itemModel})),this._regionModelMap=regionModelMap,this._data=list},getData:function(){return this._data},getRegionModel:function(idx){var name=this.getData().getName(idx);return this._regionModelMap[name]||new echarts.Hn(null,this)},getRegionPolygonCoords:function(idx){var name=this.getData().getName(idx),region=this.coordinateSystem.getRegion(name);return region?region.geometries:[]},getFormattedLabel:function(dataIndex,status){var name=this._data.getName(dataIndex),regionModel=this.getRegionModel(dataIndex),formatter=regionModel.get("normal"===status?["label","formatter"]:["emphasis","label","formatter"]);null==formatter&&(formatter=regionModel.get(["label","formatter"]));var params={name};if("function"==typeof formatter)return params.status=status,formatter(params);if("string"==typeof formatter){var serName=params.seriesName;return formatter.replace("{a}",null!=serName?serName:"")}return name},defaultOption:{regions:[]}});echarts.D5.merge(Geo3DModel.prototype,geo3DModelMixin.Z),echarts.D5.merge(Geo3DModel.prototype,componentViewControlMixin.Z),echarts.D5.merge(Geo3DModel.prototype,componentPostEffectMixin.Z),echarts.D5.merge(Geo3DModel.prototype,componentLightMixin.Z),echarts.D5.merge(Geo3DModel.prototype,componentShadingMixin.Z);const geo3D_Geo3DModel=Geo3DModel;var Geo3DBuilder=__webpack_require__("./node_modules/echarts-gl/lib/component/common/Geo3DBuilder.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),OrbitControl=__webpack_require__("./node_modules/echarts-gl/lib/util/OrbitControl.js"),SceneHelper=__webpack_require__("./node_modules/echarts-gl/lib/component/common/SceneHelper.js");const Geo3DView=echarts.Ir.extend({type:"geo3D",__ecgl__:!0,init:function(ecModel,api){this._geo3DBuilder=new Geo3DBuilder.Z(api),this.groupGL=new graphicGL.Z.Node,this._lightRoot=new graphicGL.Z.Node,this._sceneHelper=new SceneHelper.Z(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new OrbitControl.Z({zr:api.getZr()}),this._control.init()},render:function(geo3DModel,ecModel,api){this.groupGL.add(this._geo3DBuilder.rootNode);var geo3D=geo3DModel.coordinateSystem;if(geo3D&&geo3D.viewGL){geo3D.viewGL.add(this._lightRoot),geo3DModel.get("show")?geo3D.viewGL.add(this.groupGL):geo3D.viewGL.remove(this.groupGL);var control=this._control;control.setViewGL(geo3D.viewGL);var viewControlModel=geo3DModel.getModel("viewControl");control.setFromViewControlModel(viewControlModel,0),this._sceneHelper.setScene(geo3D.viewGL.scene),this._sceneHelper.updateLight(geo3DModel),geo3D.viewGL.setPostEffect(geo3DModel.getModel("postEffect"),api),geo3D.viewGL.setTemporalSuperSampling(geo3DModel.getModel("temporalSuperSampling")),this._geo3DBuilder.update(geo3DModel,ecModel,api,0,geo3DModel.getData().count());var srgbDefineMethod=geo3D.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(mesh){mesh.material&&mesh.material[srgbDefineMethod]("fragment","SRGB_DECODE")})),control.off("update"),control.on("update",(function(){api.dispatchAction({type:"geo3DChangeCamera",alpha:control.getAlpha(),beta:control.getBeta(),distance:control.getDistance(),center:control.getCenter(),from:this.uid,geo3DId:geo3DModel.id})})),control.update()}},afterRender:function(geo3DModel,ecModel,api,layerGL){var renderer=layerGL.renderer;this._sceneHelper.updateAmbientCubemap(renderer,geo3DModel,api),this._sceneHelper.updateSkybox(renderer,geo3DModel,api)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var geo3DCreator=__webpack_require__("./node_modules/echarts-gl/lib/coord/geo3DCreator.js");function install(registers){registers.registerComponentModel(geo3D_Geo3DModel),registers.registerComponentView(Geo3DView),registers.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},(function(payload,ecModel){ecModel.eachComponent({mainType:"geo3D",query:payload},(function(componentModel){componentModel.setView(payload)}))})),registers.registerCoordinateSystem("geo3D",geo3DCreator.Z)}},"./node_modules/echarts-gl/lib/component/globe/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),componentViewControlMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentViewControlMixin.js"),componentPostEffectMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentPostEffectMixin.js"),componentLightMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentLightMixin.js"),componentShadingMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentShadingMixin.js");function defaultId(option,idx){option.id=option.id||option.name||idx+""}var GlobeModel=echarts.tF.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){GlobeModel.superApply(this,"init",arguments),echarts.D5.each(this.option.layers,(function(layerOption,idx){echarts.D5.merge(layerOption,this.defaultLayerOption),defaultId(layerOption,idx)}),this)},mergeOption:function(option){var oldLayers=this.option.layers;function createLayerMap(layers){return echarts.D5.reduce(layers,(function(obj,layerOption,idx){return defaultId(layerOption,idx),obj[layerOption.id]=layerOption,obj}),{})}if(this.option.layers=null,GlobeModel.superApply(this,"mergeOption",arguments),oldLayers&&oldLayers.length){var newLayerMap=createLayerMap(option.layers),oldLayerMap=createLayerMap(oldLayers);for(var id in newLayerMap)oldLayerMap[id]?echarts.D5.merge(oldLayerMap[id],newLayerMap[id],!0):oldLayers.push(option.layers[id]);this.option.layers=oldLayers}echarts.D5.each(this.option.layers,(function(layerOption){echarts.D5.merge(layerOption,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(data,width,height){this.displacementData=data,this.displacementWidth=width,this.displacementHeight=height},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var displacementTexture=this.getDisplacementTexture(),displacementScale=this.get("displacementScale");return displacementTexture&&"none"!==displacementTexture||(displacementScale=0),displacementScale},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var displacementTexture=this.getDisplacementTexture(),displacementScale=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==displacementTexture||this._displacementScale!==displacementScale,this._displacementTexture=displacementTexture,this._displacementScale=displacementScale},isDisplacementChanged:function(){return this._displacementChanged}});echarts.D5.merge(GlobeModel.prototype,componentViewControlMixin.Z),echarts.D5.merge(GlobeModel.prototype,componentPostEffectMixin.Z),echarts.D5.merge(GlobeModel.prototype,componentLightMixin.Z),echarts.D5.merge(GlobeModel.prototype,componentShadingMixin.Z);const globe_GlobeModel=GlobeModel;var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),OrbitControl=__webpack_require__("./node_modules/echarts-gl/lib/util/OrbitControl.js"),SceneHelper=__webpack_require__("./node_modules/echarts-gl/lib/component/common/SceneHelper.js"),PI=Math.PI,sin=Math.sin,cos=Math.cos,tan=Math.tan,asin=Math.asin,atan=Math.atan2,rad=PI/180,dayMs=864e5,J1970=2440588;function toDays(date){return function toJulian(date){return date.valueOf()/dayMs-.5+J1970}(date)-2451545}var e=23.4397*rad;function rightAscension(l,b){return atan(sin(l)*cos(e)-tan(b)*sin(e),cos(l))}function azimuth(H,phi,dec){return atan(sin(H),cos(H)*sin(phi)-tan(dec)*cos(phi))}function altitude(H,phi,dec){return asin(sin(phi)*sin(dec)+cos(phi)*cos(dec)*cos(H))}function sunCoords(d){var l,b,M=function solarMeanAnomaly(d){return rad*(357.5291+.98560028*d)}(d),L=function eclipticLongitude(M){return M+rad*(1.9148*sin(M)+.02*sin(2*M)+3e-4*sin(3*M))+102.9372*rad+PI}(M);return{dec:(l=L,b=0,asin(sin(b)*cos(e)+cos(b)*sin(e)*sin(l))),ra:rightAscension(L,0)}}var SunCalc={};SunCalc.getPosition=function(date,lat,lng){var lw=rad*-lng,phi=rad*lat,d=toDays(date),c=sunCoords(d),H=function siderealTime(d,lw){return rad*(280.16+360.9856235*d)-lw}(d,lw)-c.ra;return{azimuth:azimuth(H,phi,c.dec),altitude:altitude(H,phi,c.dec)}};const sunCalc=SunCalc;var retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),util_glsl=__webpack_require__("./node_modules/claygl/src/shader/source/util.glsl.js");graphicGL.Z.Shader.import(util_glsl.Z),graphicGL.Z.Shader.import("@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end");const GlobeView=echarts.Ir.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(ecModel,api){this.groupGL=new graphicGL.Z.Node,this._sphereGeometry=new graphicGL.Z.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new graphicGL.Z.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new graphicGL.Z.PlaneGeometry,this._earthMesh=new graphicGL.Z.Mesh({renderNormal:!0}),this._atmosphereMesh=new graphicGL.Z.Mesh,this._atmosphereGeometry=new graphicGL.Z.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new graphicGL.Z.Material({shader:new graphicGL.Z.Shader(graphicGL.Z.Shader.source("ecgl.atmosphere.vertex"),graphicGL.Z.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=graphicGL.Z.Mesh.CW,this._lightRoot=new graphicGL.Z.Node,this._sceneHelper=new SceneHelper.Z,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new OrbitControl.Z({zr:api.getZr()}),this._control.init(),this._layerMeshes={}},render:function(globeModel,ecModel,api){var coordSys=globeModel.coordinateSystem,shading=globeModel.get("shading");coordSys.viewGL.add(this._lightRoot),globeModel.get("show")?coordSys.viewGL.add(this.groupGL):coordSys.viewGL.remove(this.groupGL),this._sceneHelper.setScene(coordSys.viewGL.scene),coordSys.viewGL.setPostEffect(globeModel.getModel("postEffect"),api),coordSys.viewGL.setTemporalSuperSampling(globeModel.getModel("temporalSuperSampling"));var earthMesh=this._earthMesh;earthMesh.geometry=this._sphereGeometry;var shadingPrefix="ecgl."+shading;earthMesh.material&&earthMesh.material.shader.name===shadingPrefix||(earthMesh.material=graphicGL.Z.createMaterial(shadingPrefix)),graphicGL.Z.setMaterialFromModel(shading,earthMesh.material,globeModel,api),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach((function(texName){var texture=earthMesh.material.get(texName);texture&&(texture.flipY=!1)})),earthMesh.material.set("color",graphicGL.Z.parseColor(globeModel.get("baseColor")));var scale=.99*coordSys.radius;if(earthMesh.scale.set(scale,scale,scale),globeModel.get("atmosphere.show")){earthMesh.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:globeModel.get("atmosphere.glowPower")||6,glowColor:globeModel.get("atmosphere.color")||"#ffffff"}),earthMesh.material.setUniforms({glowPower:globeModel.get("atmosphere.innerGlowPower")||2,glowColor:globeModel.get("atmosphere.color")||"#ffffff"});var offset=globeModel.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(scale+offset,scale+offset,scale+offset)}else earthMesh.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var diffuseTexture=earthMesh.material.setTextureImage("diffuseMap",globeModel.get("baseTexture"),api,{flipY:!1,anisotropic:8});diffuseTexture&&diffuseTexture.surface&&diffuseTexture.surface.attachToMesh(earthMesh);var bumpTexture=earthMesh.material.setTextureImage("bumpMap",globeModel.get("heightTexture"),api,{flipY:!1,anisotropic:8});bumpTexture&&bumpTexture.surface&&bumpTexture.surface.attachToMesh(earthMesh),earthMesh.material[globeModel.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(globeModel,api),this._displaceVertices(globeModel,api),this._updateViewControl(globeModel,api),this._updateLayers(globeModel,api)},afterRender:function(globeModel,ecModel,api,layerGL){var renderer=layerGL.renderer;this._sceneHelper.updateAmbientCubemap(renderer,globeModel,api),this._sceneHelper.updateSkybox(renderer,globeModel,api)},_updateLayers:function(globeModel,api){var coordSys=globeModel.coordinateSystem,layers=globeModel.get("layers"),lastDistance=coordSys.radius,layerDiffuseTextures=[],layerDiffuseIntensity=[],layerEmissiveTextures=[],layerEmissionIntensity=[];echarts.D5.each(layers,(function(layerOption){var layerModel=new echarts.Hn(layerOption),layerType=layerModel.get("type"),texture=graphicGL.Z.loadTexture(layerModel.get("texture"),api,{flipY:!1,anisotropic:8});if(texture.surface&&texture.surface.attachToMesh(this._earthMesh),"blend"===layerType){var blendTo=layerModel.get("blendTo"),intensity=retrieve.Z.firstNotNull(layerModel.get("intensity"),1);"emission"===blendTo?(layerEmissiveTextures.push(texture),layerEmissionIntensity.push(intensity)):(layerDiffuseTextures.push(texture),layerDiffuseIntensity.push(intensity))}else{var id=layerModel.get("id"),overlayMesh=this._layerMeshes[id];overlayMesh||(overlayMesh=this._layerMeshes[id]=new graphicGL.Z.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===layerModel.get("shading")?(overlayMesh.material=overlayMesh.__lambertMaterial||new graphicGL.Z.Material({autoUpdateTextureStatus:!1,shader:graphicGL.Z.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),overlayMesh.__lambertMaterial=overlayMesh.material):(overlayMesh.material=overlayMesh.__colorMaterial||new graphicGL.Z.Material({autoUpdateTextureStatus:!1,shader:graphicGL.Z.createShader("ecgl.color"),transparent:!0,depthMask:!1}),overlayMesh.__colorMaterial=overlayMesh.material),overlayMesh.material.enableTexture("diffuseMap");var distance=layerModel.get("distance"),radius=lastDistance+(null==distance?coordSys.radius/100:distance);overlayMesh.scale.set(radius,radius,radius),lastDistance=radius;var blankTexture=this._blankTexture||(this._blankTexture=graphicGL.Z.createBlankTexture("rgba(255, 255, 255, 0)"));overlayMesh.material.set("diffuseMap",blankTexture),graphicGL.Z.loadTexture(layerModel.get("texture"),api,{flipY:!1,anisotropic:8},(function(texture){texture.surface&&texture.surface.attachToMesh(overlayMesh),overlayMesh.material.set("diffuseMap",texture),api.getZr().refresh()})),layerModel.get("show")?this.groupGL.add(overlayMesh):this.groupGL.remove(overlayMesh)}}),this);var earthMaterial=this._earthMesh.material;earthMaterial.define("fragment","LAYER_DIFFUSEMAP_COUNT",layerDiffuseTextures.length),earthMaterial.define("fragment","LAYER_EMISSIVEMAP_COUNT",layerEmissiveTextures.length),earthMaterial.set("layerDiffuseMap",layerDiffuseTextures),earthMaterial.set("layerDiffuseIntensity",layerDiffuseIntensity),earthMaterial.set("layerEmissiveMap",layerEmissiveTextures),earthMaterial.set("layerEmissionIntensity",layerEmissionIntensity);var debugWireframeModel=globeModel.getModel("debug.wireframe");if(debugWireframeModel.get("show")){earthMaterial.define("both","WIREFRAME_TRIANGLE");var color=graphicGL.Z.parseColor(debugWireframeModel.get("lineStyle.color")||"rgba(0,0,0,0.5)"),width=retrieve.Z.firstNotNull(debugWireframeModel.get("lineStyle.width"),1);earthMaterial.set("wireframeLineWidth",width),earthMaterial.set("wireframeLineColor",color)}else earthMaterial.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(globeModel,api){var coordSys=globeModel.coordinateSystem,viewControlModel=globeModel.getModel("viewControl"),self=(coordSys.viewGL.camera,this);var control=this._control;control.setViewGL(coordSys.viewGL);var alpha,beta,coord=viewControlModel.get("targetCoord");null!=coord&&(beta=coord[0]+90,alpha=coord[1]),control.setFromViewControlModel(viewControlModel,{baseDistance:coordSys.radius,alpha,beta}),control.off("update"),control.on("update",(function(){api.dispatchAction(function makeAction(){return{type:"globeChangeCamera",alpha:control.getAlpha(),beta:control.getBeta(),distance:control.getDistance()-coordSys.radius,center:control.getCenter(),from:self.uid,globeId:globeModel.id}}())}))},_displaceVertices:function(globeModel,api){var displacementQuality=globeModel.get("displacementQuality"),showDebugWireframe=globeModel.get("debug.wireframe.show"),globe=globeModel.coordinateSystem;if(globeModel.isDisplacementChanged()||displacementQuality!==this._displacementQuality||showDebugWireframe!==this._showDebugWireframe){this._displacementQuality=displacementQuality,this._showDebugWireframe=showDebugWireframe;var geometry=this._sphereGeometry,widthSegments={low:100,medium:200,high:400,ultra:800}[displacementQuality]||200,heightSegments=widthSegments/2;(geometry.widthSegments!==widthSegments||showDebugWireframe)&&(geometry.widthSegments=widthSegments,geometry.heightSegments=heightSegments,geometry.build()),this._doDisplaceVertices(geometry,globe),showDebugWireframe&&geometry.generateBarycentric()}},_doDisplaceVertices:function(geometry,globe){var positionArr=geometry.attributes.position.value,uvArr=geometry.attributes.texcoord0.value,originalPositionArr=geometry.__originalPosition;originalPositionArr&&originalPositionArr.length===positionArr.length||((originalPositionArr=new Float32Array(positionArr.length)).set(positionArr),geometry.__originalPosition=originalPositionArr);for(var width=globe.displacementWidth,height=globe.displacementHeight,data=globe.displacementData,i=0;i<geometry.vertexCount;i++){var i3=3*i,i2=2*i,x=originalPositionArr[i3+1],y=originalPositionArr[i3+2],z=originalPositionArr[i3+3],u=uvArr[i2++],v=uvArr[i2++],j=Math.round(u*(width-1)),k=Math.round(v*(height-1)),scale=data?data[k*width+j]:0;positionArr[i3+1]=x+x*scale,positionArr[i3+2]=y+y*scale,positionArr[i3+3]=z+z*scale}geometry.generateVertexNormals(),geometry.dirty(),geometry.updateBoundingBox()},_updateLight:function(globeModel,api){var earthMesh=this._earthMesh;this._sceneHelper.updateLight(globeModel);var mainLight=this._sceneHelper.mainLight,time=globeModel.get("light.main.time")||new Date,pos=sunCalc.getPosition(echarts.Rx.parseDate(time),0,0),r0=Math.cos(pos.altitude);mainLight.position.y=-r0*Math.cos(pos.azimuth),mainLight.position.x=Math.sin(pos.altitude),mainLight.position.z=r0*Math.sin(pos.azimuth),mainLight.lookAt(earthMesh.getWorldPosition())},dispose:function(ecModel,api){this.groupGL.removeAll(),this._control.dispose()}});var vec3=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js").Z.vec3;function Globe(radius){this.radius=radius,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}Globe.prototype={constructor:Globe,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(data,width,height){this.displacementData=data,this.displacementWidth=width,this.displacementHeight=height},_getDisplacementScale:function(lng,lat){var i=(lng+180)/360*(this.displacementWidth-1),j=(90-lat)/180*(this.displacementHeight-1),idx=Math.round(i)+Math.round(j)*this.displacementWidth;return this.displacementData[idx]},dataToPoint:function(data,out){var lng=data[0],lat=data[1],altVal=data[2]||0,r=this.radius;this.displacementData&&(r*=1+this._getDisplacementScale(lng,lat)),this.altitudeAxis&&(r+=this.altitudeAxis.dataToCoord(altVal)),lng=lng*Math.PI/180,lat=lat*Math.PI/180;var r0=Math.cos(lat)*r;return(out=out||[])[0]=-r0*Math.cos(lng+Math.PI),out[1]=Math.sin(lat)*r,out[2]=r0*Math.sin(lng+Math.PI),out},pointToData:function(point,out){var x=point[0],y=point[1],z=point[2],len=vec3.len(point);x/=len,y/=len,z/=len;var theta=Math.asin(y),phi=Math.atan2(z,-x);phi<0&&(phi=2*Math.PI+phi);var lat=180*theta/Math.PI,lng=180*phi/Math.PI-180;return(out=out||[])[0]=lng,out[1]=lat,out[2]=len-this.radius,this.altitudeAxis&&(out[2]=this.altitudeAxis.coordToData(out[2])),out}};const globe_Globe=Globe;var layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js");function resizeGlobe(globeModel,api){var boxLayoutOption=globeModel.getBoxLayoutParams(),viewport=(0,layout.ME)(boxLayoutOption,{width:api.getWidth(),height:api.getHeight()});viewport.y=api.getHeight()-viewport.y-viewport.height,this.viewGL.setViewport(viewport.x,viewport.y,viewport.width,viewport.height,api.getDevicePixelRatio()),this.radius=globeModel.get("globeRadius");var outerRadius=globeModel.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,outerRadius-this.radius)}function updateGlobe(ecModel,api){var altitudeDataExtent=[1/0,-1/0];if(ecModel.eachSeries((function(seriesModel){if(seriesModel.coordinateSystem===this){var data=seriesModel.getData(),altDims=seriesModel.coordDimToDataDim("alt"),altDim=altDims&&altDims[0];if(altDim){var dataExtent=data.getDataExtent(altDim,!0);altitudeDataExtent[0]=Math.min(altitudeDataExtent[0],dataExtent[0]),altitudeDataExtent[1]=Math.max(altitudeDataExtent[1],dataExtent[1])}}}),this),altitudeDataExtent&&isFinite(altitudeDataExtent[1]-altitudeDataExtent[0])){var scale=echarts._y.createScale(altitudeDataExtent,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new echarts.RD("altitude",scale),this.resize(this.model,api)}}const coord_globeCreator={dimensions:globe_Globe.prototype.dimensions,create:function(ecModel,api){var globeList=[];return ecModel.eachComponent("globe",(function(globeModel){globeModel.__viewGL=globeModel.__viewGL||new ViewGL.Z;var globe=new globe_Globe;globe.viewGL=globeModel.__viewGL,globeModel.coordinateSystem=globe,globe.model=globeModel,globeList.push(globe),globe.resize=resizeGlobe,globe.resize(globeModel,api),globe.update=updateGlobe})),ecModel.eachSeries((function(seriesModel){if("globe"===seriesModel.get("coordinateSystem")){var globeModel=seriesModel.getReferringComponents("globe").models[0];if(globeModel||(globeModel=ecModel.getComponent("globe")),!globeModel)throw new Error('globe "'+retrieve.Z.firstNotNull(seriesModel.get("globe3DIndex"),seriesModel.get("globe3DId"),0)+'" not found');var coordSys=globeModel.coordinateSystem;seriesModel.coordinateSystem=coordSys}})),ecModel.eachComponent("globe",(function(globeModel,idx){var globe=globeModel.coordinateSystem,displacementTextureValue=globeModel.getDisplacementTexture(),displacementScale=globeModel.getDisplacemenScale();if(globeModel.isDisplacementChanged()){if(globeModel.hasDisplacement()){var immediateLoaded=!0;graphicGL.Z.loadTexture(displacementTextureValue,api,(function(texture){var displacementData=function getDisplacementData(img,displacementScale){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),width=img.width,height=img.height;canvas.width=width,canvas.height=height,ctx.drawImage(img,0,0,width,height);for(var rgbaArr=ctx.getImageData(0,0,width,height).data,displacementArr=new Float32Array(rgbaArr.length/4),i=0;i<rgbaArr.length/4;i++){var x=rgbaArr[4*i];displacementArr[i]=x/255*displacementScale}return{data:displacementArr,width,height}}(texture.image,displacementScale);globeModel.setDisplacementData(displacementData.data,displacementData.width,displacementData.height),immediateLoaded||api.dispatchAction({type:"globeUpdateDisplacment"})})),immediateLoaded=!1}else globe.setDisplacementData(null,0,0);globe.setDisplacementData(globeModel.displacementData,globeModel.displacementWidth,globeModel.displacementHeight)}})),globeList}};function install(registers){registers.registerComponentModel(globe_GlobeModel),registers.registerComponentView(GlobeView),registers.registerCoordinateSystem("globe",coord_globeCreator),registers.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},(function(payload,ecModel){ecModel.eachComponent({mainType:"globe",query:payload},(function(componentModel){componentModel.setView(payload)}))})),registers.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},(function(payload,ecModel){}))}},"./node_modules/echarts-gl/lib/component/grid3D/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});__webpack_require__("./node_modules/echarts-gl/lib/echarts-gl.js");var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),componentViewControlMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentViewControlMixin.js"),componentPostEffectMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentPostEffectMixin.js"),componentLightMixin=__webpack_require__("./node_modules/echarts-gl/lib/component/common/componentLightMixin.js"),Grid3DModel=echarts.tF.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});echarts.D5.merge(Grid3DModel.prototype,componentViewControlMixin.Z),echarts.D5.merge(Grid3DModel.prototype,componentPostEffectMixin.Z),echarts.D5.merge(Grid3DModel.prototype,componentLightMixin.Z);const grid3D_Grid3DModel=Grid3DModel;var a,b,normal,indices,labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),OrbitControl=__webpack_require__("./node_modules/echarts-gl/lib/util/OrbitControl.js"),Lines3D=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/Lines3D.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),ZRTextureAtlasSurface=__webpack_require__("./node_modules/echarts-gl/lib/util/ZRTextureAtlasSurface.js"),SceneHelper=__webpack_require__("./node_modules/echarts-gl/lib/component/common/SceneHelper.js"),Geometry=__webpack_require__("./node_modules/claygl/src/Geometry.js"),dynamicConvertMixin=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/dynamicConvertMixin.js"),vec3=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js").Z.vec3,QuadsGeometry=Geometry.Z.extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new Geometry.Z.Attribute("position","float",3,"POSITION"),normal:new Geometry.Z.Attribute("normal","float",3,"NORMAL"),color:new Geometry.Z.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(nQuad){var attributes=this.attributes,vertexCount=this.getQuadVertexCount()*nQuad,triangleCount=this.getQuadTriangleCount()*nQuad;this.vertexCount!==vertexCount&&(attributes.position.init(vertexCount),attributes.normal.init(vertexCount),attributes.color.init(vertexCount)),this.triangleCount!==triangleCount&&(this.indices=vertexCount>65535?new Uint32Array(3*triangleCount):new Uint16Array(3*triangleCount))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:(a=vec3.create(),b=vec3.create(),normal=vec3.create(),indices=[0,3,1,3,2,1],function(coords,color){var positionAttr=this.attributes.position,normalAttr=this.attributes.normal,colorAttr=this.attributes.color;vec3.sub(a,coords[1],coords[0]),vec3.sub(b,coords[2],coords[1]),vec3.cross(normal,a,b),vec3.normalize(normal,normal);for(var i=0;i<4;i++)positionAttr.set(this._vertexOffset+i,coords[i]),colorAttr.set(this._vertexOffset+i,color),normalAttr.set(this._vertexOffset+i,normal);var idx=3*this._faceOffset;for(i=0;i<6;i++)this.indices[idx+i]=indices[i]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2})});echarts.D5.defaults(QuadsGeometry.prototype,dynamicConvertMixin.Z);const Quads=QuadsGeometry;var firstNotNull=retrieve.Z.firstNotNull,dimIndicesMap={x:0,y:2,z:1};function Grid3DFace(faceInfo,linesMaterial,quadsMaterial){this.rootNode=new graphicGL.Z.Node;var linesMesh=new graphicGL.Z.Mesh({geometry:new Lines3D.Z({useNativeLine:!1}),material:linesMaterial,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),quadsMesh=new graphicGL.Z.Mesh({geometry:new Quads,material:quadsMaterial,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(quadsMesh),this.rootNode.add(linesMesh),this.faceInfo=faceInfo,this.plane=new graphicGL.Z.Plane,this.linesMesh=linesMesh,this.quadsMesh=quadsMesh}Grid3DFace.prototype.update=function(grid3DModel,ecModel,api){var cartesian=grid3DModel.coordinateSystem,axes=[cartesian.getAxis(this.faceInfo[0]),cartesian.getAxis(this.faceInfo[1])],lineGeometry=this.linesMesh.geometry,quadsGeometry=this.quadsMesh.geometry;lineGeometry.convertToDynamicArray(!0),quadsGeometry.convertToDynamicArray(!0),this._updateSplitLines(lineGeometry,axes,grid3DModel,api),this._udpateSplitAreas(quadsGeometry,axes,grid3DModel,api),lineGeometry.convertToTypedArray(),quadsGeometry.convertToTypedArray();var otherAxis=cartesian.getAxis(this.faceInfo[2]);!function updateFacePlane(node,plane,otherAxis,dir){var coord=[0,0,0],distance=dir<0?otherAxis.getExtentMin():otherAxis.getExtentMax();coord[dimIndicesMap[otherAxis.dim]]=distance,node.position.setArray(coord),node.rotation.identity(),plane.distance=-Math.abs(distance),plane.normal.set(0,0,0),"x"===otherAxis.dim?(node.rotation.rotateY(dir*Math.PI/2),plane.normal.x=-dir):"z"===otherAxis.dim?(node.rotation.rotateX(-dir*Math.PI/2),plane.normal.y=-dir):(dir>0&&node.rotation.rotateY(Math.PI),plane.normal.z=-dir)}(this.rootNode,this.plane,otherAxis,this.faceInfo[3])},Grid3DFace.prototype._updateSplitLines=function(geometry,axes,grid3DModel,api){var dpr=api.getDevicePixelRatio();axes.forEach((function(axis,idx){var axisModel=axis.model,otherExtent=axes[1-idx].getExtent();if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine",grid3DModel.getModel("splitLine"));if(splitLineModel.get("show")){var lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color"),opacity=firstNotNull(lineStyleModel.get("opacity"),1),lineWidth=firstNotNull(lineStyleModel.get("width"),1);lineColors=echarts.D5.isArray(lineColors)?lineColors:[lineColors];for(var ticksCoords=axis.getTicksCoords({tickModel:splitLineModel}),count=0,i=0;i<ticksCoords.length;i++){var tickCoord=ticksCoords[i].coord,lineColor=graphicGL.Z.parseColor(lineColors[count%lineColors.length]);lineColor[3]*=opacity;var p0=[0,0,0],p1=[0,0,0];p0[idx]=p1[idx]=tickCoord,p0[1-idx]=otherExtent[0],p1[1-idx]=otherExtent[1],geometry.addLine(p0,p1,lineColor,lineWidth*dpr),count++}}}}))},Grid3DFace.prototype._udpateSplitAreas=function(geometry,axes,grid3DModel,api){axes.forEach((function(axis,idx){var axisModel=axis.model,otherExtent=axes[1-idx].getExtent();if(!axis.scale.isBlank()){var splitAreaModel=axisModel.getModel("splitArea",grid3DModel.getModel("splitArea"));if(splitAreaModel.get("show")){var areaStyleModel=splitAreaModel.getModel("areaStyle"),colors=areaStyleModel.get("color"),opacity=firstNotNull(areaStyleModel.get("opacity"),1);colors=echarts.D5.isArray(colors)?colors:[colors];for(var ticksCoords=axis.getTicksCoords({tickModel:splitAreaModel,clamp:!0}),count=0,prevP0=[0,0,0],prevP1=[0,0,0],i=0;i<ticksCoords.length;i++){var tickCoord=ticksCoords[i].coord,p0=[0,0,0],p1=[0,0,0];if(p0[idx]=p1[idx]=tickCoord,p0[1-idx]=otherExtent[0],p1[1-idx]=otherExtent[1],0!==i){var color=graphicGL.Z.parseColor(colors[count%colors.length]);color[3]*=opacity,geometry.addQuad([prevP0,p0,p1,prevP1],color),prevP0=p0,prevP1=p1,count++}else prevP0=p0,prevP1=p1}}}}))};const grid3D_Grid3DFace=Grid3DFace;var LabelsMesh=__webpack_require__("./node_modules/echarts-gl/lib/util/mesh/LabelsMesh.js"),Grid3DAxis_firstNotNull=retrieve.Z.firstNotNull,Grid3DAxis_dimIndicesMap={x:0,y:2,z:1};function Grid3DAxis(dim,linesMaterial){var linesMesh=new graphicGL.Z.Mesh({geometry:new Lines3D.Z({useNativeLine:!1}),material:linesMaterial,castShadow:!1,ignorePicking:!0,renderOrder:2}),axisLabelsMesh=new LabelsMesh.Z;axisLabelsMesh.material.depthMask=!1;var rootNode=new graphicGL.Z.Node;rootNode.add(linesMesh),rootNode.add(axisLabelsMesh),this.rootNode=rootNode,this.dim=dim,this.linesMesh=linesMesh,this.labelsMesh=axisLabelsMesh,this.axisLineCoords=null,this.labelElements=[]}var otherDim={x:"y",y:"x",z:"y"};Grid3DAxis.prototype.update=function(grid3DModel,axisLabelSurface,api){var axis=grid3DModel.coordinateSystem.getAxis(this.dim),linesGeo=this.linesMesh.geometry,labelsGeo=this.labelsMesh.geometry;linesGeo.convertToDynamicArray(!0),labelsGeo.convertToDynamicArray(!0);var axisModel=axis.model,extent=axis.getExtent(),dpr=api.getDevicePixelRatio(),axisLineModel=axisModel.getModel("axisLine",grid3DModel.getModel("axisLine")),axisTickModel=axisModel.getModel("axisTick",grid3DModel.getModel("axisTick")),axisLabelModel=axisModel.getModel("axisLabel",grid3DModel.getModel("axisLabel")),axisLineColor=axisLineModel.get("lineStyle.color");if(axisLineModel.get("show")){var axisLineStyleModel=axisLineModel.getModel("lineStyle"),p1=[0,0,0];(p0=[0,0,0])[idx=Grid3DAxis_dimIndicesMap[axis.dim]]=extent[0],p1[idx]=extent[1],this.axisLineCoords=[p0,p1];var color=graphicGL.Z.parseColor(axisLineColor),lineWidth=Grid3DAxis_firstNotNull(axisLineStyleModel.get("width"),1),opacity=Grid3DAxis_firstNotNull(axisLineStyleModel.get("opacity"),1);color[3]*=opacity,linesGeo.addLine(p0,p1,color,lineWidth*dpr)}if(axisTickModel.get("show")){var lineStyleModel=axisTickModel.getModel("lineStyle"),lineColor=graphicGL.Z.parseColor(Grid3DAxis_firstNotNull(lineStyleModel.get("color"),axisLineColor));lineWidth=Grid3DAxis_firstNotNull(lineStyleModel.get("width"),1);lineColor[3]*=Grid3DAxis_firstNotNull(lineStyleModel.get("opacity"),1);for(var ticksCoords=axis.getTicksCoords(),tickLength=axisTickModel.get("length"),i=0;i<ticksCoords.length;i++){var tickCoord=ticksCoords[i].coord,p0=[0,0,0],idx=(p1=[0,0,0],Grid3DAxis_dimIndicesMap[axis.dim]),otherIdx=Grid3DAxis_dimIndicesMap[otherDim[axis.dim]];p0[idx]=p1[idx]=tickCoord,p1[otherIdx]=tickLength,linesGeo.addLine(p0,p1,lineColor,lineWidth*dpr)}}this.labelElements=[];dpr=api.getDevicePixelRatio();if(axisLabelModel.get("show")){ticksCoords=axis.getTicksCoords();var categoryData=axisModel.get("data"),labelMargin=axisLabelModel.get("margin"),labels=axis.getViewLabels();for(i=0;i<labels.length;i++){var tickValue=labels[i].tickValue,formattedLabel=labels[i].formattedLabel,rawLabel=labels[i].rawLabel,p=(tickCoord=axis.dataToCoord(tickValue),[0,0,0]);idx=Grid3DAxis_dimIndicesMap[axis.dim],otherIdx=Grid3DAxis_dimIndicesMap[otherDim[axis.dim]];p[idx]=p[idx]=tickCoord,p[otherIdx]=labelMargin;var itemTextStyleModel=axisLabelModel;categoryData&&categoryData[tickValue]&&categoryData[tickValue].textStyle&&(itemTextStyleModel=new echarts.Hn(categoryData[tickValue].textStyle,axisLabelModel,axisModel.ecModel));var textColor=Grid3DAxis_firstNotNull(itemTextStyleModel.get("color"),axisLineColor),textEl=new echarts.Q.Text({style:(0,labelStyle.Lr)(itemTextStyleModel,{text:formattedLabel,fill:"function"==typeof textColor?textColor("category"===axis.type?rawLabel:"value"===axis.type?tickValue+"":tickValue,i):textColor,verticalAlign:"top",align:"left"})}),coords=axisLabelSurface.add(textEl),rect=textEl.getBoundingRect();labelsGeo.addSprite(p,[rect.width*dpr,rect.height*dpr],coords),this.labelElements.push(textEl)}}if(axisModel.get("name")){var nameTextStyleModel=axisModel.getModel("nameTextStyle"),labelColor=(p=[0,0,0],idx=Grid3DAxis_dimIndicesMap[axis.dim],otherIdx=Grid3DAxis_dimIndicesMap[otherDim[axis.dim]],Grid3DAxis_firstNotNull(nameTextStyleModel.get("color"),axisLineColor)),strokeColor=nameTextStyleModel.get("borderColor");lineWidth=nameTextStyleModel.get("borderWidth");p[idx]=p[idx]=(extent[0]+extent[1])/2,p[otherIdx]=axisModel.get("nameGap");textEl=new echarts.Q.Text({style:(0,labelStyle.Lr)(nameTextStyleModel,{text:axisModel.get("name"),fill:labelColor,stroke:strokeColor,lineWidth})}),coords=axisLabelSurface.add(textEl),rect=textEl.getBoundingRect();labelsGeo.addSprite(p,[rect.width*dpr,rect.height*dpr],coords),textEl.__idx=this.labelElements.length,this.nameLabelElement=textEl}this.labelsMesh.material.set("textureAtlas",axisLabelSurface.getTexture()),this.labelsMesh.material.set("uvScale",axisLabelSurface.getCoordsScale()),linesGeo.convertToTypedArray(),labelsGeo.convertToTypedArray()},Grid3DAxis.prototype.setSpriteAlign=function(textAlign,textVerticalAlign,api){for(var dpr=api.getDevicePixelRatio(),labelGeo=this.labelsMesh.geometry,i=0;i<this.labelElements.length;i++){var rect=this.labelElements[i].getBoundingRect();labelGeo.setSpriteAlign(i,[rect.width*dpr,rect.height*dpr],textAlign,textVerticalAlign)}var nameLabelEl=this.nameLabelElement;if(nameLabelEl){rect=nameLabelEl.getBoundingRect();labelGeo.setSpriteAlign(nameLabelEl.__idx,[rect.width*dpr,rect.height*dpr],textAlign,textVerticalAlign),labelGeo.dirty()}this.textAlign=textAlign,this.textVerticalAlign=textVerticalAlign};const grid3D_Grid3DAxis=Grid3DAxis;var lines3D_glsl=__webpack_require__("./node_modules/echarts-gl/lib/util/shader/lines3D.glsl.js"),Grid3DView_firstNotNull=retrieve.Z.firstNotNull;graphicGL.Z.Shader.import(lines3D_glsl.Z);var Grid3DView_dimIndicesMap={x:0,y:2,z:1};const Grid3DView=echarts.Ir.extend({type:"grid3D",__ecgl__:!0,init:function(ecModel,api){var quadsMaterial=new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.color"),depthMask:!1,transparent:!0}),linesMaterial=new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});quadsMaterial.define("fragment","DOUBLE_SIDED"),quadsMaterial.define("both","VERTEX_COLOR"),this.groupGL=new graphicGL.Z.Node,this._control=new OrbitControl.Z({zr:api.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map((function(faceInfo){var face=new grid3D_Grid3DFace(faceInfo,linesMaterial,quadsMaterial);return this.groupGL.add(face.rootNode),face}),this),this._axes=["x","y","z"].map((function(dim){var axis=new grid3D_Grid3DAxis(dim,linesMaterial);return this.groupGL.add(axis.rootNode),axis}),this);var dpr=api.getDevicePixelRatio();this._axisLabelSurface=new ZRTextureAtlasSurface.Z({width:256,height:256,devicePixelRatio:dpr}),this._axisLabelSurface.onupdate=function(){api.getZr().refresh()},this._axisPointerLineMesh=new graphicGL.Z.Mesh({geometry:new Lines3D.Z({useNativeLine:!1}),material:linesMaterial,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new ZRTextureAtlasSurface.Z({width:128,height:128,devicePixelRatio:dpr}),this._axisPointerLabelsMesh=new LabelsMesh.Z({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new graphicGL.Z.Node,this._sceneHelper=new SceneHelper.Z,this._sceneHelper.initLight(this._lightRoot)},render:function(grid3DModel,ecModel,api){this._model=grid3DModel,this._api=api;var cartesian=grid3DModel.coordinateSystem;cartesian.viewGL.add(this._lightRoot),grid3DModel.get("show")?cartesian.viewGL.add(this.groupGL):cartesian.viewGL.remove(this.groupGL);var control=this._control;control.setViewGL(cartesian.viewGL);var viewControlModel=grid3DModel.getModel("viewControl");control.setFromViewControlModel(viewControlModel,0),this._axisLabelSurface.clear(),control.off("update"),grid3DModel.get("show")&&(this._faces.forEach((function(face){face.update(grid3DModel,ecModel,api)}),this),this._axes.forEach((function(axis){axis.update(grid3DModel,this._axisLabelSurface,api)}),this)),control.on("update",this._onCameraChange.bind(this,grid3DModel,api),this),this._sceneHelper.setScene(cartesian.viewGL.scene),this._sceneHelper.updateLight(grid3DModel),cartesian.viewGL.setPostEffect(grid3DModel.getModel("postEffect"),api),cartesian.viewGL.setTemporalSuperSampling(grid3DModel.getModel("temporalSuperSampling")),this._initMouseHandler(grid3DModel)},afterRender:function(grid3DModel,ecModel,api,layerGL){var renderer=layerGL.renderer;this._sceneHelper.updateAmbientCubemap(renderer,grid3DModel,api),this._sceneHelper.updateSkybox(renderer,grid3DModel,api)},showAxisPointer:function(grid3dModel,ecModel,api,payload){this._doShowAxisPointer(),this._updateAxisPointer(payload.value)},hideAxisPointer:function(grid3dModel,ecModel,api,payload){this._doHideAxisPointer()},_initMouseHandler:function(grid3DModel){var viewGL=grid3DModel.coordinateSystem.viewGL;grid3DModel.get("show")&&grid3DModel.get("axisPointer.show")?viewGL.on("mousemove",this._updateAxisPointerOnMousePosition,this):viewGL.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var nearestIntersectPoint,cartesian=this._model.coordinateSystem,viewGL=cartesian.viewGL,ray=viewGL.castRay(e.offsetX,e.offsetY,new graphicGL.Z.Ray),i=0;i<this._faces.length;i++){var face=this._faces[i];if(!face.rootNode.invisible){face.plane.normal.dot(viewGL.camera.worldTransform.z)<0&&face.plane.normal.negate();var point=ray.intersectPlane(face.plane);if(point){var axis0=cartesian.getAxis(face.faceInfo[0]),axis1=cartesian.getAxis(face.faceInfo[1]),idx0=Grid3DView_dimIndicesMap[face.faceInfo[0]],idx1=Grid3DView_dimIndicesMap[face.faceInfo[1]];axis0.contain(point.array[idx0])&&axis1.contain(point.array[idx1])&&(nearestIntersectPoint=point)}}}if(nearestIntersectPoint){var data=cartesian.pointToData(nearestIntersectPoint.array,[],!0);this._updateAxisPointer(data),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(grid3DModel,api){grid3DModel.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var control=this._control;api.dispatchAction({type:"grid3DChangeCamera",alpha:control.getAlpha(),beta:control.getBeta(),distance:control.getDistance(),center:control.getCenter(),from:this.uid,grid3DId:grid3DModel.id})},_updateFaceVisibility:function(){var camera=this._control.getCamera(),viewSpacePos=new graphicGL.Z.Vector3;camera.update();for(var idx=0;idx<this._faces.length/2;idx++){for(var depths=[],k=0;k<2;k++){this._faces[2*idx+k].rootNode.getWorldPosition(viewSpacePos),viewSpacePos.transformMat4(camera.viewMatrix),depths[k]=viewSpacePos.z}var frontIndex=depths[0]>depths[1]?0:1,frontFace=this._faces[2*idx+frontIndex],backFace=this._faces[2*idx+1-frontIndex];frontFace.rootNode.invisible=!0,backFace.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var cartesian=this._model.coordinateSystem,xAxis=cartesian.getAxis("x"),yAxis=cartesian.getAxis("y"),zAxis=cartesian.getAxis("z"),top=zAxis.getExtentMax(),bottom=zAxis.getExtentMin(),left=xAxis.getExtentMin(),right=xAxis.getExtentMax(),near=yAxis.getExtentMax(),far=yAxis.getExtentMin(),xAxisNode=this._axes[0].rootNode,yAxisNode=this._axes[1].rootNode,zAxisNode=this._axes[2].rootNode,faces=this._faces,xAxisZOffset=faces[4].rootNode.invisible?far:near,xAxisYOffset=faces[2].rootNode.invisible?top:bottom,yAxisXOffset=faces[0].rootNode.invisible?left:right,yAxisYOffset=faces[2].rootNode.invisible?top:bottom,zAxisXOffset=faces[0].rootNode.invisible?right:left,zAxisZOffset=faces[4].rootNode.invisible?far:near;xAxisNode.rotation.identity(),yAxisNode.rotation.identity(),zAxisNode.rotation.identity(),faces[4].rootNode.invisible&&(this._axes[0].flipped=!0,xAxisNode.rotation.rotateX(Math.PI)),faces[0].rootNode.invisible&&(this._axes[1].flipped=!0,yAxisNode.rotation.rotateZ(Math.PI)),faces[4].rootNode.invisible&&(this._axes[2].flipped=!0,zAxisNode.rotation.rotateY(Math.PI)),xAxisNode.position.set(0,xAxisYOffset,xAxisZOffset),yAxisNode.position.set(yAxisXOffset,yAxisYOffset,0),zAxisNode.position.set(zAxisXOffset,0,zAxisZOffset),xAxisNode.update(),yAxisNode.update(),zAxisNode.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var camera=this._control.getCamera(),coords=[new graphicGL.Z.Vector4,new graphicGL.Z.Vector4],center=new graphicGL.Z.Vector4;this.groupGL.getWorldPosition(center),center.w=1,center.transformMat4(camera.viewMatrix).transformMat4(camera.projectionMatrix),center.x/=center.w,center.y/=center.w,this._axes.forEach((function(axisInfo){for(var lineCoords=axisInfo.axisLineCoords,i=(axisInfo.labelsMesh.geometry,0);i<coords.length;i++)coords[i].setArray(lineCoords[i]),coords[i].w=1,coords[i].transformMat4(axisInfo.rootNode.worldTransform).transformMat4(camera.viewMatrix).transformMat4(camera.projectionMatrix),coords[i].x/=coords[i].w,coords[i].y/=coords[i].w;var textAlign,verticalAlign,dx=coords[1].x-coords[0].x,dy=coords[1].y-coords[0].y,cx=(coords[1].x+coords[0].x)/2,cy=(coords[1].y+coords[0].y)/2;Math.abs(dy/dx)<.5?(textAlign="center",verticalAlign=cy>center.y?"bottom":"top"):(verticalAlign="middle",textAlign=cx>center.x?"left":"right"),axisInfo.setSpriteAlign(textAlign,verticalAlign,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(data){var cartesian=this._model.coordinateSystem,point=cartesian.dataToPoint(data),linesGeo=this._axisPointerLineMesh.geometry,axisPointerParentModel=this._model.getModel("axisPointer"),dpr=this._api.getDevicePixelRatio();function ifShowAxisPointer(axis){return retrieve.Z.firstNotNull(axis.model.get("axisPointer.show"),axisPointerParentModel.get("show"))}function getAxisColorAndLineWidth(axis){var lineStyleModel=axis.model.getModel("axisPointer",axisPointerParentModel).getModel("lineStyle"),color=graphicGL.Z.parseColor(lineStyleModel.get("color")),lineWidth=Grid3DView_firstNotNull(lineStyleModel.get("width"),1),opacity=Grid3DView_firstNotNull(lineStyleModel.get("opacity"),1);return color[3]*=opacity,{color,lineWidth}}linesGeo.convertToDynamicArray(!0);for(var k=0;k<this._faces.length;k++){var face=this._faces[k];if(!face.rootNode.invisible){for(var faceInfo=face.faceInfo,otherCoord=faceInfo[3]<0?cartesian.getAxis(faceInfo[2]).getExtentMin():cartesian.getAxis(faceInfo[2]).getExtentMax(),otherDimIdx=Grid3DView_dimIndicesMap[faceInfo[2]],i=0;i<2;i++){var dim=faceInfo[i],faceOtherDim=faceInfo[1-i],axis=cartesian.getAxis(dim),faceOtherAxis=cartesian.getAxis(faceOtherDim);if(ifShowAxisPointer(axis)){var dimIdx=Grid3DView_dimIndicesMap[dim],faceOtherDimIdx=Grid3DView_dimIndicesMap[faceOtherDim];(p0=[0,0,0])[dimIdx]=(p1=[0,0,0])[dimIdx]=point[dimIdx],p0[otherDimIdx]=p1[otherDimIdx]=otherCoord,p0[faceOtherDimIdx]=faceOtherAxis.getExtentMin(),p1[faceOtherDimIdx]=faceOtherAxis.getExtentMax();var colorAndLineWidth=getAxisColorAndLineWidth(axis);linesGeo.addLine(p0,p1,colorAndLineWidth.color,colorAndLineWidth.lineWidth*dpr)}}if(ifShowAxisPointer(cartesian.getAxis(faceInfo[2]))){var p1,p0=point.slice();(p1=point.slice())[otherDimIdx]=otherCoord;colorAndLineWidth=getAxisColorAndLineWidth(cartesian.getAxis(faceInfo[2]));linesGeo.addLine(p0,p1,colorAndLineWidth.color,colorAndLineWidth.lineWidth*dpr)}}}linesGeo.convertToTypedArray(),this._updateAxisPointerLabelsMesh(data),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(data){var grid3dModel=this._model,axisPointerLabelsMesh=this._axisPointerLabelsMesh,axisPointerLabelsSurface=this._axisPointerLabelsSurface,cartesian=grid3dModel.coordinateSystem,axisPointerParentModel=grid3dModel.getModel("axisPointer");axisPointerLabelsMesh.geometry.convertToDynamicArray(!0),axisPointerLabelsSurface.clear();var otherDim={x:"y",y:"x",z:"y"};this._axes.forEach((function(axisInfo,idx){var axis=cartesian.getAxis(axisInfo.dim),axisPointerModel=axis.model.getModel("axisPointer",axisPointerParentModel),labelModel=axisPointerModel.getModel("label"),lineColor=axisPointerModel.get("lineStyle.color");if(labelModel.get("show")&&axisPointerModel.get("show")){var val=data[idx],formatter=labelModel.get("formatter"),text=axis.scale.getLabel({value:val});if(null!=formatter)text=formatter(text,data);else if("interval"===axis.scale.type||"log"===axis.scale.type){var precision=echarts.Rx.getPrecisionSafe(axis.scale.getTicks()[0]);text=val.toFixed(precision+2)}var labelColor=labelModel.get("color"),textEl=new echarts.Q.Text({style:(0,labelStyle.Lr)(labelModel,{text,fill:labelColor||lineColor,align:"left",verticalAlign:"top"})}),coords=axisPointerLabelsSurface.add(textEl),rect=textEl.getBoundingRect(),dpr=this._api.getDevicePixelRatio(),pos=axisInfo.rootNode.position.toArray();pos[Grid3DView_dimIndicesMap[otherDim[axisInfo.dim]]]+=(axisInfo.flipped?-1:1)*labelModel.get("margin"),pos[Grid3DView_dimIndicesMap[axisInfo.dim]]=axis.dataToCoord(data[idx]),axisPointerLabelsMesh.geometry.addSprite(pos,[rect.width*dpr,rect.height*dpr],coords,axisInfo.textAlign,axisInfo.textVerticalAlign)}}),this),axisPointerLabelsSurface.getZr().refreshImmediately(),axisPointerLabelsMesh.material.set("uvScale",axisPointerLabelsSurface.getCoordsScale()),axisPointerLabelsMesh.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});var Cartesian=__webpack_require__("./node_modules/echarts/lib/coord/cartesian/Cartesian.js");function Cartesian3D(name){Cartesian.Z.call(this,name),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}Cartesian3D.prototype={constructor:Cartesian3D,model:null,containPoint:function(point){return this.getAxis("x").contain(point[0])&&this.getAxis("y").contain(point[2])&&this.getAxis("z").contain(point[1])},containData:function(data){return this.getAxis("x").containData(data[0])&&this.getAxis("y").containData(data[1])&&this.getAxis("z").containData(data[2])},dataToPoint:function(data,out,clamp){return(out=out||[])[0]=this.getAxis("x").dataToCoord(data[0],clamp),out[2]=this.getAxis("y").dataToCoord(data[1],clamp),out[1]=this.getAxis("z").dataToCoord(data[2],clamp),out},pointToData:function(point,out,clamp){return(out=out||[])[0]=this.getAxis("x").coordToData(point[0],clamp),out[1]=this.getAxis("y").coordToData(point[2],clamp),out[2]=this.getAxis("z").coordToData(point[1],clamp),out}},echarts.D5.inherits(Cartesian3D,Cartesian.Z);const grid3D_Cartesian3D=Cartesian3D;function Axis3D(dim,scale,extent){echarts.RD.call(this,dim,scale,extent)}Axis3D.prototype={constructor:Axis3D,getExtentMin:function(){var extent=this._extent;return Math.min(extent[0],extent[1])},getExtentMax:function(){var extent=this._extent;return Math.max(extent[0],extent[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},echarts.D5.inherits(Axis3D,echarts.RD);const grid3D_Axis3D=Axis3D;var layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js");function resizeCartesian3D(grid3DModel,api){var boxLayoutOption=grid3DModel.getBoxLayoutParams(),viewport=(0,layout.ME)(boxLayoutOption,{width:api.getWidth(),height:api.getHeight()});viewport.y=api.getHeight()-viewport.y-viewport.height,this.viewGL.setViewport(viewport.x,viewport.y,viewport.width,viewport.height,api.getDevicePixelRatio());var boxWidth=grid3DModel.get("boxWidth"),boxHeight=grid3DModel.get("boxHeight"),boxDepth=grid3DModel.get("boxDepth");this.getAxis("x").setExtent(-boxWidth/2,boxWidth/2),this.getAxis("y").setExtent(boxDepth/2,-boxDepth/2),this.getAxis("z").setExtent(-boxHeight/2,boxHeight/2),this.size=[boxWidth,boxHeight,boxDepth]}function updateCartesian3D(ecModel,api){var dataExtents={};ecModel.eachSeries((function(seriesModel){if(seriesModel.coordinateSystem===this){var data=seriesModel.getData();["x","y","z"].forEach((function(coordDim){data.mapDimensionsAll(coordDim,!0).forEach((function(dataDim){!function unionDataExtents(dim,extent){dataExtents[dim]=dataExtents[dim]||[1/0,-1/0],dataExtents[dim][0]=Math.min(extent[0],dataExtents[dim][0]),dataExtents[dim][1]=Math.max(extent[1],dataExtents[dim][1])}(coordDim,data.getDataExtent(dataDim,!0))}))}))}}),this),["xAxis3D","yAxis3D","zAxis3D"].forEach((function(axisType){ecModel.eachComponent(axisType,(function(axisModel){var dim=axisType.charAt(0),grid3DModel=axisModel.getReferringComponents("grid3D").models[0],cartesian3D=grid3DModel.coordinateSystem;if(cartesian3D===this){var axis=cartesian3D.getAxis(dim);if(!axis){var scale=echarts._y.createScale(dataExtents[dim]||[1/0,-1/0],axisModel);(axis=new grid3D_Axis3D(dim,scale)).type=axisModel.get("type");var isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axisModel.axis=axis,axis.model=axisModel,axis.getLabelModel=function(){return axisModel.getModel("axisLabel",grid3DModel.getModel("axisLabel"))},axis.getTickModel=function(){return axisModel.getModel("axisTick",grid3DModel.getModel("axisTick"))},cartesian3D.addAxis(axis)}}}),this)}),this),this.resize(this.model,api)}const coord_grid3DCreator={dimensions:grid3D_Cartesian3D.prototype.dimensions,create:function(ecModel,api){var cartesian3DList=[];ecModel.eachComponent("grid3D",(function(grid3DModel){grid3DModel.__viewGL=grid3DModel.__viewGL||new ViewGL.Z;var cartesian3D=new grid3D_Cartesian3D;cartesian3D.model=grid3DModel,cartesian3D.viewGL=grid3DModel.__viewGL,grid3DModel.coordinateSystem=cartesian3D,cartesian3DList.push(cartesian3D),cartesian3D.resize=resizeCartesian3D,cartesian3D.update=updateCartesian3D}));var axesTypes=["xAxis3D","yAxis3D","zAxis3D"];return ecModel.eachSeries((function(seriesModel){if("cartesian3D"===seriesModel.get("coordinateSystem")){if(null==(firstGridModel=seriesModel.getReferringComponents("grid3D").models[0])){var axesModels=function findAxesModels(seriesModel,ecModel){return axesTypes.map((function(axisType){var axisModel=seriesModel.getReferringComponents(axisType).models[0];return null==axisModel&&(axisModel=ecModel.getComponent(axisType)),axisModel}))}(seriesModel,ecModel),firstGridModel=axesModels[0].getCoordSysModel();axesModels.forEach((function(axisModel){axisModel.getCoordSysModel()}))}var coordSys=firstGridModel.coordinateSystem;seriesModel.coordinateSystem=coordSys}})),cartesian3DList}};var Axis3DModel=echarts.tF.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});echarts._y.mixinAxisModelCommonMethods(Axis3DModel);const grid3D_Axis3DModel=Axis3DModel;var defaultOption={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},categoryAxis=echarts.D5.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},defaultOption),valueAxis=echarts.D5.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},defaultOption),timeAxis=echarts.D5.defaults({scale:!0,min:"dataMin",max:"dataMax"},valueAxis),logAxis=echarts.D5.defaults({logBase:10},valueAxis);logAxis.scale=!0;const axis3DDefault={categoryAxis3D:categoryAxis,valueAxis3D:valueAxis,timeAxis3D:timeAxis,logAxis3D:logAxis};var OrdinalMeta=__webpack_require__("./node_modules/echarts/lib/data/OrdinalMeta.js"),AXIS_TYPES=["value","category","time","log"];function getAxisType(axisDim,option){return option.type||(option.data?"category":"value")}function install(registers){registers.registerComponentModel(grid3D_Grid3DModel),registers.registerComponentView(Grid3DView),registers.registerCoordinateSystem("grid3D",coord_grid3DCreator),["x","y","z"].forEach((function(dim){!function createAxis3DModel(registers,dim,BaseAxisModelClass,axisTypeDefaulter,extraDefaultOption){AXIS_TYPES.forEach((function(axisType){var AxisModel=BaseAxisModelClass.extend({type:dim+"Axis3D."+axisType,__ordinalMeta:null,mergeDefaultAndTheme:function(option,ecModel){var themeModel=ecModel.getTheme();echarts.D5.merge(option,themeModel.get(axisType+"Axis3D")),echarts.D5.merge(option,this.getDefaultOption()),option.type=axisTypeDefaulter(dim,option)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=OrdinalMeta.Z.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:echarts.D5.merge(echarts.D5.clone(axis3DDefault[axisType+"Axis3D"]),extraDefaultOption||{},!0)});registers.registerComponentModel(AxisModel)})),registers.registerSubTypeDefaulter(dim+"Axis3D",echarts.D5.curry(axisTypeDefaulter,dim))}(registers,dim,grid3D_Axis3DModel,getAxisType,{name:dim.toUpperCase()});const AxisView=registers.ComponentView.extend({type:dim+"Axis3D"});registers.registerComponentView(AxisView)})),registers.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},(function(payload,ecModel){ecModel.eachComponent({mainType:"grid3D",query:payload},(function(componentModel){componentModel.setView(payload)}))})),registers.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},(function(payload,ecModel){})),registers.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},(function(payload,ecModel){}))}},"./node_modules/echarts-gl/lib/coord/geo3D/geo3DModelMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js");const __WEBPACK_DEFAULT_EXPORT__={getFilledRegions:function(regions,mapData){var geoJson,regionsArr=(regions||[]).slice();if("string"==typeof mapData?geoJson=(mapData=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.FU(mapData))&&mapData.geoJson:mapData&&mapData.features&&(geoJson=mapData),!geoJson)return[];for(var dataNameMap={},features=geoJson.features,i=0;i<regionsArr.length;i++)dataNameMap[regionsArr[i].name]=regionsArr[i];for(i=0;i<features.length;i++){var name=features[i].properties.name;dataNameMap[name]||regionsArr.push({name})}return regionsArr},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}}},"./node_modules/echarts-gl/lib/coord/geo3DCreator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>coord_geo3DCreator});var echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),glmatrix=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js"),textCoord=__webpack_require__("./node_modules/echarts/lib/coord/geo/fix/textCoord.js"),geoCoordMap={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var vec3=glmatrix.Z.vec3,mat4=glmatrix.Z.mat4,geoFixFuncs=[textCoord.Z,function fixGeoCoords(mapType,region){if("world"===mapType){var geoCoord=geoCoordMap[region.name];if(geoCoord){var cp=[geoCoord[0],geoCoord[1]];region.setCenter(cp)}}}];function Geo3D(name,map,geoJson,specialAreas,nameMap){this.name=name,this.map=map,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(geoJson,specialAreas,nameMap),this.transform=mat4.identity(new Float64Array(16)),this.invTransform=mat4.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}Geo3D.prototype={constructor:Geo3D,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(geoJson,specialAreas,nameMap){var parseGeoJSON=echarts.Nu||echarts.pQ;try{this.regions=geoJson?parseGeoJSON(geoJson):[]}catch(e){throw"Invalid geoJson format\n"+e}specialAreas=specialAreas||{},nameMap=nameMap||{};for(var regions=this.regions,regionsMap={},i=0;i<regions.length;i++){var regionName=regions[i].name;regionName=nameMap[regionName]||regionName,regions[i].name=regionName,regionsMap[regionName]=regions[i],this.addGeoCoord(regionName,regions[i].getCenter());var specialArea=specialAreas[regionName];specialArea&&regions[i].transformTo(specialArea.left,specialArea.top,specialArea.width,specialArea.height)}this._regionsMap=regionsMap,this._geoRect=null,geoFixFuncs.forEach((function(fixFunc){fixFunc(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var rect,regions=this.regions,i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect();(rect=rect||regionRect.clone()).union(regionRect)}return this._geoRect=rect||new echarts.Q.BoundingRect(0,0,0,0)},addGeoCoord:function(name,geoCoord){this._nameCoordMap[name]=geoCoord},getRegion:function(name){return this._regionsMap[name]},getRegionByCoord:function(coord){for(var regions=this.regions,i=0;i<regions.length;i++)if(regions[i].contain(coord))return regions[i]},setSize:function(width,height,depth){this.size=[width,height,depth];var rect=this.getGeoBoundingRect(),scaleX=width/rect.width,scaleZ=-depth/rect.height,translateX=-width/2-rect.x*scaleX,translateZ=depth/2-rect.y*scaleZ,position=this.extrudeY?[translateX,0,translateZ]:[translateX,translateZ,0],scale=this.extrudeY?[scaleX,1,scaleZ]:[scaleX,scaleZ,1],m=this.transform;mat4.identity(m),mat4.translate(m,m,position),mat4.scale(m,m,scale),mat4.invert(this.invTransform,m)},dataToPoint:function(data,out){out=out||[];var extrudeCoordIndex=this.extrudeY?1:2,sideCoordIndex=this.extrudeY?2:1,altitudeVal=data[2];return isNaN(altitudeVal)&&(altitudeVal=0),out[0]=data[0],out[sideCoordIndex]=data[1],this.altitudeAxis?out[extrudeCoordIndex]=this.altitudeAxis.dataToCoord(altitudeVal):out[extrudeCoordIndex]=0,out[extrudeCoordIndex]+=this.regionHeight,vec3.transformMat4(out,out,this.transform),out},pointToData:function(point,out){}};const geo3D_Geo3D=Geo3D;var layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),ViewGL=__webpack_require__("./node_modules/echarts-gl/lib/core/ViewGL.js"),retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js");function resizeGeo3D(geo3DModel,api){var boxLayoutOption=geo3DModel.getBoxLayoutParams(),viewport=(0,layout.ME)(boxLayoutOption,{width:api.getWidth(),height:api.getHeight()});viewport.y=api.getHeight()-viewport.y-viewport.height,this.viewGL.setViewport(viewport.x,viewport.y,viewport.width,viewport.height,api.getDevicePixelRatio());var geoRect=this.getGeoBoundingRect(),aspect=geoRect.width/geoRect.height*(geo3DModel.get("aspectScale")||.75),width=geo3DModel.get("boxWidth"),depth=geo3DModel.get("boxDepth"),height=geo3DModel.get("boxHeight");null==height&&(height=5),isNaN(width)&&isNaN(depth)&&(width=100),isNaN(depth)?depth=width/aspect:isNaN(width)&&(width=depth/aspect),this.setSize(width,height,depth),this.regionHeight=geo3DModel.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(height-this.regionHeight,0))}function updateGeo3D(ecModel,api){var altitudeDataExtent=[1/0,-1/0];if(ecModel.eachSeries((function(seriesModel){if(seriesModel.coordinateSystem===this&&"series.map3D"!==seriesModel.type){var data=seriesModel.getData(),altDims=seriesModel.coordDimToDataDim("alt"),altDim=altDims&&altDims[0];if(altDim){var dataExtent=data.getDataExtent(altDim,!0);altitudeDataExtent[0]=Math.min(altitudeDataExtent[0],dataExtent[0]),altitudeDataExtent[1]=Math.max(altitudeDataExtent[1],dataExtent[1])}}}),this),altitudeDataExtent&&isFinite(altitudeDataExtent[1]-altitudeDataExtent[0])){var scale=echarts._y.createScale(altitudeDataExtent,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new echarts.RD("altitude",scale),this.resize(this.model,api)}}var idStart=0,geo3DCreator={dimensions:geo3D_Geo3D.prototype.dimensions,create:function(ecModel,api){var geo3DList=[];if(!echarts.FU)throw new Error("geo3D component depends on geo component");function createGeo3D(componentModel,idx){var geo3D=geo3DCreator.createGeo3D(componentModel);componentModel.__viewGL=componentModel.__viewGL||new ViewGL.Z,geo3D.viewGL=componentModel.__viewGL,componentModel.coordinateSystem=geo3D,geo3D.model=componentModel,geo3DList.push(geo3D),geo3D.resize=resizeGeo3D,geo3D.resize(componentModel,api),geo3D.update=updateGeo3D}return ecModel.eachComponent("geo3D",(function(geo3DModel,idx){createGeo3D(geo3DModel)})),ecModel.eachSeriesByType("map3D",(function(map3DModel,idx){var coordSys=map3DModel.get("coordinateSystem");null==coordSys&&(coordSys="geo3D"),"geo3D"===coordSys&&createGeo3D(map3DModel)})),ecModel.eachSeries((function(seriesModel){if("geo3D"===seriesModel.get("coordinateSystem")){if("series.map3D"===seriesModel.type)return;var geo3DModel=seriesModel.getReferringComponents("geo3D").models[0];if(geo3DModel||(geo3DModel=ecModel.getComponent("geo3D")),!geo3DModel)throw new Error('geo "'+retrieve.Z.firstNotNull(seriesModel.get("geo3DIndex"),seriesModel.get("geo3DId"),0)+'" not found');seriesModel.coordinateSystem=geo3DModel.coordinateSystem}})),geo3DList},createGeo3D:function(componentModel){var name,mapData=componentModel.get("map");return"string"==typeof mapData?(name=mapData,mapData=echarts.FU(mapData)):mapData&&mapData.features&&(mapData={geoJson:mapData}),null==name&&(name="GEO_ANONYMOUS_"+idStart++),new geo3D_Geo3D(name+idStart++,name,mapData&&mapData.geoJson,mapData&&mapData.specialAreas,componentModel.get("nameMap"))}};const coord_geo3DCreator=geo3DCreator},"./node_modules/echarts-gl/lib/core/ViewGL.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>core_ViewGL});__webpack_require__("./node_modules/echarts/lib/echarts.js");var Scene=__webpack_require__("./node_modules/claygl/src/Scene.js"),Base=__webpack_require__("./node_modules/claygl/src/core/Base.js"),glenum=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),Vector3=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),BoundingBox=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),Frustum=__webpack_require__("./node_modules/claygl/src/math/Frustum.js"),Matrix4=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),Renderer=__webpack_require__("./node_modules/claygl/src/Renderer.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),FrameBuffer=__webpack_require__("./node_modules/claygl/src/FrameBuffer.js"),Texture=__webpack_require__("./node_modules/claygl/src/Texture.js"),Texture2D=__webpack_require__("./node_modules/claygl/src/Texture2D.js"),TextureCube=__webpack_require__("./node_modules/claygl/src/TextureCube.js"),Perspective=__webpack_require__("./node_modules/claygl/src/camera/Perspective.js"),Orthographic=__webpack_require__("./node_modules/claygl/src/camera/Orthographic.js"),Pass=__webpack_require__("./node_modules/claygl/src/compositor/Pass.js"),util=__webpack_require__("./node_modules/claygl/src/core/util.js"),TexturePool=function(){this._pool={},this._allocatedTextures=[]};TexturePool.prototype={constructor:TexturePool,get:function(parameters){var key=generateKey(parameters);this._pool.hasOwnProperty(key)||(this._pool[key]=[]);var list=this._pool[key];if(!list.length){var texture=new Texture2D.Z(parameters);return this._allocatedTextures.push(texture),texture}return list.pop()},put:function(texture){var key=generateKey(texture);this._pool.hasOwnProperty(key)||(this._pool[key]=[]),this._pool[key].push(texture)},clear:function(renderer){for(var i=0;i<this._allocatedTextures.length;i++)this._allocatedTextures[i].dispose(renderer);this._pool={},this._allocatedTextures=[]}};var defaultParams={width:512,height:512,type:glenum.Z.UNSIGNED_BYTE,format:glenum.Z.RGBA,wrapS:glenum.Z.CLAMP_TO_EDGE,wrapT:glenum.Z.CLAMP_TO_EDGE,minFilter:glenum.Z.LINEAR_MIPMAP_LINEAR,magFilter:glenum.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},defaultParamPropList=Object.keys(defaultParams);function generateKey(parameters){util.Z.defaultsWithPropList(parameters,defaultParams,defaultParamPropList),function fallBack(target){var IPOT=function isPowerOfTwo(width,height){return 0==(width&width-1)&&0==(height&height-1)}(target.width,target.height);target.format===glenum.Z.DEPTH_COMPONENT&&(target.useMipmap=!1);IPOT&&target.useMipmap||(target.minFilter==glenum.Z.NEAREST_MIPMAP_NEAREST||target.minFilter==glenum.Z.NEAREST_MIPMAP_LINEAR?target.minFilter=glenum.Z.NEAREST:target.minFilter!=glenum.Z.LINEAR_MIPMAP_LINEAR&&target.minFilter!=glenum.Z.LINEAR_MIPMAP_NEAREST||(target.minFilter=glenum.Z.LINEAR));IPOT||(target.wrapS=glenum.Z.CLAMP_TO_EDGE,target.wrapT=glenum.Z.CLAMP_TO_EDGE)}(parameters);for(var key="",i=0;i<defaultParamPropList.length;i++){key+=parameters[defaultParamPropList[i]].toString()}return key}const compositor_TexturePool=TexturePool;var mat4=__webpack_require__("./node_modules/claygl/src/glmatrix/mat4.js");var targets=["px","nx","py","ny","pz","nz"];function getDepthMaterialUniform(renderable,depthMaterial,symbol){return"alphaMap"===symbol?renderable.material.get("diffuseMap"):"alphaCutoff"===symbol?renderable.material.isDefined("fragment","ALPHA_TEST")&&renderable.material.get("diffuseMap")&&renderable.material.get("alphaCutoff")||0:"uvRepeat"===symbol?renderable.material.get("uvRepeat"):"uvOffset"===symbol?renderable.material.get("uvOffset"):depthMaterial.get(symbol)}function isDepthMaterialChanged(renderable,prevRenderable){var matA=renderable.material,matB=prevRenderable.material;return matA.get("diffuseMap")!==matB.get("diffuseMap")||(matA.get("alphaCutoff")||0)!==(matB.get("alphaCutoff")||0)}Shader.Z.import("@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end");var splitFrustum,splitProjMatrix,cropBBox,cropMatrix,lightViewMatrix,lightViewProjMatrix,lightProjMatrix,ShadowMapPass=Base.Z.extend((function(){return{softShadow:ShadowMapPass.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new FrameBuffer.Z,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new compositor_TexturePool}}),(function(){this._gaussianPassH=new Pass.Z({fragment:Shader.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new Pass.Z({fragment:Shader.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new Pass.Z({fragment:Shader.Z.source("clay.sm.debug_depth")})}),{render:function(renderer,scene,sceneCamera,notUpdateScene){sceneCamera||(sceneCamera=scene.getMainCamera()),this.trigger("beforerender",this,renderer,scene,sceneCamera),this._renderShadowPass(renderer,scene,sceneCamera,notUpdateScene),this.trigger("afterrender",this,renderer,scene,sceneCamera)},renderDebug:function(renderer,size){renderer.saveClear();var viewport=renderer.viewport,x=0,width=size||viewport.width/4,height=width;for(var name in this.softShadow===ShadowMapPass.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var texture=this._textures[name];renderer.setViewport(x,0,width*texture.width/texture.height,height),this._outputDepthPass.setUniform("depthMap",texture),this._outputDepthPass.render(renderer),x+=width*texture.width/texture.height}renderer.setViewport(viewport),renderer.restoreClear()},_updateReceivers:function(renderer,mesh){if(mesh.receiveShadow?(this._receivers.push(mesh),mesh.material.set("shadowEnabled",1),mesh.material.set("pcfKernel",this.kernelPCF)):mesh.material.set("shadowEnabled",0),this.softShadow===ShadowMapPass.VSM)mesh.material.define("fragment","USE_VSM"),mesh.material.undefine("fragment","PCF_KERNEL_SIZE");else{mesh.material.undefine("fragment","USE_VSM");var kernelPCF=this.kernelPCF;kernelPCF&&kernelPCF.length?mesh.material.define("fragment","PCF_KERNEL_SIZE",kernelPCF.length/2):mesh.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(renderer,scene){var self=this;scene.traverse((function(renderable){renderable.isRenderable()&&self._updateReceivers(renderer,renderable)}));for(var i=0;i<scene.lights.length;i++){var light=scene.lights[i];light.castShadow&&!light.invisible&&this._lightsCastShadow.push(light)}},_renderShadowPass:function(renderer,scene,sceneCamera,notUpdateScene){for(var name in this._shadowMapNumber)this._shadowMapNumber[name]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var _gl=renderer.gl;if(notUpdateScene||scene.update(),sceneCamera&&sceneCamera.update(),scene.updateLights(),this._update(renderer,scene),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,_gl.enable(_gl.DEPTH_TEST),_gl.depthMask(!0),_gl.disable(_gl.BLEND),_gl.clearColor(1,1,1,1);for(var dirLightHasCascade,spotLightShadowMaps=[],spotLightMatrices=[],directionalLightShadowMaps=[],directionalLightMatrices=[],shadowCascadeClips=[],pointLightShadowMaps=[],i=0;i<this._lightsCastShadow.length;i++){var light=this._lightsCastShadow[i];if("DIRECTIONAL_LIGHT"===light.type){if(dirLightHasCascade){console.warn("Only one direectional light supported with shadow cascade");continue}if(light.shadowCascade>4){console.warn("Support at most 4 cascade");continue}light.shadowCascade>1&&(dirLightHasCascade=light),this.renderDirectionalLightShadow(renderer,scene,sceneCamera,light,shadowCascadeClips,directionalLightMatrices,directionalLightShadowMaps)}else"SPOT_LIGHT"===light.type?this.renderSpotLightShadow(renderer,scene,light,spotLightMatrices,spotLightShadowMaps):"POINT_LIGHT"===light.type&&this.renderPointLightShadow(renderer,scene,light,pointLightShadowMaps);this._shadowMapNumber[light.type]++}for(var lightType in this._shadowMapNumber){var number=this._shadowMapNumber[lightType],key=lightType+"_SHADOWMAP_COUNT";for(i=0;i<this._receivers.length;i++){(material=this._receivers[i].material).fragmentDefines[key]!==number&&(number>0?material.define("fragment",key,number):material.isDefined("fragment",key)&&material.undefine("fragment",key))}}for(i=0;i<this._receivers.length;i++){var material=this._receivers[i].material;dirLightHasCascade?material.define("fragment","SHADOW_CASCADE",dirLightHasCascade.shadowCascade):material.undefine("fragment","SHADOW_CASCADE")}var shadowUniforms=scene.shadowUniforms;if(directionalLightShadowMaps.length>0){var directionalLightShadowMapSizes=directionalLightShadowMaps.map(getSize);if(shadowUniforms.directionalLightShadowMaps={value:directionalLightShadowMaps,type:"tv"},shadowUniforms.directionalLightMatrices={value:directionalLightMatrices,type:"m4v"},shadowUniforms.directionalLightShadowMapSizes={value:directionalLightShadowMapSizes,type:"1fv"},dirLightHasCascade){var shadowCascadeClipsNear=shadowCascadeClips.slice(),shadowCascadeClipsFar=shadowCascadeClips.slice();shadowCascadeClipsNear.pop(),shadowCascadeClipsFar.shift(),shadowCascadeClipsNear.reverse(),shadowCascadeClipsFar.reverse(),directionalLightMatrices.reverse(),shadowUniforms.shadowCascadeClipsNear={value:shadowCascadeClipsNear,type:"1fv"},shadowUniforms.shadowCascadeClipsFar={value:shadowCascadeClipsFar,type:"1fv"}}}if(spotLightShadowMaps.length>0){var spotLightShadowMapSizes=spotLightShadowMaps.map(getSize);(shadowUniforms=scene.shadowUniforms).spotLightShadowMaps={value:spotLightShadowMaps,type:"tv"},shadowUniforms.spotLightMatrices={value:spotLightMatrices,type:"m4v"},shadowUniforms.spotLightShadowMapSizes={value:spotLightShadowMapSizes,type:"1fv"}}pointLightShadowMaps.length>0&&(shadowUniforms.pointLightShadowMaps={value:pointLightShadowMaps,type:"tv"})}function getSize(texture){return texture.height}},renderDirectionalLightShadow:(splitFrustum=new Frustum.Z,splitProjMatrix=new Matrix4.Z,cropBBox=new BoundingBox.Z,cropMatrix=new Matrix4.Z,lightViewMatrix=new Matrix4.Z,lightViewProjMatrix=new Matrix4.Z,lightProjMatrix=new Matrix4.Z,function(renderer,scene,sceneCamera,light,shadowCascadeClips,directionalLightMatrices,directionalLightShadowMaps){var defaultShadowMaterial=this._getDepthMaterial(light),passConfig={getMaterial:function(renderable){return renderable.shadowDepthMaterial||defaultShadowMaterial},isMaterialChanged:isDepthMaterialChanged,getUniform:getDepthMaterialUniform,ifRender:function(renderable){return renderable.castShadow},sortCompare:Renderer.Z.opaqueSortCompare};if(!scene.viewBoundingBoxLastFrame.isFinite()){var boundingBox=scene.getBoundingBox();scene.viewBoundingBoxLastFrame.copy(boundingBox).applyTransform(sceneCamera.viewMatrix)}var clippedFar=Math.min(-scene.viewBoundingBoxLastFrame.min.z,sceneCamera.far),clippedNear=Math.max(-scene.viewBoundingBoxLastFrame.max.z,sceneCamera.near),lightCamera=this._getDirectionalLightCamera(light,scene,sceneCamera),lvpMat4Arr=lightViewProjMatrix.array;lightProjMatrix.copy(lightCamera.projectionMatrix),mat4.Z.invert(lightViewMatrix.array,lightCamera.worldTransform.array),mat4.Z.multiply(lightViewMatrix.array,lightViewMatrix.array,sceneCamera.worldTransform.array),mat4.Z.multiply(lvpMat4Arr,lightProjMatrix.array,lightViewMatrix.array);for(var clipPlanes=[],isPerspective=sceneCamera instanceof Perspective.Z,scaleZ=(sceneCamera.near+sceneCamera.far)/(sceneCamera.near-sceneCamera.far),offsetZ=2*sceneCamera.near*sceneCamera.far/(sceneCamera.near-sceneCamera.far),i=0;i<=light.shadowCascade;i++){var clog=clippedNear*Math.pow(clippedFar/clippedNear,i/light.shadowCascade),cuni=clippedNear+(clippedFar-clippedNear)*i/light.shadowCascade,c=clog*light.cascadeSplitLogFactor+cuni*(1-light.cascadeSplitLogFactor);clipPlanes.push(c),shadowCascadeClips.push(-(-c*scaleZ+offsetZ)/-c)}var texture=this._getTexture(light,light.shadowCascade);directionalLightShadowMaps.push(texture);var viewport=renderer.viewport,_gl=renderer.gl;for(this._frameBuffer.attach(texture),this._frameBuffer.bind(renderer),_gl.clear(_gl.COLOR_BUFFER_BIT|_gl.DEPTH_BUFFER_BIT),i=0;i<light.shadowCascade;i++){var nearPlane=clipPlanes[i],farPlane=clipPlanes[i+1];isPerspective?mat4.Z.perspective(splitProjMatrix.array,sceneCamera.fov/180*Math.PI,sceneCamera.aspect,nearPlane,farPlane):mat4.Z.ortho(splitProjMatrix.array,sceneCamera.left,sceneCamera.right,sceneCamera.bottom,sceneCamera.top,nearPlane,farPlane),splitFrustum.setFromProjection(splitProjMatrix),splitFrustum.getTransformedBoundingBox(cropBBox,lightViewMatrix),cropBBox.applyProjection(lightProjMatrix);var _min=cropBBox.min.array,_max=cropBBox.max.array;_min[0]=Math.max(_min[0],-1),_min[1]=Math.max(_min[1],-1),_max[0]=Math.min(_max[0],1),_max[1]=Math.min(_max[1],1),cropMatrix.ortho(_min[0],_max[0],_min[1],_max[1],1,-1),lightCamera.projectionMatrix.multiplyLeft(cropMatrix);var shadowSize=light.shadowResolution||512;renderer.setViewport((light.shadowCascade-i-1)*shadowSize,0,shadowSize,shadowSize,1);var renderList=scene.updateRenderList(lightCamera);renderer.renderPass(renderList.opaque,lightCamera,passConfig),this.softShadow===ShadowMapPass.VSM&&this._gaussianFilter(renderer,texture,texture.width);var matrix=new Matrix4.Z;matrix.copy(lightCamera.viewMatrix).multiplyLeft(lightCamera.projectionMatrix),directionalLightMatrices.push(matrix.array),lightCamera.projectionMatrix.copy(lightProjMatrix)}this._frameBuffer.unbind(renderer),renderer.setViewport(viewport)}),renderSpotLightShadow:function(renderer,scene,light,spotLightMatrices,spotLightShadowMaps){var texture=this._getTexture(light),lightCamera=this._getSpotLightCamera(light),_gl=renderer.gl;this._frameBuffer.attach(texture),this._frameBuffer.bind(renderer),_gl.clear(_gl.COLOR_BUFFER_BIT|_gl.DEPTH_BUFFER_BIT);var defaultShadowMaterial=this._getDepthMaterial(light),passConfig={getMaterial:function(renderable){return renderable.shadowDepthMaterial||defaultShadowMaterial},isMaterialChanged:isDepthMaterialChanged,getUniform:getDepthMaterialUniform,ifRender:function(renderable){return renderable.castShadow},sortCompare:Renderer.Z.opaqueSortCompare},renderList=scene.updateRenderList(lightCamera);renderer.renderPass(renderList.opaque,lightCamera,passConfig),this._frameBuffer.unbind(renderer),this.softShadow===ShadowMapPass.VSM&&this._gaussianFilter(renderer,texture,texture.width);var matrix=new Matrix4.Z;matrix.copy(lightCamera.worldTransform).invert().multiplyLeft(lightCamera.projectionMatrix),spotLightShadowMaps.push(texture),spotLightMatrices.push(matrix.array)},renderPointLightShadow:function(renderer,scene,light,pointLightShadowMaps){var texture=this._getTexture(light),_gl=renderer.gl;pointLightShadowMaps.push(texture);var defaultShadowMaterial=this._getDepthMaterial(light),passConfig={getMaterial:function(renderable){return renderable.shadowDepthMaterial||defaultShadowMaterial},getUniform:getDepthMaterialUniform,sortCompare:Renderer.Z.opaqueSortCompare},renderListEachSide={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},bbox=new BoundingBox.Z,lightWorldPosition=light.getWorldPosition().array,lightBBox=new BoundingBox.Z,range=light.range;lightBBox.min.setArray(lightWorldPosition),lightBBox.max.setArray(lightWorldPosition);var extent=new Vector3.Z(range,range,range);lightBBox.max.add(extent),lightBBox.min.sub(extent);var targetsNeedRender={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};scene.traverse((function(renderable){if(renderable.isRenderable()&&renderable.castShadow){var geometry=renderable.geometry;if(!geometry.boundingBox){for(var i=0;i<targets.length;i++)renderListEachSide[targets[i]].push(renderable);return}if(bbox.transformFrom(geometry.boundingBox,renderable.worldTransform),!bbox.intersectBoundingBox(lightBBox))return;bbox.updateVertices();for(i=0;i<targets.length;i++)targetsNeedRender[targets[i]]=!1;for(i=0;i<8;i++){var vtx=bbox.vertices[i],x=vtx[0]-lightWorldPosition[0],y=vtx[1]-lightWorldPosition[1],z=vtx[2]-lightWorldPosition[2],absx=Math.abs(x),absy=Math.abs(y),absz=Math.abs(z);absx>absy?absx>absz?targetsNeedRender[x>0?"px":"nx"]=!0:targetsNeedRender[z>0?"pz":"nz"]=!0:absy>absz?targetsNeedRender[y>0?"py":"ny"]=!0:targetsNeedRender[z>0?"pz":"nz"]=!0}for(i=0;i<targets.length;i++)targetsNeedRender[targets[i]]&&renderListEachSide[targets[i]].push(renderable)}}));for(var i=0;i<6;i++){var target=targets[i],camera=this._getPointLightCamera(light,target);this._frameBuffer.attach(texture,_gl.COLOR_ATTACHMENT0,_gl.TEXTURE_CUBE_MAP_POSITIVE_X+i),this._frameBuffer.bind(renderer),_gl.clear(_gl.COLOR_BUFFER_BIT|_gl.DEPTH_BUFFER_BIT),renderer.renderPass(renderListEachSide[target],camera,passConfig)}this._frameBuffer.unbind(renderer)},_getDepthMaterial:function(light){var shadowMaterial=this._lightMaterials[light.__uid__],isPointLight="POINT_LIGHT"===light.type;if(!shadowMaterial){var shaderPrefix=isPointLight?"clay.sm.distance.":"clay.sm.depth.";shadowMaterial=new Material.Z({precision:this.precision,shader:new Shader.Z(Shader.Z.source(shaderPrefix+"vertex"),Shader.Z.source(shaderPrefix+"fragment"))}),this._lightMaterials[light.__uid__]=shadowMaterial}return null!=light.shadowSlopeScale&&shadowMaterial.setUniform("slopeScale",light.shadowSlopeScale),null!=light.shadowBias&&shadowMaterial.setUniform("bias",light.shadowBias),this.softShadow===ShadowMapPass.VSM?shadowMaterial.define("fragment","USE_VSM"):shadowMaterial.undefine("fragment","USE_VSM"),isPointLight&&(shadowMaterial.set("lightPosition",light.getWorldPosition().array),shadowMaterial.set("range",light.range)),shadowMaterial},_gaussianFilter:function(renderer,texture,size){var parameter={width:size,height:size,type:Texture.Z.FLOAT},tmpTexture=this._texturePool.get(parameter);this._frameBuffer.attach(tmpTexture),this._frameBuffer.bind(renderer),this._gaussianPassH.setUniform("texture",texture),this._gaussianPassH.setUniform("textureWidth",size),this._gaussianPassH.render(renderer),this._frameBuffer.attach(texture),this._gaussianPassV.setUniform("texture",tmpTexture),this._gaussianPassV.setUniform("textureHeight",size),this._gaussianPassV.render(renderer),this._frameBuffer.unbind(renderer),this._texturePool.put(tmpTexture)},_getTexture:function(light,cascade){var key=light.__uid__,texture=this._textures[key],resolution=light.shadowResolution||512;return cascade=cascade||1,texture||((texture="POINT_LIGHT"===light.type?new TextureCube.Z:new Texture2D.Z).width=resolution*cascade,texture.height=resolution,this.softShadow===ShadowMapPass.VSM?(texture.type=Texture.Z.FLOAT,texture.anisotropic=4):(texture.minFilter=glenum.Z.NEAREST,texture.magFilter=glenum.Z.NEAREST,texture.useMipmap=!1),this._textures[key]=texture),texture},_getPointLightCamera:function(light,target){this._lightCameras.point||(this._lightCameras.point={px:new Perspective.Z,nx:new Perspective.Z,py:new Perspective.Z,ny:new Perspective.Z,pz:new Perspective.Z,nz:new Perspective.Z});var camera=this._lightCameras.point[target];switch(camera.far=light.range,camera.fov=90,camera.position.set(0,0,0),target){case"px":camera.lookAt(Vector3.Z.POSITIVE_X,Vector3.Z.NEGATIVE_Y);break;case"nx":camera.lookAt(Vector3.Z.NEGATIVE_X,Vector3.Z.NEGATIVE_Y);break;case"py":camera.lookAt(Vector3.Z.POSITIVE_Y,Vector3.Z.POSITIVE_Z);break;case"ny":camera.lookAt(Vector3.Z.NEGATIVE_Y,Vector3.Z.NEGATIVE_Z);break;case"pz":camera.lookAt(Vector3.Z.POSITIVE_Z,Vector3.Z.NEGATIVE_Y);break;case"nz":camera.lookAt(Vector3.Z.NEGATIVE_Z,Vector3.Z.NEGATIVE_Y)}return light.getWorldPosition(camera.position),camera.update(),camera},_getDirectionalLightCamera:function(){var lightViewMatrix=new Matrix4.Z,sceneViewBoundingBox=new BoundingBox.Z,lightViewBBox=new BoundingBox.Z;return function(light,scene,sceneCamera){this._lightCameras.directional||(this._lightCameras.directional=new Orthographic.Z);var camera=this._lightCameras.directional;sceneViewBoundingBox.copy(scene.viewBoundingBoxLastFrame),sceneViewBoundingBox.intersection(sceneCamera.frustum.boundingBox),camera.position.copy(sceneViewBoundingBox.min).add(sceneViewBoundingBox.max).scale(.5).transformMat4(sceneCamera.worldTransform),camera.rotation.copy(light.rotation),camera.scale.copy(light.scale),camera.updateWorldTransform(),Matrix4.Z.invert(lightViewMatrix,camera.worldTransform),Matrix4.Z.multiply(lightViewMatrix,lightViewMatrix,sceneCamera.worldTransform),lightViewBBox.copy(sceneViewBoundingBox).applyTransform(lightViewMatrix);var min=lightViewBBox.min.array,max=lightViewBBox.max.array;return camera.position.set((min[0]+max[0])/2,(min[1]+max[1])/2,max[2]).transformMat4(camera.worldTransform),camera.near=0,camera.far=-min[2]+max[2],isNaN(this.lightFrustumBias)?camera.far*=4:camera.far+=this.lightFrustumBias,camera.left=min[0],camera.right=max[0],camera.top=max[1],camera.bottom=min[1],camera.update(!0),camera}}(),_getSpotLightCamera:function(light){this._lightCameras.spot||(this._lightCameras.spot=new Perspective.Z);var camera=this._lightCameras.spot;return camera.fov=2*light.penumbraAngle,camera.far=light.range,camera.worldTransform.copy(light.worldTransform),camera.updateProjectionMatrix(),mat4.Z.invert(camera.viewMatrix.array,camera.worldTransform.array),camera},dispose:function(renderer){var _gl=renderer.gl||renderer;for(var name in this._frameBuffer&&this._frameBuffer.dispose(_gl),this._textures)this._textures[name].dispose(_gl);this._texturePool.clear(renderer.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var i=0;i<this._receivers.length;i++){var mesh=this._receivers[i];if(mesh.material){var material=mesh.material;material.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),material.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),material.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),material.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});ShadowMapPass.VSM=1,ShadowMapPass.PCF=2;const ShadowMap=ShadowMapPass;var Vector2=__webpack_require__("./node_modules/claygl/src/math/Vector2.js"),notifier=__webpack_require__("./node_modules/claygl/src/core/mixin/notifier.js");const compositor_CompositorNode=Base.Z.extend((function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(outputName,renderer){var width,height,outputInfo=this.outputs[outputName],parameters=outputInfo.parameters,parametersCopy=outputInfo._parametersCopy;if(parametersCopy||(parametersCopy=outputInfo._parametersCopy={}),parameters)for(var key in parameters)"width"!==key&&"height"!==key&&(parametersCopy[key]=parameters[key]);return width=parameters.width instanceof Function?parameters.width.call(this,renderer):parameters.width,height=parameters.height instanceof Function?parameters.height.call(this,renderer):parameters.height,parametersCopy.width===width&&parametersCopy.height===height||this._outputTextures[outputName]&&this._outputTextures[outputName].dispose(renderer.gl),parametersCopy.width=width,parametersCopy.height=height,parametersCopy},setParameter:function(name,value){},getParameter:function(name){},setParameters:function(obj){for(var name in obj)this.setParameter(name,obj[name])},render:function(){},getOutput:function(renderer,name){if(null==name)return name=renderer,this._outputTextures[name];var outputInfo=this.outputs[name];return outputInfo?this._rendered?outputInfo.outputLastFrame?this._prevOutputTextures[name]:this._outputTextures[name]:this._rendering?(this._prevOutputTextures[name]||(this._prevOutputTextures[name]=this._compositor.allocateTexture(outputInfo.parameters||{})),this._prevOutputTextures[name]):(this.render(renderer),this._outputTextures[name]):void 0},removeReference:function(outputName){(this._outputReferences[outputName]--,0===this._outputReferences[outputName])&&(this.outputs[outputName].keepLastFrame?(this._prevOutputTextures[outputName]&&this._compositor.releaseTexture(this._prevOutputTextures[outputName]),this._prevOutputTextures[outputName]=this._outputTextures[outputName]):this._compositor.releaseTexture(this._outputTextures[outputName]))},link:function(inputPinName,fromNode,fromPinName){this.inputLinks[inputPinName]={node:fromNode,pin:fromPinName},fromNode.outputLinks[fromPinName]||(fromNode.outputLinks[fromPinName]=[]),fromNode.outputLinks[fromPinName].push({node:this,pin:inputPinName}),this.pass.material.enableTexture(inputPinName)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(outputName){if(!this._rendering){for(var inputName in this._rendering=!0,this.inputLinks){var link=this.inputLinks[inputName];link.node.updateReference(link.pin)}this._rendering=!1}outputName&&this._outputReferences[outputName]++},beforeFrame:function(){for(var name in this._rendered=!1,this.outputLinks)this._outputReferences[name]=0},afterFrame:function(){for(var name in this.outputLinks){if(this._outputReferences[name]>0)this.outputs[name].keepLastFrame?(this._prevOutputTextures[name]&&this._compositor.releaseTexture(this._prevOutputTextures[name]),this._prevOutputTextures[name]=this._outputTextures[name]):this._compositor.releaseTexture(this._outputTextures[name])}}});const compositor_Graph=Base.Z.extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(node){this.nodes.indexOf(node)>=0||(this.nodes.push(node),this._dirty=!0)},removeNode:function(node){"string"==typeof node&&(node=this.getNodeByName(node));var idx=this.nodes.indexOf(node);idx>=0&&(this.nodes.splice(idx,1),this._dirty=!0)},getNodeByName:function(name){for(var i=0;i<this.nodes.length;i++)if(this.nodes[i].name===name)return this.nodes[i]},update:function(){for(var i=0;i<this.nodes.length;i++)this.nodes[i].clear();for(i=0;i<this.nodes.length;i++){var node=this.nodes[i];if(node.inputs)for(var inputName in node.inputs)if(node.inputs[inputName])if(!node.pass||node.pass.material.isUniformEnabled(inputName)){var fromPinInfo=node.inputs[inputName],fromPin=this.findPin(fromPinInfo);fromPin?node.link(inputName,fromPin.node,fromPin.pin):"string"==typeof fromPinInfo?console.warn("Node "+fromPinInfo+" not exist"):console.warn("Pin of "+fromPinInfo.node+"."+fromPinInfo.pin+" not exist")}else console.warn("Pin "+node.name+"."+inputName+" not used.")}},findPin:function(input){var node;if(("string"==typeof input||input instanceof compositor_CompositorNode)&&(input={node:input}),"string"==typeof input.node)for(var i=0;i<this.nodes.length;i++){var tmp=this.nodes[i];tmp.name===input.node&&(node=tmp)}else node=input.node;if(node){var inputPin=input.pin;if(inputPin||node.outputs&&(inputPin=Object.keys(node.outputs)[0]),node.outputs[inputPin])return{node,pin:inputPin}}}});const compositor_Compositor=compositor_Graph.extend((function(){return{_outputs:[],_texturePool:new compositor_TexturePool,_frameBuffer:new FrameBuffer.Z({depthBuffer:!1})}}),{addNode:function(node){compositor_Graph.prototype.addNode.call(this,node),node._compositor=this},render:function(renderer,frameBuffer){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var i=0;i<this.nodes.length;i++)this.nodes[i].outputs||this._outputs.push(this.nodes[i])}for(i=0;i<this.nodes.length;i++)this.nodes[i].beforeFrame();for(i=0;i<this._outputs.length;i++)this._outputs[i].updateReference();for(i=0;i<this._outputs.length;i++)this._outputs[i].render(renderer,frameBuffer);for(i=0;i<this.nodes.length;i++)this.nodes[i].afterFrame()},allocateTexture:function(parameters){return this._texturePool.get(parameters)},releaseTexture:function(parameters){this._texturePool.put(parameters)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(renderer){this._texturePool.clear(renderer)}});var SceneNode=compositor_CompositorNode.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new FrameBuffer.Z}),{render:function(renderer){this._rendering=!0;var renderInfo,_gl=renderer.gl;if(this.trigger("beforerender"),this.outputs){var frameBuffer=this.frameBuffer;for(var name in this.outputs){var parameters=this.updateParameter(name,renderer),outputInfo=this.outputs[name],texture=this._compositor.allocateTexture(parameters);this._outputTextures[name]=texture,"string"==typeof(attachment=outputInfo.attachment||_gl.COLOR_ATTACHMENT0)&&(attachment=_gl[attachment]),frameBuffer.attach(texture,attachment)}frameBuffer.bind(renderer);var ext=renderer.getGLExtension("EXT_draw_buffers");if(ext){var bufs=[];for(var attachment in this.outputs)(attachment=parseInt(attachment))>=_gl.COLOR_ATTACHMENT0&&attachment<=_gl.COLOR_ATTACHMENT0+8&&bufs.push(attachment);ext.drawBuffersEXT(bufs)}renderer.saveClear(),renderer.clearBit=glenum.Z.DEPTH_BUFFER_BIT|glenum.Z.COLOR_BUFFER_BIT,renderInfo=renderer.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),renderer.restoreClear(),frameBuffer.unbind(renderer)}else renderInfo=renderer.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",renderInfo),this._rendering=!1,this._rendered=!0}});const compositor_SceneNode=SceneNode;const compositor_TextureNode=compositor_CompositorNode.extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(renderer,name){return this.texture},beforeFrame:function(){},afterFrame:function(){}});var FilterNode=compositor_CompositorNode.extend((function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var pass=new Pass.Z({fragment:this.shader});this.pass=pass}),{render:function(renderer,frameBuffer){this.trigger("beforerender",renderer),this._rendering=!0;var _gl=renderer.gl;for(var inputName in this.inputLinks){var inputTexture=(link=this.inputLinks[inputName]).node.getOutput(renderer,link.pin);this.pass.setUniform(inputName,inputTexture)}if(this.outputs){this.pass.outputs={};var attachedTextures={};for(var name in this.outputs){var parameters=this.updateParameter(name,renderer);isNaN(parameters.width)&&this.updateParameter(name,renderer);var outputInfo=this.outputs[name],texture=this._compositor.allocateTexture(parameters);this._outputTextures[name]=texture,"string"==typeof(attachment=outputInfo.attachment||_gl.COLOR_ATTACHMENT0)&&(attachment=_gl[attachment]),attachedTextures[attachment]=texture}for(var attachment in this._compositor.getFrameBuffer().bind(renderer),attachedTextures)this._compositor.getFrameBuffer().attach(attachedTextures[attachment],attachment);this.pass.render(renderer),this._compositor.getFrameBuffer().updateMipmap(renderer)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(renderer),this.pass.render(renderer,frameBuffer);for(var inputName in this.inputLinks){var link;(link=this.inputLinks[inputName]).node.removeReference(link.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",renderer)},updateParameter:function(outputName,renderer){var width,height,outputInfo=this.outputs[outputName],parameters=outputInfo.parameters,parametersCopy=outputInfo._parametersCopy;if(parametersCopy||(parametersCopy=outputInfo._parametersCopy={}),parameters)for(var key in parameters)"width"!==key&&"height"!==key&&(parametersCopy[key]=parameters[key]);return width="function"==typeof parameters.width?parameters.width.call(this,renderer):parameters.width,height="function"==typeof parameters.height?parameters.height.call(this,renderer):parameters.height,width=Math.ceil(width),height=Math.ceil(height),parametersCopy.width===width&&parametersCopy.height===height||this._outputTextures[outputName]&&this._outputTextures[outputName].dispose(renderer),parametersCopy.width=width,parametersCopy.height=height,parametersCopy},setParameter:function(name,value){this.pass.setUniform(name,value)},getParameter:function(name){return this.pass.getUniform(name)},setParameters:function(obj){for(var name in obj)this.setParameter(name,obj[name])},define:function(symbol,val){this.pass.material.define("fragment",symbol,val)},undefine:function(symbol){this.pass.material.undefine("fragment",symbol)},removeReference:function(outputName){(this._outputReferences[outputName]--,0===this._outputReferences[outputName])&&(this.outputs[outputName].keepLastFrame?(this._prevOutputTextures[outputName]&&this._compositor.releaseTexture(this._prevOutputTextures[outputName]),this._prevOutputTextures[outputName]=this._outputTextures[outputName]):this._compositor.releaseTexture(this._outputTextures[outputName]))},clear:function(){compositor_CompositorNode.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const compositor_FilterNode=FilterNode,blur_glsl="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",lut_glsl="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",output_glsl="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",bright_glsl="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",downsample_glsl="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",upsample_glsl="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",hdr_glsl="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",blend_glsl="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",fxaa_glsl="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";!function register(Shader){Shader.import("@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"),Shader.import(blur_glsl),Shader.import("@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"),Shader.import(lut_glsl),Shader.import("@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"),Shader.import(output_glsl),Shader.import(bright_glsl),Shader.import(downsample_glsl),Shader.import(upsample_glsl),Shader.import(hdr_glsl),Shader.import("@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"),Shader.import(blend_glsl),Shader.import(fxaa_glsl)}(Shader.Z);var shaderSourceReg=/^#source\((.*?)\)/;function createNode(nodeInfo,lib,opts){var shaderSource,inputs,outputs,node,type=nodeInfo.type||"filter";if("filter"===type){var shaderExp=nodeInfo.shader.trim(),res=shaderSourceReg.exec(shaderExp);if(res?shaderSource=Shader.Z.source(res[1].trim()):"#"===shaderExp.charAt(0)&&(shaderSource=lib.shaders[shaderExp.substr(1)]),shaderSource||(shaderSource=shaderExp),!shaderSource)return}if(nodeInfo.inputs)for(var name in inputs={},nodeInfo.inputs)"string"==typeof nodeInfo.inputs[name]?inputs[name]=nodeInfo.inputs[name]:inputs[name]={node:nodeInfo.inputs[name].node,pin:nodeInfo.inputs[name].pin};if(nodeInfo.outputs)for(var name in outputs={},nodeInfo.outputs){var outputInfo=nodeInfo.outputs[name];outputs[name]={},null!=outputInfo.attachment&&(outputs[name].attachment=outputInfo.attachment),null!=outputInfo.keepLastFrame&&(outputs[name].keepLastFrame=outputInfo.keepLastFrame),null!=outputInfo.outputLastFrame&&(outputs[name].outputLastFrame=outputInfo.outputLastFrame),outputInfo.parameters&&(outputs[name].parameters=convertParameter(outputInfo.parameters))}if(node="scene"===type?new compositor_SceneNode({name:nodeInfo.name,scene:opts.scene,camera:opts.camera,outputs}):"texture"===type?new compositor_TextureNode({name:nodeInfo.name,outputs}):new compositor_FilterNode({name:nodeInfo.name,shader:shaderSource,inputs,outputs})){if(nodeInfo.parameters)for(var name in nodeInfo.parameters){"string"==typeof(val=nodeInfo.parameters[name])?"#"===(val=val.trim()).charAt(0)?val=lib.textures[val.substr(1)]:node.on("beforerender",createSizeSetHandler(name,tryConvertExpr(val))):"function"==typeof val&&node.on("beforerender",val),node.setParameter(name,val)}if(nodeInfo.defines&&node.pass)for(var name in nodeInfo.defines){var val=nodeInfo.defines[name];node.pass.material.define("fragment",name,val)}}return node}function defaultWidthFunc(width,height){return width}function defaultHeightFunc(width,height){return height}function convertParameter(paramInfo){var param={};if(!paramInfo)return param;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach((function(name){var val=paramInfo[name];null!=val&&("string"==typeof val&&(val=Texture.Z[val]),param[name]=val)}));var sizeScale=paramInfo.scale||1;return["width","height"].forEach((function(name){if(null!=paramInfo[name]){var val=paramInfo[name];"string"==typeof val?(val=val.trim(),param[name]=function createSizeParser(name,exprFunc,scale){return scale=scale||1,function(renderer){var dpr=renderer.getDevicePixelRatio(),width=renderer.getWidth()*scale,height=renderer.getHeight()*scale;return exprFunc(width,height,dpr)}}(0,tryConvertExpr(val),sizeScale)):param[name]=val}})),param.width||(param.width=defaultWidthFunc),param.height||(param.height=defaultHeightFunc),null!=paramInfo.useMipmap&&(param.useMipmap=paramInfo.useMipmap),param}function createSizeSetHandler(name,exprFunc){return function(renderer){var dpr=renderer.getDevicePixelRatio(),width=renderer.getWidth(),height=renderer.getHeight(),result=exprFunc(width,height,dpr);this.setParameter(name,result)}}function tryConvertExpr(string){var exprRes=/^expr\((.*)\)$/.exec(string);if(exprRes)try{var func=new Function("width","height","dpr","return "+exprRes[1]);return func(1,1),func}catch(e){throw new Error("Invalid expression.")}}const src_createCompositor=function createCompositor(json,opts){var compositor=new compositor_Compositor;opts=opts||{};var lib={textures:{},parameters:{}};for(var name in json.parameters){var paramInfo=json.parameters[name];lib.parameters[name]=convertParameter(paramInfo)}return function loadTextures(json,lib,opts,callback){if(!json.textures)return void callback({});var textures={},loading=0,cbd=!1,textureRootPath=opts.textureRootPath;util.Z.each(json.textures,(function(textureInfo,name){var texture,path=textureInfo.path,parameters=convertParameter(textureInfo.parameters);if(Array.isArray(path)&&6===path.length)textureRootPath&&(path=path.map((function(item){return util.Z.relative2absolute(item,textureRootPath)}))),texture=new TextureCube.Z(parameters);else{if("string"!=typeof path)return;textureRootPath&&(path=util.Z.relative2absolute(path,textureRootPath)),texture=new Texture2D.Z(parameters)}texture.load(path),loading++,texture.once("success",(function(){textures[name]=texture,0===--loading&&(callback(textures),cbd=!0)}))})),0!==loading||cbd||callback(textures)}(json,0,opts,(function(textureLib){lib.textures=textureLib,function(shaderLib,textureLib){for(var i=0;i<json.nodes.length;i++){var node=createNode(json.nodes[i],lib,opts);node&&compositor.addNode(node)}}()})),compositor},compositor_createCompositor=src_createCompositor;const effect_halton=function halton(index,base){for(var result=0,f=1/base,i=index;i>0;)result+=f*(i%base),i=Math.floor(i/base),f/=base;return result};function generateNoiseData(size){for(var data=new Uint8Array(size*size*4),n=0,v3=new Vector3.Z,i=0;i<size;i++)for(var j=0;j<size;j++)v3.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),data[n++]=255*(.5*v3.x+.5),data[n++]=255*(.5*v3.y+.5),data[n++]=0,data[n++]=255;return data}function generateNoiseTexture(size){return new Texture2D.Z({pixels:generateNoiseData(size),wrapS:Texture.Z.REPEAT,wrapT:Texture.Z.REPEAT,width:size,height:size})}function generateKernel(size,offset,hemisphere){var kernel=new Float32Array(3*size);offset=offset||0;for(var i=0;i<size;i++){var phi=effect_halton(i+offset,2)*(hemisphere?1:2)*Math.PI,theta=effect_halton(i+offset,3)*Math.PI,r=Math.random(),x=Math.cos(phi)*Math.sin(theta)*r,y=Math.cos(theta)*r,z=Math.sin(phi)*Math.sin(theta)*r;kernel[3*i]=x,kernel[3*i+1]=y,kernel[3*i+2]=z}return kernel}function SSAOPass(opt){opt=opt||{},this._ssaoPass=new Pass.Z({fragment:Shader.Z.source("ecgl.ssao.estimate")}),this._blurPass=new Pass.Z({fragment:Shader.Z.source("ecgl.ssao.blur")}),this._framebuffer=new FrameBuffer.Z({depthBuffer:!1}),this._ssaoTexture=new Texture2D.Z,this._blurTexture=new Texture2D.Z,this._blurTexture2=new Texture2D.Z,this._depthTex=opt.depthTexture,this._normalTex=opt.normalTexture,this.setNoiseSize(4),this.setKernelSize(opt.kernelSize||12),null!=opt.radius&&this.setParameter("radius",opt.radius),null!=opt.power&&this.setParameter("power",opt.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}Shader.Z.import("@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"),SSAOPass.prototype.setDepthTexture=function(depthTex){this._depthTex=depthTex},SSAOPass.prototype.setNormalTexture=function(normalTex){this._normalTex=normalTex,this._ssaoPass.material[normalTex?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},SSAOPass.prototype.update=function(renderer,camera,frame){var width=renderer.getWidth(),height=renderer.getHeight(),ssaoPass=this._ssaoPass,blurPass=this._blurPass;ssaoPass.setUniform("kernel",this._kernels[frame%this._kernels.length]),ssaoPass.setUniform("depthTex",this._depthTex),null!=this._normalTex&&ssaoPass.setUniform("normalTex",this._normalTex),ssaoPass.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var viewInverseTranspose=new Matrix4.Z;Matrix4.Z.transpose(viewInverseTranspose,camera.worldTransform),ssaoPass.setUniform("projection",camera.projectionMatrix.array),ssaoPass.setUniform("projectionInv",camera.invProjectionMatrix.array),ssaoPass.setUniform("viewInverseTranspose",viewInverseTranspose.array);var ssaoTexture=this._ssaoTexture,blurTexture=this._blurTexture,blurTexture2=this._blurTexture2;ssaoTexture.width=width/2,ssaoTexture.height=height/2,blurTexture.width=width,blurTexture.height=height,blurTexture2.width=width,blurTexture2.height=height,this._framebuffer.attach(ssaoTexture),this._framebuffer.bind(renderer),renderer.gl.clearColor(1,1,1,1),renderer.gl.clear(renderer.gl.COLOR_BUFFER_BIT),ssaoPass.render(renderer),blurPass.setUniform("textureSize",[width/2,height/2]),blurPass.setUniform("projection",camera.projectionMatrix.array),this._framebuffer.attach(blurTexture),blurPass.setUniform("direction",0),blurPass.setUniform("ssaoTexture",ssaoTexture),blurPass.render(renderer),this._framebuffer.attach(blurTexture2),blurPass.setUniform("textureSize",[width,height]),blurPass.setUniform("direction",1),blurPass.setUniform("ssaoTexture",blurTexture),blurPass.render(renderer),this._framebuffer.unbind(renderer);var clearColor=renderer.clearColor;renderer.gl.clearColor(clearColor[0],clearColor[1],clearColor[2],clearColor[3])},SSAOPass.prototype.getTargetTexture=function(){return this._blurTexture2},SSAOPass.prototype.setParameter=function(name,val){"noiseTexSize"===name?this.setNoiseSize(val):"kernelSize"===name?this.setKernelSize(val):"intensity"===name?this._ssaoPass.material.set("intensity",val):this._ssaoPass.setUniform(name,val)},SSAOPass.prototype.setKernelSize=function(size){this._kernelSize=size,this._ssaoPass.material.define("fragment","KERNEL_SIZE",size),this._kernels=this._kernels||[];for(var i=0;i<30;i++)this._kernels[i]=generateKernel(size,i*size,!!this._normalTex)},SSAOPass.prototype.setNoiseSize=function(size){var texture=this._ssaoPass.getUniform("noiseTex");texture?(texture.data=generateNoiseData(size),texture.width=texture.height=size,texture.dirty()):(texture=generateNoiseTexture(size),this._ssaoPass.setUniform("noiseTex",generateNoiseTexture(size))),this._ssaoPass.setUniform("noiseTexSize",[size,size])},SSAOPass.prototype.dispose=function(renderer){this._blurTexture.dispose(renderer),this._ssaoTexture.dispose(renderer),this._blurTexture2.dispose(renderer)};const effect_SSAOPass=SSAOPass;var cubemap=__webpack_require__("./node_modules/claygl/src/util/cubemap.js");function SSRPass(opt){opt=opt||{},this._ssrPass=new Pass.Z({fragment:Shader.Z.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new Pass.Z({fragment:Shader.Z.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new Pass.Z({fragment:Shader.Z.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new Pass.Z({fragment:Shader.Z.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",opt.normalTexture),this._ssrPass.setUniform("gBufferTexture2",opt.depthTexture),this._blurPass1.setUniform("gBufferTexture1",opt.normalTexture),this._blurPass1.setUniform("gBufferTexture2",opt.depthTexture),this._blurPass2.setUniform("gBufferTexture1",opt.normalTexture),this._blurPass2.setUniform("gBufferTexture2",opt.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._texture2=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._texture3=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._prevTexture=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._currentTexture=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._frameBuffer=new FrameBuffer.Z({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}Shader.Z.import("@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"),SSRPass.prototype.setAmbientCubemap=function(specularCubemap,specularIntensity){this._ssrPass.material.set("specularCubemap",specularCubemap),this._ssrPass.material.set("specularIntensity",specularIntensity);var enableSpecularMap=specularCubemap&&specularIntensity;this._ssrPass.material[enableSpecularMap?"enableTexture":"disableTexture"]("specularCubemap")},SSRPass.prototype.update=function(renderer,camera,sourceTexture,frame){var width=renderer.getWidth(),height=renderer.getHeight(),ssrTexture=this._ssrTexture,texture2=this._texture2,texture3=this._texture3;ssrTexture.width=this._prevTexture.width=this._currentTexture.width=width/this._downScale,ssrTexture.height=this._prevTexture.height=this._currentTexture.height=height/this._downScale,texture2.width=texture3.width=width,texture2.height=texture3.height=height;var frameBuffer=this._frameBuffer,ssrPass=this._ssrPass,blurPass1=this._blurPass1,blurPass2=this._blurPass2,blendPass=this._blendPass,toViewSpace=new Matrix4.Z,toWorldSpace=new Matrix4.Z;Matrix4.Z.transpose(toViewSpace,camera.worldTransform),Matrix4.Z.transpose(toWorldSpace,camera.viewMatrix),ssrPass.setUniform("sourceTexture",sourceTexture),ssrPass.setUniform("projection",camera.projectionMatrix.array),ssrPass.setUniform("projectionInv",camera.invProjectionMatrix.array),ssrPass.setUniform("toViewSpace",toViewSpace.array),ssrPass.setUniform("toWorldSpace",toWorldSpace.array),ssrPass.setUniform("nearZ",camera.near);var percent=frame/this._totalSamples*this._samplePerFrame;if(ssrPass.setUniform("jitterOffset",percent),ssrPass.setUniform("sampleOffset",frame*this._samplePerFrame),blurPass1.setUniform("textureSize",[ssrTexture.width,ssrTexture.height]),blurPass2.setUniform("textureSize",[width,height]),blurPass2.setUniform("sourceTexture",sourceTexture),blurPass1.setUniform("projection",camera.projectionMatrix.array),blurPass2.setUniform("projection",camera.projectionMatrix.array),frameBuffer.attach(ssrTexture),frameBuffer.bind(renderer),ssrPass.render(renderer),this._physicallyCorrect&&(frameBuffer.attach(this._currentTexture),blendPass.setUniform("texture1",this._prevTexture),blendPass.setUniform("texture2",ssrTexture),blendPass.material.set({weight1:frame>=1?.95:0,weight2:frame>=1?.05:1}),blendPass.render(renderer)),frameBuffer.attach(texture2),blurPass1.setUniform("texture",this._physicallyCorrect?this._currentTexture:ssrTexture),blurPass1.render(renderer),frameBuffer.attach(texture3),blurPass2.setUniform("texture",texture2),blurPass2.render(renderer),frameBuffer.unbind(renderer),this._physicallyCorrect){var tmp=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=tmp}},SSRPass.prototype.getTargetTexture=function(){return this._texture3},SSRPass.prototype.setParameter=function(name,val){"maxIteration"===name?this._ssrPass.material.define("fragment","MAX_ITERATION",val):this._ssrPass.setUniform(name,val)},SSRPass.prototype.setPhysicallyCorrect=function(isPhysicallyCorrect){isPhysicallyCorrect?(this._normalDistribution||(this._normalDistribution=cubemap.Z.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=isPhysicallyCorrect},SSRPass.prototype.setSSAOTexture=function(texture){var blendPass=this._blurPass2;texture?(blendPass.material.enableTexture("ssaoTex"),blendPass.material.set("ssaoTex",texture)):blendPass.material.disableTexture("ssaoTex")},SSRPass.prototype.isFinished=function(frame){return!this._physicallyCorrect||frame>this._totalSamples/this._samplePerFrame},SSRPass.prototype.dispose=function(renderer){this._ssrTexture.dispose(renderer),this._texture2.dispose(renderer),this._texture3.dispose(renderer),this._prevTexture.dispose(renderer),this._currentTexture.dispose(renderer),this._frameBuffer.dispose(renderer)};const effect_SSRPass=SSRPass,poissonKernel=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),texture=__webpack_require__("./node_modules/claygl/src/util/texture.js");function attachTextureToSlot(renderer,program,symbol,texture,slot){var gl=renderer.gl;program.setUniform(gl,"1i",symbol,slot),gl.activeTexture(gl.TEXTURE0+slot),texture.isRenderable()?texture.bind(renderer):texture.unbind(renderer)}function getBeforeRenderHook(renderer,defaultNormalMap,defaultBumpMap,defaultRoughnessMap,normalMaterial){var previousNormalMap,previousBumpMap,previousRoughnessMap,previousRenderable,gl=renderer.gl;return function(renderable,normalMaterial,prevNormalMaterial){if(!previousRenderable||previousRenderable.material!==renderable.material){var material=renderable.material,program=renderable.__program,roughness=material.get("roughness");null==roughness&&(roughness=1);var normalMap=material.get("normalMap")||defaultNormalMap,roughnessMap=material.get("roughnessMap"),bumpMap=material.get("bumpMap"),uvRepeat=material.get("uvRepeat"),uvOffset=material.get("uvOffset"),detailUvRepeat=material.get("detailUvRepeat"),detailUvOffset=material.get("detailUvOffset"),useBumpMap=!!bumpMap&&material.isTextureEnabled("bumpMap"),useRoughnessMap=!!roughnessMap&&material.isTextureEnabled("roughnessMap"),doubleSide=material.isDefined("fragment","DOUBLE_SIDED");bumpMap=bumpMap||defaultBumpMap,roughnessMap=roughnessMap||defaultRoughnessMap,prevNormalMaterial!==normalMaterial?(normalMaterial.set("normalMap",normalMap),normalMaterial.set("bumpMap",bumpMap),normalMaterial.set("roughnessMap",roughnessMap),normalMaterial.set("useBumpMap",useBumpMap),normalMaterial.set("useRoughnessMap",useRoughnessMap),normalMaterial.set("doubleSide",doubleSide),null!=uvRepeat&&normalMaterial.set("uvRepeat",uvRepeat),null!=uvOffset&&normalMaterial.set("uvOffset",uvOffset),null!=detailUvRepeat&&normalMaterial.set("detailUvRepeat",detailUvRepeat),null!=detailUvOffset&&normalMaterial.set("detailUvOffset",detailUvOffset),normalMaterial.set("roughness",roughness)):(program.setUniform(gl,"1f","roughness",roughness),previousNormalMap!==normalMap&&attachTextureToSlot(renderer,program,"normalMap",normalMap,0),previousBumpMap!==bumpMap&&bumpMap&&attachTextureToSlot(renderer,program,"bumpMap",bumpMap,1),previousRoughnessMap!==roughnessMap&&roughnessMap&&attachTextureToSlot(renderer,program,"roughnessMap",roughnessMap,2),null!=uvRepeat&&program.setUniform(gl,"2f","uvRepeat",uvRepeat),null!=uvOffset&&program.setUniform(gl,"2f","uvOffset",uvOffset),null!=detailUvRepeat&&program.setUniform(gl,"2f","detailUvRepeat",detailUvRepeat),null!=detailUvOffset&&program.setUniform(gl,"2f","detailUvOffset",detailUvOffset),program.setUniform(gl,"1i","useBumpMap",+useBumpMap),program.setUniform(gl,"1i","useRoughnessMap",+useRoughnessMap),program.setUniform(gl,"1i","doubleSide",+doubleSide)),previousNormalMap=normalMap,previousBumpMap=bumpMap,previousRoughnessMap=roughnessMap,previousRenderable=renderable}}}function NormalPass(opt){opt=opt||{},this._depthTex=new Texture2D.Z({format:Texture.Z.DEPTH_COMPONENT,type:Texture.Z.UNSIGNED_INT}),this._normalTex=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._framebuffer=new FrameBuffer.Z,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,FrameBuffer.Z.DEPTH_ATTACHMENT),this._normalMaterial=new Material.Z({shader:new Shader.Z(Shader.Z.source("ecgl.normal.vertex"),Shader.Z.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=texture.Z.createBlank("#000"),this._defaultBumpMap=texture.Z.createBlank("#000"),this._defaultRoughessMap=texture.Z.createBlank("#000"),this._debugPass=new Pass.Z({fragment:Shader.Z.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}Shader.Z.import("@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"),NormalPass.prototype.getDepthTexture=function(){return this._depthTex},NormalPass.prototype.getNormalTexture=function(){return this._normalTex},NormalPass.prototype.update=function(renderer,scene,camera){var width=renderer.getWidth(),height=renderer.getHeight(),depthTexture=this._depthTex,normalTexture=this._normalTex,normalMaterial=this._normalMaterial;depthTexture.width=width,depthTexture.height=height,normalTexture.width=width,normalTexture.height=height;var opaqueList=scene.getRenderList(camera).opaque;this._framebuffer.bind(renderer),renderer.gl.clearColor(0,0,0,0),renderer.gl.clear(renderer.gl.COLOR_BUFFER_BIT|renderer.gl.DEPTH_BUFFER_BIT),renderer.gl.disable(renderer.gl.BLEND),renderer.renderPass(opaqueList,camera,{getMaterial:function(){return normalMaterial},ifRender:function(object){return object.renderNormal},beforeRender:getBeforeRenderHook(renderer,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:renderer.opaqueSortCompare}),this._framebuffer.unbind(renderer)},NormalPass.prototype.renderDebug=function(renderer){this._debugPass.render(renderer)},NormalPass.prototype.dispose=function(renderer){this._depthTex.dispose(renderer),this._normalTex.dispose(renderer)};const effect_NormalPass=NormalPass;function EdgePass(opt){opt=opt||{},this._edgePass=new Pass.Z({fragment:Shader.Z.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",opt.normalTexture),this._edgePass.setUniform("depthTexture",opt.depthTexture),this._targetTexture=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._frameBuffer=new FrameBuffer.Z,this._frameBuffer.attach(this._targetTexture)}EdgePass.prototype.update=function(renderer,camera,sourceTexture,frame){var width=renderer.getWidth(),height=renderer.getHeight(),texture=this._targetTexture;texture.width=width,texture.height=height;var frameBuffer=this._frameBuffer;frameBuffer.bind(renderer),this._edgePass.setUniform("projectionInv",camera.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[width,height]),this._edgePass.setUniform("texture",sourceTexture),this._edgePass.render(renderer),frameBuffer.unbind(renderer)},EdgePass.prototype.getTargetTexture=function(){return this._targetTexture},EdgePass.prototype.setParameter=function(name,val){this._edgePass.setUniform(name,val)},EdgePass.prototype.dispose=function(renderer){this._targetTexture.dispose(renderer),this._frameBuffer.dispose(renderer)};const effect_EdgePass=EdgePass,composite={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]};function makeCommonOutputs(getWidth,getHeight){return{color:{parameters:{width:getWidth,height:getHeight}}}}Shader.Z.import(blur_glsl),Shader.Z.import(lut_glsl),Shader.Z.import(output_glsl),Shader.Z.import(bright_glsl),Shader.Z.import(downsample_glsl),Shader.Z.import(upsample_glsl),Shader.Z.import(hdr_glsl),Shader.Z.import(blend_glsl),Shader.Z.import(fxaa_glsl),Shader.Z.import("@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"),Shader.Z.import("@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end");var FINAL_NODES_CHAIN=["composite","FXAA"];function EffectCompositor(){this._width,this._height,this._dpr,this._sourceTexture=new Texture2D.Z({type:Texture.Z.HALF_FLOAT}),this._depthTexture=new Texture2D.Z({format:Texture.Z.DEPTH_COMPONENT,type:Texture.Z.UNSIGNED_INT}),this._framebuffer=new FrameBuffer.Z,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,FrameBuffer.Z.DEPTH_ATTACHMENT),this._normalPass=new effect_NormalPass,this._compositor=compositor_createCompositor(composite);var sourceNode=this._compositor.getNodeByName("source");sourceNode.texture=this._sourceTexture;var cocNode=this._compositor.getNodeByName("coc");this._sourceNode=sourceNode,this._cocNode=cocNode,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map((function(name){return this._compositor.getNodeByName(name)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=FINAL_NODES_CHAIN.map((function(name){return this._compositor.getNodeByName(name)}),this);var gBufferObj={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new effect_SSAOPass(gBufferObj),this._ssrPass=new effect_SSRPass(gBufferObj),this._edgePass=new effect_EdgePass(gBufferObj)}EffectCompositor.prototype.resize=function(width,height,dpr){width*=dpr=dpr||1,height*=dpr;var sourceTexture=this._sourceTexture,depthTexture=this._depthTexture;sourceTexture.width=width,sourceTexture.height=height,depthTexture.width=width,depthTexture.height=height;var rendererMock={getWidth:function(){return width},getHeight:function(){return height},getDevicePixelRatio:function(){return dpr}};function wrapCallback(obj,key){if("function"==typeof obj[key]){var oldFunc=obj[key].__original||obj[key];obj[key]=function(renderer){return oldFunc.call(this,rendererMock)},obj[key].__original=oldFunc}}this._compositor.nodes.forEach((function(node){for(var outKey in node.outputs){var parameters=node.outputs[outKey].parameters;parameters&&(wrapCallback(parameters,"width"),wrapCallback(parameters,"height"))}for(var paramKey in node.parameters)wrapCallback(node.parameters,paramKey)})),this._width=width,this._height=height,this._dpr=dpr},EffectCompositor.prototype.getWidth=function(){return this._width},EffectCompositor.prototype.getHeight=function(){return this._height},EffectCompositor.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},EffectCompositor.prototype._getPrevNode=function(node){for(var idx=FINAL_NODES_CHAIN.indexOf(node.name)-1,prevNode=this._finalNodesChain[idx];prevNode&&!this._compositor.getNodeByName(prevNode.name);)idx-=1,prevNode=this._finalNodesChain[idx];return prevNode},EffectCompositor.prototype._getNextNode=function(node){for(var idx=FINAL_NODES_CHAIN.indexOf(node.name)+1,nextNode=this._finalNodesChain[idx];nextNode&&!this._compositor.getNodeByName(nextNode.name);)idx+=1,nextNode=this._finalNodesChain[idx];return nextNode},EffectCompositor.prototype._addChainNode=function(node){var prevNode=this._getPrevNode(node),nextNode=this._getNextNode(node);prevNode&&(node.inputs.texture=prevNode.name,nextNode?(node.outputs=makeCommonOutputs(this.getWidth.bind(this),this.getHeight.bind(this)),nextNode.inputs.texture=node.name):node.outputs=null,this._compositor.addNode(node))},EffectCompositor.prototype._removeChainNode=function(node){var prevNode=this._getPrevNode(node),nextNode=this._getNextNode(node);prevNode&&(nextNode?(prevNode.outputs=makeCommonOutputs(this.getWidth.bind(this),this.getHeight.bind(this)),nextNode.inputs.texture=prevNode.name):prevNode.outputs=null,this._compositor.removeNode(node))},EffectCompositor.prototype.updateNormal=function(renderer,scene,camera,frame){this._ifRenderNormalPass()&&this._normalPass.update(renderer,scene,camera)},EffectCompositor.prototype.updateSSAO=function(renderer,scene,camera,frame){this._ssaoPass.update(renderer,camera,frame)},EffectCompositor.prototype.enableSSAO=function(){this._enableSSAO=!0},EffectCompositor.prototype.disableSSAO=function(){this._enableSSAO=!1},EffectCompositor.prototype.enableSSR=function(){this._enableSSR=!0},EffectCompositor.prototype.disableSSR=function(){this._enableSSR=!1},EffectCompositor.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},EffectCompositor.prototype.getSourceFrameBuffer=function(){return this._framebuffer},EffectCompositor.prototype.getSourceTexture=function(){return this._sourceTexture},EffectCompositor.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},EffectCompositor.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},EffectCompositor.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},EffectCompositor.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},EffectCompositor.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},EffectCompositor.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},EffectCompositor.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},EffectCompositor.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},EffectCompositor.prototype.enableEdge=function(){this._enableEdge=!0},EffectCompositor.prototype.disableEdge=function(){this._enableEdge=!1},EffectCompositor.prototype.setBloomIntensity=function(value){this._compositeNode.setParameter("bloomIntensity",value)},EffectCompositor.prototype.setSSAOParameter=function(name,value){switch(name){case"quality":var kernelSize={low:6,medium:12,high:32,ultra:62}[value]||12;this._ssaoPass.setParameter("kernelSize",kernelSize);break;case"radius":this._ssaoPass.setParameter(name,value),this._ssaoPass.setParameter("bias",value/200);break;case"intensity":this._ssaoPass.setParameter(name,value)}},EffectCompositor.prototype.setDOFParameter=function(name,value){switch(name){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(name,value);break;case"blurRadius":for(var i=0;i<this._dofBlurNodes.length;i++)this._dofBlurNodes[i].setParameter("blurRadius",value);break;case"quality":var kernelSize={low:4,medium:8,high:16,ultra:32}[value]||8;this._dofBlurKernelSize=kernelSize;for(i=0;i<this._dofBlurNodes.length;i++)this._dofBlurNodes[i].pass.material.define("POISSON_KERNEL_SIZE",kernelSize);this._dofBlurKernel=new Float32Array(2*kernelSize)}},EffectCompositor.prototype.setSSRParameter=function(name,value){if(null!=value)switch(name){case"quality":var maxIteration={low:10,medium:15,high:30,ultra:80}[value]||20,pixelStride={low:32,medium:16,high:8,ultra:4}[value]||16;this._ssrPass.setParameter("maxIteration",maxIteration),this._ssrPass.setParameter("pixelStride",pixelStride);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-value,1),0));break;case"physical":this.setPhysicallyCorrectSSR(value);break;default:console.warn("Unkown SSR parameter "+name)}},EffectCompositor.prototype.setPhysicallyCorrectSSR=function(physical){this._ssrPass.setPhysicallyCorrect(physical)},EffectCompositor.prototype.setEdgeColor=function(value){var color=graphicGL.Z.parseColor(value);this._edgePass.setParameter("edgeColor",color)},EffectCompositor.prototype.setExposure=function(value){this._compositeNode.setParameter("exposure",Math.pow(2,value))},EffectCompositor.prototype.setColorLookupTexture=function(image,api){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?image:"none",api,{minFilter:graphicGL.Z.Texture.NEAREST,magFilter:graphicGL.Z.Texture.NEAREST,flipY:!1})},EffectCompositor.prototype.setColorCorrection=function(type,value){this._compositeNode.setParameter(type,value)},EffectCompositor.prototype.isSSREnabled=function(){return this._enableSSR},EffectCompositor.prototype.composite=function(renderer,scene,camera,framebuffer,frame){var sourceTexture=this._sourceTexture,targetTexture=sourceTexture;this._enableEdge&&(this._edgePass.update(renderer,camera,sourceTexture,frame),sourceTexture=targetTexture=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(renderer,camera,sourceTexture,frame),targetTexture=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=targetTexture,this._cocNode.setParameter("depth",this._depthTexture);for(var blurKernel=this._dofBlurKernel,blurKernelSize=this._dofBlurKernelSize,kernelOffset=frame%Math.floor(poissonKernel.length/2/blurKernelSize),i=0;i<2*blurKernelSize;i++)blurKernel[i]=poissonKernel[i+kernelOffset*blurKernelSize*2];for(i=0;i<this._dofBlurNodes.length;i++)this._dofBlurNodes[i].setParameter("percent",frame/30),this._dofBlurNodes[i].setParameter("poissonKernel",blurKernel);this._cocNode.setParameter("zNear",camera.near),this._cocNode.setParameter("zFar",camera.far),this._compositor.render(renderer,framebuffer)},EffectCompositor.prototype.dispose=function(renderer){this._sourceTexture.dispose(renderer),this._depthTexture.dispose(renderer),this._framebuffer.dispose(renderer),this._compositor.dispose(renderer),this._normalPass.dispose(renderer),this._ssaoPass.dispose(renderer)};const effect_EffectCompositor=EffectCompositor;function TemporalSuperSampling(frames){for(var haltonSequence=[],i=0;i<30;i++)haltonSequence.push([effect_halton(i,2),effect_halton(i,3)]);this._haltonSequence=haltonSequence,this._frame=0,this._sourceTex=new Texture2D.Z,this._sourceFb=new FrameBuffer.Z,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Texture2D.Z,this._outputTex=new Texture2D.Z;var blendPass=this._blendPass=new Pass.Z({fragment:Shader.Z.source("clay.compositor.blend")});blendPass.material.disableTexturesAll(),blendPass.material.enableTexture(["texture1","texture2"]),this._blendFb=new FrameBuffer.Z({depthBuffer:!1}),this._outputPass=new Pass.Z({fragment:Shader.Z.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(_gl){_gl.blendEquationSeparate(_gl.FUNC_ADD,_gl.FUNC_ADD),_gl.blendFuncSeparate(_gl.ONE,_gl.ONE_MINUS_SRC_ALPHA,_gl.ONE,_gl.ONE_MINUS_SRC_ALPHA)}}TemporalSuperSampling.prototype={constructor:TemporalSuperSampling,jitterProjection:function(renderer,camera){var viewport=renderer.viewport,dpr=viewport.devicePixelRatio||renderer.getDevicePixelRatio(),width=viewport.width*dpr,height=viewport.height*dpr,offset=this._haltonSequence[this._frame%this._haltonSequence.length],translationMat=new Matrix4.Z;translationMat.array[12]=(2*offset[0]-1)/width,translationMat.array[13]=(2*offset[1]-1)/height,Matrix4.Z.mul(camera.projectionMatrix,translationMat,camera.projectionMatrix),Matrix4.Z.invert(camera.invProjectionMatrix,camera.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(width,height){this._prevFrameTex.width=width,this._prevFrameTex.height=height,this._outputTex.width=width,this._outputTex.height=height,this._sourceTex.width=width,this._sourceTex.height=height,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(renderer,sourceTex,notOutput){var blendPass=this._blendPass;0===this._frame?(blendPass.setUniform("weight1",0),blendPass.setUniform("weight2",1)):(blendPass.setUniform("weight1",.9),blendPass.setUniform("weight2",.1)),blendPass.setUniform("texture1",this._prevFrameTex),blendPass.setUniform("texture2",sourceTex||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(renderer),blendPass.render(renderer),this._blendFb.unbind(renderer),notOutput||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(renderer));var tmp=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=tmp,this._frame++},dispose:function(renderer){this._sourceFb.dispose(renderer),this._blendFb.dispose(renderer),this._prevFrameTex.dispose(renderer),this._outputTex.dispose(renderer),this._sourceTex.dispose(renderer),this._outputPass.dispose(renderer),this._blendPass.dispose(renderer)}};const effect_TemporalSuperSampling=TemporalSuperSampling;function ViewGL(projection){projection=projection||"perspective",this.layer=null,this.scene=new Scene.Z,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(projection),this._compositor=new effect_EffectCompositor,this._temporalSS=new effect_TemporalSuperSampling,this._shadowMapPass=new ShadowMap;for(var pcfKernels=[],off=0,i=0;i<30;i++){for(var pcfKernel=[],k=0;k<6;k++)pcfKernel.push(4*effect_halton(off,2)-2),pcfKernel.push(4*effect_halton(off,3)-2),off++;pcfKernels.push(pcfKernel)}this._pcfKernels=pcfKernels,this.scene.on("beforerender",(function(renderer,scene,camera){this.needsTemporalSS()&&this._temporalSS.jitterProjection(renderer,camera)}),this)}ViewGL.prototype.setProjection=function(projection){var oldCamera=this.camera;oldCamera&&oldCamera.update(),"perspective"===projection?this.camera instanceof Perspective.Z||(this.camera=new Perspective.Z,oldCamera&&this.camera.setLocalTransform(oldCamera.localTransform)):this.camera instanceof Orthographic.Z||(this.camera=new Orthographic.Z,oldCamera&&this.camera.setLocalTransform(oldCamera.localTransform)),this.camera.near=.1,this.camera.far=2e3},ViewGL.prototype.setViewport=function(x,y,width,height,dpr){this.camera instanceof Perspective.Z&&(this.camera.aspect=width/height),dpr=dpr||1,this.viewport.x=x,this.viewport.y=y,this.viewport.width=width,this.viewport.height=height,this.viewport.devicePixelRatio=dpr,this._compositor.resize(width*dpr,height*dpr),this._temporalSS.resize(width*dpr,height*dpr)},ViewGL.prototype.containPoint=function(x,y){var viewport=this.viewport;return y=this.layer.renderer.getHeight()-y,x>=viewport.x&&y>=viewport.y&&x<=viewport.x+viewport.width&&y<=viewport.y+viewport.height};var ndc=new Vector2.Z;ViewGL.prototype.castRay=function(x,y,out){var renderer=this.layer.renderer,oldViewport=renderer.viewport;return renderer.viewport=this.viewport,renderer.screenToNDC(x,y,ndc),this.camera.castRay(ndc,out),renderer.viewport=oldViewport,out},ViewGL.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var renderList=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var i=0;i<renderList.transparent.length;i++){var geometry=renderList.transparent[i].geometry;geometry.needsSortVerticesProgressively&&geometry.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),geometry.needsSortTrianglesProgressively&&geometry.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},ViewGL.prototype.render=function(renderer,accumulating){this._doRender(renderer,accumulating,this._frame),this._frame++},ViewGL.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},ViewGL.prototype.needsTemporalSS=function(){var enableTemporalSS=this._enableTemporalSS;return"auto"===enableTemporalSS&&(enableTemporalSS=this._enablePostEffect),enableTemporalSS},ViewGL.prototype.hasDOF=function(){return this._enableDOF},ViewGL.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},ViewGL.prototype._doRender=function(renderer,accumulating,accumFrame){var scene=this.scene,camera=this.camera;accumFrame=accumFrame||0,this._updateTransparent(renderer,scene,camera,accumFrame),accumulating||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(renderer,scene,camera,!0)),this._updateShadowPCFKernel(accumFrame);var frameBuffer,bgColor=renderer.clearColor;(renderer.gl.clearColor(bgColor[0],bgColor[1],bgColor[2],bgColor[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(renderer,camera),this._compositor.updateNormal(renderer,scene,camera,this._temporalSS.getFrame())),this._updateSSAO(renderer,scene,camera,this._temporalSS.getFrame()),this._enablePostEffect)?((frameBuffer=this._compositor.getSourceFrameBuffer()).bind(renderer),renderer.gl.clear(renderer.gl.DEPTH_BUFFER_BIT|renderer.gl.COLOR_BUFFER_BIT),renderer.render(scene,camera,!0,!0),frameBuffer.unbind(renderer),this.needsTemporalSS()&&accumulating?(this._compositor.composite(renderer,scene,camera,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),renderer.setViewport(this.viewport),this._temporalSS.render(renderer)):(renderer.setViewport(this.viewport),this._compositor.composite(renderer,scene,camera,null,0))):this.needsTemporalSS()&&accumulating?((frameBuffer=this._temporalSS.getSourceFrameBuffer()).bind(renderer),renderer.saveClear(),renderer.clearBit=renderer.gl.DEPTH_BUFFER_BIT|renderer.gl.COLOR_BUFFER_BIT,renderer.render(scene,camera,!0,!0),renderer.restoreClear(),frameBuffer.unbind(renderer),renderer.setViewport(this.viewport),this._temporalSS.render(renderer)):(renderer.setViewport(this.viewport),renderer.render(scene,camera,!0,!0))},ViewGL.prototype._updateTransparent=function(renderer,scene,camera,frame){for(var v3=new Vector3.Z,invWorldTransform=new Matrix4.Z,cameraWorldPosition=camera.getWorldPosition(),transparentList=scene.getRenderList(camera).transparent,i=0;i<transparentList.length;i++){var renderable=transparentList[i],geometry=renderable.geometry;Matrix4.Z.invert(invWorldTransform,renderable.worldTransform),Vector3.Z.transformMat4(v3,cameraWorldPosition,invWorldTransform),geometry.needsSortTriangles&&geometry.needsSortTriangles()&&geometry.doSortTriangles(v3,frame),geometry.needsSortVertices&&geometry.needsSortVertices()&&geometry.doSortVertices(v3,frame)}},ViewGL.prototype._updateSSAO=function(renderer,scene,camera){var ifEnableSSAO=this._enableSSAO&&this._enablePostEffect;ifEnableSSAO&&this._compositor.updateSSAO(renderer,scene,camera,this._temporalSS.getFrame());for(var renderList=scene.getRenderList(camera),i=0;i<renderList.opaque.length;i++){var renderable=renderList.opaque[i];renderable.renderNormal&&renderable.material[ifEnableSSAO?"enableTexture":"disableTexture"]("ssaoMap"),ifEnableSSAO&&renderable.material.set("ssaoMap",this._compositor.getSSAOTexture())}},ViewGL.prototype._updateShadowPCFKernel=function(frame){for(var pcfKernel=this._pcfKernels[frame%this._pcfKernels.length],opaqueList=this.scene.getRenderList(this.camera).opaque,i=0;i<opaqueList.length;i++)opaqueList[i].receiveShadow&&(opaqueList[i].material.set("pcfKernel",pcfKernel),opaqueList[i].material.define("fragment","PCF_KERNEL_SIZE",pcfKernel.length/2))},ViewGL.prototype.dispose=function(renderer){this._compositor.dispose(renderer.gl),this._temporalSS.dispose(renderer.gl),this._shadowMapPass.dispose(renderer)},ViewGL.prototype.setPostEffect=function(postEffectModel,api){var compositor=this._compositor;this._enablePostEffect=postEffectModel.get("enable");var bloomModel=postEffectModel.getModel("bloom"),edgeModel=postEffectModel.getModel("edge"),dofModel=postEffectModel.getModel("DOF",postEffectModel.getModel("depthOfField")),ssaoModel=postEffectModel.getModel("SSAO",postEffectModel.getModel("screenSpaceAmbientOcclusion")),ssrModel=postEffectModel.getModel("SSR",postEffectModel.getModel("screenSpaceReflection")),fxaaModel=postEffectModel.getModel("FXAA"),colorCorrModel=postEffectModel.getModel("colorCorrection");bloomModel.get("enable")?compositor.enableBloom():compositor.disableBloom(),dofModel.get("enable")?compositor.enableDOF():compositor.disableDOF(),ssrModel.get("enable")?compositor.enableSSR():compositor.disableSSR(),colorCorrModel.get("enable")?compositor.enableColorCorrection():compositor.disableColorCorrection(),edgeModel.get("enable")?compositor.enableEdge():compositor.disableEdge(),fxaaModel.get("enable")?compositor.enableFXAA():compositor.disableFXAA(),this._enableDOF=dofModel.get("enable"),this._enableSSAO=ssaoModel.get("enable"),this._enableSSAO?compositor.enableSSAO():compositor.disableSSAO(),compositor.setBloomIntensity(bloomModel.get("intensity")),compositor.setEdgeColor(edgeModel.get("color")),compositor.setColorLookupTexture(colorCorrModel.get("lookupTexture"),api),compositor.setExposure(colorCorrModel.get("exposure")),["radius","quality","intensity"].forEach((function(name){compositor.setSSAOParameter(name,ssaoModel.get(name))})),["quality","maxRoughness","physical"].forEach((function(name){compositor.setSSRParameter(name,ssrModel.get(name))})),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach((function(name){compositor.setDOFParameter(name,dofModel.get(name))})),["brightness","contrast","saturation"].forEach((function(name){compositor.setColorCorrection(name,colorCorrModel.get(name))}))},ViewGL.prototype.setDOFFocusOnPoint=function(depth){if(this._enablePostEffect){if(depth>this.camera.far||depth<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",depth),!0}},ViewGL.prototype.setTemporalSuperSampling=function(temporalSuperSamplingModel){this._enableTemporalSS=temporalSuperSamplingModel.get("enable")},ViewGL.prototype.isLinearSpace=function(){return this._enablePostEffect},ViewGL.prototype.setRootNode=function(rootNode){if(this.rootNode!==rootNode){for(var children=this.rootNode.children(),i=0;i<children.length;i++)rootNode.add(children[i]);rootNode!==this.scene&&this.scene.add(rootNode),this.rootNode=rootNode}},ViewGL.prototype.add=function(node3D){this.rootNode.add(node3D)},ViewGL.prototype.remove=function(node3D){this.rootNode.remove(node3D)},ViewGL.prototype.removeAll=function(node3D){this.rootNode.removeAll(node3D)},Object.assign(ViewGL.prototype,notifier.Z);const core_ViewGL=ViewGL},"./node_modules/echarts-gl/lib/echarts-gl.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var v1,v2,v3,ray,worldInverse,echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),Renderer=__webpack_require__("./node_modules/claygl/src/Renderer.js"),Base=__webpack_require__("./node_modules/claygl/src/core/Base.js"),Ray=__webpack_require__("./node_modules/claygl/src/math/Ray.js"),Vector2=__webpack_require__("./node_modules/claygl/src/math/Vector2.js"),Vector3=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),Matrix4=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),Renderable=__webpack_require__("./node_modules/claygl/src/Renderable.js"),glenum=__webpack_require__("./node_modules/claygl/src/core/glenum.js"),vec3=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),RayPicking=Base.Z.extend({scene:null,camera:null,renderer:null},(function(){this._ray=new Ray.Z,this._ndc=new Vector2.Z}),{pick:function(x,y,forcePickAll){return this.pickAll(x,y,[],forcePickAll)[0]||null},pickAll:function(x,y,output,forcePickAll){return this.renderer.screenToNDC(x,y,this._ndc),this.camera.castRay(this._ndc,this._ray),output=output||[],this._intersectNode(this.scene,output,forcePickAll||!1),output.sort(this._intersectionCompareFunc),output},_intersectNode:function(node,out,forcePickAll){node instanceof Renderable.Z&&node.isRenderable()&&(node.ignorePicking&&!forcePickAll||!(node.mode===glenum.Z.TRIANGLES&&node.geometry.isUseIndices()||node.geometry.pickByRay||node.geometry.pick)||this._intersectRenderable(node,out));for(var i=0;i<node._children.length;i++)this._intersectNode(node._children[i],out,forcePickAll)},_intersectRenderable:(v1=new Vector3.Z,v2=new Vector3.Z,v3=new Vector3.Z,ray=new Ray.Z,worldInverse=new Matrix4.Z,function(renderable,out){var isSkinnedMesh=renderable.isSkinnedMesh();ray.copy(this._ray),Matrix4.Z.invert(worldInverse,renderable.worldTransform),isSkinnedMesh||ray.applyTransform(worldInverse);var geometry=renderable.geometry,bbox=isSkinnedMesh?renderable.skeleton.boundingBox:geometry.boundingBox;if(!bbox||ray.intersectBoundingBox(bbox))if(geometry.pick)geometry.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,renderable,out);else if(geometry.pickByRay)geometry.pickByRay(ray,renderable,out);else{var point,skinMatricesArray,cullBack=renderable.cullFace===glenum.Z.BACK&&renderable.frontFace===glenum.Z.CCW||renderable.cullFace===glenum.Z.FRONT&&renderable.frontFace===glenum.Z.CW,indices=geometry.indices,positionAttr=geometry.attributes.position,weightAttr=geometry.attributes.weight,jointAttr=geometry.attributes.joint,skinMatrices=[];if(positionAttr&&positionAttr.value&&indices){if(isSkinnedMesh){skinMatricesArray=renderable.skeleton.getSubSkinMatrices(renderable.__uid__,renderable.joints);for(var i=0;i<renderable.joints.length;i++){skinMatrices[i]=skinMatrices[i]||[];for(var k=0;k<16;k++)skinMatrices[i][k]=skinMatricesArray[16*i+k]}var pos=[],weight=[],joint=[],skinnedPos=[],tmp=[],skinnedPositionAttr=geometry.attributes.skinnedPosition;for(skinnedPositionAttr&&skinnedPositionAttr.value||(geometry.createAttribute("skinnedPosition","f",3),(skinnedPositionAttr=geometry.attributes.skinnedPosition).init(geometry.vertexCount)),i=0;i<geometry.vertexCount;i++){for(positionAttr.get(i,pos),weightAttr.get(i,weight),jointAttr.get(i,joint),weight[3]=1-weight[0]-weight[1]-weight[2],vec3.Z.set(skinnedPos,0,0,0),k=0;k<4;k++)joint[k]>=0&&weight[k]>1e-4&&(vec3.Z.transformMat4(tmp,pos,skinMatrices[joint[k]]),vec3.Z.scaleAndAdd(skinnedPos,skinnedPos,tmp,weight[k]));skinnedPositionAttr.set(i,skinnedPos)}}for(i=0;i<indices.length;i+=3){var i1=indices[i],i2=indices[i+1],i3=indices[i+2],finalPosAttr=isSkinnedMesh?geometry.attributes.skinnedPosition:positionAttr;if(finalPosAttr.get(i1,v1.array),finalPosAttr.get(i2,v2.array),finalPosAttr.get(i3,v3.array),point=cullBack?ray.intersectTriangle(v1,v2,v3,renderable.culling):ray.intersectTriangle(v1,v3,v2,renderable.culling)){var pointW=new Vector3.Z;isSkinnedMesh?Vector3.Z.copy(pointW,point):Vector3.Z.transformMat4(pointW,point,renderable.worldTransform),out.push(new RayPicking.Intersection(point,pointW,renderable,[i1,i2,i3],i/3,Vector3.Z.dist(pointW,this._ray.origin)))}}}}}),_intersectionCompareFunc:function(a,b){return a.distance-b.distance}});RayPicking.Intersection=function(point,pointWorld,target,triangle,triangleIndex,distance){this.point=point,this.pointWorld=pointWorld,this.target=target,this.triangle=triangle,this.triangleIndex=triangleIndex,this.distance=distance};const picking_RayPicking=RayPicking;var Texture=__webpack_require__("./node_modules/claygl/src/Texture.js"),graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),notifier=__webpack_require__("./node_modules/claygl/src/core/mixin/notifier.js"),requestAnimationFrame=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/animation/requestAnimationFrame.js"),LayerGL=function(id,zr){this.id=id,this.zr=zr;try{this.renderer=new Renderer.Z({clearBit:0,devicePixelRatio:zr.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(zr.painter.getWidth(),zr.painter.getHeight())}catch(e){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(e)}this.onglobalout=this.onglobalout.bind(this),zr.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var style=this.dom.style;style.position="absolute",style.left="0",style.top="0",this.views=[],this._picking=new picking_RayPicking({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new echarts.Q.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function removeFromZr(node){var zr=node.__zr;node.__zr=null,zr&&node.removeAnimatorsFromZr&&node.removeAnimatorsFromZr(zr)}LayerGL.prototype.setUnpainted=function(){},LayerGL.prototype.addView=function(view){if(view.layer!==this){var idx=this._viewsToDispose.indexOf(view);idx>=0&&this._viewsToDispose.splice(idx,1),this.views.push(view),view.layer=this;var zr=this.zr;view.scene.traverse((function(node){node.__zr=zr,node.addAnimatorsToZr&&node.addAnimatorsToZr(zr)}))}},LayerGL.prototype.removeView=function(view){if(view.layer===this){var idx=this.views.indexOf(view);idx>=0&&(this.views.splice(idx,1),view.scene.traverse(removeFromZr,this),view.layer=null,this._viewsToDispose.push(view))}},LayerGL.prototype.removeViewsAll=function(){this.views.forEach((function(view){view.scene.traverse(removeFromZr,this),view.layer=null,this._viewsToDispose.push(view)}),this),this.views.length=0},LayerGL.prototype.resize=function(width,height){this.renderer.resize(width,height)},LayerGL.prototype.clear=function(){var gl=this.renderer.gl,clearColor=this._backgroundColor||[0,0,0,0];gl.clearColor(clearColor[0],clearColor[1],clearColor[2],clearColor[3]),gl.depthMask(!0),gl.colorMask(!0,!0,!0,!0),gl.clear(gl.DEPTH_BUFFER_BIT|gl.COLOR_BUFFER_BIT)},LayerGL.prototype.clearDepth=function(){var gl=this.renderer.gl;gl.clear(gl.DEPTH_BUFFER_BIT)},LayerGL.prototype.clearColor=function(){var gl=this.renderer.gl;gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT)},LayerGL.prototype.needsRefresh=function(){this.zr.refresh()},LayerGL.prototype.refresh=function(bgColor){this._backgroundColor=bgColor?graphicGL.Z.parseColor(bgColor):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var i=0;i<this.views.length;i++)this.views[i].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(i=0;i<this._viewsToDispose.length;i++)this._viewsToDispose[i].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},LayerGL.prototype.renderToCanvas=function(ctx){this._startAccumulating(!0),ctx.drawImage(this.dom,0,0,ctx.canvas.width,ctx.canvas.height)},LayerGL.prototype._doRender=function(accumulating){this.clear(),this.renderer.saveViewport();for(var i=0;i<this.views.length;i++)this.views[i].render(this.renderer,accumulating);this.renderer.restoreViewport()},LayerGL.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var accumulatingId=1;function markUnused(resourceList){for(var i=0;i<resourceList.length;i++)resourceList[i].__used__=0}function checkAndDispose(renderer,resourceList){for(var i=0;i<resourceList.length;i++)resourceList[i].__used__||resourceList[i].dispose(renderer)}function updateUsed(resource,list){resource.__used__=resource.__used__||0,resource.__used__++,1===resource.__used__&&list.push(resource)}function collectResources(scene,textureResourceList,geometryResourceList){var prevMaterial,prevGeometry;scene.traverse((function(renderable){if(renderable.isRenderable()){var geometry=renderable.geometry,material=renderable.material;if(material!==prevMaterial)for(var textureUniforms=material.getTextureUniforms(),u=0;u<textureUniforms.length;u++){var uniformName=textureUniforms[u],val=material.uniforms[uniformName].value;if(val)if(val instanceof Texture.Z)updateUsed(val,textureResourceList);else if(val instanceof Array)for(var k=0;k<val.length;k++)val[k]instanceof Texture.Z&&updateUsed(val[k],textureResourceList)}geometry!==prevGeometry&&updateUsed(geometry,geometryResourceList),prevMaterial=material,prevGeometry=geometry}}));for(var k=0;k<scene.lights.length;k++)scene.lights[k].cubemap&&updateUsed(scene.lights[k].cubemap,textureResourceList)}LayerGL.prototype._startAccumulating=function(immediate){var self=this;this._stopAccumulating();for(var needsAccumulate=!1,i=0;i<this.views.length;i++)needsAccumulate=this.views[i].needsAccumulate()||needsAccumulate;function accumulate(id){if(self._accumulatingId&&id===self._accumulatingId){for(var isFinished=!0,i=0;i<self.views.length;i++)isFinished=self.views[i].isAccumulateFinished()&&needsAccumulate;isFinished||(self._doRender(!0),immediate?accumulate(id):(0,requestAnimationFrame.Z)((function(){accumulate(id)})))}}needsAccumulate&&(this._accumulatingId=accumulatingId++,immediate?accumulate(self._accumulatingId):this._accumulatingTimeout=setTimeout((function(){accumulate(self._accumulatingId)}),50))},LayerGL.prototype._trackAndClean=function(){var textureList=[],geometriesList=[];this._textureList&&(markUnused(this._textureList),markUnused(this._geometriesList));for(var i=0;i<this.views.length;i++)collectResources(this.views[i].scene,textureList,geometriesList);this._textureList&&(checkAndDispose(this.renderer,this._textureList),checkAndDispose(this.renderer,this._geometriesList)),this._textureList=textureList,this._geometriesList=geometriesList},LayerGL.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(markUnused(this._textureList),markUnused(this._geometriesList),checkAndDispose(this.renderer,this._textureList),checkAndDispose(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},LayerGL.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var obj=this.pickObject(e.offsetX,e.offsetY);obj&&(this._dispatchEvent("mousedown",e,obj),this._dispatchDataEvent("mousedown",e,obj)),this._downX=e.offsetX,this._downY=e.offsetY}},LayerGL.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var obj=this.pickObject(e.offsetX,e.offsetY),target=obj&&obj.target,lastHovered=this._hovered;this._hovered=obj,lastHovered&&target!==lastHovered.target&&(lastHovered.relatedTarget=target,this._dispatchEvent("mouseout",e,lastHovered),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,obj),obj&&(this.zr.setCursorStyle("pointer"),lastHovered&&target===lastHovered.target||this._dispatchEvent("mouseover",e,obj)),this._dispatchDataEvent("mousemove",e,obj)}},LayerGL.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){e=e.event;var obj=this.pickObject(e.offsetX,e.offsetY);obj&&(this._dispatchEvent("mouseup",e,obj),this._dispatchDataEvent("mouseup",e,obj)),this._upX=e.offsetX,this._upY=e.offsetY}},LayerGL.prototype.onclick=LayerGL.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var dx=this._upX-this._downX,dy=this._upY-this._downY;if(!(Math.sqrt(dx*dx+dy*dy)>20)){e=e.event;var obj=this.pickObject(e.offsetX,e.offsetY);obj&&(this._dispatchEvent(e.type,e,obj),this._dispatchDataEvent(e.type,e,obj));var result=this._clickToSetFocusPoint(e);if(result)result.view.setDOFFocusOnPoint(result.distance)&&this.zr.refresh()}}},LayerGL.prototype._clickToSetFocusPoint=function(e){for(var renderer=this.renderer,oldViewport=renderer.viewport,i=this.views.length-1;i>=0;i--){var viewGL=this.views[i];if(viewGL.hasDOF()&&viewGL.containPoint(e.offsetX,e.offsetY)){this._picking.scene=viewGL.scene,this._picking.camera=viewGL.camera,renderer.viewport=viewGL.viewport;var result=this._picking.pick(e.offsetX,e.offsetY,!0);if(result)return result.view=viewGL,result}}renderer.viewport=oldViewport},LayerGL.prototype.onglobalout=function(e){var lastHovered=this._hovered;lastHovered&&this._dispatchEvent("mouseout",e,{target:lastHovered.target})},LayerGL.prototype.pickObject=function(x,y){for(var output=[],renderer=this.renderer,oldViewport=renderer.viewport,i=0;i<this.views.length;i++){var viewGL=this.views[i];viewGL.containPoint(x,y)&&(this._picking.scene=viewGL.scene,this._picking.camera=viewGL.camera,renderer.viewport=viewGL.viewport,this._picking.pickAll(x,y,output))}return renderer.viewport=oldViewport,output.sort((function(a,b){return a.distance-b.distance})),output[0]},LayerGL.prototype._dispatchEvent=function(eveName,originalEvent,newEvent){newEvent||(newEvent={});var current=newEvent.target;for(newEvent.cancelBubble=!1,newEvent.event=originalEvent,newEvent.type=eveName,newEvent.offsetX=originalEvent.offsetX,newEvent.offsetY=originalEvent.offsetY;current&&(current.trigger(eveName,newEvent),current=current.getParent(),!newEvent.cancelBubble););this._dispatchToView(eveName,newEvent)},LayerGL.prototype._dispatchDataEvent=function(eveName,originalEvent,newEvent){var mesh=newEvent&&newEvent.target,dataIndex=mesh&&mesh.dataIndex,seriesIndex=mesh&&mesh.seriesIndex,eventData=mesh&&mesh.eventData,elChangedInMouseMove=!1,eventProxy=this._zrEventProxy;eventProxy.x=originalEvent.offsetX,eventProxy.y=originalEvent.offsetY,eventProxy.update();var targetInfo={target:eventProxy};const ecData=echarts._y.getECData(eventProxy);"mousemove"===eveName&&(null!=dataIndex?dataIndex!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(ecData.dataIndex=this._lastDataIndex,ecData.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(targetInfo,"mouseout",originalEvent)),elChangedInMouseMove=!0):null!=eventData&&eventData!==this._lastEventData&&(null!=this._lastEventData&&(ecData.eventData=this._lastEventData,this.zr.handler.dispatchToElement(targetInfo,"mouseout",originalEvent)),elChangedInMouseMove=!0),this._lastEventData=eventData,this._lastDataIndex=dataIndex,this._lastSeriesIndex=seriesIndex),ecData.eventData=eventData,ecData.dataIndex=dataIndex,ecData.seriesIndex=seriesIndex,(null!=eventData||parseInt(dataIndex,10)>=0&&parseInt(seriesIndex,10)>=0)&&(this.zr.handler.dispatchToElement(targetInfo,eveName,originalEvent),elChangedInMouseMove&&this.zr.handler.dispatchToElement(targetInfo,"mouseover",originalEvent))},LayerGL.prototype._dispatchToView=function(eventName,e){for(var i=0;i<this.views.length;i++)this.views[i].containPoint(e.offsetX,e.offsetY)&&this.views[i].trigger(eventName,e)},Object.assign(LayerGL.prototype,notifier.Z);const core_LayerGL=LayerGL;var GL_SERIES=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function convertNormalEmphasis(option,optType){if(option&&option[optType]&&(option[optType].normal||option[optType].emphasis)){var normalOpt=option[optType].normal,emphasisOpt=option[optType].emphasis;normalOpt&&(option[optType]=normalOpt),emphasisOpt&&(option.emphasis=option.emphasis||{},option.emphasis[optType]=emphasisOpt)}}function removeTextStyleInAxis(axesOpt){axesOpt&&(axesOpt instanceof Array||(axesOpt=[axesOpt]),echarts.D5.each(axesOpt,(function(axisOpt){if(axisOpt.axisLabel){var labelOpt=axisOpt.axisLabel;Object.assign(labelOpt,labelOpt.textStyle),labelOpt.textStyle=null}})))}function EChartsGL(zr){this._layers={},this._zr=zr}EChartsGL.prototype.update=function(ecModel,api){var self=this,zr=api.getZr();if(zr.getWidth()&&zr.getHeight()){for(var zlevel in this._layers)this._layers[zlevel].removeViewsAll();ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var view=api.getViewOfComponentModel(componentModel),coordSys=componentModel.coordinateSystem;if(view.__ecgl__){if(coordSys){if(!coordSys.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+componentModel.id);viewGL=coordSys.viewGL}else{if(!componentModel.viewGL)return void console.error("Can't find viewGL of component "+componentModel.id);viewGL=coordSys.viewGL}var viewGL=coordSys.viewGL,layerGL=getLayerGL(componentModel);layerGL.addView(viewGL),view.afterRender&&view.afterRender(componentModel,ecModel,api,layerGL),setSilent(view.groupGL,componentModel.get("silent"))}}})),ecModel.eachSeries((function(seriesModel){var chartView=api.getViewOfSeriesModel(seriesModel),coordSys=seriesModel.coordinateSystem;if(chartView.__ecgl__){if(coordSys&&!coordSys.viewGL&&!chartView.viewGL)return void console.error("Can't find viewGL of series "+chartView.id);var viewGL=coordSys&&coordSys.viewGL||chartView.viewGL,layerGL=getLayerGL(seriesModel);layerGL.addView(viewGL),chartView.afterRender&&chartView.afterRender(seriesModel,ecModel,api,layerGL),setSilent(chartView.groupGL,seriesModel.get("silent"))}}))}else console.warn("Dom has no width or height");function getLayerGL(model){var zlevel;zr.setSleepAfterStill(0),zlevel=(model.coordinateSystem&&model.coordinateSystem.model,model.get("zlevel"));var layers=self._layers,layerGL=layers[zlevel];if(!layerGL){if(layerGL=layers[zlevel]=new core_LayerGL("gl-"+zlevel,zr),zr.painter.isSingleCanvas()){layerGL.virtual=!0;var img=new echarts.Q.Image({z:1e4,style:{image:layerGL.renderer.canvas},silent:!0});layerGL.__hostImage=img,zr.add(img)}zr.painter.insertLayer(zlevel,layerGL)}return layerGL.__hostImage&&layerGL.__hostImage.setStyle({width:layerGL.renderer.getWidth(),height:layerGL.renderer.getHeight()}),layerGL}function setSilent(groupGL,silent){groupGL&&groupGL.traverse((function(mesh){mesh.isRenderable&&mesh.isRenderable()&&(mesh.ignorePicking=null!=mesh.$ignorePicking?mesh.$ignorePicking:silent)}))}},echarts.sq((function(chart){var zr=chart.getZr(),oldDispose=zr.painter.dispose;zr.painter.dispose=function(){"function"==typeof this.eachOtherLayer&&this.eachOtherLayer((function(layer){layer instanceof core_LayerGL&&layer.dispose()})),oldDispose.call(this)},zr.painter.getRenderedCanvas=function(opts){if(opts=opts||{},this._singleCanvas)return this._layers[0].dom;var canvas=document.createElement("canvas"),dpr=opts.pixelRatio||this.dpr;canvas.width=this.getWidth()*dpr,canvas.height=this.getHeight()*dpr;var ctx=canvas.getContext("2d");ctx.dpr=dpr,ctx.clearRect(0,0,canvas.width,canvas.height),opts.backgroundColor&&(ctx.fillStyle=opts.backgroundColor,ctx.fillRect(0,0,canvas.width,canvas.height));var zlevel,displayList=this.storage.getDisplayList(!0),scope={},self=this;function findAndDrawOtherLayer(smaller,larger){var intermediateLayer,zlevelList=self._zlevelList;null==smaller&&(smaller=-1/0);for(var i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=self._layers[z];if(!layer.__builtin__&&z>smaller&&z<larger){intermediateLayer=layer;break}}intermediateLayer&&intermediateLayer.renderToCanvas&&(ctx.save(),intermediateLayer.renderToCanvas(ctx),ctx.restore())}for(var layer={ctx},i=0;i<displayList.length;i++){var el=displayList[i];el.zlevel!==zlevel&&(findAndDrawOtherLayer(zlevel,el.zlevel),zlevel=el.zlevel),this._doPaintEl(el,layer,!0,null,scope)}return findAndDrawOtherLayer(zlevel,1/0),canvas}})),echarts.Br((function(ecModel,api){var zr=api.getZr();(zr.__egl=zr.__egl||new EChartsGL(zr)).update(ecModel,api)})),echarts.ds((function backwardCompat(option){echarts.D5.each(option.series,(function(series){echarts.D5.indexOf(GL_SERIES,series.type)>=0&&(!function convertNormalEmphasisForEach(option){convertNormalEmphasis(option,"itemStyle"),convertNormalEmphasis(option,"lineStyle"),convertNormalEmphasis(option,"areaStyle"),convertNormalEmphasis(option,"label")}(series),"mapbox"===series.coordinateSystem&&(series.coordinateSystem="mapbox3D",option.mapbox3D=option.mapbox))})),removeTextStyleInAxis(option.xAxis3D),removeTextStyleInAxis(option.yAxis3D),removeTextStyleInAxis(option.zAxis3D),removeTextStyleInAxis(option.grid3D),convertNormalEmphasis(option.geo3D)}))},"./node_modules/echarts-gl/lib/util/OrbitControl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var claygl_src_core_Base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/core/Base.js"),claygl_src_math_Vector2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/claygl/src/math/Vector2.js"),claygl_src_math_Vector3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),firstNotNull=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js").Z.firstNotNull,MOUSE_BUTTON_KEY_MAP={left:0,middle:1,right:2};function convertToArray(val){return val instanceof Array||(val=[val,val]),val}var OrbitControl=claygl_src_core_Base__WEBPACK_IMPORTED_MODULE_1__.Z.extend((function(){return{zr:null,viewGL:null,_center:new claygl_src_math_Vector3__WEBPACK_IMPORTED_MODULE_2__.Z,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new claygl_src_math_Vector2__WEBPACK_IMPORTED_MODULE_3__.Z,_panVelocity:new claygl_src_math_Vector2__WEBPACK_IMPORTED_MODULE_3__.Z,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach((function(hdlName){this[hdlName]=this[hdlName].bind(this)}),this)}),{init:function(){var zr=this.zr;zr&&(zr.on("mousedown",this._mouseDownHandler),zr.on("globalout",this._mouseUpHandler),zr.on("mousewheel",this._mouseWheelHandler),zr.on("pinch",this._pinchHandler),zr.animation.on("frame",this._update),zr.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var zr=this.zr;zr&&(zr.off("mousedown",this._mouseDownHandler),zr.off("mousemove",this._mouseMoveHandler),zr.off("mouseup",this._mouseUpHandler),zr.off("mousewheel",this._mouseWheelHandler),zr.off("pinch",this._pinchHandler),zr.off("globalout",this._mouseUpHandler),zr.dom.removeEventListener("contextmenu",this._contextMenuHandler),zr.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(distance){this._distance=distance,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(size){this._orthoSize=size,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(alpha){alpha=Math.max(Math.min(this.maxAlpha,alpha),this.minAlpha),this._theta=alpha/180*Math.PI,this._needsUpdate=!0},setBeta:function(beta){beta=Math.max(Math.min(this.maxBeta,beta),this.minBeta),this._phi=-beta/180*Math.PI,this._needsUpdate=!0},setCenter:function(centerArr){this._center.setArray(centerArr)},setViewGL:function(viewGL){this.viewGL=viewGL},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(viewControlModel,extraOpts){var baseDistance=(extraOpts=extraOpts||{}).baseDistance||0,baseOrthoSize=extraOpts.baseOrthoSize||1,projection=viewControlModel.get("projection");"perspective"!==projection&&"orthographic"!==projection&&"isometric"!==projection&&(projection="perspective"),this._projection=projection,this.viewGL.setProjection(projection);var targetDistance=viewControlModel.get("distance")+baseDistance,targetOrthographicSize=viewControlModel.get("orthographicSize")+baseOrthoSize;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach((function(prop){this[prop[0]]=firstNotNull(viewControlModel.get(prop[0]),prop[1])}),this),this.minDistance+=baseDistance,this.maxDistance+=baseDistance,this.minOrthographicSize+=baseOrthoSize,this.maxOrthographicSize+=baseOrthoSize;var ecModel=viewControlModel.ecModel,animationOpts={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach((function(key){animationOpts[key]=firstNotNull(viewControlModel.get(key),ecModel&&ecModel.get(key))}));var alpha=firstNotNull(extraOpts.alpha,viewControlModel.get("alpha"))||0,beta=firstNotNull(extraOpts.beta,viewControlModel.get("beta"))||0,center=firstNotNull(extraOpts.center,viewControlModel.get("center"))||[0,0,0];animationOpts.animation&&animationOpts.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha,beta,center,distance:targetDistance,orthographicSize:targetOrthographicSize,easing:animationOpts.animationEasingUpdate,duration:animationOpts.animationDurationUpdate}):(this.setDistance(targetDistance),this.setAlpha(alpha),this.setBeta(beta),this.setCenter(center),this.setOrthographicSize(targetOrthographicSize)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){0},animateTo:function(opts){var zr=this.zr,self=this,obj={},target={};return null!=opts.distance&&(obj.distance=this.getDistance(),target.distance=opts.distance),null!=opts.orthographicSize&&(obj.orthographicSize=this.getOrthographicSize(),target.orthographicSize=opts.orthographicSize),null!=opts.alpha&&(obj.alpha=this.getAlpha(),target.alpha=opts.alpha),null!=opts.beta&&(obj.beta=this.getBeta(),target.beta=opts.beta),null!=opts.center&&(obj.center=this.getCenter(),target.center=opts.center),this._addAnimator(zr.animation.animate(obj).when(opts.duration||1e3,target).during((function(){null!=obj.alpha&&self.setAlpha(obj.alpha),null!=obj.beta&&self.setBeta(obj.beta),null!=obj.distance&&self.setDistance(obj.distance),null!=obj.center&&self.setCenter(obj.center),null!=obj.orthographicSize&&self.setOrthographicSize(obj.orthographicSize),self._needsUpdate=!0}))).start(opts.easing||"linear")},stopAllAnimation:function(){for(var i=0;i<this._animators.length;i++)this._animators[i].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(deltaTime){if(this._rotating){var radian=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=radian*deltaTime/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(deltaTime=Math.min(deltaTime,50),this._updateDistanceOrSize(deltaTime),this._updatePan(deltaTime),this._updateRotate(deltaTime),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(deltaTime){var velocity=this._rotateVelocity;this._phi=velocity.y*deltaTime/20+this._phi,this._theta=velocity.x*deltaTime/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(velocity,Math.pow(this.damping,deltaTime/16))},_updateDistanceOrSize:function(deltaTime){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*deltaTime/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*deltaTime/20),this._zoomSpeed*=Math.pow(this.damping,deltaTime/16)},_setDistance:function(distance){this._distance=Math.max(Math.min(distance,this.maxDistance),this.minDistance)},_setOrthoSize:function(size){this._orthoSize=Math.max(Math.min(size,this.maxOrthographicSize),this.minOrthographicSize);var camera=this.getCamera(),cameraHeight=this._orthoSize,cameraWidth=cameraHeight/this.viewGL.viewport.height*this.viewGL.viewport.width;camera.left=-cameraWidth/2,camera.right=cameraWidth/2,camera.top=cameraHeight/2,camera.bottom=-cameraHeight/2},_updatePan:function(deltaTime){var velocity=this._panVelocity,len=this._distance,target=this.getCamera(),yAxis=target.worldTransform.y,xAxis=target.worldTransform.x;this._center.scaleAndAdd(xAxis,-velocity.x*len/200).scaleAndAdd(yAxis,-velocity.y*len/200),this._vectorDamping(velocity,0)},_updateTransform:function(){var camera=this.getCamera(),dir=new claygl_src_math_Vector3__WEBPACK_IMPORTED_MODULE_2__.Z,theta=this._theta+Math.PI/2,phi=this._phi+Math.PI/2,r=Math.sin(theta);dir.x=r*Math.cos(phi),dir.y=-Math.cos(theta),dir.z=r*Math.sin(phi),camera.position.copy(this._center).scaleAndAdd(dir,this._distance),camera.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var time=this.autoRotateAfterStill,self=this;!isNaN(time)&&time>0&&(this._stillTimeout=setTimeout((function(){self._rotating=!0}),1e3*time))},_vectorDamping:function(v,damping){var speed=v.len();(speed*=damping)<1e-4&&(speed=0),v.normalize().scale(speed)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var forward=this.getCamera().worldTransform.z,alpha=Math.asin(forward.y),beta=Math.atan2(forward.x,forward.z);this._theta=alpha,this._phi=-beta,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){if(!e.target&&!this._isAnimating()){var x=e.offsetX,y=e.offsetY;this.viewGL&&!this.viewGL.containPoint(x,y)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):e.event.button===MOUSE_BUTTON_KEY_MAP[this.rotateMouseButton]?this._mode="rotate":e.event.button===MOUSE_BUTTON_KEY_MAP[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)}},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy||this._isAnimating())){var panSensitivity=convertToArray(this.panSensitivity),rotateSensitivity=convertToArray(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*rotateSensitivity[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*rotateSensitivity[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*panSensitivity[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*panSensitivity[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){if(!this._isAnimating()){var delta=e.event.wheelDelta||-e.event.detail;this._zoomHandler(e,delta)}},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,delta){if(0!==delta){var speed,x=e.offsetX,y=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(x,y))speed="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(delta>0?-1:1)*speed*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(animator){var animators=this._animators;return animators.push(animator),animator.done((function(){var idx=animators.indexOf(animator);idx>=0&&animators.splice(idx,1)})),animator}});Object.defineProperty(OrbitControl.prototype,"autoRotate",{get:function(val){return this._autoRotate},set:function(val){this._autoRotate=val,this._rotating=val}});const __WEBPACK_DEFAULT_EXPORT__=OrbitControl},"./node_modules/echarts-gl/lib/util/ProgressiveQuickSort.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function swap(arr,a,b){var tmp=arr[a];arr[a]=arr[b],arr[b]=tmp}function partition(arr,pivot,left,right,compare){var storeIndex=left,pivotValue=arr[pivot];swap(arr,pivot,right);for(var v=left;v<right;v++)compare(arr[v],pivotValue)<0&&(swap(arr,v,storeIndex),storeIndex++);return swap(arr,right,storeIndex),storeIndex}function quickSort(array,compare,left,right){if(left<right){var newPivot=partition(array,Math.floor((left+right)/2),left,right,compare);quickSort(array,compare,left,newPivot-1),quickSort(array,compare,newPivot+1,right)}}function ProgressiveQuickSort(){this._parts=[]}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__}),ProgressiveQuickSort.prototype.step=function(arr,compare,frame){var len=arr.length;if(0===frame){this._parts=[],this._sorted=!1;var pivot=Math.floor(len/2);this._parts.push({pivot,left:0,right:len-1}),this._currentSortPartIdx=0}if(!this._sorted){var parts=this._parts;if(0===parts.length)return this._sorted=!0,!0;if(parts.length<512){for(var i=0;i<parts.length;i++)parts[i].pivot=partition(arr,parts[i].pivot,parts[i].left,parts[i].right,compare);var subdividedParts=[];for(i=0;i<parts.length;i++){var left=parts[i].left;(right=parts[i].pivot-1)>left&&subdividedParts.push({pivot:Math.floor((right+left)/2),left,right});var right;left=parts[i].pivot+1;(right=parts[i].right)>left&&subdividedParts.push({pivot:Math.floor((right+left)/2),left,right})}parts=this._parts=subdividedParts}else for(i=0;i<Math.floor(parts.length/10);i++){var idx=parts.length-1-this._currentSortPartIdx;if(quickSort(arr,compare,parts[idx].left,parts[idx].right),this._currentSortPartIdx++,this._currentSortPartIdx===parts.length)return this._sorted=!0,!0}return!1}},ProgressiveQuickSort.sort=quickSort;const __WEBPACK_DEFAULT_EXPORT__=ProgressiveQuickSort},"./node_modules/echarts-gl/lib/util/ZRTextureAtlasSurface.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js"),claygl_src_Texture2D__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/claygl/src/Texture2D.js");function ZRTextureAtlasSurfaceNode(zr,offsetX,offsetY,width,height,gap,dpr){this._zr=zr,this._x=0,this._y=0,this._rowHeight=0,this.width=width,this.height=height,this.offsetX=offsetX,this.offsetY=offsetY,this.dpr=dpr,this.gap=gap}function ZRTextureAtlasSurface(opt){(opt=opt||{}).width=opt.width||512,opt.height=opt.height||512,opt.devicePixelRatio=opt.devicePixelRatio||1,opt.gap=null==opt.gap?2:opt.gap;var canvas=document.createElement("canvas");canvas.width=opt.width*opt.devicePixelRatio,canvas.height=opt.height*opt.devicePixelRatio,this._canvas=canvas,this._texture=new claygl_src_Texture2D__WEBPACK_IMPORTED_MODULE_1__.Z({image:canvas,flipY:!1});var self=this;this._zr=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.x_.init(canvas);var oldRefreshImmediately=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){oldRefreshImmediately.call(this),self._texture.dirty(),self.onupdate&&self.onupdate()},this._dpr=opt.devicePixelRatio,this._coords={},this.onupdate=opt.onupdate,this._gap=opt.gap,this._textureAtlasNodes=[new ZRTextureAtlasSurfaceNode(this._zr,0,0,opt.width,opt.height,this._gap,this._dpr)],this._nodeWidth=opt.width,this._nodeHeight=opt.height,this._currentNodeIdx=0}ZRTextureAtlasSurfaceNode.prototype={constructor:ZRTextureAtlasSurfaceNode,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(el,width,height){var rect=el.getBoundingRect();null==width&&(width=rect.width),null==height&&(height=rect.height),width*=this.dpr,height*=this.dpr,this._fitElement(el,width,height);var x=this._x,y=this._y,canvasWidth=this.width*this.dpr,canvasHeight=this.height*this.dpr,gap=this.gap;if(x+width+gap>canvasWidth&&(x=this._x=0,y+=this._rowHeight+gap,this._y=y,this._rowHeight=0),this._x+=width+gap,this._rowHeight=Math.max(this._rowHeight,height),y+height+gap>canvasHeight)return null;el.x+=this.offsetX*this.dpr+x,el.y+=this.offsetY*this.dpr+y,this._zr.add(el);var coordsOffset=[this.offsetX/this.width,this.offsetY/this.height];return[[x/canvasWidth+coordsOffset[0],y/canvasHeight+coordsOffset[1]],[(x+width)/canvasWidth+coordsOffset[0],(y+height)/canvasHeight+coordsOffset[1]]]},_fitElement:function(el,spriteWidth,spriteHeight){var rect=el.getBoundingRect(),scaleX=spriteWidth/rect.width,scaleY=spriteHeight/rect.height;el.x=-rect.x*scaleX,el.y=-rect.y*scaleY,el.scaleX=scaleX,el.scaleY=scaleY,el.update()}},ZRTextureAtlasSurface.prototype={clear:function(){for(var i=0;i<this._textureAtlasNodes.length;i++)this._textureAtlasNodes[i].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var maxSize=4096/this._dpr,nodeLen=this._textureAtlasNodes.length,offsetX=nodeLen*this._nodeWidth%maxSize,offsetY=Math.floor(nodeLen*this._nodeWidth/maxSize)*this._nodeHeight;if(!(offsetY>=maxSize)){var width=(offsetX+this._nodeWidth)*this._dpr,height=(offsetY+this._nodeHeight)*this._dpr;try{this._zr.resize({width,height})}catch(e){this._canvas.width=width,this._canvas.height=height}var newNode=new ZRTextureAtlasSurfaceNode(this._zr,offsetX,offsetY,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(newNode),newNode}},add:function(el,width,height){if(this._coords[el.id])return this._coords[el.id];var coords=this._getCurrentNode().add(el,width,height);if(!coords){var newNode=this._expand();if(!newNode)return;coords=newNode.add(el,width,height)}return this._coords[el.id]=coords,coords},getCoordsScale:function(){var dpr=this._dpr;return[this._nodeWidth/this._canvas.width*dpr,this._nodeHeight/this._canvas.height*dpr]},getCoords:function(id){return this._coords[id]},dispose:function(){this._zr.dispose()}};const __WEBPACK_DEFAULT_EXPORT__=ZRTextureAtlasSurface},"./node_modules/echarts-gl/lib/util/format.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js"),formatUtil={getFormattedLabel:function(seriesModel,dataIndex,status,dataType,dimIndex){status=status||"normal";var itemModel=seriesModel.getData(dataType).getItemModel(dataIndex),params=seriesModel.getDataParams(dataIndex,dataType);null!=dimIndex&&params.value instanceof Array&&(params.value=params.value[dimIndex]);var text,formatter=itemModel.get("normal"===status?["label","formatter"]:["emphasis","label","formatter"]);return null==formatter&&(formatter=itemModel.get(["label","formatter"])),"function"==typeof formatter?(params.status=status,text=formatter(params)):"string"==typeof formatter&&(text=echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.WU.formatTpl(formatter,params)),text},normalizeToArray:function(value){return value instanceof Array?value:null==value?[]:[value]}};const __WEBPACK_DEFAULT_EXPORT__=formatUtil},"./node_modules/echarts-gl/lib/util/geometry/Lines2D.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var dirA,dirB,normal,tangent,point,nextPoint,prevPoint,claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/Geometry.js"),echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js"),_dynamicConvertMixin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/dynamicConvertMixin.js"),vec2=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js").Z.vec2,sampleLinePoints=[[0,0],[1,1]],LinesGeometry=claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("position","float",2,"POSITION"),normal:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("normal","float",2),offset:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("offset","float",1),color:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(nVertex){var attributes=this.attributes;this.vertexCount!==nVertex&&(attributes.position.init(nVertex),attributes.color.init(nVertex),this.useNativeLine||(attributes.offset.init(nVertex),attributes.normal.init(nVertex)),nVertex>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(nTriangle){this.triangleCount!==nTriangle&&(this.indices=0===nTriangle?null:this.vertexCount>65535?new Uint32Array(3*nTriangle):new Uint16Array(3*nTriangle))},_getCubicCurveApproxStep:function(p0,p1,p2,p3){return 1/(vec2.dist(p0,p1)+vec2.dist(p2,p1)+vec2.dist(p3,p2)+1)*this.segmentScale},getCubicCurveVertexCount:function(p0,p1,p2,p3){var step=this._getCubicCurveApproxStep(p0,p1,p2,p3),segCount=Math.ceil(1/step);return this.useNativeLine?2*segCount:2*segCount+2},getCubicCurveTriangleCount:function(p0,p1,p2,p3){var step=this._getCubicCurveApproxStep(p0,p1,p2,p3),segCount=Math.ceil(1/step);return this.useNativeLine?0:2*segCount},getLineVertexCount:function(){return this.getPolylineVertexCount(sampleLinePoints)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(sampleLinePoints)},getPolylineVertexCount:function(points){var pointsLen;"number"==typeof points?pointsLen=points:pointsLen="number"!=typeof points[0]?points.length:points.length/2;return this.useNativeLine?2*(pointsLen-1):2*(pointsLen-1)+2},getPolylineTriangleCount:function(points){var pointsLen;"number"==typeof points?pointsLen=points:pointsLen="number"!=typeof points[0]?points.length:points.length/2;return this.useNativeLine?0:2*(pointsLen-1)},addCubicCurve:function(p0,p1,p2,p3,color,lineWidth){null==lineWidth&&(lineWidth=1);var x0=p0[0],y0=p0[1],x1=p1[0],y1=p1[1],x2=p2[0],y2=p2[1],x3=p3[0],y3=p3[1],step=this._getCubicCurveApproxStep(p0,p1,p2,p3),step2=step*step,step3=step2*step,pre1=3*step,pre2=3*step2,pre4=6*step2,pre5=6*step3,tmp1x=x0-2*x1+x2,tmp1y=y0-2*y1+y2,tmp2x=3*(x1-x2)-x0+x3,tmp2y=3*(y1-y2)-y0+y3,fx=x0,fy=y0,dfx=(x1-x0)*pre1+tmp1x*pre2+tmp2x*step3,dfy=(y1-y0)*pre1+tmp1y*pre2+tmp2y*step3,ddfx=tmp1x*pre4+tmp2x*pre5,ddfy=tmp1y*pre4+tmp2y*pre5,dddfx=tmp2x*pre5,dddfy=tmp2y*pre5,t=0,k=0,segCount=Math.ceil(1/step),points=new Float32Array(3*(segCount+1)),offset=(points=[],0);for(k=0;k<segCount+1;k++)points[offset++]=fx,points[offset++]=fy,fx+=dfx,fy+=dfy,dfx+=ddfx,dfy+=ddfy,ddfx+=dddfx,ddfy+=dddfy,(t+=step)>1&&(fx=dfx>0?Math.min(fx,x3):Math.max(fx,x3),fy=dfy>0?Math.min(fy,y3):Math.max(fy,y3));this.addPolyline(points,color,lineWidth)},addLine:function(p0,p1,color,lineWidth){this.addPolyline([p0,p1],color,lineWidth)},addPolyline:(dirA=vec2.create(),dirB=vec2.create(),normal=vec2.create(),tangent=vec2.create(),point=[],nextPoint=[],prevPoint=[],function(points,color,lineWidth,arrayOffset,pointsCount){if(points.length){var is2DArray="number"!=typeof points[0];if(null==pointsCount&&(pointsCount=is2DArray?points.length:points.length/2),!(pointsCount<2)){null==arrayOffset&&(arrayOffset=0),null==lineWidth&&(lineWidth=1),this._itemVertexOffsets.push(this._vertexOffset);for(var pointColor,notSharingColor=is2DArray?"number"!=typeof color[0]:color.length/4===pointsCount,positionAttr=this.attributes.position,colorAttr=this.attributes.color,offsetAttr=this.attributes.offset,normalAttr=this.attributes.normal,indices=this.indices,vertexOffset=this._vertexOffset,k=0;k<pointsCount;k++){if(is2DArray)point=points[k+arrayOffset],pointColor=notSharingColor?color[k+arrayOffset]:color;else{var k2=2*k+arrayOffset;if((point=point||[])[0]=points[k2],point[1]=points[k2+1],notSharingColor){var k4=4*k+arrayOffset;(pointColor=pointColor||[])[0]=color[k4],pointColor[1]=color[k4+1],pointColor[2]=color[k4+2],pointColor[3]=color[k4+3]}else pointColor=color}if(this.useNativeLine)k>1&&(positionAttr.copy(vertexOffset,vertexOffset-1),colorAttr.copy(vertexOffset,vertexOffset-1),vertexOffset++);else{var offset;if(k<pointsCount-1)if(is2DArray?vec2.copy(nextPoint,points[k+1]):(k2=2*(k+1)+arrayOffset,(nextPoint=nextPoint||[])[0]=points[k2],nextPoint[1]=points[k2+1]),k>0){vec2.sub(dirA,point,prevPoint),vec2.sub(dirB,nextPoint,point),vec2.normalize(dirA,dirA),vec2.normalize(dirB,dirB),vec2.add(tangent,dirA,dirB),vec2.normalize(tangent,tangent);var miter=lineWidth/2*Math.min(1/vec2.dot(dirA,tangent),2);normal[0]=-tangent[1],normal[1]=tangent[0],offset=miter}else vec2.sub(dirA,nextPoint,point),vec2.normalize(dirA,dirA),normal[0]=-dirA[1],normal[1]=dirA[0],offset=lineWidth/2;else vec2.sub(dirA,point,prevPoint),vec2.normalize(dirA,dirA),normal[0]=-dirA[1],normal[1]=dirA[0],offset=lineWidth/2;normalAttr.set(vertexOffset,normal),normalAttr.set(vertexOffset+1,normal),offsetAttr.set(vertexOffset,offset),offsetAttr.set(vertexOffset+1,-offset),vec2.copy(prevPoint,point),positionAttr.set(vertexOffset,point),positionAttr.set(vertexOffset+1,point),colorAttr.set(vertexOffset,pointColor),colorAttr.set(vertexOffset+1,pointColor),vertexOffset+=2}if(this.useNativeLine)colorAttr.set(vertexOffset,pointColor),positionAttr.set(vertexOffset,point),vertexOffset++;else if(k>0){var idx3=3*this._faceOffset;(indices=this.indices)[idx3]=vertexOffset-4,indices[idx3+1]=vertexOffset-3,indices[idx3+2]=vertexOffset-2,indices[idx3+3]=vertexOffset-3,indices[idx3+4]=vertexOffset-1,indices[idx3+5]=vertexOffset-2,this._faceOffset+=2}}this._vertexOffset=vertexOffset}}}),setItemColor:function(idx,color){for(var startOffset=this._itemVertexOffsets[idx],endOffset=idx<this._itemVertexOffsets.length-1?this._itemVertexOffsets[idx+1]:this._vertexOffset,i=startOffset;i<endOffset;i++)this.attributes.color.set(i,color);this.dirty("color")}});echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.defaults(LinesGeometry.prototype,_dynamicConvertMixin__WEBPACK_IMPORTED_MODULE_3__.Z);const __WEBPACK_DEFAULT_EXPORT__=LinesGeometry},"./node_modules/echarts-gl/lib/util/geometry/Lines3D.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/claygl/src/Geometry.js"),echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js"),_dynamicConvertMixin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/dynamicConvertMixin.js"),vec3=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js").Z.vec3,sampleLinePoints=[[0,0],[1,1]],LinesGeometry=claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("position","float",3,"POSITION"),positionPrev:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("positionPrev","float",3),positionNext:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("positionNext","float",3),prevPositionPrev:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("prevPositionPrev","float",3),prevPosition:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("prevPosition","float",3),prevPositionNext:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("prevPositionNext","float",3),offset:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("offset","float",1),color:new claygl_src_Geometry__WEBPACK_IMPORTED_MODULE_2__.Z.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(nVertex){var attributes=this.attributes;this.vertexCount!==nVertex&&(attributes.position.init(nVertex),attributes.color.init(nVertex),this.useNativeLine||(attributes.positionPrev.init(nVertex),attributes.positionNext.init(nVertex),attributes.offset.init(nVertex)),nVertex>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(nTriangle){this.triangleCount!==nTriangle&&(this.indices=0===nTriangle?null:this.vertexCount>65535?new Uint32Array(3*nTriangle):new Uint16Array(3*nTriangle))},_getCubicCurveApproxStep:function(p0,p1,p2,p3){return 1/(vec3.dist(p0,p1)+vec3.dist(p2,p1)+vec3.dist(p3,p2)+1)*this.segmentScale},getCubicCurveVertexCount:function(p0,p1,p2,p3){var step=this._getCubicCurveApproxStep(p0,p1,p2,p3),segCount=Math.ceil(1/step);return this.useNativeLine?2*segCount:2*segCount+2},getCubicCurveTriangleCount:function(p0,p1,p2,p3){var step=this._getCubicCurveApproxStep(p0,p1,p2,p3),segCount=Math.ceil(1/step);return this.useNativeLine?0:2*segCount},getLineVertexCount:function(){return this.getPolylineVertexCount(sampleLinePoints)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(sampleLinePoints)},getPolylineVertexCount:function(points){var pointsLen;"number"==typeof points?pointsLen=points:pointsLen="number"!=typeof points[0]?points.length:points.length/3;return this.useNativeLine?2*(pointsLen-1):2*(pointsLen-1)+2},getPolylineTriangleCount:function(points){var pointsLen;"number"==typeof points?pointsLen=points:pointsLen="number"!=typeof points[0]?points.length:points.length/3;return this.useNativeLine?0:2*Math.max(pointsLen-1,0)},addCubicCurve:function(p0,p1,p2,p3,color,lineWidth){null==lineWidth&&(lineWidth=1);var x0=p0[0],y0=p0[1],z0=p0[2],x1=p1[0],y1=p1[1],z1=p1[2],x2=p2[0],y2=p2[1],z2=p2[2],x3=p3[0],y3=p3[1],z3=p3[2],step=this._getCubicCurveApproxStep(p0,p1,p2,p3),step2=step*step,step3=step2*step,pre1=3*step,pre2=3*step2,pre4=6*step2,pre5=6*step3,tmp1x=x0-2*x1+x2,tmp1y=y0-2*y1+y2,tmp1z=z0-2*z1+z2,tmp2x=3*(x1-x2)-x0+x3,tmp2y=3*(y1-y2)-y0+y3,tmp2z=3*(z1-z2)-z0+z3,fx=x0,fy=y0,fz=z0,dfx=(x1-x0)*pre1+tmp1x*pre2+tmp2x*step3,dfy=(y1-y0)*pre1+tmp1y*pre2+tmp2y*step3,dfz=(z1-z0)*pre1+tmp1z*pre2+tmp2z*step3,ddfx=tmp1x*pre4+tmp2x*pre5,ddfy=tmp1y*pre4+tmp2y*pre5,ddfz=tmp1z*pre4+tmp2z*pre5,dddfx=tmp2x*pre5,dddfy=tmp2y*pre5,dddfz=tmp2z*pre5,t=0,k=0,segCount=Math.ceil(1/step),points=new Float32Array(3*(segCount+1)),offset=(points=[],0);for(k=0;k<segCount+1;k++)points[offset++]=fx,points[offset++]=fy,points[offset++]=fz,fx+=dfx,fy+=dfy,fz+=dfz,dfx+=ddfx,dfy+=ddfy,dfz+=ddfz,ddfx+=dddfx,ddfy+=dddfy,ddfz+=dddfz,(t+=step)>1&&(fx=dfx>0?Math.min(fx,x3):Math.max(fx,x3),fy=dfy>0?Math.min(fy,y3):Math.max(fy,y3),fz=dfz>0?Math.min(fz,z3):Math.max(fz,z3));return this.addPolyline(points,color,lineWidth)},addLine:function(p0,p1,color,lineWidth){return this.addPolyline([p0,p1],color,lineWidth)},addPolyline:function(points,color,lineWidth,startOffset,pointsCount){if(points.length){var is2DArray="number"!=typeof points[0];if(null==pointsCount&&(pointsCount=is2DArray?points.length:points.length/3),!(pointsCount<2)){null==startOffset&&(startOffset=0),null==lineWidth&&(lineWidth=1),this._itemVertexOffsets.push(this._vertexOffset);var point,pointColor,notSharingColor=(is2DArray="number"!=typeof points[0])?"number"!=typeof color[0]:color.length/4===pointsCount,positionAttr=this.attributes.position,positionPrevAttr=this.attributes.positionPrev,positionNextAttr=this.attributes.positionNext,colorAttr=this.attributes.color,offsetAttr=this.attributes.offset,indices=this.indices,vertexOffset=this._vertexOffset;lineWidth=Math.max(lineWidth,.01);for(var k=startOffset;k<pointsCount;k++){if(is2DArray)point=points[k],pointColor=notSharingColor?color[k]:color;else{var k3=3*k;if((point=point||[])[0]=points[k3],point[1]=points[k3+1],point[2]=points[k3+2],notSharingColor){var k4=4*k;(pointColor=pointColor||[])[0]=color[k4],pointColor[1]=color[k4+1],pointColor[2]=color[k4+2],pointColor[3]=color[k4+3]}else pointColor=color}if(this.useNativeLine?k>1&&(positionAttr.copy(vertexOffset,vertexOffset-1),colorAttr.copy(vertexOffset,vertexOffset-1),vertexOffset++):(k<pointsCount-1&&(positionPrevAttr.set(vertexOffset+2,point),positionPrevAttr.set(vertexOffset+3,point)),k>0&&(positionNextAttr.set(vertexOffset-2,point),positionNextAttr.set(vertexOffset-1,point)),positionAttr.set(vertexOffset,point),positionAttr.set(vertexOffset+1,point),colorAttr.set(vertexOffset,pointColor),colorAttr.set(vertexOffset+1,pointColor),offsetAttr.set(vertexOffset,lineWidth/2),offsetAttr.set(vertexOffset+1,-lineWidth/2),vertexOffset+=2),this.useNativeLine)colorAttr.set(vertexOffset,pointColor),positionAttr.set(vertexOffset,point),vertexOffset++;else if(k>0){var idx3=3*this._triangleOffset;(indices=this.indices)[idx3]=vertexOffset-4,indices[idx3+1]=vertexOffset-3,indices[idx3+2]=vertexOffset-2,indices[idx3+3]=vertexOffset-3,indices[idx3+4]=vertexOffset-1,indices[idx3+5]=vertexOffset-2,this._triangleOffset+=2}}if(!this.useNativeLine){var start=this._vertexOffset,end=this._vertexOffset+2*pointsCount;positionPrevAttr.copy(start,start+2),positionPrevAttr.copy(start+1,start+3),positionNextAttr.copy(end-1,end-3),positionNextAttr.copy(end-2,end-4)}return this._vertexOffset=vertexOffset,this._vertexOffset}}},setItemColor:function(idx,color){for(var startOffset=this._itemVertexOffsets[idx],endOffset=idx<this._itemVertexOffsets.length-1?this._itemVertexOffsets[idx+1]:this._vertexOffset,i=startOffset;i<endOffset;i++)this.attributes.color.set(i,color);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.defaults(LinesGeometry.prototype,_dynamicConvertMixin__WEBPACK_IMPORTED_MODULE_3__.Z);const __WEBPACK_DEFAULT_EXPORT__=LinesGeometry},"./node_modules/echarts-gl/lib/util/geometry/dynamicConvertMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={convertToDynamicArray:function(clear){clear&&this.resetOffset();var attributes=this.attributes;for(var name in attributes)clear||!attributes[name].value?attributes[name].value=[]:attributes[name].value=Array.prototype.slice.call(attributes[name].value);clear||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var attributes=this.attributes;for(var name in attributes)attributes[name].value&&attributes[name].value.length>0?attributes[name].value=new Float32Array(attributes[name].value):attributes[name].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}}},"./node_modules/echarts-gl/lib/util/geometry/trianglesSortMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _ProgressiveQuickSort__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts-gl/lib/util/ProgressiveQuickSort.js"),vec3=__webpack_require__("./node_modules/claygl/src/dep/glmatrix.js").Z.vec3,p0=vec3.create(),p1=vec3.create(),p2=vec3.create();const __WEBPACK_DEFAULT_EXPORT__={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(cameraPos,frame){var indices=this.indices;if(0===frame){var posAttr=this.attributes.position;cameraPos=cameraPos.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new indices.constructor(indices.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var firstZ,cursor=0,i=0;i<indices.length;){posAttr.get(indices[i++],p0),posAttr.get(indices[i++],p1),posAttr.get(indices[i++],p2);var z0=vec3.sqrDist(p0,cameraPos),z1=vec3.sqrDist(p1,cameraPos),z2=vec3.sqrDist(p2,cameraPos),zMax=Math.min(z0,z1);zMax=Math.min(zMax,z2),3===i?(firstZ=zMax,zMax=0):zMax-=firstZ,this._triangleZList[cursor++]=zMax}}var sortedTriangleIndices=this._sortedTriangleIndices;for(i=0;i<sortedTriangleIndices.length;i++)sortedTriangleIndices[i]=i;if(this.triangleCount<2e4)0===frame&&this._simpleSort(!0);else for(i=0;i<3;i++)this._progressiveQuickSort(3*frame+i);var targetIndices=this._indicesTmp,targetTriangleZList=this._triangleZListTmp,faceZList=this._triangleZList;for(i=0;i<this.triangleCount;i++){var fromIdx3=3*sortedTriangleIndices[i],toIdx3=3*i;targetIndices[toIdx3++]=indices[fromIdx3++],targetIndices[toIdx3++]=indices[fromIdx3++],targetIndices[toIdx3]=indices[fromIdx3],targetTriangleZList[i]=faceZList[sortedTriangleIndices[i]]}var tmp=this._indicesTmp;this._indicesTmp=this.indices,this.indices=tmp;tmp=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=tmp,this.dirtyIndices()},_simpleSort:function(useNativeQuickSort){var faceZList=this._triangleZList,sortedTriangleIndices=this._sortedTriangleIndices;function compare(a,b){return faceZList[b]-faceZList[a]}useNativeQuickSort?Array.prototype.sort.call(sortedTriangleIndices,compare):_ProgressiveQuickSort__WEBPACK_IMPORTED_MODULE_1__.Z.sort(sortedTriangleIndices,compare,0,sortedTriangleIndices.length-1)},_progressiveQuickSort:function(frame){var faceZList=this._triangleZList,sortedTriangleIndices=this._sortedTriangleIndices;this._quickSort=this._quickSort||new _ProgressiveQuickSort__WEBPACK_IMPORTED_MODULE_1__.Z,this._quickSort.step(sortedTriangleIndices,(function(a,b){return faceZList[b]-faceZList[a]}),frame)}}},"./node_modules/echarts-gl/lib/util/graphicGL.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>util_graphicGL});var Mesh=__webpack_require__("./node_modules/claygl/src/Mesh.js"),Renderer=__webpack_require__("./node_modules/claygl/src/Renderer.js"),src_Texture2D=__webpack_require__("./node_modules/claygl/src/Texture2D.js"),src_Texture=__webpack_require__("./node_modules/claygl/src/Texture.js"),Shader=__webpack_require__("./node_modules/claygl/src/Shader.js"),Material=__webpack_require__("./node_modules/claygl/src/Material.js"),Node=__webpack_require__("./node_modules/claygl/src/Node.js"),Geometry=__webpack_require__("./node_modules/claygl/src/Geometry.js"),echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),Scene=__webpack_require__("./node_modules/claygl/src/Scene.js"),Entry=function Entry(val){this.value=val},LinkedList=function(){function LinkedList(){this._len=0}return LinkedList.prototype.insert=function(val){var entry=new Entry(val);return this.insertEntry(entry),entry},LinkedList.prototype.insertEntry=function(entry){this.head?(this.tail.next=entry,entry.prev=this.tail,entry.next=null,this.tail=entry):this.head=this.tail=entry,this._len++},LinkedList.prototype.remove=function(entry){var prev=entry.prev,next=entry.next;prev?prev.next=next:this.head=next,next?next.prev=prev:this.tail=prev,entry.next=entry.prev=null,this._len--},LinkedList.prototype.len=function(){return this._len},LinkedList.prototype.clear=function(){this.head=this.tail=null,this._len=0},LinkedList}();const core_LRU=function(){function LRU(maxSize){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=maxSize}return LRU.prototype.put=function(key,value){var list=this._list,map=this._map,removed=null;if(null==map[key]){var len=list.len(),entry=this._lastRemovedEntry;if(len>=this._maxSize&&len>0){var leastUsedEntry=list.head;list.remove(leastUsedEntry),delete map[leastUsedEntry.key],removed=leastUsedEntry.value,this._lastRemovedEntry=leastUsedEntry}entry?entry.value=value:entry=new Entry(value),entry.key=key,list.insertEntry(entry),map[key]=entry}return removed},LRU.prototype.get=function(key){var entry=this._map[key],list=this._list;if(null!=entry)return entry!==list.tail&&(list.remove(entry),list.insertEntry(entry)),entry.value},LRU.prototype.clear=function(){this._list.clear(),this._map={}},LRU.prototype.len=function(){return this._list.len()},LRU}();var util_texture=__webpack_require__("./node_modules/claygl/src/util/texture.js"),Vector3=__webpack_require__("./node_modules/claygl/src/math/Vector3.js"),Vector2=__webpack_require__("./node_modules/claygl/src/math/Vector2.js"),events=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function makeHandlerName(eventName){return"_on"+eventName}var p0,p1,p2,uv0,uv1,uv2,uv,vCross,EChartsSurface=function(chart){var self=this;this._texture=new src_Texture2D.Z({anisotropic:32,flipY:!1,surface:this,dispose:function(renderer){self.dispose(),src_Texture2D.Z.prototype.dispose.call(this,renderer)}}),events.forEach((function(eventName){this[makeHandlerName(eventName)]=function(eveObj){eveObj.triangle&&this._meshes.forEach((function(mesh){this.dispatchEvent(eventName,mesh,eveObj.triangle,eveObj.point)}),this)}}),this),this._meshes=[],chart&&this.setECharts(chart),this.onupdate=null};EChartsSurface.prototype={constructor:EChartsSurface,getTexture:function(){return this._texture},setECharts:function(chart){this._chart=chart;var canvas=chart.getDom();if(canvas instanceof HTMLCanvasElement){var self=this,zr=chart.getZr(),oldRefreshImmediately=zr.__oldRefreshImmediately||zr.refreshImmediately;zr.refreshImmediately=function(){oldRefreshImmediately.call(this),self._texture.dirty(),self.onupdate&&self.onupdate()},zr.__oldRefreshImmediately=oldRefreshImmediately}else console.error("ECharts must init on canvas if it is used as texture."),canvas=document.createElement("canvas");this._texture.image=canvas,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:(p0=new Vector3.Z,p1=new Vector3.Z,p2=new Vector3.Z,uv0=new Vector2.Z,uv1=new Vector2.Z,uv2=new Vector2.Z,uv=new Vector2.Z,vCross=new Vector3.Z,function(eventName,attachedMesh,triangle,point){var geo=attachedMesh.geometry,position=geo.attributes.position,texcoord=geo.attributes.texcoord0,dot=Vector3.Z.dot,cross=Vector3.Z.cross;position.get(triangle[0],p0.array),position.get(triangle[1],p1.array),position.get(triangle[2],p2.array),texcoord.get(triangle[0],uv0.array),texcoord.get(triangle[1],uv1.array),texcoord.get(triangle[2],uv2.array),cross(vCross,p1,p2);var det=dot(p0,vCross),t=dot(point,vCross)/det;cross(vCross,p2,p0);var u=dot(point,vCross)/det;cross(vCross,p0,p1);var v=dot(point,vCross)/det;Vector2.Z.scale(uv,uv0,t),Vector2.Z.scaleAndAdd(uv,uv,uv1,u),Vector2.Z.scaleAndAdd(uv,uv,uv2,v);var x=uv.x*this._chart.getWidth(),y=uv.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(eventName,{zrX:x,zrY:y})}),attachToMesh:function(mesh){this._meshes.indexOf(mesh)>=0||(events.forEach((function(eventName){mesh.on(eventName,this[makeHandlerName(eventName)],this)}),this),this._meshes.push(mesh))},detachFromMesh:function(mesh){var idx=this._meshes.indexOf(mesh);idx>=0&&this._meshes.splice(idx,1),events.forEach((function(eventName){mesh.off(eventName,this[makeHandlerName(eventName)])}),this)},dispose:function(){this._meshes.forEach((function(mesh){this.detachFromMesh(mesh)}),this)}};const util_EChartsSurface=EChartsSurface;var Light=__webpack_require__("./node_modules/claygl/src/Light.js"),util_cubemap=__webpack_require__("./node_modules/claygl/src/util/cubemap.js");const AmbientCubemap=Light.Z.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(renderer,size){if(renderer.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=util_cubemap.Z.generateNormalDistribution(),this._brdfLookup=util_cubemap.Z.integrateBRDF(renderer,this._normalDistribution));var cubemap=this.cubemap;if(!cubemap.__prefiltered){var result=util_cubemap.Z.prefilterEnvironmentMap(renderer,cubemap,{encodeRGBM:!0,width:size,height:size},this._normalDistribution,this._brdfLookup);this.cubemap=result.environmentMap,this.cubemap.__prefiltered=!0,cubemap.dispose(renderer)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(instance){var color=instance.color,intensity=instance.intensity;return[color[0]*intensity,color[1]*intensity,color[2]*intensity]}},ambientCubemapLightCubemap:{type:"t",value:function(instance){return instance.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(instance){return instance._brdfLookup}}}});var core_vendor=__webpack_require__("./node_modules/claygl/src/core/vendor.js");const AmbientSH=Light.Z.extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new core_vendor.Z.Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(instance){var color=instance.color,intensity=instance.intensity;return[color[0]*intensity,color[1]*intensity,color[2]*intensity]}},ambientSHLightCoefficients:{type:"3f",value:function(instance){for(var coefficientsTmpArr=instance._coefficientsTmpArr,i=0;i<instance.coefficients.length;i++)coefficientsTmpArr[i]=instance.coefficients[i];return coefficientsTmpArr}}}});var src_FrameBuffer=__webpack_require__("./node_modules/claygl/src/FrameBuffer.js"),Skybox=__webpack_require__("./node_modules/claygl/src/plugin/Skybox.js"),Skydome=__webpack_require__("./node_modules/claygl/src/plugin/Skydome.js"),EnvironmentMap=__webpack_require__("./node_modules/claygl/src/prePass/EnvironmentMap.js"),vec3=__webpack_require__("./node_modules/claygl/src/glmatrix/vec3.js"),sh={},targets=["px","nx","py","ny","pz","nz"];function harmonics(normal,index){var x=normal[0],y=normal[1],z=normal[2];return 0===index?1:1===index?x:2===index?y:3===index?z:4===index?x*z:5===index?y*z:6===index?x*y:7===index?3*z*z-1:x*x-y*y}var normalTransform={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};sh.projectEnvironmentMap=function(renderer,envMap,opts){var skybox;(opts=opts||{}).lod=opts.lod||0;var dummyScene=new Scene.Z,size=64;"texture2D"===envMap.textureType?skybox=new Skydome.Z({scene:dummyScene,environmentMap:envMap}):(size=envMap.image&&envMap.image.px?envMap.image.px.width:envMap.width,skybox=new Skybox.Z({scene:dummyScene,environmentMap:envMap}));var width=Math.ceil(size/Math.pow(2,opts.lod)),height=Math.ceil(size/Math.pow(2,opts.lod)),rgbmTexture=new src_Texture2D.Z({width,height}),framebuffer=new src_FrameBuffer.Z;skybox.material.define("fragment","RGBM_ENCODE"),opts.decodeRGBM&&skybox.material.define("fragment","RGBM_DECODE"),skybox.material.set("lod",opts.lod);for(var envMapPass=new EnvironmentMap.Z({texture:rgbmTexture}),cubePixels={},i=0;i<targets.length;i++){cubePixels[targets[i]]=new Uint8Array(width*height*4);var camera=envMapPass.getCamera(targets[i]);camera.fov=90,framebuffer.attach(rgbmTexture),framebuffer.bind(renderer),renderer.render(dummyScene,camera),renderer.gl.readPixels(0,0,width,height,src_Texture.Z.RGBA,src_Texture.Z.UNSIGNED_BYTE,cubePixels[targets[i]]),framebuffer.unbind(renderer)}return skybox.dispose(renderer),framebuffer.dispose(renderer),rgbmTexture.dispose(renderer),function projectEnvironmentMapCPU(renderer,cubePixels,width,height){for(var coeff=new core_vendor.Z.Float32Array(27),normal=vec3.Z.create(),texel=vec3.Z.create(),fetchNormal=vec3.Z.create(),m=0;m<9;m++){for(var result=vec3.Z.create(),k=0;k<targets.length;k++){for(var pixels=cubePixels[targets[k]],sideResult=vec3.Z.create(),divider=0,i=0,transform=normalTransform[targets[k]],y=0;y<height;y++)for(var x=0;x<width;x++){normal[0]=x/(width-1)*2-1,normal[1]=y/(height-1)*2-1,normal[2]=-1,vec3.Z.normalize(normal,normal),fetchNormal[0]=normal[transform[0]]*transform[3],fetchNormal[1]=normal[transform[1]]*transform[4],fetchNormal[2]=normal[transform[2]]*transform[5],texel[0]=pixels[i++]/255,texel[1]=pixels[i++]/255,texel[2]=pixels[i++]/255;var scale=pixels[i++]/255*8.12;texel[0]*=scale,texel[1]*=scale,texel[2]*=scale,vec3.Z.scaleAndAdd(sideResult,sideResult,texel,harmonics(fetchNormal,m)*-normal[2]),divider+=-normal[2]}vec3.Z.scaleAndAdd(result,result,sideResult,1/divider)}coeff[3*m]=result[0]/6,coeff[3*m+1]=result[1]/6,coeff[3*m+2]=result[2]/6}return coeff}(0,cubePixels,width,height)};const util_sh=sh;var retrieve=__webpack_require__("./node_modules/echarts-gl/lib/util/retrieve.js"),BoundingBox=__webpack_require__("./node_modules/claygl/src/math/BoundingBox.js"),Sphere=Geometry.Z.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var heightSegments=this.heightSegments,widthSegments=this.widthSegments,positionAttr=this.attributes.position,texcoordAttr=this.attributes.texcoord0,normalAttr=this.attributes.normal,vertexCount=(widthSegments+1)*(heightSegments+1);positionAttr.init(vertexCount),texcoordAttr.init(vertexCount),normalAttr.init(vertexCount);var x,y,z,u,v,i,j,i1,i2,i3,i4,IndicesCtor=vertexCount>65535?Uint32Array:Uint16Array,indices=this.indices=new IndicesCtor(widthSegments*heightSegments*6),radius=this.radius,phiStart=this.phiStart,phiLength=this.phiLength,thetaStart=this.thetaStart,thetaLength=this.thetaLength,pos=[],uv=[],offset=0,divider=1/(radius=this.radius);for(j=0;j<=heightSegments;j++)for(i=0;i<=widthSegments;i++)u=i/widthSegments,v=j/heightSegments,x=-radius*Math.cos(phiStart+u*phiLength)*Math.sin(thetaStart+v*thetaLength),y=radius*Math.cos(thetaStart+v*thetaLength),z=radius*Math.sin(phiStart+u*phiLength)*Math.sin(thetaStart+v*thetaLength),pos[0]=x,pos[1]=y,pos[2]=z,uv[0]=u,uv[1]=v,positionAttr.set(offset,pos),texcoordAttr.set(offset,uv),pos[0]*=divider,pos[1]*=divider,pos[2]*=divider,normalAttr.set(offset,pos),offset++;var len=widthSegments+1,n=0;for(j=0;j<heightSegments;j++)for(i=0;i<widthSegments;i++)i2=j*len+i,i1=j*len+i+1,i4=(j+1)*len+i+1,i3=(j+1)*len+i,indices[n++]=i1,indices[n++]=i2,indices[n++]=i4,indices[n++]=i2,indices[n++]=i3,indices[n++]=i4;this.boundingBox=new BoundingBox.Z,this.boundingBox.max.set(radius,radius,radius),this.boundingBox.min.set(-radius,-radius,-radius)}});const geometry_Sphere=Sphere;var Plane=__webpack_require__("./node_modules/claygl/src/geometry/Plane.js"),Cube=__webpack_require__("./node_modules/claygl/src/geometry/Cube.js");const Ambient=Light.Z.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(instance){var color=instance.color,intensity=instance.intensity;return[color[0]*intensity,color[1]*intensity,color[2]*intensity]}}}});const Directional=Light.Z.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(instance){return instance.__dir=instance.__dir||new Vector3.Z,instance.__dir.copy(instance.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(instance){var color=instance.color,intensity=instance.intensity;return[color[0]*intensity,color[1]*intensity,color[2]*intensity]}}},clone:function(){var light=Light.Z.prototype.clone.call(this);return light.shadowBias=this.shadowBias,light.shadowSlopeScale=this.shadowSlopeScale,light}});const Point=Light.Z.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(instance){return instance.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(instance){return instance.range}},pointLightColor:{type:"3f",value:function(instance){var color=instance.color,intensity=instance.intensity;return[color[0]*intensity,color[1]*intensity,color[2]*intensity]}}},clone:function(){var light=Light.Z.prototype.clone.call(this);return light.range=this.range,light}});const Spot=Light.Z.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(instance){return instance.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(instance){return instance.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(instance){return Math.cos(instance.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(instance){return Math.cos(instance.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(instance){return instance.falloffFactor}},spotLightDirection:{type:"3f",value:function(instance){return instance.__dir=instance.__dir||new Vector3.Z,instance.__dir.copy(instance.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(instance){var color=instance.color,intensity=instance.intensity;return[color[0]*intensity,color[1]*intensity,color[2]*intensity]}}},clone:function(){var light=Light.Z.prototype.clone.call(this);return light.range=this.range,light.umbraAngle=this.umbraAngle,light.penumbraAngle=this.penumbraAngle,light.falloffFactor=this.falloffFactor,light.shadowBias=this.shadowBias,light.shadowSlopeScale=this.shadowSlopeScale,light}});var Perspective=__webpack_require__("./node_modules/claygl/src/camera/Perspective.js"),Orthographic=__webpack_require__("./node_modules/claygl/src/camera/Orthographic.js"),vec4=__webpack_require__("./node_modules/claygl/src/glmatrix/vec4.js"),Vector4=function(x,y,z,w){x=x||0,y=y||0,z=z||0,w=w||0,this.array=vec4.Z.fromValues(x,y,z,w),this._dirty=!0};Vector4.prototype={constructor:Vector4,add:function(b){return vec4.Z.add(this.array,this.array,b.array),this._dirty=!0,this},set:function(x,y,z,w){return this.array[0]=x,this.array[1]=y,this.array[2]=z,this.array[3]=w,this._dirty=!0,this},setArray:function(arr){return this.array[0]=arr[0],this.array[1]=arr[1],this.array[2]=arr[2],this.array[3]=arr[3],this._dirty=!0,this},clone:function(){return new Vector4(this.x,this.y,this.z,this.w)},copy:function(b){return vec4.Z.copy(this.array,b.array),this._dirty=!0,this},dist:function(b){return vec4.Z.dist(this.array,b.array)},distance:function(b){return vec4.Z.distance(this.array,b.array)},div:function(b){return vec4.Z.div(this.array,this.array,b.array),this._dirty=!0,this},divide:function(b){return vec4.Z.divide(this.array,this.array,b.array),this._dirty=!0,this},dot:function(b){return vec4.Z.dot(this.array,b.array)},len:function(){return vec4.Z.len(this.array)},length:function(){return vec4.Z.length(this.array)},lerp:function(a,b,t){return vec4.Z.lerp(this.array,a.array,b.array,t),this._dirty=!0,this},min:function(b){return vec4.Z.min(this.array,this.array,b.array),this._dirty=!0,this},max:function(b){return vec4.Z.max(this.array,this.array,b.array),this._dirty=!0,this},mul:function(b){return vec4.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},multiply:function(b){return vec4.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},negate:function(){return vec4.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return vec4.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(scale){return vec4.Z.random(this.array,scale),this._dirty=!0,this},scale:function(s){return vec4.Z.scale(this.array,this.array,s),this._dirty=!0,this},scaleAndAdd:function(b,s){return vec4.Z.scaleAndAdd(this.array,this.array,b.array,s),this._dirty=!0,this},sqrDist:function(b){return vec4.Z.sqrDist(this.array,b.array)},squaredDistance:function(b){return vec4.Z.squaredDistance(this.array,b.array)},sqrLen:function(){return vec4.Z.sqrLen(this.array)},squaredLength:function(){return vec4.Z.squaredLength(this.array)},sub:function(b){return vec4.Z.sub(this.array,this.array,b.array),this._dirty=!0,this},subtract:function(b){return vec4.Z.subtract(this.array,this.array,b.array),this._dirty=!0,this},transformMat4:function(m){return vec4.Z.transformMat4(this.array,this.array,m.array),this._dirty=!0,this},transformQuat:function(q){return vec4.Z.transformQuat(this.array,this.array,q.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var defineProperty=Object.defineProperty;if(defineProperty){var proto=Vector4.prototype;defineProperty(proto,"x",{get:function(){return this.array[0]},set:function(value){this.array[0]=value,this._dirty=!0}}),defineProperty(proto,"y",{get:function(){return this.array[1]},set:function(value){this.array[1]=value,this._dirty=!0}}),defineProperty(proto,"z",{get:function(){return this.array[2]},set:function(value){this.array[2]=value,this._dirty=!0}}),defineProperty(proto,"w",{get:function(){return this.array[3]},set:function(value){this.array[3]=value,this._dirty=!0}})}Vector4.add=function(out,a,b){return vec4.Z.add(out.array,a.array,b.array),out._dirty=!0,out},Vector4.set=function(out,x,y,z,w){vec4.Z.set(out.array,x,y,z,w),out._dirty=!0},Vector4.copy=function(out,b){return vec4.Z.copy(out.array,b.array),out._dirty=!0,out},Vector4.distance=Vector4.dist=function(a,b){return vec4.Z.distance(a.array,b.array)},Vector4.divide=Vector4.div=function(out,a,b){return vec4.Z.divide(out.array,a.array,b.array),out._dirty=!0,out},Vector4.dot=function(a,b){return vec4.Z.dot(a.array,b.array)},Vector4.len=function(b){return vec4.Z.length(b.array)},Vector4.lerp=function(out,a,b,t){return vec4.Z.lerp(out.array,a.array,b.array,t),out._dirty=!0,out},Vector4.min=function(out,a,b){return vec4.Z.min(out.array,a.array,b.array),out._dirty=!0,out},Vector4.max=function(out,a,b){return vec4.Z.max(out.array,a.array,b.array),out._dirty=!0,out},Vector4.multiply=Vector4.mul=function(out,a,b){return vec4.Z.multiply(out.array,a.array,b.array),out._dirty=!0,out},Vector4.negate=function(out,a){return vec4.Z.negate(out.array,a.array),out._dirty=!0,out},Vector4.normalize=function(out,a){return vec4.Z.normalize(out.array,a.array),out._dirty=!0,out},Vector4.random=function(out,scale){return vec4.Z.random(out.array,scale),out._dirty=!0,out},Vector4.scale=function(out,a,scale){return vec4.Z.scale(out.array,a.array,scale),out._dirty=!0,out},Vector4.scaleAndAdd=function(out,a,b,scale){return vec4.Z.scaleAndAdd(out.array,a.array,b.array,scale),out._dirty=!0,out},Vector4.squaredDistance=Vector4.sqrDist=function(a,b){return vec4.Z.sqrDist(a.array,b.array)},Vector4.squaredLength=Vector4.sqrLen=function(a){return vec4.Z.sqrLen(a.array)},Vector4.subtract=Vector4.sub=function(out,a,b){return vec4.Z.subtract(out.array,a.array,b.array),out._dirty=!0,out},Vector4.transformMat4=function(out,a,m){return vec4.Z.transformMat4(out.array,a.array,m.array),out._dirty=!0,out},Vector4.transformQuat=function(out,a,q){return vec4.Z.transformQuat(out.array,a.array,q.array),out._dirty=!0,out};const math_Vector4=Vector4;var Quaternion=__webpack_require__("./node_modules/claygl/src/math/Quaternion.js"),mat2=__webpack_require__("./node_modules/claygl/src/glmatrix/mat2.js"),Matrix2=function(){this.array=mat2.Z.create(),this._dirty=!0};Matrix2.prototype={constructor:Matrix2,setArray:function(arr){for(var i=0;i<this.array.length;i++)this.array[i]=arr[i];return this._dirty=!0,this},clone:function(){return(new Matrix2).copy(this)},copy:function(b){return mat2.Z.copy(this.array,b.array),this._dirty=!0,this},adjoint:function(){return mat2.Z.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return mat2.Z.determinant(this.array)},identity:function(){return mat2.Z.identity(this.array),this._dirty=!0,this},invert:function(){return mat2.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(b){return mat2.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},mulLeft:function(a){return mat2.Z.mul(this.array,a.array,this.array),this._dirty=!0,this},multiply:function(b){return mat2.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},multiplyLeft:function(a){return mat2.Z.multiply(this.array,a.array,this.array),this._dirty=!0,this},rotate:function(rad){return mat2.Z.rotate(this.array,this.array,rad),this._dirty=!0,this},scale:function(v){return mat2.Z.scale(this.array,this.array,v.array),this._dirty=!0,this},transpose:function(){return mat2.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Matrix2.adjoint=function(out,a){return mat2.Z.adjoint(out.array,a.array),out._dirty=!0,out},Matrix2.copy=function(out,a){return mat2.Z.copy(out.array,a.array),out._dirty=!0,out},Matrix2.determinant=function(a){return mat2.Z.determinant(a.array)},Matrix2.identity=function(out){return mat2.Z.identity(out.array),out._dirty=!0,out},Matrix2.invert=function(out,a){return mat2.Z.invert(out.array,a.array),out._dirty=!0,out},Matrix2.multiply=Matrix2.mul=function(out,a,b){return mat2.Z.mul(out.array,a.array,b.array),out._dirty=!0,out},Matrix2.rotate=function(out,a,rad){return mat2.Z.rotate(out.array,a.array,rad),out._dirty=!0,out},Matrix2.scale=function(out,a,v){return mat2.Z.scale(out.array,a.array,v.array),out._dirty=!0,out},Matrix2.transpose=function(out,a){return mat2.Z.transpose(out.array,a.array),out._dirty=!0,out};const math_Matrix2=Matrix2;var mat2d=__webpack_require__("./node_modules/claygl/src/glmatrix/mat2d.js"),Matrix2d=function(){this.array=mat2d.Z.create(),this._dirty=!0};Matrix2d.prototype={constructor:Matrix2d,setArray:function(arr){for(var i=0;i<this.array.length;i++)this.array[i]=arr[i];return this._dirty=!0,this},clone:function(){return(new Matrix2d).copy(this)},copy:function(b){return mat2d.Z.copy(this.array,b.array),this._dirty=!0,this},determinant:function(){return mat2d.Z.determinant(this.array)},identity:function(){return mat2d.Z.identity(this.array),this._dirty=!0,this},invert:function(){return mat2d.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(b){return mat2d.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},mulLeft:function(b){return mat2d.Z.mul(this.array,b.array,this.array),this._dirty=!0,this},multiply:function(b){return mat2d.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},multiplyLeft:function(b){return mat2d.Z.multiply(this.array,b.array,this.array),this._dirty=!0,this},rotate:function(rad){return mat2d.Z.rotate(this.array,this.array,rad),this._dirty=!0,this},scale:function(s){return mat2d.Z.scale(this.array,this.array,s.array),this._dirty=!0,this},translate:function(v){return mat2d.Z.translate(this.array,this.array,v.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Matrix2d.copy=function(out,a){return mat2d.Z.copy(out.array,a.array),out._dirty=!0,out},Matrix2d.determinant=function(a){return mat2d.Z.determinant(a.array)},Matrix2d.identity=function(out){return mat2d.Z.identity(out.array),out._dirty=!0,out},Matrix2d.invert=function(out,a){return mat2d.Z.invert(out.array,a.array),out._dirty=!0,out},Matrix2d.multiply=Matrix2d.mul=function(out,a,b){return mat2d.Z.mul(out.array,a.array,b.array),out._dirty=!0,out},Matrix2d.rotate=function(out,a,rad){return mat2d.Z.rotate(out.array,a.array,rad),out._dirty=!0,out},Matrix2d.scale=function(out,a,v){return mat2d.Z.scale(out.array,a.array,v.array),out._dirty=!0,out},Matrix2d.translate=function(out,a,v){return mat2d.Z.translate(out.array,a.array,v.array),out._dirty=!0,out};const math_Matrix2d=Matrix2d;var mat3=__webpack_require__("./node_modules/claygl/src/glmatrix/mat3.js"),Matrix3=function(){this.array=mat3.Z.create(),this._dirty=!0};Matrix3.prototype={constructor:Matrix3,setArray:function(arr){for(var i=0;i<this.array.length;i++)this.array[i]=arr[i];return this._dirty=!0,this},adjoint:function(){return mat3.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Matrix3).copy(this)},copy:function(b){return mat3.Z.copy(this.array,b.array),this._dirty=!0,this},determinant:function(){return mat3.Z.determinant(this.array)},fromMat2d:function(a){return mat3.Z.fromMat2d(this.array,a.array),this._dirty=!0,this},fromMat4:function(a){return mat3.Z.fromMat4(this.array,a.array),this._dirty=!0,this},fromQuat:function(q){return mat3.Z.fromQuat(this.array,q.array),this._dirty=!0,this},identity:function(){return mat3.Z.identity(this.array),this._dirty=!0,this},invert:function(){return mat3.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(b){return mat3.Z.mul(this.array,this.array,b.array),this._dirty=!0,this},mulLeft:function(a){return mat3.Z.mul(this.array,a.array,this.array),this._dirty=!0,this},multiply:function(b){return mat3.Z.multiply(this.array,this.array,b.array),this._dirty=!0,this},multiplyLeft:function(a){return mat3.Z.multiply(this.array,a.array,this.array),this._dirty=!0,this},rotate:function(rad){return mat3.Z.rotate(this.array,this.array,rad),this._dirty=!0,this},scale:function(v){return mat3.Z.scale(this.array,this.array,v.array),this._dirty=!0,this},translate:function(v){return mat3.Z.translate(this.array,this.array,v.array),this._dirty=!0,this},normalFromMat4:function(a){return mat3.Z.normalFromMat4(this.array,a.array),this._dirty=!0,this},transpose:function(){return mat3.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Matrix3.adjoint=function(out,a){return mat3.Z.adjoint(out.array,a.array),out._dirty=!0,out},Matrix3.copy=function(out,a){return mat3.Z.copy(out.array,a.array),out._dirty=!0,out},Matrix3.determinant=function(a){return mat3.Z.determinant(a.array)},Matrix3.identity=function(out){return mat3.Z.identity(out.array),out._dirty=!0,out},Matrix3.invert=function(out,a){return mat3.Z.invert(out.array,a.array),out},Matrix3.multiply=Matrix3.mul=function(out,a,b){return mat3.Z.mul(out.array,a.array,b.array),out._dirty=!0,out},Matrix3.fromMat2d=function(out,a){return mat3.Z.fromMat2d(out.array,a.array),out._dirty=!0,out},Matrix3.fromMat4=function(out,a){return mat3.Z.fromMat4(out.array,a.array),out._dirty=!0,out},Matrix3.fromQuat=function(out,q){return mat3.Z.fromQuat(out.array,q.array),out._dirty=!0,out},Matrix3.normalFromMat4=function(out,a){return mat3.Z.normalFromMat4(out.array,a.array),out._dirty=!0,out},Matrix3.rotate=function(out,a,rad){return mat3.Z.rotate(out.array,a.array,rad),out._dirty=!0,out},Matrix3.scale=function(out,a,v){return mat3.Z.scale(out.array,a.array,v.array),out._dirty=!0,out},Matrix3.transpose=function(out,a){return mat3.Z.transpose(out.array,a.array),out._dirty=!0,out},Matrix3.translate=function(out,a,v){return mat3.Z.translate(out.array,a.array,v.array),out._dirty=!0,out};const math_Matrix3=Matrix3;var Matrix4=__webpack_require__("./node_modules/claygl/src/math/Matrix4.js"),math_Plane=__webpack_require__("./node_modules/claygl/src/math/Plane.js"),Ray=__webpack_require__("./node_modules/claygl/src/math/Ray.js"),Frustum=__webpack_require__("./node_modules/claygl/src/math/Frustum.js"),easingFuncs={linear:function(k){return k},quadraticIn:function(k){return k*k},quadraticOut:function(k){return k*(2-k)},quadraticInOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)},cubicIn:function(k){return k*k*k},cubicOut:function(k){return--k*k*k+1},cubicInOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)},quarticIn:function(k){return k*k*k*k},quarticOut:function(k){return 1- --k*k*k*k},quarticInOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)},quinticIn:function(k){return k*k*k*k*k},quinticOut:function(k){return--k*k*k*k*k+1},quinticInOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)},sinusoidalIn:function(k){return 1-Math.cos(k*Math.PI/2)},sinusoidalOut:function(k){return Math.sin(k*Math.PI/2)},sinusoidalInOut:function(k){return.5*(1-Math.cos(Math.PI*k))},exponentialIn:function(k){return 0===k?0:Math.pow(1024,k-1)},exponentialOut:function(k){return 1===k?1:1-Math.pow(2,-10*k)},exponentialInOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))},circularIn:function(k){return 1-Math.sqrt(1-k*k)},circularOut:function(k){return Math.sqrt(1- --k*k)},circularInOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)},elasticIn:function(k){var s,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},elasticOut:function(k){var s,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},elasticInOut:function(k){var s,a=.1,p=.4;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=p*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*.5+1)},backIn:function(k){var s=1.70158;return k*k*((s+1)*k-s)},backOut:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},backInOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)},bounceIn:function(k){return 1-easingFuncs.bounceOut(1-k)},bounceOut:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},bounceInOut:function(k){return k<.5?.5*easingFuncs.bounceIn(2*k):.5*easingFuncs.bounceOut(2*k-1)+.5}};const animation_easing=easingFuncs;var util=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/core/util.js"),vector=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/core/vector.js"),mathPow=Math.pow,mathSqrt=Math.sqrt,EPSILON=1e-8,THREE_SQRT=mathSqrt(3),ONE_THIRD=1/3;(0,vector.Ue)(),(0,vector.Ue)(),(0,vector.Ue)();function isAroundZero(val){return val>-EPSILON&&val<EPSILON}function cubicAt(p0,p1,p2,p3,t){var onet=1-t;return onet*onet*(onet*p0+3*t*p1)+t*t*(t*p3+3*onet*p2)}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(cubicEasingStr){var cubic=cubicEasingStr&&regexp.exec(cubicEasingStr);if(cubic){var points=cubic[1].split(","),a_1=+(0,util.fy)(points[0]),b_1=+(0,util.fy)(points[1]),c_1=+(0,util.fy)(points[2]),d_1=+(0,util.fy)(points[3]);if(isNaN(a_1+b_1+c_1+d_1))return;var roots_1=[];return function(p){return p<=0?0:p>=1?1:function cubicRootAt(p0,p1,p2,p3,val,roots){var a=p3+3*(p1-p2)-p0,b=3*(p2-2*p1+p0),c=3*(p1-p0),d=p0-val,A=b*b-3*a*c,B=b*c-9*a*d,C=c*c-3*b*d,n=0;if(isAroundZero(A)&&isAroundZero(B))isAroundZero(b)?roots[0]=0:(t1=-c/b)>=0&&t1<=1&&(roots[n++]=t1);else{var disc=B*B-4*A*C;if(isAroundZero(disc)){var K=B/A,t2=-K/2;(t1=-b/a+K)>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}else if(disc>0){var discSqrt=mathSqrt(disc),Y1=A*b+1.5*a*(-B+discSqrt),Y2=A*b+1.5*a*(-B-discSqrt);(t1=(-b-((Y1=Y1<0?-mathPow(-Y1,ONE_THIRD):mathPow(Y1,ONE_THIRD))+(Y2=Y2<0?-mathPow(-Y2,ONE_THIRD):mathPow(Y2,ONE_THIRD))))/(3*a))>=0&&t1<=1&&(roots[n++]=t1)}else{var T=(2*A*b-3*a*B)/(2*mathSqrt(A*A*A)),theta=Math.acos(T)/3,ASqrt=mathSqrt(A),tmp=Math.cos(theta),t1=(-b-2*ASqrt*tmp)/(3*a),t3=(t2=(-b+ASqrt*(tmp+THREE_SQRT*Math.sin(theta)))/(3*a),(-b+ASqrt*(tmp-THREE_SQRT*Math.sin(theta)))/(3*a));t1>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2),t3>=0&&t3<=1&&(roots[n++]=t3)}}return n}(0,a_1,c_1,1,p,roots_1)&&cubicAt(0,b_1,d_1,1,roots_1[0])}}}const animation_Clip=function(){function Clip(opts){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=opts.life||1e3,this._delay=opts.delay||0,this.loop=opts.loop||!1,this.onframe=opts.onframe||util.ZT,this.ondestroy=opts.ondestroy||util.ZT,this.onrestart=opts.onrestart||util.ZT,opts.easing&&this.setEasing(opts.easing)}return Clip.prototype.step=function(globalTime,deltaTime){if(this._inited||(this._startTime=globalTime+this._delay,this._inited=!0),!this._paused){var life=this._life,elapsedTime=globalTime-this._startTime-this._pausedTime,percent=elapsedTime/life;percent<0&&(percent=0),percent=Math.min(percent,1);var easingFunc=this.easingFunc,schedule=easingFunc?easingFunc(percent):percent;if(this.onframe(schedule),1===percent){if(!this.loop)return!0;var remainder=elapsedTime%life;this._startTime=globalTime-remainder,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=deltaTime},Clip.prototype.pause=function(){this._paused=!0},Clip.prototype.resume=function(){this._paused=!1},Clip.prototype.setEasing=function(easing){this.easing=easing,this.easingFunc=(0,util.mf)(easing)?easing:animation_easing[easing]||createCubicEasingFunc(easing)},Clip}();var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(i){return(i=Math.round(i))<0?0:i>255?255:i}function clampCssFloat(f){return f<0?0:f>1?1:f}function parseCssInt(val){var str=val;return str.length&&"%"===str.charAt(str.length-1)?clampCssByte(parseFloat(str)/100*255):clampCssByte(parseInt(str,10))}function parseCssFloat(val){var str=val;return str.length&&"%"===str.charAt(str.length-1)?clampCssFloat(parseFloat(str)/100):clampCssFloat(parseFloat(str))}function cssHueToRgb(m1,m2,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?m1+(m2-m1)*h*6:2*h<1?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1}function setRgba(out,r,g,b,a){return out[0]=r,out[1]=g,out[2]=b,out[3]=a,out}function copyRgba(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}var colorCache=new core_LRU(20),lastRemovedArr=null;function putToCache(colorStr,rgbaArr){lastRemovedArr&&copyRgba(lastRemovedArr,rgbaArr),lastRemovedArr=colorCache.put(colorStr,lastRemovedArr||rgbaArr.slice())}function color_parse(colorStr,rgbaArr){if(colorStr){rgbaArr=rgbaArr||[];var cached=colorCache.get(colorStr);if(cached)return copyRgba(rgbaArr,cached);var str=(colorStr+="").replace(/ /g,"").toLowerCase();if(str in kCSSColorTable)return copyRgba(rgbaArr,kCSSColorTable[str]),putToCache(colorStr,rgbaArr),rgbaArr;var iv,strLen=str.length;if("#"===str.charAt(0))return 4===strLen||5===strLen?(iv=parseInt(str.slice(1,4),16))>=0&&iv<=4095?(setRgba(rgbaArr,(3840&iv)>>4|(3840&iv)>>8,240&iv|(240&iv)>>4,15&iv|(15&iv)<<4,5===strLen?parseInt(str.slice(4),16)/15:1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):7===strLen||9===strLen?(iv=parseInt(str.slice(1,7),16))>=0&&iv<=16777215?(setRgba(rgbaArr,(16711680&iv)>>16,(65280&iv)>>8,255&iv,9===strLen?parseInt(str.slice(7),16)/255:1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):void 0;var op=str.indexOf("("),ep=str.indexOf(")");if(-1!==op&&ep+1===strLen){var fname=str.substr(0,op),params=str.substr(op+1,ep-(op+1)).split(","),alpha=1;switch(fname){case"rgba":if(4!==params.length)return 3===params.length?setRgba(rgbaArr,+params[0],+params[1],+params[2],1):setRgba(rgbaArr,0,0,0,1);alpha=parseCssFloat(params.pop());case"rgb":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(setRgba(rgbaArr,parseCssInt(params[0]),parseCssInt(params[1]),parseCssInt(params[2]),alpha),putToCache(colorStr,rgbaArr),rgbaArr);case"hsla":return 4!==params.length?void setRgba(rgbaArr,0,0,0,1):(params[3]=parseCssFloat(params[3]),hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);case"hsl":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);default:return}}setRgba(rgbaArr,0,0,0,1)}}function hsla2rgba(hsla,rgba){var h=(parseFloat(hsla[0])%360+360)%360/360,s=parseCssFloat(hsla[1]),l=parseCssFloat(hsla[2]),m2=l<=.5?l*(s+1):l+s-l*s,m1=2*l-m2;return setRgba(rgba=rgba||[],clampCssByte(255*cssHueToRgb(m1,m2,h+1/3)),clampCssByte(255*cssHueToRgb(m1,m2,h)),clampCssByte(255*cssHueToRgb(m1,m2,h-1/3)),1),4===hsla.length&&(rgba[3]=hsla[3]),rgba}var env=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/core/env.js");Math.round;env.Z.hasGlobalWindow&&(0,util.mf)(window.btoa);var arraySlice=Array.prototype.slice;function interpolateNumber(p0,p1,percent){return(p1-p0)*percent+p0}function interpolate1DArray(out,p0,p1,percent){for(var len=p0.length,i=0;i<len;i++)out[i]=interpolateNumber(p0[i],p1[i],percent);return out}function add1DArray(out,p0,p1,sign){for(var len=p0.length,i=0;i<len;i++)out[i]=p0[i]+p1[i]*sign;return out}function add2DArray(out,p0,p1,sign){for(var len=p0.length,len2=len&&p0[0].length,i=0;i<len;i++){out[i]||(out[i]=[]);for(var j=0;j<len2;j++)out[i][j]=p0[i][j]+p1[i][j]*sign}return out}function fillColorStops(val0,val1){for(var len0=val0.length,len1=val1.length,shorterArr=len0>len1?val1:val0,shorterLen=Math.min(len0,len1),last=shorterArr[shorterLen-1]||{color:[0,0,0,0],offset:0},i=shorterLen;i<Math.max(len0,len1);i++)shorterArr.push({offset:last.offset,color:last.color.slice()})}function fillArray(val0,val1,arrDim){var arr0=val0,arr1=val1;if(arr0.push&&arr1.push){var arr0Len=arr0.length,arr1Len=arr1.length;if(arr0Len!==arr1Len)if(arr0Len>arr1Len)arr0.length=arr1Len;else for(var i=arr0Len;i<arr1Len;i++)arr0.push(1===arrDim?arr1[i]:arraySlice.call(arr1[i]));var len2=arr0[0]&&arr0[0].length;for(i=0;i<arr0.length;i++)if(1===arrDim)isNaN(arr0[i])&&(arr0[i]=arr1[i]);else for(var j=0;j<len2;j++)isNaN(arr0[i][j])&&(arr0[i][j]=arr1[i][j])}}function cloneValue(value){if((0,util.zG)(value)){var len=value.length;if((0,util.zG)(value[0])){for(var ret=[],i=0;i<len;i++)ret.push(arraySlice.call(value[i]));return ret}return arraySlice.call(value)}return value}function rgba2String(rgba){return rgba[0]=Math.floor(rgba[0])||0,rgba[1]=Math.floor(rgba[1])||0,rgba[2]=Math.floor(rgba[2])||0,rgba[3]=null==rgba[3]?1:rgba[3],"rgba("+rgba.join(",")+")"}function isGradientValueType(valType){return 4===valType||5===valType}function isArrayValueType(valType){return 1===valType||2===valType}var tmpRgba=[0,0,0,0],Track=function(){function Track(propName){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=propName}return Track.prototype.isFinished=function(){return this._finished},Track.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Track.prototype.needsAnimate=function(){return this.keyframes.length>=1},Track.prototype.getAdditiveTrack=function(){return this._additiveTrack},Track.prototype.addKeyframe=function(time,rawValue,easing){this._needsSort=!0;var keyframes=this.keyframes,len=keyframes.length,discrete=!1,valType=6,value=rawValue;if((0,util.zG)(rawValue)){var arrayDim=function guessArrayDim(value){return(0,util.zG)(value&&value[0])?2:1}(rawValue);valType=arrayDim,(1===arrayDim&&!(0,util.hj)(rawValue[0])||2===arrayDim&&!(0,util.hj)(rawValue[0][0]))&&(discrete=!0)}else if((0,util.hj)(rawValue)&&!(0,util.Bu)(rawValue))valType=0;else if((0,util.HD)(rawValue))if(isNaN(+rawValue)){var colorArray=color_parse(rawValue);colorArray&&(value=colorArray,valType=3)}else valType=0;else if((0,util.Qq)(rawValue)){var parsedGradient=(0,util.l7)({},value);parsedGradient.colorStops=(0,util.UI)(rawValue.colorStops,(function(colorStop){return{offset:colorStop.offset,color:color_parse(colorStop.color)}})),!function isLinearGradient(val){return"linear"===val.type}(rawValue)?function isRadialGradient(val){return"radial"===val.type}(rawValue)&&(valType=5):valType=4,value=parsedGradient}0===len?this.valType=valType:valType===this.valType&&6!==valType||(discrete=!0),this.discrete=this.discrete||discrete;var kf={time,value,rawValue,percent:0};return easing&&(kf.easing=easing,kf.easingFunc=(0,util.mf)(easing)?easing:animation_easing[easing]||createCubicEasingFunc(easing)),keyframes.push(kf),kf},Track.prototype.prepare=function(maxTime,additiveTrack){var kfs=this.keyframes;this._needsSort&&kfs.sort((function(a,b){return a.time-b.time}));for(var valType=this.valType,kfsLen=kfs.length,lastKf=kfs[kfsLen-1],isDiscrete=this.discrete,isArr=isArrayValueType(valType),isGradient=isGradientValueType(valType),i=0;i<kfsLen;i++){var kf=kfs[i],value=kf.value,lastValue=lastKf.value;kf.percent=kf.time/maxTime,isDiscrete||(isArr&&i!==kfsLen-1?fillArray(value,lastValue,valType):isGradient&&fillColorStops(value.colorStops,lastValue.colorStops))}if(!isDiscrete&&5!==valType&&additiveTrack&&this.needsAnimate()&&additiveTrack.needsAnimate()&&valType===additiveTrack.valType&&!additiveTrack._finished){this._additiveTrack=additiveTrack;var startValue=kfs[0].value;for(i=0;i<kfsLen;i++)0===valType?kfs[i].additiveValue=kfs[i].value-startValue:3===valType?kfs[i].additiveValue=add1DArray([],kfs[i].value,startValue,-1):isArrayValueType(valType)&&(kfs[i].additiveValue=1===valType?add1DArray([],kfs[i].value,startValue,-1):add2DArray([],kfs[i].value,startValue,-1))}},Track.prototype.step=function(target,percent){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var frameIdx,frame,nextFrame,isAdditive=null!=this._additiveTrack,valueKey=isAdditive?"additiveValue":"value",valType=this.valType,keyframes=this.keyframes,kfsNum=keyframes.length,propName=this.propName,isValueColor=3===valType,lastFrame=this._lastFr,mathMin=Math.min;if(1===kfsNum)frame=nextFrame=keyframes[0];else{if(percent<0)frameIdx=0;else if(percent<this._lastFrP){for(frameIdx=mathMin(lastFrame+1,kfsNum-1);frameIdx>=0&&!(keyframes[frameIdx].percent<=percent);frameIdx--);frameIdx=mathMin(frameIdx,kfsNum-2)}else{for(frameIdx=lastFrame;frameIdx<kfsNum&&!(keyframes[frameIdx].percent>percent);frameIdx++);frameIdx=mathMin(frameIdx-1,kfsNum-2)}nextFrame=keyframes[frameIdx+1],frame=keyframes[frameIdx]}if(frame&&nextFrame){this._lastFr=frameIdx,this._lastFrP=percent;var interval=nextFrame.percent-frame.percent,w=0===interval?1:mathMin((percent-frame.percent)/interval,1);nextFrame.easingFunc&&(w=nextFrame.easingFunc(w));var targetArr=isAdditive?this._additiveValue:isValueColor?tmpRgba:target[propName];if(!isArrayValueType(valType)&&!isValueColor||targetArr||(targetArr=this._additiveValue=[]),this.discrete)target[propName]=w<1?frame.rawValue:nextFrame.rawValue;else if(isArrayValueType(valType))1===valType?interpolate1DArray(targetArr,frame[valueKey],nextFrame[valueKey],w):function interpolate2DArray(out,p0,p1,percent){for(var len=p0.length,len2=len&&p0[0].length,i=0;i<len;i++){out[i]||(out[i]=[]);for(var j=0;j<len2;j++)out[i][j]=interpolateNumber(p0[i][j],p1[i][j],percent)}return out}(targetArr,frame[valueKey],nextFrame[valueKey],w);else if(isGradientValueType(valType)){var val=frame[valueKey],nextVal_1=nextFrame[valueKey],isLinearGradient_1=4===valType;target[propName]={type:isLinearGradient_1?"linear":"radial",x:interpolateNumber(val.x,nextVal_1.x,w),y:interpolateNumber(val.y,nextVal_1.y,w),colorStops:(0,util.UI)(val.colorStops,(function(colorStop,idx){var nextColorStop=nextVal_1.colorStops[idx];return{offset:interpolateNumber(colorStop.offset,nextColorStop.offset,w),color:rgba2String(interpolate1DArray([],colorStop.color,nextColorStop.color,w))}})),global:nextVal_1.global},isLinearGradient_1?(target[propName].x2=interpolateNumber(val.x2,nextVal_1.x2,w),target[propName].y2=interpolateNumber(val.y2,nextVal_1.y2,w)):target[propName].r=interpolateNumber(val.r,nextVal_1.r,w)}else if(isValueColor)interpolate1DArray(targetArr,frame[valueKey],nextFrame[valueKey],w),isAdditive||(target[propName]=rgba2String(targetArr));else{var value=interpolateNumber(frame[valueKey],nextFrame[valueKey],w);isAdditive?this._additiveValue=value:target[propName]=value}isAdditive&&this._addToTarget(target)}}},Track.prototype._addToTarget=function(target){var valType=this.valType,propName=this.propName,additiveValue=this._additiveValue;0===valType?target[propName]=target[propName]+additiveValue:3===valType?(color_parse(target[propName],tmpRgba),add1DArray(tmpRgba,tmpRgba,additiveValue,1),target[propName]=rgba2String(tmpRgba)):1===valType?add1DArray(target[propName],target[propName],additiveValue,1):2===valType&&add2DArray(target[propName],target[propName],additiveValue,1)},Track}();const animation_Animator=function(){function Animator(target,loop,allowDiscreteAnimation,additiveTo){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=target,this._loop=loop,loop&&additiveTo?(0,util.H)("Can' use additive animation on looped animation."):(this._additiveAnimators=additiveTo,this._allowDiscrete=allowDiscreteAnimation)}return Animator.prototype.getMaxTime=function(){return this._maxTime},Animator.prototype.getDelay=function(){return this._delay},Animator.prototype.getLoop=function(){return this._loop},Animator.prototype.getTarget=function(){return this._target},Animator.prototype.changeTarget=function(target){this._target=target},Animator.prototype.when=function(time,props,easing){return this.whenWithKeys(time,props,(0,util.XP)(props),easing)},Animator.prototype.whenWithKeys=function(time,props,propNames,easing){for(var tracks=this._tracks,i=0;i<propNames.length;i++){var propName=propNames[i],track=tracks[propName];if(!track){track=tracks[propName]=new Track(propName);var initialValue=void 0,additiveTrack=this._getAdditiveTrack(propName);if(additiveTrack){var addtiveTrackKfs=additiveTrack.keyframes,lastFinalKf=addtiveTrackKfs[addtiveTrackKfs.length-1];initialValue=lastFinalKf&&lastFinalKf.value,3===additiveTrack.valType&&initialValue&&(initialValue=rgba2String(initialValue))}else initialValue=this._target[propName];if(null==initialValue)continue;time>0&&track.addKeyframe(0,cloneValue(initialValue),easing),this._trackKeys.push(propName)}track.addKeyframe(time,cloneValue(props[propName]),easing)}return this._maxTime=Math.max(this._maxTime,time),this},Animator.prototype.pause=function(){this._clip.pause(),this._paused=!0},Animator.prototype.resume=function(){this._clip.resume(),this._paused=!1},Animator.prototype.isPaused=function(){return!!this._paused},Animator.prototype.duration=function(duration){return this._maxTime=duration,this._force=!0,this},Animator.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var doneList=this._doneCbs;if(doneList)for(var len=doneList.length,i=0;i<len;i++)doneList[i].call(this)},Animator.prototype._abortedCallback=function(){this._setTracksFinished();var animation=this.animation,abortedList=this._abortedCbs;if(animation&&animation.removeClip(this._clip),this._clip=null,abortedList)for(var i=0;i<abortedList.length;i++)abortedList[i].call(this)},Animator.prototype._setTracksFinished=function(){for(var tracks=this._tracks,tracksKeys=this._trackKeys,i=0;i<tracksKeys.length;i++)tracks[tracksKeys[i]].setFinished()},Animator.prototype._getAdditiveTrack=function(trackName){var additiveTrack,additiveAnimators=this._additiveAnimators;if(additiveAnimators)for(var i=0;i<additiveAnimators.length;i++){var track=additiveAnimators[i].getTrack(trackName);track&&(additiveTrack=track)}return additiveTrack},Animator.prototype.start=function(easing){if(!(this._started>0)){this._started=1;for(var self=this,tracks=[],maxTime=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var propName=this._trackKeys[i],track=this._tracks[propName],additiveTrack=this._getAdditiveTrack(propName),kfs=track.keyframes,kfsNum=kfs.length;if(track.prepare(maxTime,additiveTrack),track.needsAnimate())if(!this._allowDiscrete&&track.discrete){var lastKf=kfs[kfsNum-1];lastKf&&(self._target[track.propName]=lastKf.rawValue),track.setFinished()}else tracks.push(track)}if(tracks.length||this._force){var clip=new animation_Clip({life:maxTime,loop:this._loop,delay:this._delay||0,onframe:function(percent){self._started=2;var additiveAnimators=self._additiveAnimators;if(additiveAnimators){for(var stillHasAdditiveAnimator=!1,i=0;i<additiveAnimators.length;i++)if(additiveAnimators[i]._clip){stillHasAdditiveAnimator=!0;break}stillHasAdditiveAnimator||(self._additiveAnimators=null)}for(i=0;i<tracks.length;i++)tracks[i].step(self._target,percent);var onframeList=self._onframeCbs;if(onframeList)for(i=0;i<onframeList.length;i++)onframeList[i](self._target,percent)},ondestroy:function(){self._doneCallback()}});this._clip=clip,this.animation&&this.animation.addClip(clip),easing&&clip.setEasing(easing)}else this._doneCallback();return this}},Animator.prototype.stop=function(forwardToLast){if(this._clip){var clip=this._clip;forwardToLast&&clip.onframe(1),this._abortedCallback()}},Animator.prototype.delay=function(time){return this._delay=time,this},Animator.prototype.during=function(cb){return cb&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(cb)),this},Animator.prototype.done=function(cb){return cb&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(cb)),this},Animator.prototype.aborted=function(cb){return cb&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(cb)),this},Animator.prototype.getClip=function(){return this._clip},Animator.prototype.getTrack=function(propName){return this._tracks[propName]},Animator.prototype.getTracks=function(){var _this=this;return(0,util.UI)(this._trackKeys,(function(key){return _this._tracks[key]}))},Animator.prototype.stopTracks=function(propNames,forwardToLast){if(!propNames.length||!this._clip)return!0;for(var tracks=this._tracks,tracksKeys=this._trackKeys,i=0;i<propNames.length;i++){var track=tracks[propNames[i]];track&&!track.isFinished()&&(forwardToLast?track.step(this._target,1):1===this._started&&track.step(this._target,0),track.setFinished())}var allAborted=!0;for(i=0;i<tracksKeys.length;i++)if(!tracks[tracksKeys[i]].isFinished()){allAborted=!1;break}return allAborted&&this._abortedCallback(),allAborted},Animator.prototype.saveTo=function(target,trackKeys,firstOrLast){if(target){trackKeys=trackKeys||this._trackKeys;for(var i=0;i<trackKeys.length;i++){var propName=trackKeys[i],track=this._tracks[propName];if(track&&!track.isFinished()){var kfs=track.keyframes,kf=kfs[firstOrLast?0:kfs.length-1];kf&&(target[propName]=cloneValue(kf.rawValue))}}}},Animator.prototype.__changeFinalValue=function(finalProps,trackKeys){trackKeys=trackKeys||(0,util.XP)(finalProps);for(var i=0;i<trackKeys.length;i++){var propName=trackKeys[i],track=this._tracks[propName];if(track){var kfs=track.keyframes;if(kfs.length>1){var lastKf=kfs.pop();track.addKeyframe(lastKf.time,finalProps[propName]),track.prepare(this._maxTime,track.getAdditiveTrack())}}}},Animator}();const util_animatableMixin={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(path,opts){this._animators=this._animators||[];var target;if(path){for(var pathSplitted=path.split("."),prop=this,i=0,l=pathSplitted.length;i<l;i++)prop&&(prop=prop[pathSplitted[i]]);prop&&(target=prop)}else target=this;if(null==target)throw new Error("Target "+path+" not exists");var animators=this._animators,animator=new animation_Animator(target,opts),self=this;return animator.during((function(){self.__zr&&self.__zr.refresh()})).done((function(){var idx=animators.indexOf(animator);idx>=0&&animators.splice(idx,1)})),animators.push(animator),this.__zr&&this.__zr.animation.addAnimator(animator),animator},stopAnimation:function(forwardToLast){this._animators=this._animators||[];for(var animators=this._animators,len=animators.length,i=0;i<len;i++)animators[i].stop(forwardToLast);return animators.length=0,this},addAnimatorsToZr:function(zr){if(this._animators)for(var i=0;i<this._animators.length;i++)zr.animation.addAnimator(this._animators[i])},removeAnimatorsFromZr:function(zr){if(this._animators)for(var i=0;i<this._animators.length;i++)zr.animation.removeAnimator(this._animators[i])}};var util_glsl=__webpack_require__("./node_modules/claygl/src/shader/source/util.glsl.js"),prez_glsl=__webpack_require__("./node_modules/claygl/src/shader/source/prez.glsl.js");function isValueImage(value){return value instanceof HTMLCanvasElement||value instanceof HTMLImageElement||value instanceof Image}Object.assign(Node.Z.prototype,util_animatableMixin),Shader.Z.import(util_glsl.Z),Shader.Z.import(prez_glsl.Z),Shader.Z.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),Shader.Z.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),Shader.Z.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),Shader.Z.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),Shader.Z.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),Shader.Z.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var oldAddToScene=Scene.Z.prototype.addToScene,oldRemoveFromScene=Scene.Z.prototype.removeFromScene;Scene.Z.prototype.addToScene=function(node){if(oldAddToScene.call(this,node),this.__zr){var zr=this.__zr;node.traverse((function(child){child.__zr=zr,child.addAnimatorsToZr&&child.addAnimatorsToZr(zr)}))}},Scene.Z.prototype.removeFromScene=function(node){oldRemoveFromScene.call(this,node),node.traverse((function(child){var zr=child.__zr;child.__zr=null,zr&&child.removeAnimatorsFromZr&&child.removeAnimatorsFromZr(zr)}))},Material.Z.prototype.setTextureImage=function(textureName,imgValue,api,textureOpts){if(this.shader){var texture,zr=api.getZr(),material=this;return material.autoUpdateTextureStatus=!1,material.disableTexture(textureName),function isValueNone(value){return!value||"none"===value}(imgValue)||(texture=graphicGL.loadTexture(imgValue,api,textureOpts,(function(texture){material.enableTexture(textureName),zr&&zr.refresh()})),material.set(textureName,texture)),texture}};var graphicGL={};graphicGL.Renderer=Renderer.Z,graphicGL.Node=Node.Z,graphicGL.Mesh=Mesh.Z,graphicGL.Shader=Shader.Z,graphicGL.Material=Material.Z,graphicGL.Texture=src_Texture.Z,graphicGL.Texture2D=src_Texture2D.Z,graphicGL.Geometry=Geometry.Z,graphicGL.SphereGeometry=geometry_Sphere,graphicGL.PlaneGeometry=Plane.Z,graphicGL.CubeGeometry=Cube.Z,graphicGL.AmbientLight=Ambient,graphicGL.DirectionalLight=Directional,graphicGL.PointLight=Point,graphicGL.SpotLight=Spot,graphicGL.PerspectiveCamera=Perspective.Z,graphicGL.OrthographicCamera=Orthographic.Z,graphicGL.Vector2=Vector2.Z,graphicGL.Vector3=Vector3.Z,graphicGL.Vector4=math_Vector4,graphicGL.Quaternion=Quaternion.Z,graphicGL.Matrix2=math_Matrix2,graphicGL.Matrix2d=math_Matrix2d,graphicGL.Matrix3=math_Matrix3,graphicGL.Matrix4=Matrix4.Z,graphicGL.Plane=math_Plane.Z,graphicGL.Ray=Ray.Z,graphicGL.BoundingBox=BoundingBox.Z,graphicGL.Frustum=Frustum.Z;var blankImage=null;function nearestPowerOfTwo(val){return Math.pow(2,Math.round(Math.log(val)/Math.LN2))}function convertTextureToPowerOfTwo(texture){if((texture.wrapS===src_Texture.Z.REPEAT||texture.wrapT===src_Texture.Z.REPEAT)&&texture.image){var width=nearestPowerOfTwo(texture.width),height=nearestPowerOfTwo(texture.height);if(width!==texture.width||height!==texture.height){var canvas=document.createElement("canvas");canvas.width=width,canvas.height=height,canvas.getContext("2d").drawImage(texture.image,0,0,width,height),texture.image=canvas}}}graphicGL.loadTexture=function(imgValue,api,textureOpts,cb){"function"==typeof textureOpts&&(cb=textureOpts,textureOpts={}),textureOpts=textureOpts||{};for(var keys=Object.keys(textureOpts).sort(),prefix="",i=0;i<keys.length;i++)prefix+=keys[i]+"_"+textureOpts[keys[i]]+"_";var textureCache=api.__textureCache=api.__textureCache||new core_LRU(20);if(function isECharts(value){return value.getZr&&value.setOption}(imgValue)){var id=imgValue.__textureid__;if(textureObj=textureCache.get(prefix+id))textureObj.texture.surface.setECharts(imgValue),cb&&cb(textureObj.texture);else{var surface=new util_EChartsSurface(imgValue);surface.onupdate=function(){api.getZr().refresh()},textureObj={texture:surface.getTexture()};for(i=0;i<keys.length;i++)textureObj.texture[keys[i]]=textureOpts[keys[i]];id=imgValue.__textureid__||"__ecgl_ec__"+textureObj.texture.__uid__,imgValue.__textureid__=id,textureCache.put(prefix+id,textureObj),cb&&cb(textureObj.texture)}return textureObj.texture}if(isValueImage(imgValue)){var textureObj;id=imgValue.__textureid__;if(!(textureObj=textureCache.get(prefix+id))){textureObj={texture:new graphicGL.Texture2D({image:imgValue})};for(i=0;i<keys.length;i++)textureObj.texture[keys[i]]=textureOpts[keys[i]];id=imgValue.__textureid__||"__ecgl_image__"+textureObj.texture.__uid__,imgValue.__textureid__=id,textureCache.put(prefix+id,textureObj),convertTextureToPowerOfTwo(textureObj.texture),cb&&cb(textureObj.texture)}return textureObj.texture}if(textureObj=textureCache.get(prefix+imgValue))textureObj.callbacks?textureObj.callbacks.push(cb):cb&&cb(textureObj.texture);else if(imgValue.match(/.hdr$|^data:application\/octet-stream/)){textureObj={callbacks:[cb]};var texture=util_texture.Z.loadTexture(imgValue,{exposure:textureOpts.exposure,fileType:"hdr"},(function(){texture.dirty(),textureObj.callbacks.forEach((function(cb){cb&&cb(texture)})),textureObj.callbacks=null}));textureObj.texture=texture,textureCache.put(prefix+imgValue,textureObj)}else{for(texture=new graphicGL.Texture2D({image:new Image}),i=0;i<keys.length;i++)texture[keys[i]]=textureOpts[keys[i]];textureObj={texture,callbacks:[cb]};var originalImage=texture.image;originalImage.onload=function(){texture.image=originalImage,convertTextureToPowerOfTwo(texture),texture.dirty(),textureObj.callbacks.forEach((function(cb){cb&&cb(texture)})),textureObj.callbacks=null},originalImage.crossOrigin="Anonymous",originalImage.src=imgValue,texture.image=function getBlankImage(){return null!==blankImage?blankImage:blankImage=util_texture.Z.createBlank("rgba(255,255,255,0)").image}(),textureCache.put(prefix+imgValue,textureObj)}return textureObj.texture},graphicGL.createAmbientCubemap=function(opt,renderer,api,cb){var textureUrl=(opt=opt||{}).texture,exposure=retrieve.Z.firstNotNull(opt.exposure,1),ambientCubemap=new AmbientCubemap({intensity:retrieve.Z.firstNotNull(opt.specularIntensity,1)}),ambientSH=new AmbientSH({intensity:retrieve.Z.firstNotNull(opt.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return ambientCubemap.cubemap=graphicGL.loadTexture(textureUrl,api,{exposure},(function(){ambientCubemap.cubemap.flipY=!1,ambientCubemap.prefilter(renderer,32),ambientSH.coefficients=util_sh.projectEnvironmentMap(renderer,ambientCubemap.cubemap,{lod:1}),cb&&cb()})),{specular:ambientCubemap,diffuse:ambientSH}},graphicGL.createBlankTexture=util_texture.Z.createBlank,graphicGL.isImage=isValueImage,graphicGL.additiveBlend=function(gl){gl.blendEquation(gl.FUNC_ADD),gl.blendFunc(gl.SRC_ALPHA,gl.ONE)},graphicGL.parseColor=function(colorStr,rgba){return colorStr instanceof Array?(rgba||(rgba=[]),rgba[0]=colorStr[0],rgba[1]=colorStr[1],rgba[2]=colorStr[2],colorStr.length>3?rgba[3]=colorStr[3]:rgba[3]=1,rgba):((rgba=echarts.$_.parse(colorStr||"#000",rgba)||[0,0,0,0])[0]/=255,rgba[1]/=255,rgba[2]/=255,rgba)},graphicGL.directionFromAlphaBeta=function(alpha,beta){var theta=alpha/180*Math.PI+Math.PI/2,phi=-beta/180*Math.PI+Math.PI/2,dir=[],r=Math.sin(theta);return dir[0]=r*Math.cos(phi),dir[1]=-Math.cos(theta),dir[2]=r*Math.sin(phi),dir},graphicGL.getShadowResolution=function(shadowQuality){var shadowResolution=1024;switch(shadowQuality){case"low":shadowResolution=512;break;case"medium":break;case"high":shadowResolution=2048;break;case"ultra":shadowResolution=4096}return shadowResolution},graphicGL.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],graphicGL.createShader=function(prefix){"ecgl.shadow"===prefix&&(prefix="ecgl.displayShadow");var vertexShaderStr=Shader.Z.source(prefix+".vertex"),fragmentShaderStr=Shader.Z.source(prefix+".fragment");vertexShaderStr||console.error("Vertex shader of '%s' not exits",prefix),fragmentShaderStr||console.error("Fragment shader of '%s' not exits",prefix);var shader=new Shader.Z(vertexShaderStr,fragmentShaderStr);return shader.name=prefix,shader},graphicGL.createMaterial=function(prefix,defines){defines instanceof Array||(defines=[defines]);var shader=graphicGL.createShader(prefix),material=new Material.Z({shader});return defines.forEach((function(defineName){"string"==typeof defineName&&material.define(defineName)})),material},graphicGL.setMaterialFromModel=function(shading,material,model,api){material.autoUpdateTextureStatus=!1;var materialModel=model.getModel(shading+"Material"),detailTexture=materialModel.get("detailTexture"),uvRepeat=retrieve.Z.firstNotNull(materialModel.get("textureTiling"),1),uvOffset=retrieve.Z.firstNotNull(materialModel.get("textureOffset"),0);"number"==typeof uvRepeat&&(uvRepeat=[uvRepeat,uvRepeat]),"number"==typeof uvOffset&&(uvOffset=[uvOffset,uvOffset]);var repeatParam=uvRepeat[0]>1||uvRepeat[1]>1?graphicGL.Texture.REPEAT:graphicGL.Texture.CLAMP_TO_EDGE,textureOpt={anisotropic:8,wrapS:repeatParam,wrapT:repeatParam};if("realistic"===shading){var roughness=materialModel.get("roughness"),metalness=materialModel.get("metalness");null!=metalness?isNaN(metalness)&&(material.setTextureImage("metalnessMap",metalness,api,textureOpt),metalness=retrieve.Z.firstNotNull(materialModel.get("metalnessAdjust"),.5)):metalness=0,null!=roughness?isNaN(roughness)&&(material.setTextureImage("roughnessMap",roughness,api,textureOpt),roughness=retrieve.Z.firstNotNull(materialModel.get("roughnessAdjust"),.5)):roughness=.5;var normalTextureVal=materialModel.get("normalTexture");material.setTextureImage("detailMap",detailTexture,api,textureOpt),material.setTextureImage("normalMap",normalTextureVal,api,textureOpt),material.set({roughness,metalness,detailUvRepeat:uvRepeat,detailUvOffset:uvOffset})}else if("lambert"===shading)material.setTextureImage("detailMap",detailTexture,api,textureOpt),material.set({detailUvRepeat:uvRepeat,detailUvOffset:uvOffset});else if("color"===shading)material.setTextureImage("detailMap",detailTexture,api,textureOpt),material.set({detailUvRepeat:uvRepeat,detailUvOffset:uvOffset});else if("hatching"===shading){var tams=materialModel.get("hatchingTextures")||[];tams.length;for(var i=0;i<6;i++)material.setTextureImage("hatch"+(i+1),tams[i],api,{anisotropic:8,wrapS:graphicGL.Texture.REPEAT,wrapT:graphicGL.Texture.REPEAT});material.set({detailUvRepeat:uvRepeat,detailUvOffset:uvOffset})}},graphicGL.updateVertexAnimation=function(mappingAttributes,previousMesh,currentMesh,seriesModel){var enableAnimation=seriesModel.get("animation"),duration=seriesModel.get("animationDurationUpdate"),easing=seriesModel.get("animationEasingUpdate"),shadowDepthMaterial=currentMesh.shadowDepthMaterial;if(enableAnimation&&previousMesh&&duration>0&&previousMesh.geometry.vertexCount===currentMesh.geometry.vertexCount){currentMesh.material.define("vertex","VERTEX_ANIMATION"),currentMesh.ignorePreZ=!0,shadowDepthMaterial&&shadowDepthMaterial.define("vertex","VERTEX_ANIMATION");for(var i=0;i<mappingAttributes.length;i++)currentMesh.geometry.attributes[mappingAttributes[i][0]].value=previousMesh.geometry.attributes[mappingAttributes[i][1]].value;currentMesh.geometry.dirty(),currentMesh.__percent=0,currentMesh.material.set("percent",0),currentMesh.stopAnimation(),currentMesh.animate().when(duration,{__percent:1}).during((function(){currentMesh.material.set("percent",currentMesh.__percent),shadowDepthMaterial&&shadowDepthMaterial.set("percent",currentMesh.__percent)})).done((function(){currentMesh.ignorePreZ=!1,currentMesh.material.undefine("vertex","VERTEX_ANIMATION"),shadowDepthMaterial&&shadowDepthMaterial.undefine("vertex","VERTEX_ANIMATION")})).start(easing)}else currentMesh.material.undefine("vertex","VERTEX_ANIMATION"),shadowDepthMaterial&&shadowDepthMaterial.undefine("vertex","VERTEX_ANIMATION")};const util_graphicGL=graphicGL},"./node_modules/echarts-gl/lib/util/mesh/LabelsMesh.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>LabelsMesh});var graphicGL=__webpack_require__("./node_modules/echarts-gl/lib/util/graphicGL.js"),echarts=__webpack_require__("./node_modules/echarts/lib/echarts.js"),Geometry=__webpack_require__("./node_modules/claygl/src/Geometry.js"),dynamicConvertMixin=__webpack_require__("./node_modules/echarts-gl/lib/util/geometry/dynamicConvertMixin.js"),squareTriangles=[0,1,2,0,2,3],SpritesGeometry=Geometry.Z.extend((function(){return{attributes:{position:new Geometry.Z.Attribute("position","float",3,"POSITION"),texcoord:new Geometry.Z.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new Geometry.Z.Attribute("offset","float",2),color:new Geometry.Z.Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(spriteCount){this._spriteCount=spriteCount;var vertexCount=4*spriteCount,triangleCount=2*spriteCount;this.vertexCount!==vertexCount&&(this.attributes.position.init(vertexCount),this.attributes.offset.init(vertexCount),this.attributes.color.init(vertexCount)),this.triangleCount!==triangleCount&&(this.indices=vertexCount>65535?new Uint32Array(3*triangleCount):new Uint16Array(3*triangleCount))},setSpriteAlign:function(spriteOffset,size,align,verticalAlign,margin){var leftOffset,topOffset,rightOffset,bottomOffset;switch(null==align&&(align="left"),null==verticalAlign&&(verticalAlign="top"),margin=margin||0,align){case"left":leftOffset=margin,rightOffset=size[0]+margin;break;case"center":case"middle":leftOffset=-size[0]/2,rightOffset=size[0]/2;break;case"right":leftOffset=-size[0]-margin,rightOffset=-margin}switch(verticalAlign){case"bottom":topOffset=margin,bottomOffset=size[1]+margin;break;case"middle":topOffset=-size[1]/2,bottomOffset=size[1]/2;break;case"top":topOffset=-size[1]-margin,bottomOffset=-margin}var vertexOffset=4*spriteOffset,offsetAttr=this.attributes.offset;offsetAttr.set(vertexOffset,[leftOffset,bottomOffset]),offsetAttr.set(vertexOffset+1,[rightOffset,bottomOffset]),offsetAttr.set(vertexOffset+2,[rightOffset,topOffset]),offsetAttr.set(vertexOffset+3,[leftOffset,topOffset])},addSprite:function(position,size,coords,align,verticalAlign,screenMargin){var vertexOffset=this._vertexOffset;this.setSprite(this._vertexOffset/4,position,size,coords,align,verticalAlign,screenMargin);for(var i=0;i<squareTriangles.length;i++)this.indices[3*this._faceOffset+i]=squareTriangles[i]+vertexOffset;return this._faceOffset+=2,this._vertexOffset+=4,vertexOffset/4},setSprite:function(spriteOffset,position,size,coords,align,verticalAlign,screenMargin){for(var vertexOffset=4*spriteOffset,attributes=this.attributes,i=0;i<4;i++)attributes.position.set(vertexOffset+i,position);var texcoordAttr=attributes.texcoord;texcoordAttr.set(vertexOffset,[coords[0][0],coords[0][1]]),texcoordAttr.set(vertexOffset+1,[coords[1][0],coords[0][1]]),texcoordAttr.set(vertexOffset+2,[coords[1][0],coords[1][1]]),texcoordAttr.set(vertexOffset+3,[coords[0][0],coords[1][1]]),this.setSpriteAlign(spriteOffset,size,align,verticalAlign,screenMargin)}});echarts.D5.defaults(SpritesGeometry.prototype,dynamicConvertMixin.Z);const Sprites=SpritesGeometry;graphicGL.Z.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");const LabelsMesh=graphicGL.Z.Mesh.extend((function(){return{geometry:new Sprites({dynamic:!0}),material:new graphicGL.Z.Material({shader:graphicGL.Z.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}}))},"./node_modules/echarts-gl/lib/util/retrieve.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/echarts.js");const __WEBPACK_DEFAULT_EXPORT__={firstNotNull:function(){for(var i=0,len=arguments.length;i<len;i++)if(null!=arguments[i])return arguments[i]},queryDataIndex:function(data,payload){return null!=payload.dataIndexInside?payload.dataIndexInside:null!=payload.dataIndex?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.isArray(payload.dataIndex)?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.map(payload.dataIndex,(function(value){return data.indexOfRawIndex(value)})):data.indexOfRawIndex(payload.dataIndex):null!=payload.name?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.isArray(payload.name)?echarts_lib_echarts__WEBPACK_IMPORTED_MODULE_0__.D5.map(payload.name,(function(value){return data.indexOfName(value)})):data.indexOfName(payload.name):void 0}}},"./node_modules/echarts-gl/lib/util/shader/lines3D.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},"./node_modules/echarts-gl/lib/util/visual.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getVisualColor(data){const style=data.getVisual("style");if(style){return style[data.getVisual("drawType")]}}function getVisualOpacity(data){return data.getVisual("style").opacity}function getItemVisualColor(data,idx){const style=data.getItemVisual(idx,"style");if(style){return style[data.getVisual("drawType")]}}function getItemVisualOpacity(data,idx){const style=data.getItemVisual(idx,"style");return style&&style.opacity}__webpack_require__.d(__webpack_exports__,{BM:()=>getItemVisualColor,Jk:()=>getItemVisualOpacity,NA:()=>getVisualColor,gj:()=>getVisualOpacity})},"./node_modules/echarts-gl/node_modules/zrender/lib/animation/requestAnimationFrame.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/echarts-gl/node_modules/zrender/lib/core/env.js").Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(func){return setTimeout(func,16)}},"./node_modules/echarts-gl/node_modules/zrender/lib/core/env.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var Browser=function Browser(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},env=new function Env(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(env.wxa=!0,env.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?env.worker=!0:"undefined"==typeof navigator?(env.node=!0,env.svgSupported=!0):function detect(ua,env){var browser=env.browser,firefox=ua.match(/Firefox\/([\d.]+)/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/.+?rv:(([\d.]+))/),edge=ua.match(/Edge?\/([\d.]+)/),weChat=/micromessenger/i.test(ua);firefox&&(browser.firefox=!0,browser.version=firefox[1]);ie&&(browser.ie=!0,browser.version=ie[1]);edge&&(browser.edge=!0,browser.version=edge[1],browser.newEdge=+edge[1].split(".")[0]>18);weChat&&(browser.weChat=!0);env.svgSupported="undefined"!=typeof SVGRect,env.touchEventsSupported="ontouchstart"in window&&!browser.ie&&!browser.edge,env.pointerEventsSupported="onpointerdown"in window&&(browser.edge||browser.ie&&+browser.version>=11),env.domSupported="undefined"!=typeof document;var style=document.documentElement.style;env.transform3dSupported=(browser.ie&&"transition"in style||browser.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in style)&&!("OTransition"in style),env.transformSupported=env.transform3dSupported||browser.ie&&+browser.version>=9}(navigator.userAgent,env);const __WEBPACK_DEFAULT_EXPORT__=env},"./node_modules/echarts-gl/node_modules/zrender/lib/core/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{WW:()=>concatArray,Bu:()=>eqNaN,l7:()=>extend,zG:()=>isArrayLike,mf:()=>isFunction,Qq:()=>isGradientObject,hj:()=>isNumber,HD:()=>isString,XP:()=>keys,H:()=>logError,UI:()=>map,ZT:()=>noop,fy:()=>trim});var _ctx,_cachedFont,DEFAULT_TEXT_WIDTH_MAP=function getTextWidthMap(mapStr){var map={};if("undefined"==typeof JSON)return map;for(var i=0;i<mapStr.length;i++){var char=String.fromCharCode(i+32),size=(mapStr.charCodeAt(i)-20)/100;map[char]=size}return map}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),platformApi={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(text,font){if(!_ctx){var canvas=platformApi.createCanvas();_ctx=canvas&&canvas.getContext("2d")}if(_ctx)return _cachedFont!==font&&(_cachedFont=_ctx.font=font||"12px sans-serif"),_ctx.measureText(text);text=text||"";var res=/^([0-9]*?)px$/.exec(font=font||"12px sans-serif"),fontSize=+(res&&res[1])||12,width=0;if(font.indexOf("mono")>=0)width=fontSize*text.length;else for(var i=0;i<text.length;i++){var preCalcWidth=DEFAULT_TEXT_WIDTH_MAP[text[i]];width+=null==preCalcWidth?fontSize:preCalcWidth*fontSize}return{width}},loadImage:function(src,onload,onerror){var image=new Image;return image.onload=onload,image.onerror=onerror,image.src=src,image}};reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(obj,val){return obj["[object "+val+"]"]=!0,obj}),{}),reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(obj,val){return obj["[object "+val+"Array]"]=!0,obj}),{});var objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeSlice=(arrayProto.filter,arrayProto.slice),nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__";function logError(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];"undefined"!=typeof console&&console.error.apply(console,args)}function extend(target,source){if(Object.assign)Object.assign(target,source);else for(var key in source)source.hasOwnProperty(key)&&key!==protoKey&&(target[key]=source[key]);return target}platformApi.createCanvas;function isArrayLike(data){return!!data&&("string"!=typeof data&&"number"==typeof data.length)}function map(arr,cb,context){if(!arr)return[];if(!cb)return slice(arr);if(arr.map&&arr.map===nativeMap)return arr.map(cb,context);for(var result=[],i=0,len=arr.length;i<len;i++)result.push(cb.call(context,arr[i],i,arr));return result}function reduce(arr,cb,memo,context){if(arr&&cb){for(var i=0,len=arr.length;i<len;i++)memo=cb.call(context,memo,arr[i],i,arr);return memo}}function keys(obj){if(!obj)return[];if(Object.keys)return Object.keys(obj);var keyList=[];for(var key in obj)obj.hasOwnProperty(key)&&keyList.push(key);return keyList}protoFunction&&isFunction(protoFunction.bind)&&protoFunction.call.bind(protoFunction.bind);function isArray(value){return Array.isArray?Array.isArray(value):"[object Array]"===objToString.call(value)}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isGradientObject(value){return null!=value.colorStops}function eqNaN(value){return value!=value}function slice(arr){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return nativeSlice.apply(arr,args)}function trim(str){return null==str?null:"function"==typeof str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}!function(){function HashMap(obj){this.data={};var isArr=isArray(obj);this.data={};var thisMap=this;function visit(value,key){isArr?thisMap.set(value,key):thisMap.set(key,value)}obj instanceof HashMap?obj.each(visit):obj&&function each(arr,cb,context){if(arr&&cb)if(arr.forEach&&arr.forEach===nativeForEach)arr.forEach(cb,context);else if(arr.length===+arr.length)for(var i=0,len=arr.length;i<len;i++)cb.call(context,arr[i],i,arr);else for(var key in arr)arr.hasOwnProperty(key)&&cb.call(context,arr[key],key,arr)}(obj,visit)}HashMap.prototype.get=function(key){return this.data.hasOwnProperty(key)?this.data[key]:null},HashMap.prototype.set=function(key,value){return this.data[key]=value},HashMap.prototype.each=function(cb,context){for(var key in this.data)this.data.hasOwnProperty(key)&&cb.call(context,this.data[key],key)},HashMap.prototype.keys=function(){return keys(this.data)},HashMap.prototype.removeKey=function(key){delete this.data[key]}}();function concatArray(a,b){for(var newArray=new a.constructor(a.length+b.length),i=0;i<a.length;i++)newArray[i]=a[i];var offset=a.length;for(i=0;i<b.length;i++)newArray[i+offset]=b[i];return newArray}function noop(){}Math.PI},"./node_modules/echarts-gl/node_modules/zrender/lib/core/vector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function create(x,y){return null==x&&(x=0),null==y&&(y=0),[x,y]}__webpack_require__.d(__webpack_exports__,{Ne:()=>applyTransform,Ue:()=>create});function applyTransform(out,v,m){var x=v[0],y=v[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}},"./node_modules/echarts/lib/action/roamHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getCenterCoord(view,point){return view.pointToProjected?view.pointToProjected(point):view.pointToData(point)}function updateCenterAndZoom(view,payload,zoomLimit,api){var previousZoom=view.getZoom(),center=view.getCenter(),zoom=payload.zoom,point=view.projectedToPoint?view.projectedToPoint(center):view.dataToPoint(center);if(null!=payload.dx&&null!=payload.dy&&(point[0]-=payload.dx,point[1]-=payload.dy,view.setCenter(getCenterCoord(view,point),api)),null!=zoom){if(zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;zoom=Math.max(Math.min(previousZoom*zoom,zoomMax),zoomMin)/previousZoom}view.scaleX*=zoom,view.scaleY*=zoom;var fixX=(payload.originX-view.x)*(zoom-1),fixY=(payload.originY-view.y)*(zoom-1);view.x-=fixX,view.y-=fixY,view.updateTransform(),view.setCenter(getCenterCoord(view,point),api),view.setZoom(zoom*previousZoom)}return{center:view.getCenter(),zoom:view.getZoom()}}__webpack_require__.d(__webpack_exports__,{A:()=>updateCenterAndZoom})},"./node_modules/echarts/lib/animation/basicTransition.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>updateProps,KZ:()=>initProps,XD:()=>removeElementWithFadeOut,Zi:()=>saveOldStyle,_W:()=>getOldStyle,bX:()=>removeElement,eq:()=>isElementRemoved,ke:()=>getAnimationConfig});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),transitionStore=(0,__webpack_require__("./node_modules/echarts/lib/util/model.js").Yf)();function getAnimationConfig(animationType,animatableModel,dataIndex,extraOpts,extraDelayParams){var animationPayload;if(animatableModel&&animatableModel.ecModel){var updatePayload=animatableModel.ecModel.getUpdatePayload();animationPayload=updatePayload&&updatePayload.animation}var isUpdate="update"===animationType;if(animatableModel&&animatableModel.isAnimationEnabled()){var duration=void 0,easing=void 0,delay=void 0;return extraOpts?(duration=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(extraOpts.duration,200),easing=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(extraOpts.easing,"cubicOut"),delay=0):(duration=animatableModel.getShallow(isUpdate?"animationDurationUpdate":"animationDuration"),easing=animatableModel.getShallow(isUpdate?"animationEasingUpdate":"animationEasing"),delay=animatableModel.getShallow(isUpdate?"animationDelayUpdate":"animationDelay")),animationPayload&&(null!=animationPayload.duration&&(duration=animationPayload.duration),null!=animationPayload.easing&&(easing=animationPayload.easing),null!=animationPayload.delay&&(delay=animationPayload.delay)),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(delay)&&(delay=delay(dataIndex,extraDelayParams)),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(duration)&&(duration=duration(dataIndex)),{duration:duration||0,delay,easing}}return null}function animateOrSetProps(animationType,el,props,animatableModel,dataIndex,cb,during){var removeOpt,isFrom=!1;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(dataIndex)?(during=cb,cb=dataIndex,dataIndex=null):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(dataIndex)&&(cb=dataIndex.cb,during=dataIndex.during,isFrom=dataIndex.isFrom,removeOpt=dataIndex.removeOpt,dataIndex=dataIndex.dataIndex);var isRemove="leave"===animationType;isRemove||el.stopAnimation("leave");var animationConfig=getAnimationConfig(animationType,animatableModel,dataIndex,isRemove?removeOpt||{}:null,animatableModel&&animatableModel.getAnimationDelayParams?animatableModel.getAnimationDelayParams(el,dataIndex):null);if(animationConfig&&animationConfig.duration>0){var animateConfig={duration:animationConfig.duration,delay:animationConfig.delay||0,easing:animationConfig.easing,done:cb,force:!!cb||!!during,setToFinal:!isRemove,scope:animationType,during};isFrom?el.animateFrom(props,animateConfig):el.animateTo(props,animateConfig)}else el.stopAnimation(),!isFrom&&el.attr(props),during&&during(1),cb&&cb()}function updateProps(el,props,animatableModel,dataIndex,cb,during){animateOrSetProps("update",el,props,animatableModel,dataIndex,cb,during)}function initProps(el,props,animatableModel,dataIndex,cb,during){animateOrSetProps("enter",el,props,animatableModel,dataIndex,cb,during)}function isElementRemoved(el){if(!el.__zr)return!0;for(var i=0;i<el.animators.length;i++){if("leave"===el.animators[i].scope)return!0}return!1}function removeElement(el,props,animatableModel,dataIndex,cb,during){isElementRemoved(el)||animateOrSetProps("leave",el,props,animatableModel,dataIndex,cb,during)}function fadeOutDisplayable(el,animatableModel,dataIndex,done){el.removeTextContent(),el.removeTextGuideLine(),removeElement(el,{style:{opacity:0}},animatableModel,dataIndex,done)}function removeElementWithFadeOut(el,animatableModel,dataIndex){function doRemove(){el.parent&&el.parent.remove(el)}el.isGroup?el.traverse((function(disp){disp.isGroup||fadeOutDisplayable(disp,animatableModel,dataIndex,doRemove)})):fadeOutDisplayable(el,animatableModel,dataIndex,doRemove)}function saveOldStyle(el){transitionStore(el).oldStyle=el.style}function getOldStyle(el){return transitionStore(el).oldStyle}},"./node_modules/echarts/lib/chart/bar/BaseBarSeries.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),_model_Series_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),_helper_createSeriesData_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),BaseBarSeriesModel=function(_super){function BaseBarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BaseBarSeriesModel.type,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(BaseBarSeriesModel,_super),BaseBarSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,_helper_createSeriesData_js__WEBPACK_IMPORTED_MODULE_1__.Z)(null,this,{useEncodeDefaulter:!0})},BaseBarSeriesModel.prototype.getMarkerPosition=function(value,dims,startingAtTick){var coordSys=this.coordinateSystem;if(coordSys&&coordSys.clampData){var clampData_1=coordSys.clampData(value),pt_1=coordSys.dataToPoint(clampData_1);if(startingAtTick)(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(coordSys.getAxes(),(function(axis,idx){if("category"===axis.type&&null!=dims){var tickCoords=axis.getTicksCoords(),targetTickId=clampData_1[idx],isEnd="x1"===dims[idx]||"y1"===dims[idx];if(isEnd&&(targetTickId+=1),tickCoords.length<2)return;if(2===tickCoords.length)return void(pt_1[idx]=axis.toGlobalCoord(axis.getExtent()[isEnd?1:0]));for(var leftCoord=void 0,coord=void 0,stepTickValue=1,i=0;i<tickCoords.length;i++){var tickCoord=tickCoords[i].coord,tickValue=i===tickCoords.length-1?tickCoords[i-1].tickValue+stepTickValue:tickCoords[i].tickValue;if(tickValue===targetTickId){coord=tickCoord;break}if(tickValue<targetTickId)leftCoord=tickCoord;else if(null!=leftCoord&&tickValue>targetTickId){coord=(tickCoord+leftCoord)/2;break}1===i&&(stepTickValue=tickValue-tickCoords[0].tickValue)}null==coord&&(leftCoord?leftCoord&&(coord=tickCoords[tickCoords.length-1].coord):coord=tickCoords[0].coord),pt_1[idx]=axis.toGlobalCoord(coord)}}));else{var data=this.getData(),offset=data.getLayout("offset"),size=data.getLayout("size"),offsetIndex=coordSys.getBaseAxis().isHorizontal()?0:1;pt_1[offsetIndex]+=offset+size/2}return pt_1}return[NaN,NaN]},BaseBarSeriesModel.type="series.__base_bar__",BaseBarSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},BaseBarSeriesModel}(_model_Series_js__WEBPACK_IMPORTED_MODULE_3__.Z);_model_Series_js__WEBPACK_IMPORTED_MODULE_3__.Z.registerClass(BaseBarSeriesModel);const __WEBPACK_DEFAULT_EXPORT__=BaseBarSeriesModel},"./node_modules/echarts/lib/chart/bar/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),barGrid=__webpack_require__("./node_modules/echarts/lib/layout/barGrid.js"),dataSample=__webpack_require__("./node_modules/echarts/lib/processor/dataSample.js"),tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),BaseBarSeries=__webpack_require__("./node_modules/echarts/lib/chart/bar/BaseBarSeries.js"),createSeriesData=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),component=__webpack_require__("./node_modules/echarts/lib/util/component.js");const BarSeries=function(_super){function BarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BarSeriesModel.type,_this}return(0,tslib_es6.ZT)(BarSeriesModel,_super),BarSeriesModel.prototype.getInitialData=function(){return(0,createSeriesData.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},BarSeriesModel.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},BarSeriesModel.prototype.getProgressiveThreshold=function(){var progressiveThreshold=this.get("progressiveThreshold"),largeThreshold=this.get("largeThreshold");return largeThreshold>progressiveThreshold&&(progressiveThreshold=largeThreshold),progressiveThreshold},BarSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.rect(data.getItemLayout(dataIndex))},BarSeriesModel.type="series.bar",BarSeriesModel.dependencies=["grid","polar"],BarSeriesModel.defaultOption=(0,component.ZL)(BaseBarSeries.Z.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),BarSeriesModel}(BaseBarSeries.Z);var Path=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),graphic=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),basicTransition=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),Sector=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Sector.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),throttle=__webpack_require__("./node_modules/echarts/lib/util/throttle.js"),createClipPathFromCoordSys=__webpack_require__("./node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js"),sausage=__webpack_require__("./node_modules/echarts/lib/util/shape/sausage.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/coord/CoordinateSystem.js"),labelHelper=__webpack_require__("./node_modules/echarts/lib/chart/helper/labelHelper.js"),contain_text=__webpack_require__("./node_modules/zrender/lib/contain/text.js");function adjustAngleDistanceX(angle,distance,isEnd){return distance*Math.sin(angle)*(isEnd?-1:1)}function adjustAngleDistanceY(angle,distance,isEnd){return distance*Math.cos(angle)*(isEnd?1:-1)}var sectorHelper=__webpack_require__("./node_modules/echarts/lib/chart/helper/sectorHelper.js"),mathMax=Math.max,mathMin=Math.min;var BarView=function(_super){function BarView(){var _this=_super.call(this)||this;return _this.type=BarView.type,_this._isFirstFrame=!0,_this}return(0,tslib_es6.ZT)(BarView,_super),BarView.prototype.render=function(seriesModel,ecModel,api,payload){this._model=seriesModel,this._removeOnRenderedListener(api),this._updateDrawMode(seriesModel);var coordinateSystemType=seriesModel.get("coordinateSystem");("cartesian2d"===coordinateSystemType||"polar"===coordinateSystemType)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(seriesModel,ecModel,api):this._renderNormal(seriesModel,ecModel,api,payload))},BarView.prototype.incrementalPrepareRender=function(seriesModel){this._clear(),this._updateDrawMode(seriesModel),this._updateLargeClip(seriesModel)},BarView.prototype.incrementalRender=function(params,seriesModel){this._progressiveEls=[],this._incrementalRenderLarge(params,seriesModel)},BarView.prototype.eachRendered=function(cb){(0,graphic.traverseElements)(this._progressiveEls||this.group,cb)},BarView.prototype._updateDrawMode=function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;null!=this._isLargeDraw&&isLargeDraw===this._isLargeDraw||(this._isLargeDraw=isLargeDraw,this._clear())},BarView.prototype._renderNormal=function(seriesModel,ecModel,api,payload){var isHorizontalOrRadial,group=this.group,data=seriesModel.getData(),oldData=this._data,coord=seriesModel.coordinateSystem,baseAxis=coord.getBaseAxis();"cartesian2d"===coord.type?isHorizontalOrRadial=baseAxis.isHorizontal():"polar"===coord.type&&(isHorizontalOrRadial="angle"===baseAxis.dim);var animationModel=seriesModel.isAnimationEnabled()?seriesModel:null,realtimeSortCfg=function shouldRealtimeSort(seriesModel,coordSys){var realtimeSortOption=seriesModel.get("realtimeSort",!0),baseAxis=coordSys.getBaseAxis();0;if(realtimeSortOption&&"category"===baseAxis.type&&"cartesian2d"===coordSys.type)return{baseAxis,otherAxis:coordSys.getOtherAxis(baseAxis)}}(seriesModel,coord);realtimeSortCfg&&this._enableRealtimeSort(realtimeSortCfg,data,api);var needsClip=seriesModel.get("clip",!0)||realtimeSortCfg,coordSysClipArea=function getClipArea(coord,data){var coordSysClipArea=coord.getArea&&coord.getArea();if((0,CoordinateSystem.H)(coord,"cartesian2d")){var baseAxis=coord.getBaseAxis();if("category"!==baseAxis.type||!baseAxis.onBand){var expandWidth=data.getLayout("bandWidth");baseAxis.isHorizontal()?(coordSysClipArea.x-=expandWidth,coordSysClipArea.width+=2*expandWidth):(coordSysClipArea.y-=expandWidth,coordSysClipArea.height+=2*expandWidth)}}return coordSysClipArea}(coord,data);group.removeClipPath();var roundCap=seriesModel.get("roundCap",!0),drawBackground=seriesModel.get("showBackground",!0),backgroundModel=seriesModel.getModel("backgroundStyle"),barBorderRadius=backgroundModel.get("borderRadius")||0,bgEls=[],oldBgEls=this._backgroundEls,isInitSort=payload&&payload.isInitSort,isChangeOrder=payload&&"changeAxisOrder"===payload.type;function createBackground(dataIndex){var bgLayout=getLayout[coord.type](data,dataIndex),bgEl=function createBackgroundEl(coord,isHorizontalOrRadial,layout){var ElementClz="polar"===coord.type?Sector.C:Rect.Z;return new ElementClz({shape:createBackgroundShape(isHorizontalOrRadial,layout,coord),silent:!0,z2:0})}(coord,isHorizontalOrRadial,bgLayout);return bgEl.useStyle(backgroundModel.getItemStyle()),"cartesian2d"===coord.type?bgEl.setShape("r",barBorderRadius):bgEl.setShape("cornerRadius",barBorderRadius),bgEls[dataIndex]=bgEl,bgEl}data.diff(oldData).add((function(dataIndex){var itemModel=data.getItemModel(dataIndex),layout=getLayout[coord.type](data,dataIndex,itemModel);if(drawBackground&&createBackground(dataIndex),data.hasValue(dataIndex)&&isValidLayout[coord.type](layout)){var isClipped=!1;needsClip&&(isClipped=clip[coord.type](coordSysClipArea,layout));var el=elementCreator[coord.type](seriesModel,data,dataIndex,layout,isHorizontalOrRadial,animationModel,baseAxis.model,!1,roundCap);realtimeSortCfg&&(el.forceLabelAnimation=!0),updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type),isInitSort?el.attr({shape:layout}):realtimeSortCfg?updateRealtimeAnimation(realtimeSortCfg,animationModel,el,layout,dataIndex,isHorizontalOrRadial,!1,!1):(0,basicTransition.KZ)(el,{shape:layout},seriesModel,dataIndex),data.setItemGraphicEl(dataIndex,el),group.add(el),el.ignore=isClipped}})).update((function(newIndex,oldIndex){var itemModel=data.getItemModel(newIndex),layout=getLayout[coord.type](data,newIndex,itemModel);if(drawBackground){var bgEl=void 0;0===oldBgEls.length?bgEl=createBackground(oldIndex):((bgEl=oldBgEls[oldIndex]).useStyle(backgroundModel.getItemStyle()),"cartesian2d"===coord.type?bgEl.setShape("r",barBorderRadius):bgEl.setShape("cornerRadius",barBorderRadius),bgEls[newIndex]=bgEl);var bgLayout=getLayout[coord.type](data,newIndex),shape=createBackgroundShape(isHorizontalOrRadial,bgLayout,coord);(0,basicTransition.D)(bgEl,{shape},animationModel,newIndex)}var el=oldData.getItemGraphicEl(oldIndex);if(data.hasValue(newIndex)&&isValidLayout[coord.type](layout)){var isClipped=!1;if(needsClip&&(isClipped=clip[coord.type](coordSysClipArea,layout))&&group.remove(el),el?(0,basicTransition.Zi)(el):el=elementCreator[coord.type](seriesModel,data,newIndex,layout,isHorizontalOrRadial,animationModel,baseAxis.model,!!el,roundCap),realtimeSortCfg&&(el.forceLabelAnimation=!0),isChangeOrder){var textEl=el.getTextContent();if(textEl){var labelInnerStore=(0,labelStyle.qA)(textEl);null!=labelInnerStore.prevValue&&(labelInnerStore.prevValue=labelInnerStore.value)}}else updateStyle(el,data,newIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type);isInitSort?el.attr({shape:layout}):realtimeSortCfg?updateRealtimeAnimation(realtimeSortCfg,animationModel,el,layout,newIndex,isHorizontalOrRadial,!0,isChangeOrder):(0,basicTransition.D)(el,{shape:layout},seriesModel,newIndex,null),data.setItemGraphicEl(newIndex,el),el.ignore=isClipped,group.add(el)}else group.remove(el)})).remove((function(dataIndex){var el=oldData.getItemGraphicEl(dataIndex);el&&(0,basicTransition.XD)(el,seriesModel,dataIndex)})).execute();var bgGroup=this._backgroundGroup||(this._backgroundGroup=new Group.Z);bgGroup.removeAll();for(var i=0;i<bgEls.length;++i)bgGroup.add(bgEls[i]);group.add(bgGroup),this._backgroundEls=bgEls,this._data=data},BarView.prototype._renderLarge=function(seriesModel,ecModel,api){this._clear(),createLarge(seriesModel,this.group),this._updateLargeClip(seriesModel)},BarView.prototype._incrementalRenderLarge=function(params,seriesModel){this._removeBackground(),createLarge(seriesModel,this.group,this._progressiveEls,!0)},BarView.prototype._updateLargeClip=function(seriesModel){var clipPath=seriesModel.get("clip",!0)&&(0,createClipPathFromCoordSys.lQ)(seriesModel.coordinateSystem,!1,seriesModel),group=this.group;clipPath?group.setClipPath(clipPath):group.removeClipPath()},BarView.prototype._enableRealtimeSort=function(realtimeSortCfg,data,api){var _this=this;if(data.count()){var baseAxis=realtimeSortCfg.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(data,realtimeSortCfg,api),this._isFirstFrame=!1;else{var orderMapping_1=function(idx){var el=data.getItemGraphicEl(idx),shape=el&&el.shape;return shape&&Math.abs(baseAxis.isHorizontal()?shape.height:shape.width)||0};this._onRendered=function(){_this._updateSortWithinSameData(data,orderMapping_1,baseAxis,api)},api.getZr().on("rendered",this._onRendered)}}},BarView.prototype._dataSort=function(data,baseAxis,orderMapping){var info=[];return data.each(data.mapDimension(baseAxis.dim),(function(ordinalNumber,dataIdx){var mappedValue=orderMapping(dataIdx);mappedValue=null==mappedValue?NaN:mappedValue,info.push({dataIndex:dataIdx,mappedValue,ordinalNumber})})),info.sort((function(a,b){return b.mappedValue-a.mappedValue})),{ordinalNumbers:(0,util.map)(info,(function(item){return item.ordinalNumber}))}},BarView.prototype._isOrderChangedWithinSameData=function(data,orderMapping,baseAxis){for(var scale=baseAxis.scale,ordinalDataDim=data.mapDimension(baseAxis.dim),lastValue=Number.MAX_VALUE,tickNum=0,len=scale.getOrdinalMeta().categories.length;tickNum<len;++tickNum){var rawIdx=data.rawIndexOf(ordinalDataDim,scale.getRawOrdinalNumber(tickNum)),value=rawIdx<0?Number.MIN_VALUE:orderMapping(data.indexOfRawIndex(rawIdx));if(value>lastValue)return!0;lastValue=value}return!1},BarView.prototype._isOrderDifferentInView=function(orderInfo,baseAxis){for(var scale=baseAxis.scale,extent=scale.getExtent(),tickNum=Math.max(0,extent[0]),tickMax=Math.min(extent[1],scale.getOrdinalMeta().categories.length-1);tickNum<=tickMax;++tickNum)if(orderInfo.ordinalNumbers[tickNum]!==scale.getRawOrdinalNumber(tickNum))return!0},BarView.prototype._updateSortWithinSameData=function(data,orderMapping,baseAxis,api){if(this._isOrderChangedWithinSameData(data,orderMapping,baseAxis)){var sortInfo=this._dataSort(data,baseAxis,orderMapping);this._isOrderDifferentInView(sortInfo,baseAxis)&&(this._removeOnRenderedListener(api),api.dispatchAction({type:"changeAxisOrder",componentType:baseAxis.dim+"Axis",axisId:baseAxis.index,sortInfo}))}},BarView.prototype._dispatchInitSort=function(data,realtimeSortCfg,api){var baseAxis=realtimeSortCfg.baseAxis,sortResult=this._dataSort(data,baseAxis,(function(dataIdx){return data.get(data.mapDimension(realtimeSortCfg.otherAxis.dim),dataIdx)}));api.dispatchAction({type:"changeAxisOrder",componentType:baseAxis.dim+"Axis",isInitSort:!0,axisId:baseAxis.index,sortInfo:sortResult})},BarView.prototype.remove=function(ecModel,api){this._clear(this._model),this._removeOnRenderedListener(api)},BarView.prototype.dispose=function(ecModel,api){this._removeOnRenderedListener(api)},BarView.prototype._removeOnRenderedListener=function(api){this._onRendered&&(api.getZr().off("rendered",this._onRendered),this._onRendered=null)},BarView.prototype._clear=function(model){var group=this.group,data=this._data;model&&model.isAnimationEnabled()&&data&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],data.eachItemGraphicEl((function(el){(0,basicTransition.XD)(el,model,(0,innerStore.A)(el).dataIndex)}))):group.removeAll(),this._data=null,this._isFirstFrame=!0},BarView.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},BarView.type="bar",BarView}(Chart.Z),clip={cartesian2d:function(coordSysBoundingRect,layout){var signWidth=layout.width<0?-1:1,signHeight=layout.height<0?-1:1;signWidth<0&&(layout.x+=layout.width,layout.width=-layout.width),signHeight<0&&(layout.y+=layout.height,layout.height=-layout.height);var coordSysX2=coordSysBoundingRect.x+coordSysBoundingRect.width,coordSysY2=coordSysBoundingRect.y+coordSysBoundingRect.height,x=mathMax(layout.x,coordSysBoundingRect.x),x2=mathMin(layout.x+layout.width,coordSysX2),y=mathMax(layout.y,coordSysBoundingRect.y),y2=mathMin(layout.y+layout.height,coordSysY2),xClipped=x2<x,yClipped=y2<y;return layout.x=xClipped&&x>coordSysX2?x2:x,layout.y=yClipped&&y>coordSysY2?y2:y,layout.width=xClipped?0:x2-x,layout.height=yClipped?0:y2-y,signWidth<0&&(layout.x+=layout.width,layout.width=-layout.width),signHeight<0&&(layout.y+=layout.height,layout.height=-layout.height),xClipped||yClipped},polar:function(coordSysClipArea,layout){var signR=layout.r0<=layout.r?1:-1;if(signR<0){var tmp=layout.r;layout.r=layout.r0,layout.r0=tmp}var r=mathMin(layout.r,coordSysClipArea.r),r0=mathMax(layout.r0,coordSysClipArea.r0);layout.r=r,layout.r0=r0;var clipped=r-r0<0;if(signR<0){tmp=layout.r;layout.r=layout.r0,layout.r0=tmp}return clipped}},elementCreator={cartesian2d:function(seriesModel,data,newIndex,layout,isHorizontal,animationModel,axisModel,isUpdate,roundCap){var rect=new Rect.Z({shape:(0,util.extend)({},layout),z2:1});(rect.__dataIndex=newIndex,rect.name="item",animationModel)&&(rect.shape[isHorizontal?"height":"width"]=0);return rect},polar:function(seriesModel,data,newIndex,layout,isRadial,animationModel,axisModel,isUpdate,roundCap){var ShapeClass=!isRadial&&roundCap?sausage.Z:Sector.C,sector=new ShapeClass({shape:layout,z2:1});sector.name="item";var positionMap=createPolarPositionMapping(isRadial);if(sector.calculateTextPosition=function createSectorCalculateTextPosition(positionMapping,opts){var isRoundCap=(opts=opts||{}).isRoundCap;return function(out,opts,boundingRect){var textPosition=opts.position;if(!textPosition||textPosition instanceof Array)return(0,contain_text.wI)(out,opts,boundingRect);var mappedSectorPosition=positionMapping(textPosition),distance=null!=opts.distance?opts.distance:5,sector=this.shape,cx=sector.cx,cy=sector.cy,r=sector.r,r0=sector.r0,middleR=(r+r0)/2,startAngle=sector.startAngle,endAngle=sector.endAngle,middleAngle=(startAngle+endAngle)/2,extraDist=isRoundCap?Math.abs(r-r0)/2:0,mathCos=Math.cos,mathSin=Math.sin,x=cx+r*mathCos(startAngle),y=cy+r*mathSin(startAngle),textAlign="left",textVerticalAlign="top";switch(mappedSectorPosition){case"startArc":x=cx+(r0-distance)*mathCos(middleAngle),y=cy+(r0-distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="top";break;case"insideStartArc":x=cx+(r0+distance)*mathCos(middleAngle),y=cy+(r0+distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="bottom";break;case"startAngle":x=cx+middleR*mathCos(startAngle)+adjustAngleDistanceX(startAngle,distance+extraDist,!1),y=cy+middleR*mathSin(startAngle)+adjustAngleDistanceY(startAngle,distance+extraDist,!1),textAlign="right",textVerticalAlign="middle";break;case"insideStartAngle":x=cx+middleR*mathCos(startAngle)+adjustAngleDistanceX(startAngle,-distance+extraDist,!1),y=cy+middleR*mathSin(startAngle)+adjustAngleDistanceY(startAngle,-distance+extraDist,!1),textAlign="left",textVerticalAlign="middle";break;case"middle":x=cx+middleR*mathCos(middleAngle),y=cy+middleR*mathSin(middleAngle),textAlign="center",textVerticalAlign="middle";break;case"endArc":x=cx+(r+distance)*mathCos(middleAngle),y=cy+(r+distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="bottom";break;case"insideEndArc":x=cx+(r-distance)*mathCos(middleAngle),y=cy+(r-distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="top";break;case"endAngle":x=cx+middleR*mathCos(endAngle)+adjustAngleDistanceX(endAngle,distance+extraDist,!0),y=cy+middleR*mathSin(endAngle)+adjustAngleDistanceY(endAngle,distance+extraDist,!0),textAlign="left",textVerticalAlign="middle";break;case"insideEndAngle":x=cx+middleR*mathCos(endAngle)+adjustAngleDistanceX(endAngle,-distance+extraDist,!0),y=cy+middleR*mathSin(endAngle)+adjustAngleDistanceY(endAngle,-distance+extraDist,!0),textAlign="right",textVerticalAlign="middle";break;default:return(0,contain_text.wI)(out,opts,boundingRect)}return(out=out||{}).x=x,out.y=y,out.align=textAlign,out.verticalAlign=textVerticalAlign,out}}(positionMap,{isRoundCap:ShapeClass===sausage.Z}),animationModel){var animateProperty=isRadial?"r":"endAngle",animateTarget={};sector.shape[animateProperty]=isRadial?layout.r0:layout.startAngle,animateTarget[animateProperty]=layout[animateProperty],(isUpdate?basicTransition.D:basicTransition.KZ)(sector,{shape:animateTarget},animationModel)}return sector}};function updateRealtimeAnimation(realtimeSortCfg,seriesAnimationModel,el,layout,newIndex,isHorizontal,isUpdate,isChangeOrder){var seriesTarget,axisTarget;isHorizontal?(axisTarget={x:layout.x,width:layout.width},seriesTarget={y:layout.y,height:layout.height}):(axisTarget={y:layout.y,height:layout.height},seriesTarget={x:layout.x,width:layout.width}),isChangeOrder||(isUpdate?basicTransition.D:basicTransition.KZ)(el,{shape:seriesTarget},seriesAnimationModel,newIndex,null);var axisAnimationModel=seriesAnimationModel?realtimeSortCfg.baseAxis.model:null;(isUpdate?basicTransition.D:basicTransition.KZ)(el,{shape:axisTarget},axisAnimationModel,newIndex)}function checkPropertiesNotValid(obj,props){for(var i=0;i<props.length;i++)if(!isFinite(obj[props[i]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(layout){return!checkPropertiesNotValid(layout,rectPropties)},polar:function(layout){return!checkPropertiesNotValid(layout,polarPropties)}},getLayout={cartesian2d:function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex),fixedLineWidth=itemModel?function getLineWidth(itemModel,rawLayout){var borderColor=itemModel.get(["itemStyle","borderColor"]);if(!borderColor||"none"===borderColor)return 0;var lineWidth=itemModel.get(["itemStyle","borderWidth"])||0,width=isNaN(rawLayout.width)?Number.MAX_VALUE:Math.abs(rawLayout.width),height=isNaN(rawLayout.height)?Number.MAX_VALUE:Math.abs(rawLayout.height);return Math.min(lineWidth,width,height)}(itemModel,layout):0,signX=layout.width>0?1:-1,signY=layout.height>0?1:-1;return{x:layout.x+signX*fixedLineWidth/2,y:layout.y+signY*fixedLineWidth/2,width:layout.width-signX*fixedLineWidth,height:layout.height-signY*fixedLineWidth}},polar:function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex);return{cx:layout.cx,cy:layout.cy,r0:layout.r0,r:layout.r,startAngle:layout.startAngle,endAngle:layout.endAngle,clockwise:layout.clockwise}}};function createPolarPositionMapping(isRadial){return function(isRadial){var arcOrAngle=isRadial?"Arc":"Angle";return function(position){switch(position){case"start":case"insideStart":case"end":case"insideEnd":return position+arcOrAngle;default:return position}}}(isRadial)}function updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,isPolar){var style=data.getItemVisual(dataIndex,"style");if(isPolar){if(!seriesModel.get("roundCap")){var sectorShape=el.shape,cornerRadius=(0,sectorHelper.T)(itemModel.getModel("itemStyle"),sectorShape,!0);(0,util.extend)(sectorShape,cornerRadius),el.setShape(sectorShape)}}else{var borderRadius=itemModel.get(["itemStyle","borderRadius"])||0;el.setShape("r",borderRadius)}el.useStyle(style);var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&el.attr("cursor",cursorStyle);var labelPositionOutside=isPolar?isHorizontalOrRadial?layout.r>=layout.r0?"endArc":"startArc":layout.endAngle>=layout.startAngle?"endAngle":"startAngle":isHorizontalOrRadial?layout.height>=0?"bottom":"top":layout.width>=0?"right":"left",labelStatesModels=(0,labelStyle.k3)(itemModel);(0,labelStyle.ni)(el,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:dataIndex,defaultText:(0,labelHelper.H)(seriesModel.getData(),dataIndex),inheritColor:style.fill,defaultOpacity:style.opacity,defaultOutsidePosition:labelPositionOutside});var label=el.getTextContent();if(isPolar&&label){var position=itemModel.get(["label","position"]);el.textConfig.inside="middle"===position||null,function setSectorTextRotation(sector,textPosition,positionMapping,rotateType){if((0,util.isNumber)(rotateType))sector.setTextConfig({rotation:rotateType});else if((0,util.isArray)(textPosition))sector.setTextConfig({rotation:0});else{var anchorAngle,shape=sector.shape,startAngle=shape.clockwise?shape.startAngle:shape.endAngle,endAngle=shape.clockwise?shape.endAngle:shape.startAngle,middleAngle=(startAngle+endAngle)/2,mappedSectorPosition=positionMapping(textPosition);switch(mappedSectorPosition){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":anchorAngle=middleAngle;break;case"startAngle":case"insideStartAngle":anchorAngle=startAngle;break;case"endAngle":case"insideEndAngle":anchorAngle=endAngle;break;default:return void sector.setTextConfig({rotation:0})}var rotate=1.5*Math.PI-anchorAngle;"middle"===mappedSectorPosition&&rotate>Math.PI/2&&rotate<1.5*Math.PI&&(rotate-=Math.PI),sector.setTextConfig({rotation:rotate})}}(el,"outside"===position?labelPositionOutside:position,createPolarPositionMapping(isHorizontalOrRadial),itemModel.get(["label","rotate"]))}(0,labelStyle.pe)(label,labelStatesModels,seriesModel.getRawValue(dataIndex),(function(value){return(0,labelHelper.O)(data,value)}));var emphasisModel=itemModel.getModel(["emphasis"]);(0,states.k5)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled")),(0,states.WO)(el,itemModel),function isZeroOnPolar(layout){return null!=layout.startAngle&&null!=layout.endAngle&&layout.startAngle===layout.endAngle}(layout)&&(el.style.fill="none",el.style.stroke="none",(0,util.each)(el.states,(function(state){state.style&&(state.style.fill=state.style.stroke="none")})))}var LagePathShape=function LagePathShape(){},LargePath=function(_super){function LargePath(opts){var _this=_super.call(this,opts)||this;return _this.type="largeBar",_this}return(0,tslib_es6.ZT)(LargePath,_super),LargePath.prototype.getDefaultShape=function(){return new LagePathShape},LargePath.prototype.buildPath=function(ctx,shape){for(var points=shape.points,baseDimIdx=this.baseDimIdx,valueDimIdx=1-this.baseDimIdx,startPoint=[],size=[],barWidth=this.barWidth,i=0;i<points.length;i+=3)size[baseDimIdx]=barWidth,size[valueDimIdx]=points[i+2],startPoint[baseDimIdx]=points[i+baseDimIdx],startPoint[valueDimIdx]=points[i+valueDimIdx],ctx.rect(startPoint[0],startPoint[1],size[0],size[1])},LargePath}(Path.ZP);function createLarge(seriesModel,group,progressiveEls,incremental){var data=seriesModel.getData(),baseDimIdx=data.getLayout("valueAxisHorizontal")?1:0,largeDataIndices=data.getLayout("largeDataIndices"),barWidth=data.getLayout("size"),backgroundModel=seriesModel.getModel("backgroundStyle"),bgPoints=data.getLayout("largeBackgroundPoints");if(bgPoints){var bgEl=new LargePath({shape:{points:bgPoints},incremental:!!incremental,silent:!0,z2:0});bgEl.baseDimIdx=baseDimIdx,bgEl.largeDataIndices=largeDataIndices,bgEl.barWidth=barWidth,bgEl.useStyle(backgroundModel.getItemStyle()),group.add(bgEl),progressiveEls&&progressiveEls.push(bgEl)}var el=new LargePath({shape:{points:data.getLayout("largePoints")},incremental:!!incremental,ignoreCoarsePointer:!0,z2:1});el.baseDimIdx=baseDimIdx,el.largeDataIndices=largeDataIndices,el.barWidth=barWidth,group.add(el),el.useStyle(data.getVisual("style")),(0,innerStore.A)(el).seriesIndex=seriesModel.seriesIndex,seriesModel.get("silent")||(el.on("mousedown",largePathUpdateDataIndex),el.on("mousemove",largePathUpdateDataIndex)),progressiveEls&&progressiveEls.push(el)}var largePathUpdateDataIndex=(0,throttle.P2)((function(event){var dataIndex=function largePathFindDataIndex(largePath,x,y){for(var baseDimIdx=largePath.baseDimIdx,valueDimIdx=1-baseDimIdx,points=largePath.shape.points,largeDataIndices=largePath.largeDataIndices,startPoint=[],size=[],barWidth=largePath.barWidth,i=0,len=points.length/3;i<len;i++){var ii=3*i;if(size[baseDimIdx]=barWidth,size[valueDimIdx]=points[ii+2],startPoint[baseDimIdx]=points[ii+baseDimIdx],startPoint[valueDimIdx]=points[ii+valueDimIdx],size[valueDimIdx]<0&&(startPoint[valueDimIdx]+=size[valueDimIdx],size[valueDimIdx]=-size[valueDimIdx]),x>=startPoint[0]&&x<=startPoint[0]+size[0]&&y>=startPoint[1]&&y<=startPoint[1]+size[1])return largeDataIndices[i]}return-1}(this,event.offsetX,event.offsetY);(0,innerStore.A)(this).dataIndex=dataIndex>=0?dataIndex:null}),30,!1);function createBackgroundShape(isHorizontalOrRadial,layout,coord){if((0,CoordinateSystem.H)(coord,"cartesian2d")){var rectShape=layout,coordLayout=coord.getArea();return{x:isHorizontalOrRadial?rectShape.x:coordLayout.x,y:isHorizontalOrRadial?coordLayout.y:rectShape.y,width:isHorizontalOrRadial?rectShape.width:coordLayout.width,height:isHorizontalOrRadial?coordLayout.height:rectShape.height}}var sectorShape=layout;return{cx:(coordLayout=coord.getArea()).cx,cy:coordLayout.cy,r0:isHorizontalOrRadial?coordLayout.r0:sectorShape.r0,r:isHorizontalOrRadial?coordLayout.r:sectorShape.r,startAngle:isHorizontalOrRadial?sectorShape.startAngle:0,endAngle:isHorizontalOrRadial?sectorShape.endAngle:2*Math.PI}}const bar_BarView=BarView;function install(registers){registers.registerChartView(bar_BarView),registers.registerSeriesModel(BarSeries),registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT,util.curry(barGrid.bK,"bar")),registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,barGrid.Bk)("bar")),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,(0,dataSample.Z)("bar")),registers.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(payload,ecModel){var componentType=payload.componentType||"series";ecModel.eachComponent({mainType:componentType,query:payload},(function(componentModel){payload.sortInfo&&componentModel.axis.setCategorySortInfo(payload.sortInfo)}))}))}},"./node_modules/echarts/lib/chart/heatmap/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});var tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),graphic=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),Image=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js");const heatmap_HeatmapLayer=function(){function HeatmapLayer(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var canvas=platform.qW.createCanvas();this.canvas=canvas}return HeatmapLayer.prototype.update=function(data,width,height,normalize,colorFunc,isInRange){var brush=this._getBrush(),gradientInRange=this._getGradient(colorFunc,"inRange"),gradientOutOfRange=this._getGradient(colorFunc,"outOfRange"),r=this.pointSize+this.blurSize,canvas=this.canvas,ctx=canvas.getContext("2d"),len=data.length;canvas.width=width,canvas.height=height;for(var i=0;i<len;++i){var p=data[i],x=p[0],y=p[1],alpha=normalize(p[2]);ctx.globalAlpha=alpha,ctx.drawImage(brush,x-r,y-r)}if(!canvas.width||!canvas.height)return canvas;for(var imageData=ctx.getImageData(0,0,canvas.width,canvas.height),pixels=imageData.data,offset=0,pixelLen=pixels.length,minOpacity=this.minOpacity,diffOpacity=this.maxOpacity-minOpacity;offset<pixelLen;){alpha=pixels[offset+3]/256;var gradientOffset=4*Math.floor(255*alpha);if(alpha>0){var gradient=isInRange(alpha)?gradientInRange:gradientOutOfRange;alpha>0&&(alpha=alpha*diffOpacity+minOpacity),pixels[offset++]=gradient[gradientOffset],pixels[offset++]=gradient[gradientOffset+1],pixels[offset++]=gradient[gradientOffset+2],pixels[offset++]=gradient[gradientOffset+3]*alpha*256}else offset+=4}return ctx.putImageData(imageData,0,0),canvas},HeatmapLayer.prototype._getBrush=function(){var brushCanvas=this._brushCanvas||(this._brushCanvas=platform.qW.createCanvas()),r=this.pointSize+this.blurSize,d=2*r;brushCanvas.width=d,brushCanvas.height=d;var ctx=brushCanvas.getContext("2d");return ctx.clearRect(0,0,d,d),ctx.shadowOffsetX=d,ctx.shadowBlur=this.blurSize,ctx.shadowColor="#000",ctx.beginPath(),ctx.arc(-r,r,this.pointSize,0,2*Math.PI,!0),ctx.closePath(),ctx.fill(),brushCanvas},HeatmapLayer.prototype._getGradient=function(colorFunc,state){for(var gradientPixels=this._gradientPixels,pixelsSingleState=gradientPixels[state]||(gradientPixels[state]=new Uint8ClampedArray(1024)),color=[0,0,0,0],off=0,i=0;i<256;i++)colorFunc[state](i/255,!0,color),pixelsSingleState[off++]=color[0],pixelsSingleState[off++]=color[1],pixelsSingleState[off++]=color[2],pixelsSingleState[off++]=color[3];return pixelsSingleState},HeatmapLayer}();var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/coord/CoordinateSystem.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js");function isGeoCoordSys(coordSys){var dimensions=coordSys.dimensions;return"lng"===dimensions[0]&&"lat"===dimensions[1]}const heatmap_HeatmapView=function(_super){function HeatmapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=HeatmapView.type,_this}return(0,tslib_es6.ZT)(HeatmapView,_super),HeatmapView.prototype.render=function(seriesModel,ecModel,api){var visualMapOfThisSeries;ecModel.eachComponent("visualMap",(function(visualMap){visualMap.eachTargetSeries((function(targetSeries){targetSeries===seriesModel&&(visualMapOfThisSeries=visualMap)}))})),this._progressiveEls=null,this.group.removeAll();var coordSys=seriesModel.coordinateSystem;"cartesian2d"===coordSys.type||"calendar"===coordSys.type?this._renderOnCartesianAndCalendar(seriesModel,api,0,seriesModel.getData().count()):isGeoCoordSys(coordSys)&&this._renderOnGeo(coordSys,seriesModel,visualMapOfThisSeries,api)},HeatmapView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this.group.removeAll()},HeatmapView.prototype.incrementalRender=function(params,seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem;coordSys&&(isGeoCoordSys(coordSys)?this.render(seriesModel,ecModel,api):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(seriesModel,api,params.start,params.end,!0)))},HeatmapView.prototype.eachRendered=function(cb){graphic.traverseElements(this._progressiveEls||this.group,cb)},HeatmapView.prototype._renderOnCartesianAndCalendar=function(seriesModel,api,start,end,incremental){var width,height,xAxisExtent,yAxisExtent,coordSys=seriesModel.coordinateSystem,isCartesian2d=(0,CoordinateSystem.H)(coordSys,"cartesian2d");if(isCartesian2d){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");0,width=xAxis.getBandWidth()+.5,height=yAxis.getBandWidth()+.5,xAxisExtent=xAxis.scale.getExtent(),yAxisExtent=yAxis.scale.getExtent()}for(var group=this.group,data=seriesModel.getData(),emphasisStyle=seriesModel.getModel(["emphasis","itemStyle"]).getItemStyle(),blurStyle=seriesModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=seriesModel.getModel(["select","itemStyle"]).getItemStyle(),borderRadius=seriesModel.get(["itemStyle","borderRadius"]),labelStatesModels=(0,labelStyle.k3)(seriesModel),emphasisModel=seriesModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled"),dataDims=isCartesian2d?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],idx=start;idx<end;idx++){var rect=void 0,style=data.getItemVisual(idx,"style");if(isCartesian2d){var dataDimX=data.get(dataDims[0],idx),dataDimY=data.get(dataDims[1],idx);if(isNaN(data.get(dataDims[2],idx))||isNaN(dataDimX)||isNaN(dataDimY)||dataDimX<xAxisExtent[0]||dataDimX>xAxisExtent[1]||dataDimY<yAxisExtent[0]||dataDimY>yAxisExtent[1])continue;var point=coordSys.dataToPoint([dataDimX,dataDimY]);rect=new Rect.Z({shape:{x:point[0]-width/2,y:point[1]-height/2,width,height},style})}else{if(isNaN(data.get(dataDims[1],idx)))continue;rect=new Rect.Z({z2:1,shape:coordSys.dataToRect([data.get(dataDims[0],idx)]).contentShape,style})}if(data.hasItemOption){var itemModel=data.getItemModel(idx),emphasisModel_1=itemModel.getModel("emphasis");emphasisStyle=emphasisModel_1.getModel("itemStyle").getItemStyle(),blurStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),borderRadius=itemModel.get(["itemStyle","borderRadius"]),focus=emphasisModel_1.get("focus"),blurScope=emphasisModel_1.get("blurScope"),emphasisDisabled=emphasisModel_1.get("disabled"),labelStatesModels=(0,labelStyle.k3)(itemModel)}rect.shape.r=borderRadius;var rawValue=seriesModel.getRawValue(idx),defaultText="-";rawValue&&null!=rawValue[2]&&(defaultText=rawValue[2]+""),(0,labelStyle.ni)(rect,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:idx,defaultOpacity:style.opacity,defaultText}),rect.ensureState("emphasis").style=emphasisStyle,rect.ensureState("blur").style=blurStyle,rect.ensureState("select").style=selectStyle,(0,states.k5)(rect,focus,blurScope,emphasisDisabled),rect.incremental=incremental,incremental&&(rect.states.emphasis.hoverLayer=!0),group.add(rect),data.setItemGraphicEl(idx,rect),this._progressiveEls&&this._progressiveEls.push(rect)}},HeatmapView.prototype._renderOnGeo=function(geo,seriesModel,visualMapModel,api){var inRangeVisuals=visualMapModel.targetVisuals.inRange,outOfRangeVisuals=visualMapModel.targetVisuals.outOfRange,data=seriesModel.getData(),hmLayer=this._hmLayer||this._hmLayer||new heatmap_HeatmapLayer;hmLayer.blurSize=seriesModel.get("blurSize"),hmLayer.pointSize=seriesModel.get("pointSize"),hmLayer.minOpacity=seriesModel.get("minOpacity"),hmLayer.maxOpacity=seriesModel.get("maxOpacity");var rect=geo.getViewRect().clone(),roamTransform=geo.getRoamTransform();rect.applyTransform(roamTransform);var x=Math.max(rect.x,0),y=Math.max(rect.y,0),x2=Math.min(rect.width+rect.x,api.getWidth()),y2=Math.min(rect.height+rect.y,api.getHeight()),width=x2-x,height=y2-y,dims=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],points=data.mapArray(dims,(function(lng,lat,value){var pt=geo.dataToPoint([lng,lat]);return pt[0]-=x,pt[1]-=y,pt.push(value),pt})),dataExtent=visualMapModel.getExtent(),isInRange="visualMap.continuous"===visualMapModel.type?function getIsInContinuousRange(dataExtent,range){var dataSpan=dataExtent[1]-dataExtent[0];return range=[(range[0]-dataExtent[0])/dataSpan,(range[1]-dataExtent[0])/dataSpan],function(val){return val>=range[0]&&val<=range[1]}}(dataExtent,visualMapModel.option.range):function getIsInPiecewiseRange(dataExtent,pieceList,selected){var dataSpan=dataExtent[1]-dataExtent[0],len=(pieceList=util.map(pieceList,(function(piece){return{interval:[(piece.interval[0]-dataExtent[0])/dataSpan,(piece.interval[1]-dataExtent[0])/dataSpan]}}))).length,lastIndex=0;return function(val){var i;for(i=lastIndex;i<len;i++)if((interval=pieceList[i].interval)[0]<=val&&val<=interval[1]){lastIndex=i;break}if(i===len)for(i=lastIndex-1;i>=0;i--){var interval;if((interval=pieceList[i].interval)[0]<=val&&val<=interval[1]){lastIndex=i;break}}return i>=0&&i<len&&selected[i]}}(dataExtent,visualMapModel.getPieceList(),visualMapModel.option.selected);hmLayer.update(points,width,height,inRangeVisuals.color.getNormalizer(),{inRange:inRangeVisuals.color.getColorMapper(),outOfRange:outOfRangeVisuals.color.getColorMapper()},isInRange);var img=new Image.ZP({style:{width,height,x,y,image:hmLayer.canvas},silent:!0});this.group.add(img)},HeatmapView.type="heatmap",HeatmapView}(Chart.Z);var Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),createSeriesData=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),core_CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/core/CoordinateSystem.js");const HeatmapSeries=function(_super){function HeatmapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=HeatmapSeriesModel.type,_this}return(0,tslib_es6.ZT)(HeatmapSeriesModel,_super),HeatmapSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData.Z)(null,this,{generateCoord:"value"})},HeatmapSeriesModel.prototype.preventIncremental=function(){var coordSysCreator=core_CoordinateSystem.Z.get(this.get("coordinateSystem"));if(coordSysCreator&&coordSysCreator.dimensions)return"lng"===coordSysCreator.dimensions[0]&&"lat"===coordSysCreator.dimensions[1]},HeatmapSeriesModel.type="series.heatmap",HeatmapSeriesModel.dependencies=["grid","geo","calendar"],HeatmapSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},HeatmapSeriesModel}(Series.Z);function install(registers){registers.registerChartView(heatmap_HeatmapView),registers.registerSeriesModel(HeatmapSeries)}},"./node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ID:()=>createGridClipPath,X0:()=>createPolarClipPath,lQ:()=>createClipPath});var _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Sector.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function createGridClipPath(cartesian,hasAnimation,seriesModel,done,during){var rect=cartesian.getArea(),x=rect.x,y=rect.y,width=rect.width,height=rect.height,lineWidth=seriesModel.get(["lineStyle","width"])||2;x-=lineWidth/2,y-=lineWidth/2,width+=lineWidth,height+=lineWidth,x=Math.floor(x),width=Math.round(width);var clipPath=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.Z({shape:{x,y,width,height}});if(hasAnimation){var baseAxis=cartesian.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isAxisInversed=baseAxis.inverse;isHorizontal?(isAxisInversed&&(clipPath.shape.x+=width),clipPath.shape.width=0):(isAxisInversed||(clipPath.shape.y+=height),clipPath.shape.height=0);var duringCb=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(during)?function(percent){during(percent,clipPath)}:null;_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.KZ(clipPath,{shape:{width,height,x,y}},seriesModel,null,done,duringCb)}return clipPath}function createPolarClipPath(polar,hasAnimation,seriesModel){var sectorArea=polar.getArea(),r0=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__.NM)(sectorArea.r0,1),r=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__.NM)(sectorArea.r,1),clipPath=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_4__.C({shape:{cx:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__.NM)(polar.cx,1),cy:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__.NM)(polar.cy,1),r0,r,startAngle:sectorArea.startAngle,endAngle:sectorArea.endAngle,clockwise:sectorArea.clockwise}});hasAnimation&&("angle"===polar.getBaseAxis().dim?clipPath.shape.endAngle=sectorArea.startAngle:clipPath.shape.r=r0,_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.KZ(clipPath,{shape:{endAngle:sectorArea.endAngle,r}},seriesModel));return clipPath}function createClipPath(coordSys,hasAnimation,seriesModel,done,during){return coordSys?"polar"===coordSys.type?createPolarClipPath(coordSys,hasAnimation,seriesModel):"cartesian2d"===coordSys.type?createGridClipPath(coordSys,hasAnimation,seriesModel,done,during):null:null}},"./node_modules/echarts/lib/chart/helper/createRenderPlanner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>createRenderPlanner});var _util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js");function createRenderPlanner(){var inner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)();return function(seriesModel){var fields=inner(seriesModel),pipelineContext=seriesModel.pipelineContext,originalLarge=!!fields.large,originalProgressive=!!fields.progressiveRender,large=fields.large=!(!pipelineContext||!pipelineContext.large),progressive=fields.progressiveRender=!(!pipelineContext||!pipelineContext.progressiveRender);return!(originalLarge===large&&originalProgressive===progressive)&&"reset"}}},"./node_modules/echarts/lib/chart/helper/createSeriesData.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>helper_createSeriesData});var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),SeriesData=__webpack_require__("./node_modules/echarts/lib/data/SeriesData.js"),createDimensions=__webpack_require__("./node_modules/echarts/lib/data/helper/createDimensions.js"),dimensionHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dimensionHelper.js"),model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/core/CoordinateSystem.js"),CoordSysInfo=function CoordSysInfo(coordSysName){this.coordSysDims=[],this.axisMap=(0,util.createHashMap)(),this.categoryAxisMap=(0,util.createHashMap)(),this.coordSysName=coordSysName};var fetchers={cartesian2d:function(seriesModel,result,axisMap,categoryAxisMap){var xAxisModel=seriesModel.getReferringComponents("xAxis",model.C6).models[0],yAxisModel=seriesModel.getReferringComponents("yAxis",model.C6).models[0];result.coordSysDims=["x","y"],axisMap.set("x",xAxisModel),axisMap.set("y",yAxisModel),isCategory(xAxisModel)&&(categoryAxisMap.set("x",xAxisModel),result.firstCategoryDimIndex=0),isCategory(yAxisModel)&&(categoryAxisMap.set("y",yAxisModel),null==result.firstCategoryDimIndex&&(result.firstCategoryDimIndex=1))},singleAxis:function(seriesModel,result,axisMap,categoryAxisMap){var singleAxisModel=seriesModel.getReferringComponents("singleAxis",model.C6).models[0];result.coordSysDims=["single"],axisMap.set("single",singleAxisModel),isCategory(singleAxisModel)&&(categoryAxisMap.set("single",singleAxisModel),result.firstCategoryDimIndex=0)},polar:function(seriesModel,result,axisMap,categoryAxisMap){var polarModel=seriesModel.getReferringComponents("polar",model.C6).models[0],radiusAxisModel=polarModel.findAxisModel("radiusAxis"),angleAxisModel=polarModel.findAxisModel("angleAxis");result.coordSysDims=["radius","angle"],axisMap.set("radius",radiusAxisModel),axisMap.set("angle",angleAxisModel),isCategory(radiusAxisModel)&&(categoryAxisMap.set("radius",radiusAxisModel),result.firstCategoryDimIndex=0),isCategory(angleAxisModel)&&(categoryAxisMap.set("angle",angleAxisModel),null==result.firstCategoryDimIndex&&(result.firstCategoryDimIndex=1))},geo:function(seriesModel,result,axisMap,categoryAxisMap){result.coordSysDims=["lng","lat"]},parallel:function(seriesModel,result,axisMap,categoryAxisMap){var ecModel=seriesModel.ecModel,parallelModel=ecModel.getComponent("parallel",seriesModel.get("parallelIndex")),coordSysDims=result.coordSysDims=parallelModel.dimensions.slice();(0,util.each)(parallelModel.parallelAxisIndex,(function(axisIndex,index){var axisModel=ecModel.getComponent("parallelAxis",axisIndex),axisDim=coordSysDims[index];axisMap.set(axisDim,axisModel),isCategory(axisModel)&&(categoryAxisMap.set(axisDim,axisModel),null==result.firstCategoryDimIndex&&(result.firstCategoryDimIndex=index))}))}};function isCategory(axisModel){return"category"===axisModel.get("type")}var Source=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),dataStackHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),sourceHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),types=__webpack_require__("./node_modules/echarts/lib/util/types.js");const helper_createSeriesData=function createSeriesData(sourceRaw,seriesModel,opt){opt=opt||{};var source,sourceManager=seriesModel.getSourceManager(),isOriginalSource=!1;sourceRaw?(isOriginalSource=!0,source=(0,Source.nx)(sourceRaw)):isOriginalSource=(source=sourceManager.getSource()).sourceFormat===types.cy;var coordSysInfo=function getCoordSysInfoBySeries(seriesModel){var coordSysName=seriesModel.get("coordinateSystem"),result=new CoordSysInfo(coordSysName),fetch=fetchers[coordSysName];if(fetch)return fetch(seriesModel,result,result.axisMap,result.categoryAxisMap),result}(seriesModel),coordSysDimDefs=function getCoordSysDimDefs(seriesModel,coordSysInfo){var coordSysDimDefs,coordSysName=seriesModel.get("coordinateSystem"),registeredCoordSys=CoordinateSystem.Z.get(coordSysName);return coordSysInfo&&coordSysInfo.coordSysDims&&(coordSysDimDefs=util.map(coordSysInfo.coordSysDims,(function(dim){var dimInfo={name:dim},axisModel=coordSysInfo.axisMap.get(dim);if(axisModel){var axisType=axisModel.get("type");dimInfo.type=(0,dimensionHelper.T)(axisType)}return dimInfo}))),coordSysDimDefs||(coordSysDimDefs=registeredCoordSys&&(registeredCoordSys.getDimensionsInfo?registeredCoordSys.getDimensionsInfo():registeredCoordSys.dimensions.slice())||["x","y"]),coordSysDimDefs}(seriesModel,coordSysInfo),useEncodeDefaulter=opt.useEncodeDefaulter,encodeDefaulter=util.isFunction(useEncodeDefaulter)?useEncodeDefaulter:useEncodeDefaulter?util.curry(sourceHelper.pY,coordSysDimDefs,seriesModel):null,createDimensionOptions={coordDimensions:coordSysDimDefs,generateCoord:opt.generateCoord,encodeDefine:seriesModel.getEncode(),encodeDefaulter,canOmitUnusedDimensions:!isOriginalSource},schema=(0,createDimensions.Z)(source,createDimensionOptions),firstCategoryDimIndex=function injectOrdinalMeta(dimInfoList,createInvertedIndices,coordSysInfo){var firstCategoryDimIndex,hasNameEncode;return coordSysInfo&&util.each(dimInfoList,(function(dimInfo,dimIndex){var coordDim=dimInfo.coordDim,categoryAxisModel=coordSysInfo.categoryAxisMap.get(coordDim);categoryAxisModel&&(null==firstCategoryDimIndex&&(firstCategoryDimIndex=dimIndex),dimInfo.ordinalMeta=categoryAxisModel.getOrdinalMeta(),createInvertedIndices&&(dimInfo.createInvertedIndices=!0)),null!=dimInfo.otherDims.itemName&&(hasNameEncode=!0)})),hasNameEncode||null==firstCategoryDimIndex||(dimInfoList[firstCategoryDimIndex].otherDims.itemName=0),firstCategoryDimIndex}(schema.dimensions,opt.createInvertedIndices,coordSysInfo),store=isOriginalSource?null:sourceManager.getSharedDataStore(schema),stackCalculationInfo=(0,dataStackHelper.BM)(seriesModel,{schema,store}),data=new SeriesData.Z(schema,seriesModel);data.setCalculationInfo(stackCalculationInfo);var dimValueGetter=null!=firstCategoryDimIndex&&function isNeedCompleteOrdinalData(source){if(source.sourceFormat===types.cy){var sampleItem=function firstDataNotNull(arr){var i=0;for(;i<arr.length&&null==arr[i];)i++;return arr[i]}(source.data||[]);return!util.isArray((0,model.C4)(sampleItem))}}(source)?function(itemOpt,dimName,dataIndex,dimIndex){return dimIndex===firstCategoryDimIndex?dataIndex:this.defaultDimValueGetter(itemOpt,dimName,dataIndex,dimIndex)}:null;return data.hasItemOption=!1,data.initData(isOriginalSource?source:store,null,dimValueGetter),data}},"./node_modules/echarts/lib/chart/helper/createSeriesDataSimply.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>createSeriesDataSimply});var _data_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/helper/createDimensions.js"),_data_SeriesData_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/SeriesData.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function createSeriesDataSimply(seriesModel,opt,nameList){opt=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(opt)&&{coordDimensions:opt}||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)({encodeDefine:seriesModel.getEncode()},opt);var source=seriesModel.getSource(),dimensions=(0,_data_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_1__.Z)(source,opt).dimensions,list=new _data_SeriesData_js__WEBPACK_IMPORTED_MODULE_2__.Z(dimensions,seriesModel);return list.initData(source,nameList),list}},"./node_modules/echarts/lib/chart/helper/enableAriaDecalForTree.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>enableAriaDecalForTree});var _model_mixin_palette_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/model/mixin/palette.js");function enableAriaDecalForTree(seriesModel){var tree=seriesModel.getData().tree,decalPaletteScope={};tree.eachNode((function(node){for(var current=node;current&&current.depth>1;)current=current.parentNode;var decal=(0,_model_mixin_palette_js__WEBPACK_IMPORTED_MODULE_0__.i)(seriesModel.ecModel,current.name||current.dataIndex+"",decalPaletteScope);node.setVisual("decal",decal)}))}},"./node_modules/echarts/lib/chart/helper/labelHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>getDefaultLabel,O:()=>getDefaultInterpolatedLabel});var _data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataProvider.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function getDefaultLabel(data,dataIndex){var labelDims=data.mapDimensionsAll("defaultedLabel"),len=labelDims.length;if(1===len){var rawVal=(0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_0__.hk)(data,dataIndex,labelDims[0]);return null!=rawVal?rawVal+"":null}if(len){for(var vals=[],i=0;i<labelDims.length;i++)vals.push((0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_0__.hk)(data,dataIndex,labelDims[i]));return vals.join(" ")}}function getDefaultInterpolatedLabel(data,interpolatedValue){var labelDims=data.mapDimensionsAll("defaultedLabel");if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(interpolatedValue))return interpolatedValue+"";for(var vals=[],i=0;i<labelDims.length;i++){var dimIndex=data.getDimensionIndex(labelDims[i]);dimIndex>=0&&vals.push(interpolatedValue[dimIndex])}return vals.join(" ")}},"./node_modules/echarts/lib/chart/helper/sectorHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>getSectorCornerRadius});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/contain/text.js");function getSectorCornerRadius(model,shape,zeroIfNull){var cornerRadius=model.get("borderRadius");if(null==cornerRadius)return zeroIfNull?{cornerRadius:0}:null;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(cornerRadius)||(cornerRadius=[cornerRadius,cornerRadius,cornerRadius,cornerRadius]);var dr=Math.abs(shape.r||0-shape.r0||0);return{cornerRadius:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(cornerRadius,(function(cr){return(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.GM)(cr,dr)}))}}},"./node_modules/echarts/lib/chart/helper/treeHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gx:()=>aboveViewRoot,d1:()=>retrieveTargetInfo,n3:()=>wrapTreePathInfo,zN:()=>getPathToRoot});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function retrieveTargetInfo(payload,validPayloadTypes,seriesModel){if(payload&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.indexOf(validPayloadTypes,payload.type)>=0){var root=seriesModel.getData().tree.root,targetNode=payload.targetNode;if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(targetNode)&&(targetNode=root.getNodeById(targetNode)),targetNode&&root.contains(targetNode))return{node:targetNode};var targetNodeId=payload.targetNodeId;if(null!=targetNodeId&&(targetNode=root.getNodeById(targetNodeId)))return{node:targetNode}}}function getPathToRoot(node){for(var path=[];node;)(node=node.parentNode)&&path.push(node);return path.reverse()}function aboveViewRoot(viewRoot,node){var viewPath=getPathToRoot(viewRoot);return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.indexOf(viewPath,node)>=0}function wrapTreePathInfo(node,seriesModel){for(var treePathInfo=[];node;){var nodeDataIndex=node.dataIndex;treePathInfo.push({name:node.name,dataIndex:nodeDataIndex,value:seriesModel.getRawValue(nodeDataIndex)}),node=node.parentNode}return treePathInfo.reverse(),treePathInfo}},"./node_modules/echarts/lib/chart/map/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install_install});var extension=__webpack_require__("./node_modules/echarts/lib/extension.js"),tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),Circle=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),MapDraw=__webpack_require__("./node_modules/echarts/lib/component/helper/MapDraw.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js");const map_MapView=function(_super){function MapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MapView.type,_this}return(0,tslib_es6.ZT)(MapView,_super),MapView.prototype.render=function(mapModel,ecModel,api,payload){if(!payload||"mapToggleSelect"!==payload.type||payload.from!==this.uid){var group=this.group;if(group.removeAll(),!mapModel.getHostGeoModel()){if(this._mapDraw&&payload&&"geoRoam"===payload.type&&this._mapDraw.resetForLabelLayout(),payload&&"geoRoam"===payload.type&&"series"===payload.componentType&&payload.seriesId===mapModel.id)(mapDraw=this._mapDraw)&&group.add(mapDraw.group);else if(mapModel.needsDrawMap){var mapDraw=this._mapDraw||new MapDraw.Z(api);group.add(mapDraw.group),mapDraw.draw(mapModel,ecModel,api,this,payload),this._mapDraw=mapDraw}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;mapModel.get("showLegendSymbol")&&ecModel.getComponent("legend")&&this._renderSymbols(mapModel,ecModel,api)}}},MapView.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},MapView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},MapView.prototype._renderSymbols=function(mapModel,ecModel,api){var originalData=mapModel.originalData,group=this.group;originalData.each(originalData.mapDimension("value"),(function(value,originalDataIndex){if(!isNaN(value)){var layout=originalData.getItemLayout(originalDataIndex);if(layout&&layout.point){var point=layout.point,offset=layout.offset,circle=new Circle.Z({style:{fill:mapModel.getData().getVisual("style").fill},shape:{cx:point[0]+9*offset,cy:point[1],r:3},silent:!0,z2:8+(offset?0:states.zr+1)});if(!offset){var fullData=mapModel.mainSeries.getData(),name_1=originalData.getName(originalDataIndex),fullIndex_1=fullData.indexOfName(name_1),itemModel=originalData.getItemModel(originalDataIndex),labelModel=itemModel.getModel("label"),regionGroup=fullData.getItemGraphicEl(fullIndex_1);(0,labelStyle.ni)(circle,(0,labelStyle.k3)(itemModel),{labelFetcher:{getFormattedLabel:function(idx,state){return mapModel.getFormattedLabel(fullIndex_1,state)}},defaultText:name_1}),circle.disableLabelAnimation=!0,labelModel.get("position")||circle.setTextConfig({position:"bottom"}),regionGroup.onHoverStateChange=function(toState){(0,states.Gl)(circle,toState)}}group.add(circle)}}}))},MapView.type="map",MapView}(Chart.Z);var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),createSeriesDataSimply=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesDataSimply.js"),Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),geoSourceManager=__webpack_require__("./node_modules/echarts/lib/coord/geo/geoSourceManager.js"),sourceHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),tooltipMarkup=__webpack_require__("./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),symbol=__webpack_require__("./node_modules/echarts/lib/util/symbol.js");const map_MapSeries=function(_super){function MapSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MapSeries.type,_this.needsDrawMap=!1,_this.seriesGroup=[],_this.getTooltipPosition=function(dataIndex){if(null!=dataIndex){var name_1=this.getData().getName(dataIndex),geo=this.coordinateSystem,region=geo.getRegion(name_1);return region&&geo.dataToPoint(region.getCenter())}},_this}return(0,tslib_es6.ZT)(MapSeries,_super),MapSeries.prototype.getInitialData=function(option){for(var data=(0,createSeriesDataSimply.Z)(this,{coordDimensions:["value"],encodeDefaulter:util.curry(sourceHelper.Ss,this)}),dataNameMap=util.createHashMap(),toAppendNames=[],i=0,len=data.count();i<len;i++){var name_2=data.getName(i);dataNameMap.set(name_2,!0)}var geoSource=geoSourceManager.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return util.each(geoSource.regions,(function(region){var name=region.name;dataNameMap.get(name)||toAppendNames.push(name)})),data.appendValues([],toAppendNames),data},MapSeries.prototype.getHostGeoModel=function(){var geoIndex=this.option.geoIndex;return null!=geoIndex?this.ecModel.getComponent("geo",geoIndex):null},MapSeries.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},MapSeries.prototype.getRawValue=function(dataIndex){var data=this.getData();return data.get(data.mapDimension("value"),dataIndex)},MapSeries.prototype.getRegionModel=function(regionName){var data=this.getData();return data.getItemModel(data.indexOfName(regionName))},MapSeries.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){for(var data=this.getData(),value=this.getRawValue(dataIndex),name=data.getName(dataIndex),seriesGroup=this.seriesGroup,seriesNames=[],i=0;i<seriesGroup.length;i++){var otherIndex=seriesGroup[i].originalData.indexOfName(name),valueDim=data.mapDimension("value");isNaN(seriesGroup[i].originalData.get(valueDim,otherIndex))||seriesNames.push(seriesGroup[i].name)}return(0,tooltipMarkup.TX)("section",{header:seriesNames.join(", "),noHeader:!seriesNames.length,blocks:[(0,tooltipMarkup.TX)("nameValue",{name,value})]})},MapSeries.prototype.setZoom=function(zoom){this.option.zoom=zoom},MapSeries.prototype.setCenter=function(center){this.option.center=center},MapSeries.prototype.getLegendIcon=function(opt){var iconType=opt.icon||"roundRect",icon=(0,symbol.th)(iconType,0,0,opt.itemWidth,opt.itemHeight,opt.itemStyle.fill);return icon.setStyle(opt.itemStyle),icon.style.stroke="none",iconType.indexOf("empty")>-1&&(icon.style.stroke=icon.style.fill,icon.style.fill="#fff",icon.style.lineWidth=2),icon},MapSeries.type="series.map",MapSeries.dependencies=["geo"],MapSeries.layoutMode="box",MapSeries.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},MapSeries}(Series.Z);function mapDataStatistic(ecModel){var seriesGroups={};ecModel.eachSeriesByType("map",(function(seriesModel){var hostGeoModel=seriesModel.getHostGeoModel(),key=hostGeoModel?"o"+hostGeoModel.id:"i"+seriesModel.getMapType();(seriesGroups[key]=seriesGroups[key]||[]).push(seriesModel)})),util.each(seriesGroups,(function(seriesList,key){for(var data=function dataStatistics(datas,statisticType){var dataNameMap={};return util.each(datas,(function(data){data.each(data.mapDimension("value"),(function(value,idx){var mapKey="ec-"+data.getName(idx);dataNameMap[mapKey]=dataNameMap[mapKey]||[],isNaN(value)||dataNameMap[mapKey].push(value)}))})),datas[0].map(datas[0].mapDimension("value"),(function(value,idx){for(var mapKey="ec-"+datas[0].getName(idx),sum=0,min=1/0,max=-1/0,len=dataNameMap[mapKey].length,i=0;i<len;i++)min=Math.min(min,dataNameMap[mapKey][i]),max=Math.max(max,dataNameMap[mapKey][i]),sum+=dataNameMap[mapKey][i];return 0===len?NaN:"min"===statisticType?min:"max"===statisticType?max:"average"===statisticType?sum/len:sum}))}(util.map(seriesList,(function(seriesModel){return seriesModel.getData()})),seriesList[0].get("mapValueCalculation")),i=0;i<seriesList.length;i++)seriesList[i].originalData=seriesList[i].getData();for(i=0;i<seriesList.length;i++)seriesList[i].seriesGroup=seriesList,seriesList[i].needsDrawMap=0===i&&!seriesList[i].getHostGeoModel(),seriesList[i].setData(data.cloneShallow()),seriesList[i].mainSeries=seriesList[0]}))}function mapSymbolLayout(ecModel){var processedMapType={};ecModel.eachSeriesByType("map",(function(mapSeries){var mapType=mapSeries.getMapType();if(!mapSeries.getHostGeoModel()&&!processedMapType[mapType]){var mapSymbolOffsets={};util.each(mapSeries.seriesGroup,(function(subMapSeries){var geo=subMapSeries.coordinateSystem,data=subMapSeries.originalData;subMapSeries.get("showLegendSymbol")&&ecModel.getComponent("legend")&&data.each(data.mapDimension("value"),(function(value,idx){var name=data.getName(idx),region=geo.getRegion(name);if(region&&!isNaN(value)){var offset=mapSymbolOffsets[name]||0,point=geo.dataToPoint(region.getCenter());mapSymbolOffsets[name]=offset+1,data.setItemLayout(idx,{point,offset})}}))}));var data=mapSeries.getData();data.each((function(idx){var name=data.getName(idx),layout=data.getItemLayout(idx)||{};layout.showLabel=!mapSymbolOffsets[name],data.setItemLayout(idx,layout)})),processedMapType[mapType]=!0}}))}var dataSelectAction=__webpack_require__("./node_modules/echarts/lib/legacy/dataSelectAction.js"),install=__webpack_require__("./node_modules/echarts/lib/component/geo/install.js");function install_install(registers){(0,extension.D)(install.N),registers.registerChartView(map_MapView),registers.registerSeriesModel(map_MapSeries),registers.registerLayout(mapSymbolLayout),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),(0,dataSelectAction.y)("map",registers.registerAction)}},"./node_modules/echarts/lib/chart/treemap/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});var treeHelper=__webpack_require__("./node_modules/echarts/lib/chart/helper/treeHelper.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];var tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),Tree=__webpack_require__("./node_modules/echarts/lib/data/Tree.js"),Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),tooltipMarkup=__webpack_require__("./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),enableAriaDecalForTree=__webpack_require__("./node_modules/echarts/lib/chart/helper/enableAriaDecalForTree.js"),TreemapSeriesModel=function(_super){function TreemapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapSeriesModel.type,_this.preventUsingHoverLayer=!0,_this}return(0,tslib_es6.ZT)(TreemapSeriesModel,_super),TreemapSeriesModel.prototype.getInitialData=function(option,ecModel){var root={name:option.name,children:option.data};completeTreeValue(root);var levels=option.levels||[],designatedVisualItemStyle=this.designatedVisualItemStyle={},designatedVisualModel=new Model.Z({itemStyle:designatedVisualItemStyle},this,ecModel);levels=option.levels=function setDefault(levels,ecModel){var hasColorDefine,hasDecalDefine,globalColorList=(0,model.kF)(ecModel.get("color")),globalDecalList=(0,model.kF)(ecModel.get(["aria","decal","decals"]));if(!globalColorList)return;levels=levels||[],util.each(levels,(function(levelDefine){var model=new Model.Z(levelDefine),modelColor=model.get("color"),modelDecal=model.get("decal");(model.get(["itemStyle","color"])||modelColor&&"none"!==modelColor)&&(hasColorDefine=!0),(model.get(["itemStyle","decal"])||modelDecal&&"none"!==modelDecal)&&(hasDecalDefine=!0)}));var level0=levels[0]||(levels[0]={});hasColorDefine||(level0.color=globalColorList.slice());!hasDecalDefine&&globalDecalList&&(level0.decal=globalDecalList.slice());return levels}(levels,ecModel);var levelModels=util.map(levels||[],(function(levelDefine){return new Model.Z(levelDefine,designatedVisualModel,ecModel)}),this),tree=Tree.Z.createTree(root,this,(function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",(function(model,idx){var node=tree.getNodeByDataIndex(idx),levelModel=node?levelModels[node.depth]:null;return model.parentModel=levelModel||designatedVisualModel,model}))}));return tree.data},TreemapSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},TreemapSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),value=this.getRawValue(dataIndex),name=data.getName(dataIndex);return(0,tooltipMarkup.TX)("nameValue",{name,value})},TreemapSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treeAncestors=(0,treeHelper.n3)(node,this),params.treePathInfo=params.treeAncestors,params},TreemapSeriesModel.prototype.setLayoutInfo=function(layoutInfo){this.layoutInfo=this.layoutInfo||{},util.extend(this.layoutInfo,layoutInfo)},TreemapSeriesModel.prototype.mapIdToIndex=function(id){var idIndexMap=this._idIndexMap;idIndexMap||(idIndexMap=this._idIndexMap=util.createHashMap(),this._idIndexMapCount=0);var index=idIndexMap.get(id);return null==index&&idIndexMap.set(id,index=this._idIndexMapCount++),index},TreemapSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},TreemapSeriesModel.prototype.resetViewRoot=function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)},TreemapSeriesModel.prototype.enableAriaDecal=function(){(0,enableAriaDecalForTree.Z)(this)},TreemapSeriesModel.type="series.treemap",TreemapSeriesModel.layoutMode="box",TreemapSeriesModel.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},TreemapSeriesModel}(Series.Z);function completeTreeValue(dataNode){var sum=0;util.each(dataNode.children,(function(child){completeTreeValue(child);var childValue=child.value;util.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue}));var thisValue=dataNode.value;util.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),util.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}const TreemapSeries=TreemapSeriesModel;var Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js"),DataDiffer=__webpack_require__("./node_modules/echarts/lib/data/DataDiffer.js"),Polygon=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),Text=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),Breadcrumb=function(){function Breadcrumb(containerGroup){this.group=new Group.Z,containerGroup.add(this.group)}return Breadcrumb.prototype.render=function(seriesModel,api,targetNode,onSelect){var model=seriesModel.getModel("breadcrumb"),thisGroup=this.group;if(thisGroup.removeAll(),model.get("show")&&targetNode){var normalStyleModel=model.getModel("itemStyle"),emphasisModel=model.getModel("emphasis"),textStyleModel=normalStyleModel.getModel("textStyle"),emphasisTextStyleModel=emphasisModel.getModel(["itemStyle","textStyle"]),layoutParam={pos:{left:model.get("left"),right:model.get("right"),top:model.get("top"),bottom:model.get("bottom")},box:{width:api.getWidth(),height:api.getHeight()},emptyItemWidth:model.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(targetNode,layoutParam,textStyleModel),this._renderContent(seriesModel,layoutParam,normalStyleModel,emphasisModel,textStyleModel,emphasisTextStyleModel,onSelect),layout.p$(thisGroup,layoutParam.pos,layoutParam.box)}},Breadcrumb.prototype._prepare=function(targetNode,layoutParam,textStyleModel){for(var node=targetNode;node;node=node.parentNode){var text=(0,model.U5)(node.getModel().get("name"),""),textRect=textStyleModel.getTextRect(text),itemWidth=Math.max(textRect.width+16,layoutParam.emptyItemWidth);layoutParam.totalWidth+=itemWidth+8,layoutParam.renderList.push({node,text,width:itemWidth})}},Breadcrumb.prototype._renderContent=function(seriesModel,layoutParam,normalStyleModel,emphasisModel,textStyleModel,emphasisTextStyleModel,onSelect){for(var lastX=0,emptyItemWidth=layoutParam.emptyItemWidth,height=seriesModel.get(["breadcrumb","height"]),availableSize=layout.lq(layoutParam.pos,layoutParam.box),totalWidth=layoutParam.totalWidth,renderList=layoutParam.renderList,emphasisItemStyle=emphasisModel.getModel("itemStyle").getItemStyle(),i=renderList.length-1;i>=0;i--){var item=renderList[i],itemNode=item.node,itemWidth=item.width,text=item.text;totalWidth>availableSize.width&&(totalWidth-=itemWidth-emptyItemWidth,itemWidth=emptyItemWidth,text=null);var el=new Polygon.Z({shape:{points:makeItemPoints(lastX,0,itemWidth,height,i===renderList.length-1,0===i)},style:(0,util.defaults)(normalStyleModel.getItemStyle(),{lineJoin:"bevel"}),textContent:new Text.ZP({style:(0,labelStyle.Lr)(textStyleModel,{text})}),textConfig:{position:"inside"},z2:1e4*states.zr,onclick:(0,util.curry)(onSelect,itemNode)});el.disableLabelAnimation=!0,el.getTextContent().ensureState("emphasis").style=(0,labelStyle.Lr)(emphasisTextStyleModel,{text}),el.ensureState("emphasis").style=emphasisItemStyle,(0,states.k5)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled")),this.group.add(el),packEventData(el,seriesModel,itemNode),lastX+=itemWidth+8}},Breadcrumb.prototype.remove=function(){this.group.removeAll()},Breadcrumb}();function makeItemPoints(x,y,itemWidth,itemHeight,head,tail){var points=[[head?x:x-5,y],[x+itemWidth,y],[x+itemWidth,y+itemHeight],[head?x:x-5,y+itemHeight]];return!tail&&points.splice(2,0,[x+itemWidth+5,y+itemHeight/2]),!head&&points.push([x,y+itemHeight/2]),points}function packEventData(el,seriesModel,itemNode){(0,innerStore.A)(el).eventData={componentType:"series",componentSubType:"treemap",componentIndex:seriesModel.componentIndex,seriesIndex:seriesModel.seriesIndex,seriesName:seriesModel.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:itemNode&&itemNode.dataIndex,name:itemNode&&itemNode.name},treePathInfo:itemNode&&(0,treeHelper.n3)(itemNode,seriesModel)}}const treemap_Breadcrumb=Breadcrumb;var RoamController=__webpack_require__("./node_modules/echarts/lib/component/helper/RoamController.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),matrix=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),AnimationWrap=function(){function AnimationWrap(){this._storage=[],this._elExistsMap={}}return AnimationWrap.prototype.add=function(el,target,duration,delay,easing){return!this._elExistsMap[el.id]&&(this._elExistsMap[el.id]=!0,this._storage.push({el,target,duration,delay,easing}),!0)},AnimationWrap.prototype.finished=function(callback){return this._finishedCallback=callback,this},AnimationWrap.prototype.start=function(){for(var _this=this,count=this._storage.length,checkTerminate=function(){--count<=0&&(_this._storage.length=0,_this._elExistsMap={},_this._finishedCallback&&_this._finishedCallback())},i=0,len=this._storage.length;i<len;i++){var item=this._storage[i];item.el.animateTo(item.target,{duration:item.duration,delay:item.delay,easing:item.easing,setToFinal:!0,done:checkTerminate,aborted:checkTerminate})}return this},AnimationWrap}();var makeStyleMapper=__webpack_require__("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),Displayable=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),format=__webpack_require__("./node_modules/echarts/lib/util/format.js"),TreemapView_Group=Group.Z,TreemapView_Rect=Rect.Z,Z2_BASE=10*states.zr,Z2_BG=2*states.zr,Z2_CONTENT=3*states.zr,getStateItemStyle=(0,makeStyleMapper.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(model){var itemStyle=getStateItemStyle(model);return itemStyle.stroke=itemStyle.fill=itemStyle.lineWidth=null,itemStyle},inner=(0,model.Yf)(),TreemapView=function(_super){function TreemapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapView.type,_this._state="ready",_this._storage={nodeGroup:[],background:[],content:[]},_this}return(0,tslib_es6.ZT)(TreemapView,_super),TreemapView.prototype.render=function(seriesModel,ecModel,api,payload){var models=ecModel.findComponents({mainType:"series",subType:"treemap",query:payload});if(!((0,util.indexOf)(models,seriesModel)<0)){this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var targetInfo=treeHelper.d1(payload,["treemapZoomToNode","treemapRootToNode"],seriesModel),payloadType=payload&&payload.type,layoutInfo=seriesModel.layoutInfo,isInit=!this._oldTree,thisStorage=this._storage,reRoot="treemapRootToNode"===payloadType&&targetInfo&&thisStorage?{rootNodeGroup:thisStorage.nodeGroup[targetInfo.node.getRawIndex()],direction:payload.direction}:null,containerGroup=this._giveContainerGroup(layoutInfo),hasAnimation=seriesModel.get("animation"),renderResult=this._doRender(containerGroup,seriesModel,reRoot);!hasAnimation||isInit||payloadType&&"treemapZoomToNode"!==payloadType&&"treemapRootToNode"!==payloadType?renderResult.renderFinally():this._doAnimation(containerGroup,renderResult,seriesModel,reRoot),this._resetController(api),this._renderBreadcrumb(seriesModel,api,targetInfo)}},TreemapView.prototype._giveContainerGroup=function(layoutInfo){var containerGroup=this._containerGroup;return containerGroup||(containerGroup=this._containerGroup=new TreemapView_Group,this._initEvents(containerGroup),this.group.add(containerGroup)),containerGroup.x=layoutInfo.x,containerGroup.y=layoutInfo.y,containerGroup},TreemapView.prototype._doRender=function(containerGroup,seriesModel,reRoot){var thisTree=seriesModel.getData().tree,oldTree=this._oldTree,lastsForAnimation={nodeGroup:[],background:[],content:[]},thisStorage={nodeGroup:[],background:[],content:[]},oldStorage=this._storage,willInvisibleEls=[];function doRenderNode(thisNode,oldNode,parentGroup,depth){return function renderNode(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth){if(!thisNode)return;var thisLayout=thisNode.getLayout(),data=seriesModel.getData(),nodeModel=thisNode.getModel();if(data.setItemGraphicEl(thisNode.dataIndex,null),!thisLayout||!thisLayout.isInView)return;var thisWidth=thisLayout.width,thisHeight=thisLayout.height,borderWidth=thisLayout.borderWidth,thisInvisible=thisLayout.invisible,thisRawIndex=thisNode.getRawIndex(),oldRawIndex=oldNode&&oldNode.getRawIndex(),thisViewChildren=thisNode.viewChildren,upperHeight=thisLayout.upperHeight,isParent=thisViewChildren&&thisViewChildren.length,itemStyleNormalModel=nodeModel.getModel("itemStyle"),itemStyleEmphasisModel=nodeModel.getModel(["emphasis","itemStyle"]),itemStyleBlurModel=nodeModel.getModel(["blur","itemStyle"]),itemStyleSelectModel=nodeModel.getModel(["select","itemStyle"]),borderRadius=itemStyleNormalModel.get("borderRadius")||0,group=giveGraphic("nodeGroup",TreemapView_Group);if(!group)return;if(parentGroup.add(group),group.x=thisLayout.x||0,group.y=thisLayout.y||0,group.markRedraw(),inner(group).nodeWidth=thisWidth,inner(group).nodeHeight=thisHeight,thisLayout.isAboveViewRoot)return group;var bg=giveGraphic("background",TreemapView_Rect,depth,Z2_BG);bg&&renderBackground(group,bg,isParent&&thisLayout.upperLabelHeight);var emphasisModel=nodeModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),isDisabled=emphasisModel.get("disabled"),focusOrIndices="ancestor"===focus?thisNode.getAncestorsIndices():"descendant"===focus?thisNode.getDescendantIndices():focus;if(isParent)(0,states.Av)(group)&&(0,states.Nj)(group,!1),bg&&((0,states.Nj)(bg,!isDisabled),data.setItemGraphicEl(thisNode.dataIndex,bg),(0,states.Ib)(bg,focusOrIndices,blurScope));else{var content=giveGraphic("content",TreemapView_Rect,depth,Z2_CONTENT);content&&renderContent(group,content),bg.disableMorphing=!0,bg&&(0,states.Av)(bg)&&(0,states.Nj)(bg,!1),(0,states.Nj)(group,!isDisabled),data.setItemGraphicEl(thisNode.dataIndex,group),(0,states.Ib)(group,focusOrIndices,blurScope)}return group;function renderBackground(group,bg,useUpperLabel){var ecData=(0,innerStore.A)(bg);if(ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex,bg.setShape({x:0,y:0,width:thisWidth,height:thisHeight,r:borderRadius}),thisInvisible)processInvisible(bg);else{bg.invisible=!1;var style=thisNode.getVisual("style"),visualBorderColor=style.stroke,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualBorderColor;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel);emphasisStyle.fill=itemStyleEmphasisModel.get("borderColor");var blurStyle=getStateItemStyle(itemStyleBlurModel);blurStyle.fill=itemStyleBlurModel.get("borderColor");var selectStyle=getStateItemStyle(itemStyleSelectModel);if(selectStyle.fill=itemStyleSelectModel.get("borderColor"),useUpperLabel){var upperLabelWidth=thisWidth-2*borderWidth;prepareText(bg,visualBorderColor,style.opacity,{x:borderWidth,y:0,width:upperLabelWidth,height:upperHeight})}else bg.removeTextContent();bg.setStyle(normalStyle),bg.ensureState("emphasis").style=emphasisStyle,bg.ensureState("blur").style=blurStyle,bg.ensureState("select").style=selectStyle,(0,states.MA)(bg)}group.add(bg)}function renderContent(group,content){var ecData=(0,innerStore.A)(content);ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex;var contentWidth=Math.max(thisWidth-2*borderWidth,0),contentHeight=Math.max(thisHeight-2*borderWidth,0);if(content.culling=!0,content.setShape({x:borderWidth,y:borderWidth,width:contentWidth,height:contentHeight,r:borderRadius}),thisInvisible)processInvisible(content);else{content.invisible=!1;var nodeStyle=thisNode.getVisual("style"),visualColor=nodeStyle.fill,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualColor,normalStyle.decal=nodeStyle.decal;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel),blurStyle=getStateItemStyle(itemStyleBlurModel),selectStyle=getStateItemStyle(itemStyleSelectModel);prepareText(content,visualColor,nodeStyle.opacity,null),content.setStyle(normalStyle),content.ensureState("emphasis").style=emphasisStyle,content.ensureState("blur").style=blurStyle,content.ensureState("select").style=selectStyle,(0,states.MA)(content)}group.add(content)}function processInvisible(element){!element.invisible&&willInvisibleEls.push(element)}function prepareText(rectEl,visualColor,visualOpacity,upperLabelRect){var normalLabelModel=nodeModel.getModel(upperLabelRect?"upperLabel":"label"),defaultText=(0,model.U5)(nodeModel.get("name"),null),isShow=normalLabelModel.getShallow("show");(0,labelStyle.ni)(rectEl,(0,labelStyle.k3)(nodeModel,upperLabelRect?"upperLabel":"label"),{defaultText:isShow?defaultText:null,inheritColor:visualColor,defaultOpacity:visualOpacity,labelFetcher:seriesModel,labelDataIndex:thisNode.dataIndex});var textEl=rectEl.getTextContent();if(textEl){var textStyle=textEl.style,textPadding=(0,util.normalizeCssArray)(textStyle.padding||0);upperLabelRect&&(rectEl.setTextConfig({layoutRect:upperLabelRect}),textEl.disableLabelLayout=!0),textEl.beforeUpdate=function(){var width=Math.max((upperLabelRect?upperLabelRect.width:rectEl.shape.width)-textPadding[1]-textPadding[3],0),height=Math.max((upperLabelRect?upperLabelRect.height:rectEl.shape.height)-textPadding[0]-textPadding[2],0);textStyle.width===width&&textStyle.height===height||textEl.setStyle({width,height})},textStyle.truncateMinChar=2,textStyle.lineOverflow="truncate",addDrillDownIcon(textStyle,upperLabelRect,thisLayout);var textEmphasisState=textEl.getState("emphasis");addDrillDownIcon(textEmphasisState?textEmphasisState.style:null,upperLabelRect,thisLayout)}}function addDrillDownIcon(style,upperLabelRect,thisLayout){var text=style?style.text:null;if(!upperLabelRect&&thisLayout.isLeafRoot&&null!=text){var iconChar=seriesModel.get("drillDownIcon",!0);style.text=iconChar?iconChar+" "+text:text}}function giveGraphic(storageName,Ctor,depth,z){var element=null!=oldRawIndex&&oldStorage[storageName][oldRawIndex],lasts=lastsForAnimation[storageName];return element?(oldStorage[storageName][oldRawIndex]=null,prepareAnimationWhenHasOld(lasts,element)):thisInvisible||((element=new Ctor)instanceof Displayable.ZP&&(element.z2=function calculateZ2(depth,z2InLevel){return depth*Z2_BASE+z2InLevel}(depth,z)),prepareAnimationWhenNoOld(lasts,element)),thisStorage[storageName][thisRawIndex]=element}function prepareAnimationWhenHasOld(lasts,element){var lastCfg=lasts[thisRawIndex]={};element instanceof TreemapView_Group?(lastCfg.oldX=element.x,lastCfg.oldY=element.y):lastCfg.oldShape=(0,util.extend)({},element.shape)}function prepareAnimationWhenNoOld(lasts,element){var lastCfg=lasts[thisRawIndex]={},parentNode=thisNode.parentNode,isGroup=element instanceof Group.Z;if(parentNode&&(!reRoot||"drillDown"===reRoot.direction)){var parentOldX=0,parentOldY=0,parentOldBg=lastsForAnimation.background[parentNode.getRawIndex()];!reRoot&&parentOldBg&&parentOldBg.oldShape&&(parentOldX=parentOldBg.oldShape.width,parentOldY=parentOldBg.oldShape.height),isGroup?(lastCfg.oldX=0,lastCfg.oldY=parentOldY):lastCfg.oldShape={x:parentOldX,y:parentOldY,width:0,height:0}}lastCfg.fadein=!isGroup}}(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth)}!function dualTravel(thisViewChildren,oldViewChildren,parentGroup,sameTree,depth){sameTree?(oldViewChildren=thisViewChildren,(0,util.each)(thisViewChildren,(function(child,index){!child.isRemoved()&&processNode(index,index)}))):new DataDiffer.Z(oldViewChildren,thisViewChildren,getKey,getKey).add(processNode).update(processNode).remove((0,util.curry)(processNode,null)).execute();function getKey(node){return node.getId()}function processNode(newIndex,oldIndex){var thisNode=null!=newIndex?thisViewChildren[newIndex]:null,oldNode=null!=oldIndex?oldViewChildren[oldIndex]:null,group=doRenderNode(thisNode,oldNode,parentGroup,depth);group&&dualTravel(thisNode&&thisNode.viewChildren||[],oldNode&&oldNode.viewChildren||[],group,sameTree,depth+1)}}(thisTree.root?[thisTree.root]:[],oldTree&&oldTree.root?[oldTree.root]:[],containerGroup,thisTree===oldTree||!oldTree,0);var willDeleteEls=function clearStorage(storage){var willDeleteEls={nodeGroup:[],background:[],content:[]};return storage&&(0,util.each)(storage,(function(store,storageName){var delEls=willDeleteEls[storageName];(0,util.each)(store,(function(el){el&&(delEls.push(el),inner(el).willDelete=!0)}))})),willDeleteEls}(oldStorage);return this._oldTree=thisTree,this._storage=thisStorage,{lastsForAnimation,willDeleteEls,renderFinally:function renderFinally(){(0,util.each)(willDeleteEls,(function(els){(0,util.each)(els,(function(el){el.parent&&el.parent.remove(el)}))})),(0,util.each)(willInvisibleEls,(function(el){el.invisible=!0,el.dirty()}))}}},TreemapView.prototype._doAnimation=function(containerGroup,renderResult,seriesModel,reRoot){var durationOption=seriesModel.get("animationDurationUpdate"),easingOption=seriesModel.get("animationEasing"),duration=((0,util.isFunction)(durationOption)?0:durationOption)||0,easing=((0,util.isFunction)(easingOption)?null:easingOption)||"cubicOut",animationWrap=function createWrap(){return new AnimationWrap}();(0,util.each)(renderResult.willDeleteEls,(function(store,storageName){(0,util.each)(store,(function(el,rawIndex){if(!el.invisible){var target,parent=el.parent,innerStore=inner(parent);if(reRoot&&"drillDown"===reRoot.direction)target=parent===reRoot.rootNodeGroup?{shape:{x:0,y:0,width:innerStore.nodeWidth,height:innerStore.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var targetX=0,targetY=0;innerStore.willDelete||(targetX=innerStore.nodeWidth/2,targetY=innerStore.nodeHeight/2),target="nodeGroup"===storageName?{x:targetX,y:targetY,style:{opacity:0}}:{shape:{x:targetX,y:targetY,width:0,height:0},style:{opacity:0}}}target&&animationWrap.add(el,target,duration,0,easing)}}))})),(0,util.each)(this._storage,(function(store,storageName){(0,util.each)(store,(function(el,rawIndex){var last=renderResult.lastsForAnimation[storageName][rawIndex],target={};last&&(el instanceof Group.Z?null!=last.oldX&&(target.x=el.x,target.y=el.y,el.x=last.oldX,el.y=last.oldY):(last.oldShape&&(target.shape=(0,util.extend)({},el.shape),el.setShape(last.oldShape)),last.fadein?(el.setStyle("opacity",0),target.style={opacity:1}):1!==el.style.opacity&&(target.style={opacity:1})),animationWrap.add(el,target,duration,0,easing))}))}),this),this._state="animating",animationWrap.finished((0,util.bind)((function(){this._state="ready",renderResult.renderFinally()}),this)).start()},TreemapView.prototype._resetController=function(api){var controller=this._controller;controller||((controller=this._controller=new RoamController.Z(api.getZr())).enable(this.seriesModel.get("roam")),controller.on("pan",(0,util.bind)(this._onPan,this)),controller.on("zoom",(0,util.bind)(this._onZoom,this)));var rect=new BoundingRect.Z(0,0,api.getWidth(),api.getHeight());controller.setPointerChecker((function(e,x,y){return rect.contain(x,y)}))},TreemapView.prototype._clearController=function(){var controller=this._controller;controller&&(controller.dispose(),controller=null)},TreemapView.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rootLayout.x+e.dx,y:rootLayout.y+e.dy,width:rootLayout.width,height:rootLayout.height}})}},TreemapView.prototype._onZoom=function(e){var mouseX=e.originX,mouseY=e.originY;if("animating"!==this._state){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;var rect=new BoundingRect.Z(rootLayout.x,rootLayout.y,rootLayout.width,rootLayout.height),layoutInfo=this.seriesModel.layoutInfo;mouseX-=layoutInfo.x,mouseY-=layoutInfo.y;var m=matrix.create();matrix.translate(m,m,[-mouseX,-mouseY]),matrix.scale(m,m,[e.scale,e.scale]),matrix.translate(m,m,[mouseX,mouseY]),rect.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},TreemapView.prototype._initEvents=function(containerGroup){var _this=this;containerGroup.on("click",(function(e){if("ready"===_this._state){var nodeClick=_this.seriesModel.get("nodeClick",!0);if(nodeClick){var targetInfo=_this.findTarget(e.offsetX,e.offsetY);if(targetInfo){var node=targetInfo.node;if(node.getLayout().isLeafRoot)_this._rootToNode(targetInfo);else if("zoomToNode"===nodeClick)_this._zoomToNode(targetInfo);else if("link"===nodeClick){var itemModel=node.hostTree.data.getItemModel(node.dataIndex),link=itemModel.get("link",!0),linkTarget=itemModel.get("target",!0)||"blank";link&&(0,format.MI)(link,linkTarget)}}}}}),this)},TreemapView.prototype._renderBreadcrumb=function(seriesModel,api,targetInfo){var _this=this;targetInfo||(targetInfo=null!=seriesModel.get("leafDepth",!0)?{node:seriesModel.getViewRoot()}:this.findTarget(api.getWidth()/2,api.getHeight()/2))||(targetInfo={node:seriesModel.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new treemap_Breadcrumb(this.group))).render(seriesModel,api,targetInfo.node,(function(node){"animating"!==_this._state&&(treeHelper.Gx(seriesModel.getViewRoot(),node)?_this._rootToNode({node}):_this._zoomToNode({node}))}))},TreemapView.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},TreemapView.prototype.dispose=function(){this._clearController()},TreemapView.prototype._zoomToNode=function(targetInfo){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype._rootToNode=function(targetInfo){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype.findTarget=function(x,y){var targetInfo;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(node){var bgEl=this._storage.background[node.getRawIndex()];if(bgEl){var point=bgEl.transformCoordToLocal(x,y),shape=bgEl.shape;if(!(shape.x<=point[0]&&point[0]<=shape.x+shape.width&&shape.y<=point[1]&&point[1]<=shape.y+shape.height))return!1;targetInfo={node,offsetX:point[0],offsetY:point[1]}}}),this),targetInfo},TreemapView.type="treemap",TreemapView}(Chart.Z);const treemap_TreemapView=TreemapView;var VisualMapping=__webpack_require__("./node_modules/echarts/lib/visual/VisualMapping.js"),tool_color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),treemapVisual_inner=(0,model.Yf)();const treemapVisual={seriesType:"treemap",reset:function(seriesModel){var root=seriesModel.getData().tree.root;root.isRemoved()||travelTree(root,{},seriesModel.getViewRoot().getAncestors(),seriesModel)}};function travelTree(node,designatedVisual,viewRootAncestors,seriesModel){var nodeModel=node.getModel(),nodeLayout=node.getLayout(),data=node.hostTree.data;if(nodeLayout&&!nodeLayout.invisible&&nodeLayout.isInView){var thisNodeColor,nodeItemStyleModel=nodeModel.getModel("itemStyle"),visuals=function buildVisuals(nodeItemStyleModel,designatedVisual,seriesModel){var visuals=(0,util.extend)({},designatedVisual),designatedVisualItemStyle=seriesModel.designatedVisualItemStyle;return(0,util.each)(["color","colorAlpha","colorSaturation"],(function(visualName){designatedVisualItemStyle[visualName]=designatedVisual[visualName];var val=nodeItemStyleModel.get(visualName);designatedVisualItemStyle[visualName]=null,null!=val&&(visuals[visualName]=val)})),visuals}(nodeItemStyleModel,designatedVisual,seriesModel),existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style"),borderColor=nodeItemStyleModel.get("borderColor"),borderColorSaturation=nodeItemStyleModel.get("borderColorSaturation");null!=borderColorSaturation&&(borderColor=function calculateBorderColor(borderColorSaturation,thisNodeColor){return null!=thisNodeColor?(0,tool_color.modifyHSL)(thisNodeColor,null,null,borderColorSaturation):null}(borderColorSaturation,thisNodeColor=calculateColor(visuals))),existsStyle.stroke=borderColor;var viewChildren=node.viewChildren;if(viewChildren&&viewChildren.length){var mapping_1=function buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren){if(!viewChildren||!viewChildren.length)return;var rangeVisual=getRangeVisual(nodeModel,"color")||null!=visuals.color&&"none"!==visuals.color&&(getRangeVisual(nodeModel,"colorAlpha")||getRangeVisual(nodeModel,"colorSaturation"));if(!rangeVisual)return;var visualMin=nodeModel.get("visualMin"),visualMax=nodeModel.get("visualMax"),dataExtent=nodeLayout.dataExtent.slice();null!=visualMin&&visualMin<dataExtent[0]&&(dataExtent[0]=visualMin),null!=visualMax&&visualMax>dataExtent[1]&&(dataExtent[1]=visualMax);var colorMappingBy=nodeModel.get("colorMappingBy"),opt={type:rangeVisual.name,dataExtent,visual:rangeVisual.range};"color"!==opt.type||"index"!==colorMappingBy&&"id"!==colorMappingBy?opt.mappingMethod="linear":(opt.mappingMethod="category",opt.loop=!0);var mapping=new VisualMapping.Z(opt);return treemapVisual_inner(mapping).drColorMappingBy=colorMappingBy,mapping}(0,nodeModel,nodeLayout,0,visuals,viewChildren);(0,util.each)(viewChildren,(function(child,index){if(child.depth>=viewRootAncestors.length||child===viewRootAncestors[child.depth]){var childVisual=function mapVisual(nodeModel,visuals,child,index,mapping,seriesModel){var childVisuals=(0,util.extend)({},visuals);if(mapping){var mappingType=mapping.type,colorMappingBy="color"===mappingType&&treemapVisual_inner(mapping).drColorMappingBy,value="index"===colorMappingBy?index:"id"===colorMappingBy?seriesModel.mapIdToIndex(child.getId()):child.getValue(nodeModel.get("visualDimension"));childVisuals[mappingType]=mapping.mapValueToVisual(value)}return childVisuals}(nodeModel,visuals,child,index,mapping_1,seriesModel);travelTree(child,childVisual,viewRootAncestors,seriesModel)}}))}else thisNodeColor=calculateColor(visuals),existsStyle.fill=thisNodeColor}}function calculateColor(visuals){var color=getValueVisualDefine(visuals,"color");if(color){var colorAlpha=getValueVisualDefine(visuals,"colorAlpha"),colorSaturation=getValueVisualDefine(visuals,"colorSaturation");return colorSaturation&&(color=(0,tool_color.modifyHSL)(color,null,null,colorSaturation)),colorAlpha&&(color=(0,tool_color.modifyAlpha)(color,colorAlpha)),color}}function getValueVisualDefine(visuals,name){var value=visuals[name];if(null!=value&&"none"!==value)return value}function getRangeVisual(nodeModel,name){var range=nodeModel.get(name);return(0,util.isArray)(range)&&range.length?{name,range}:null}var number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),mathMax=Math.max,mathMin=Math.min,retrieveValue=util.retrieve,each=util.each,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(seriesModel,ecModel,api,payload){var ecWidth=api.getWidth(),ecHeight=api.getHeight(),seriesOption=seriesModel.option,layoutInfo=layout.ME(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()}),size=seriesOption.size||[],containerWidth=(0,number.GM)(retrieveValue(layoutInfo.width,size[0]),ecWidth),containerHeight=(0,number.GM)(retrieveValue(layoutInfo.height,size[1]),ecHeight),payloadType=payload&&payload.type,targetInfo=treeHelper.d1(payload,["treemapZoomToNode","treemapRootToNode"],seriesModel),rootRect="treemapRender"===payloadType||"treemapMove"===payloadType?payload.rootRect:null,viewRoot=seriesModel.getViewRoot(),viewAbovePath=treeHelper.zN(viewRoot);if("treemapMove"!==payloadType){var rootSize="treemapZoomToNode"===payloadType?function estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight){var parent,currNode=(targetInfo||{}).node,defaultSize=[containerWidth,containerHeight];if(!currNode||currNode===viewRoot)return defaultSize;var viewArea=containerWidth*containerHeight,area=viewArea*seriesModel.option.zoomToNodeRatio;for(;parent=currNode.parentNode;){for(var sum=0,siblings=parent.children,i=0,len=siblings.length;i<len;i++)sum+=siblings[i].getValue();var currNodeValue=currNode.getValue();if(0===currNodeValue)return defaultSize;area*=sum/currNodeValue;var parentModel=parent.getModel(),borderWidth=parentModel.get(PATH_BORDER_WIDTH);(area+=4*borderWidth*borderWidth+(3*borderWidth+Math.max(borderWidth,getUpperLabelHeight(parentModel)))*Math.pow(area,.5))>number.YM&&(area=number.YM),currNode=parent}area<viewArea&&(area=viewArea);var scale=Math.pow(area/viewArea,.5);return[containerWidth*scale,containerHeight*scale]}(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight):rootRect?[rootRect.width,rootRect.height]:[containerWidth,containerHeight],sort_1=seriesOption.sort;sort_1&&"asc"!==sort_1&&"desc"!==sort_1&&(sort_1="desc");var options={squareRatio:seriesOption.squareRatio,sort:sort_1,leafDepth:seriesOption.leafDepth};viewRoot.hostTree.clearLayouts();var viewRootLayout_1={x:0,y:0,width:rootSize[0],height:rootSize[1],area:rootSize[0]*rootSize[1]};viewRoot.setLayout(viewRootLayout_1),squarify(viewRoot,options,!1,0),viewRootLayout_1=viewRoot.getLayout(),each(viewAbovePath,(function(node,index){var childValue=(viewAbovePath[index+1]||viewRoot).getValue();node.setLayout(util.extend({dataExtent:[childValue,childValue],borderWidth:0,upperHeight:0},viewRootLayout_1))}))}var treeRoot=seriesModel.getData().tree.root;treeRoot.setLayout(function calculateRootPosition(layoutInfo,rootRect,targetInfo){if(rootRect)return{x:rootRect.x,y:rootRect.y};var defaultPosition={x:0,y:0};if(!targetInfo)return defaultPosition;var targetNode=targetInfo.node,layout=targetNode.getLayout();if(!layout)return defaultPosition;var targetCenter=[layout.width/2,layout.height/2],node=targetNode;for(;node;){var nodeLayout=node.getLayout();targetCenter[0]+=nodeLayout.x,targetCenter[1]+=nodeLayout.y,node=node.parentNode}return{x:layoutInfo.width/2-targetCenter[0],y:layoutInfo.height/2-targetCenter[1]}}(layoutInfo,rootRect,targetInfo),!0),seriesModel.setLayoutInfo(layoutInfo),prunning(treeRoot,new BoundingRect.Z(-layoutInfo.x,-layoutInfo.y,ecWidth,ecHeight),viewAbovePath,viewRoot,0)}};function squarify(node,options,hideChildren,depth){var width,height;if(!node.isRemoved()){var thisLayout=node.getLayout();width=thisLayout.width,height=thisLayout.height;var nodeModel=node.getModel(),borderWidth=nodeModel.get(PATH_BORDER_WIDTH),halfGapWidth=nodeModel.get(PATH_GAP_WIDTH)/2,upperLabelHeight=getUpperLabelHeight(nodeModel),upperHeight=Math.max(borderWidth,upperLabelHeight),layoutOffset=borderWidth-halfGapWidth,layoutOffsetUpper=upperHeight-halfGapWidth;node.setLayout({borderWidth,upperHeight,upperLabelHeight},!0);var totalArea=(width=mathMax(width-2*layoutOffset,0))*(height=mathMax(height-layoutOffset-layoutOffsetUpper,0)),viewChildren=function initChildren(node,nodeModel,totalArea,options,hideChildren,depth){var viewChildren=node.children||[],orderBy=options.sort;"asc"!==orderBy&&"desc"!==orderBy&&(orderBy=null);var overLeafDepth=null!=options.leafDepth&&options.leafDepth<=depth;if(hideChildren&&!overLeafDepth)return node.viewChildren=[];viewChildren=util.filter(viewChildren,(function(child){return!child.isRemoved()})),function sort(viewChildren,orderBy){orderBy&&viewChildren.sort((function(a,b){var diff="asc"===orderBy?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===diff?"asc"===orderBy?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:diff}));return viewChildren}(viewChildren,orderBy);var info=function statistic(nodeModel,children,orderBy){for(var sum=0,i=0,len=children.length;i<len;i++)sum+=children[i].getValue();var dataExtent,dimension=nodeModel.get("visualDimension");children&&children.length?"value"===dimension&&orderBy?(dataExtent=[children[children.length-1].getValue(),children[0].getValue()],"asc"===orderBy&&dataExtent.reverse()):(dataExtent=[1/0,-1/0],each(children,(function(child){var value=child.getValue(dimension);value<dataExtent[0]&&(dataExtent[0]=value),value>dataExtent[1]&&(dataExtent[1]=value)}))):dataExtent=[NaN,NaN];return{sum,dataExtent}}(nodeModel,viewChildren,orderBy);if(0===info.sum)return node.viewChildren=[];if(info.sum=function filterByThreshold(nodeModel,totalArea,sum,orderBy,orderedChildren){if(!orderBy)return sum;for(var visibleMin=nodeModel.get("visibleMin"),len=orderedChildren.length,deletePoint=len,i=len-1;i>=0;i--){var value=orderedChildren["asc"===orderBy?len-i-1:i].getValue();value/sum*totalArea<visibleMin&&(deletePoint=i,sum-=value)}return"asc"===orderBy?orderedChildren.splice(0,len-deletePoint):orderedChildren.splice(deletePoint,len-deletePoint),sum}(nodeModel,totalArea,info.sum,orderBy,viewChildren),0===info.sum)return node.viewChildren=[];for(var i=0,len=viewChildren.length;i<len;i++){var area=viewChildren[i].getValue()/info.sum*totalArea;viewChildren[i].setLayout({area})}overLeafDepth&&(viewChildren.length&&node.setLayout({isLeafRoot:!0},!0),viewChildren.length=0);return node.viewChildren=viewChildren,node.setLayout({dataExtent:info.dataExtent},!0),viewChildren}(node,nodeModel,totalArea,options,hideChildren,depth);if(viewChildren.length){var rect={x:layoutOffset,y:layoutOffsetUpper,width,height},rowFixedLength=mathMin(width,height),best=1/0,row=[];row.area=0;for(var i=0,len=viewChildren.length;i<len;){var child=viewChildren[i];row.push(child),row.area+=child.getLayout().area;var score=worst(row,rowFixedLength,options.squareRatio);score<=best?(i++,best=score):(row.area-=row.pop().getLayout().area,position(row,rowFixedLength,rect,halfGapWidth,!1),rowFixedLength=mathMin(rect.width,rect.height),row.length=row.area=0,best=1/0)}if(row.length&&position(row,rowFixedLength,rect,halfGapWidth,!0),!hideChildren){var childrenVisibleMin=nodeModel.get("childrenVisibleMin");null!=childrenVisibleMin&&totalArea<childrenVisibleMin&&(hideChildren=!0)}for(i=0,len=viewChildren.length;i<len;i++)squarify(viewChildren[i],options,hideChildren,depth+1)}}}function worst(row,rowFixedLength,ratio){for(var areaMax=0,areaMin=1/0,i=0,area=void 0,len=row.length;i<len;i++)(area=row[i].getLayout().area)&&(area<areaMin&&(areaMin=area),area>areaMax&&(areaMax=area));var squareArea=row.area*row.area,f=rowFixedLength*rowFixedLength*ratio;return squareArea?mathMax(f*areaMax/squareArea,squareArea/(f*areaMin)):1/0}function position(row,rowFixedLength,rect,halfGapWidth,flush){var idx0WhenH=rowFixedLength===rect.width?0:1,idx1WhenH=1-idx0WhenH,xy=["x","y"],wh=["width","height"],last=rect[xy[idx0WhenH]],rowOtherLength=rowFixedLength?row.area/rowFixedLength:0;(flush||rowOtherLength>rect[wh[idx1WhenH]])&&(rowOtherLength=rect[wh[idx1WhenH]]);for(var i=0,rowLen=row.length;i<rowLen;i++){var node=row[i],nodeLayout={},step=rowOtherLength?node.getLayout().area/rowOtherLength:0,wh1=nodeLayout[wh[idx1WhenH]]=mathMax(rowOtherLength-2*halfGapWidth,0),remain=rect[xy[idx0WhenH]]+rect[wh[idx0WhenH]]-last,modWH=i===rowLen-1||remain<step?remain:step,wh0=nodeLayout[wh[idx0WhenH]]=mathMax(modWH-2*halfGapWidth,0);nodeLayout[xy[idx1WhenH]]=rect[xy[idx1WhenH]]+mathMin(halfGapWidth,wh1/2),nodeLayout[xy[idx0WhenH]]=last+mathMin(halfGapWidth,wh0/2),last+=modWH,node.setLayout(nodeLayout,!0)}rect[xy[idx1WhenH]]+=rowOtherLength,rect[wh[idx1WhenH]]-=rowOtherLength}function prunning(node,clipRect,viewAbovePath,viewRoot,depth){var nodeLayout=node.getLayout(),nodeInViewAbovePath=viewAbovePath[depth],isAboveViewRoot=nodeInViewAbovePath&&nodeInViewAbovePath===node;if(!(nodeInViewAbovePath&&!isAboveViewRoot||depth===viewAbovePath.length&&node!==viewRoot)){node.setLayout({isInView:!0,invisible:!isAboveViewRoot&&!clipRect.intersect(nodeLayout),isAboveViewRoot},!0);var childClipRect=new BoundingRect.Z(clipRect.x-nodeLayout.x,clipRect.y-nodeLayout.y,clipRect.width,clipRect.height);each(node.viewChildren||[],(function(child){prunning(child,childClipRect,viewAbovePath,viewRoot,depth+1)}))}}function getUpperLabelHeight(model){return model.get(PATH_UPPER_LABEL_SHOW)?model.get(PATH_UPPER_LABEL_HEIGHT):0}function install(registers){registers.registerSeriesModel(TreemapSeries),registers.registerChartView(treemap_TreemapView),registers.registerVisual(treemapVisual),registers.registerLayout(treemapLayout),function installTreemapAction(registers){for(var i=0;i<actionTypes.length;i++)registers.registerAction({type:actionTypes[i],update:"updateView"},util.noop);registers.registerAction({type:"treemapRootToNode",update:"updateView"},(function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"treemap",query:payload},(function handleRootToNode(model,index){var targetInfo=treeHelper.d1(payload,["treemapZoomToNode","treemapRootToNode"],model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=treeHelper.Gx(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}}))}))}(registers)}},"./node_modules/echarts/lib/component/dataset/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),_model_Component_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),_view_Component_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceManager.js"),DatasetModel=function(_super){function DatasetModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(DatasetModel,_super),DatasetModel.prototype.init=function(option,parentModel,ecModel){_super.prototype.init.call(this,option,parentModel,ecModel),this._sourceManager=new _data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__.U(this),(0,_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__.t)(this)},DatasetModel.prototype.mergeOption=function(newOption,ecModel){_super.prototype.mergeOption.call(this,newOption,ecModel),(0,_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__.t)(this)},DatasetModel.prototype.optionUpdated=function(){this._sourceManager.dirty()},DatasetModel.prototype.getSourceManager=function(){return this._sourceManager},DatasetModel.type="dataset",DatasetModel.defaultOption={seriesLayoutBy:_util_types_js__WEBPACK_IMPORTED_MODULE_2__.fY},DatasetModel}(_model_Component_js__WEBPACK_IMPORTED_MODULE_3__.Z),DatasetView=function(_super){function DatasetView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(DatasetView,_super),DatasetView.type="dataset",DatasetView}(_view_Component_js__WEBPACK_IMPORTED_MODULE_4__.Z);function install(registers){registers.registerComponentModel(DatasetModel),registers.registerComponentView(DatasetView)}},"./node_modules/echarts/lib/component/geo/install.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});var tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),Component=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),View=__webpack_require__("./node_modules/echarts/lib/coord/View.js"),geoSourceManager=__webpack_require__("./node_modules/echarts/lib/coord/geo/geoSourceManager.js"),GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(_super){function Geo(name,map,opt){var _this=_super.call(this,name)||this;_this.dimensions=geo2DDimensions,_this.type="geo",_this._nameCoordMap=util.createHashMap(),_this.map=map;var boundingRect,projection=opt.projection,source=geoSourceManager.Z.load(map,opt.nameMap,opt.nameProperty),resource=geoSourceManager.Z.getGeoResource(map),regions=(_this.resourceType=resource?resource.type:null,_this.regions=source.regions),defaultParams=GEO_DEFAULT_PARAMS[resource.type];if(_this._regionsMap=source.regionsMap,_this.regions=source.regions,_this.projection=projection,projection)for(var i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect(projection);(boundingRect=boundingRect||regionRect.clone()).union(regionRect)}else boundingRect=source.boundingRect;return _this.setBoundingRect(boundingRect.x,boundingRect.y,boundingRect.width,boundingRect.height),_this.aspectScale=projection?1:util.retrieve2(opt.aspectScale,defaultParams.aspectScale),_this._invertLongitute=!projection&&defaultParams.invertLongitute,_this}return(0,tslib_es6.ZT)(Geo,_super),Geo.prototype._transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),invertLongitute=this._invertLongitute;rect=rect.clone(),invertLongitute&&(rect.y=-rect.y-rect.height);var rawTransformable=this._rawTransformable;rawTransformable.transform=rect.calculateTransform(new BoundingRect.Z(x,y,width,height));var rawParent=rawTransformable.parent;rawTransformable.parent=null,rawTransformable.decomposeTransform(),rawTransformable.parent=rawParent,invertLongitute&&(rawTransformable.scaleY=-rawTransformable.scaleY),this._updateTransform()},Geo.prototype.getRegion=function(name){return this._regionsMap.get(name)},Geo.prototype.getRegionByCoord=function(coord){for(var regions=this.regions,i=0;i<regions.length;i++){var region=regions[i];if("geoJSON"===region.type&&region.contain(coord))return regions[i]}},Geo.prototype.addGeoCoord=function(name,geoCoord){this._nameCoordMap.set(name,geoCoord)},Geo.prototype.getGeoCoord=function(name){var region=this._regionsMap.get(name);return this._nameCoordMap.get(name)||region&&region.getCenter()},Geo.prototype.dataToPoint=function(data,noRoam,out){if(util.isString(data)&&(data=this.getGeoCoord(data)),data){var projection=this.projection;return projection&&(data=projection.project(data)),data&&this.projectedToPoint(data,noRoam,out)}},Geo.prototype.pointToData=function(point){var projection=this.projection;return projection&&(point=projection.unproject(point)),point&&this.pointToProjected(point)},Geo.prototype.pointToProjected=function(point){return _super.prototype.pointToData.call(this,point)},Geo.prototype.projectedToPoint=function(projected,noRoam,out){return _super.prototype.dataToPoint.call(this,projected,noRoam,out)},Geo.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},Geo.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},Geo}(View.Z);function getCoordSys(finder){var geoModel=finder.geoModel,seriesModel=finder.seriesModel;return geoModel?geoModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem||(seriesModel.getReferringComponents("geo",model.C6).models[0]||{}).coordinateSystem:null}util.mixin(Geo,View.Z);const geo_Geo=Geo;var layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js");function resizeGeo(geoModel,api){var boundingCoords=geoModel.get("boundingCoords");if(null!=boundingCoords){var leftTop_1=boundingCoords[0],rightBottom_1=boundingCoords[1];if(isFinite(leftTop_1[0])&&isFinite(leftTop_1[1])&&isFinite(rightBottom_1[0])&&isFinite(rightBottom_1[1])){var projection_1=this.projection;if(projection_1){var xMin=leftTop_1[0],yMin=leftTop_1[1],xMax=rightBottom_1[0],yMax=rightBottom_1[1];leftTop_1=[1/0,1/0],rightBottom_1=[-1/0,-1/0];var sampleLine=function(x0,y0,x1,y1){for(var dx=x1-x0,dy=y1-y0,i=0;i<=100;i++){var p=i/100,pt=projection_1.project([x0+dx*p,y0+dy*p]);vector.min(leftTop_1,leftTop_1,pt),vector.max(rightBottom_1,rightBottom_1,pt)}};sampleLine(xMin,yMin,xMax,yMin),sampleLine(xMax,yMin,xMax,yMax),sampleLine(xMax,yMax,xMin,yMax),sampleLine(xMin,yMax,xMax,yMin)}this.setBoundingRect(leftTop_1[0],leftTop_1[1],rightBottom_1[0]-leftTop_1[0],rightBottom_1[1]-leftTop_1[1])}else 0}var center,size,viewRect,rect=this.getBoundingRect(),centerOption=geoModel.get("layoutCenter"),sizeOption=geoModel.get("layoutSize"),viewWidth=api.getWidth(),viewHeight=api.getHeight(),aspect=rect.width/rect.height*this.aspectScale,useCenterAndSize=!1;if(centerOption&&sizeOption&&(center=[number.GM(centerOption[0],viewWidth),number.GM(centerOption[1],viewHeight)],size=number.GM(sizeOption,Math.min(viewWidth,viewHeight)),isNaN(center[0])||isNaN(center[1])||isNaN(size)||(useCenterAndSize=!0)),useCenterAndSize)viewRect={},aspect>1?(viewRect.width=size,viewRect.height=size/aspect):(viewRect.height=size,viewRect.width=size*aspect),viewRect.y=center[1]-viewRect.height/2,viewRect.x=center[0]-viewRect.width/2;else{var boxLayoutOption=geoModel.getBoxLayoutParams();boxLayoutOption.aspect=aspect,viewRect=layout.ME(boxLayoutOption,{width:viewWidth,height:viewHeight})}this.setViewRect(viewRect.x,viewRect.y,viewRect.width,viewRect.height),this.setCenter(geoModel.get("center"),api),this.setZoom(geoModel.get("zoom"))}var GeoCreator=function(){function GeoCreator(){this.dimensions=geo2DDimensions}return GeoCreator.prototype.create=function(ecModel,api){var geoList=[];function getCommonGeoProperties(model){return{nameProperty:model.get("nameProperty"),aspectScale:model.get("aspectScale"),projection:model.get("projection")}}ecModel.eachComponent("geo",(function(geoModel,idx){var mapName=geoModel.get("map"),geo=new geo_Geo(mapName+idx,mapName,util.extend({nameMap:geoModel.get("nameMap")},getCommonGeoProperties(geoModel)));geo.zoomLimit=geoModel.get("scaleLimit"),geoList.push(geo),geoModel.coordinateSystem=geo,geo.model=geoModel,geo.resize=resizeGeo,geo.resize(geoModel,api)})),ecModel.eachSeries((function(seriesModel){if("geo"===seriesModel.get("coordinateSystem")){var geoIndex=seriesModel.get("geoIndex")||0;seriesModel.coordinateSystem=geoList[geoIndex]}}));var mapModelGroupBySeries={};return ecModel.eachSeriesByType("map",(function(seriesModel){if(!seriesModel.getHostGeoModel()){var mapType=seriesModel.getMapType();mapModelGroupBySeries[mapType]=mapModelGroupBySeries[mapType]||[],mapModelGroupBySeries[mapType].push(seriesModel)}})),util.each(mapModelGroupBySeries,(function(mapSeries,mapType){var nameMapList=util.map(mapSeries,(function(singleMapSeries){return singleMapSeries.get("nameMap")})),geo=new geo_Geo(mapType,mapType,util.extend({nameMap:util.mergeAll(nameMapList)},getCommonGeoProperties(mapSeries[0])));geo.zoomLimit=util.retrieve.apply(null,util.map(mapSeries,(function(singleMapSeries){return singleMapSeries.get("scaleLimit")}))),geoList.push(geo),geo.resize=resizeGeo,geo.resize(mapSeries[0],api),util.each(mapSeries,(function(singleMapSeries){singleMapSeries.coordinateSystem=geo,function setGeoCoords(geo,model){util.each(model.get("geoCoord"),(function(geoCoord,name){geo.addGeoCoord(name,geoCoord)}))}(geo,singleMapSeries)}))})),geoList},GeoCreator.prototype.getFilledRegions=function(originRegionArr,mapName,nameMap,nameProperty){for(var regionsArr=(originRegionArr||[]).slice(),dataNameMap=util.createHashMap(),i=0;i<regionsArr.length;i++)dataNameMap.set(regionsArr[i].name,regionsArr[i]);var source=geoSourceManager.Z.load(mapName,nameMap,nameProperty);return util.each(source.regions,(function(region){var name=region.name;!dataNameMap.get(name)&&regionsArr.push({name})})),regionsArr},GeoCreator}();const geo_geoCreator=new GeoCreator;const geo_GeoModel=function(_super){function GeoModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GeoModel.type,_this}return(0,tslib_es6.ZT)(GeoModel,_super),GeoModel.prototype.init=function(option,parentModel,ecModel){var source=geoSourceManager.Z.getGeoResource(option.map);if(source&&"geoJSON"===source.type){var itemStyle=option.itemStyle=option.itemStyle||{};"color"in itemStyle||(itemStyle.color="#eee")}this.mergeDefaultAndTheme(option,ecModel),model.Cc(option,"label",["show"])},GeoModel.prototype.optionUpdated=function(){var _this=this,option=this.option;option.regions=geo_geoCreator.getFilledRegions(option.regions,option.map,option.nameMap,option.nameProperty);var selectedMap={};this._optionModelMap=util.reduce(option.regions||[],(function(optionModelMap,regionOpt){var regionName=regionOpt.name;return regionName&&(optionModelMap.set(regionName,new Model.Z(regionOpt,_this,_this.ecModel)),regionOpt.selected&&(selectedMap[regionName]=!0)),optionModelMap}),util.createHashMap()),option.selectedMap||(option.selectedMap=selectedMap)},GeoModel.prototype.getRegionModel=function(name){return this._optionModelMap.get(name)||new Model.Z(null,this,this.ecModel)},GeoModel.prototype.getFormattedLabel=function(name,status){var regionModel=this.getRegionModel(name),formatter="normal"===status?regionModel.get(["label","formatter"]):regionModel.get(["emphasis","label","formatter"]),params={name};return util.isFunction(formatter)?(params.status=status,formatter(params)):util.isString(formatter)?formatter.replace("{a}",null!=name?name:""):void 0},GeoModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},GeoModel.prototype.setCenter=function(center){this.option.center=center},GeoModel.prototype.select=function(name){var option=this.option,selectedMode=option.selectedMode;selectedMode&&("multiple"!==selectedMode&&(option.selectedMap=null),(option.selectedMap||(option.selectedMap={}))[name]=!0)},GeoModel.prototype.unSelect=function(name){var selectedMap=this.option.selectedMap;selectedMap&&(selectedMap[name]=!1)},GeoModel.prototype.toggleSelected=function(name){this[this.isSelected(name)?"unSelect":"select"](name)},GeoModel.prototype.isSelected=function(name){var selectedMap=this.option.selectedMap;return!(!selectedMap||!selectedMap[name])},GeoModel.type="geo",GeoModel.layoutMode="box",GeoModel.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},GeoModel}(Component.Z);var roamHelper=__webpack_require__("./node_modules/echarts/lib/action/roamHelper.js"),MapDraw=__webpack_require__("./node_modules/echarts/lib/component/helper/MapDraw.js"),view_Component=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),util_event=__webpack_require__("./node_modules/echarts/lib/util/event.js");const geo_GeoView=function(_super){function GeoView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GeoView.type,_this.focusBlurEnabled=!0,_this}return(0,tslib_es6.ZT)(GeoView,_super),GeoView.prototype.init=function(ecModel,api){this._api=api},GeoView.prototype.render=function(geoModel,ecModel,api,payload){if(this._model=geoModel,!geoModel.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new MapDraw.Z(api));var mapDraw=this._mapDraw;mapDraw.draw(geoModel,ecModel,api,this,payload),mapDraw.group.on("click",this._handleRegionClick,this),mapDraw.group.silent=geoModel.get("silent"),this.group.add(mapDraw.group),this.updateSelectStatus(geoModel,ecModel,api)},GeoView.prototype._handleRegionClick=function(e){var eventData;(0,util_event.o)(e.target,(function(current){return null!=(eventData=(0,innerStore.A)(current).eventData)}),!0),eventData&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:eventData.name})},GeoView.prototype.updateSelectStatus=function(model,ecModel,api){var _this=this;this._mapDraw.group.traverse((function(node){var eventData=(0,innerStore.A)(node).eventData;if(eventData)return _this._model.isSelected(eventData.name)?api.enterSelect(node):api.leaveSelect(node),!0}))},GeoView.prototype.findHighDownDispatchers=function(name){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(name,this._model)},GeoView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},GeoView.type="geo",GeoView}(view_Component.Z);function registerMap(mapName,geoJson,specialAreas){geoSourceManager.Z.registerMap(mapName,geoJson,specialAreas)}function install(registers){function makeAction(method,actionInfo){actionInfo.update="geo:updateSelectStatus",registers.registerAction(actionInfo,(function(payload,ecModel){var selected={},allSelected=[];return ecModel.eachComponent({mainType:"geo",query:payload},(function(geoModel){geoModel[method](payload.name);var geo=geoModel.coordinateSystem;(0,util.each)(geo.regions,(function(region){selected[region.name]=geoModel.isSelected(region.name)||!1}));var names=[];(0,util.each)(selected,(function(v,name){selected[name]&&names.push(name)})),allSelected.push({geoIndex:geoModel.componentIndex,name:names})})),{selected,allSelected,name:payload.name}}))}registers.registerCoordinateSystem("geo",geo_geoCreator),registers.registerComponentModel(geo_GeoModel),registers.registerComponentView(geo_GeoView),registers.registerImpl("registerMap",registerMap),registers.registerImpl("getMap",(function(mapName){return geoSourceManager.Z.getMapForUser(mapName)})),makeAction("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),makeAction("select",{type:"geoSelect",event:"geoselected"}),makeAction("unSelect",{type:"geoUnSelect",event:"geounselected"}),registers.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(payload,ecModel,api){var componentType=payload.componentType||"series";ecModel.eachComponent({mainType:componentType,query:payload},(function(componentModel){var geo=componentModel.coordinateSystem;if("geo"===geo.type){var res=(0,roamHelper.A)(geo,payload,componentModel.get("scaleLimit"),api);componentModel.setCenter&&componentModel.setCenter(res.center),componentModel.setZoom&&componentModel.setZoom(res.zoom),"series"===componentType&&(0,util.each)(componentModel.seriesGroup,(function(seriesModel){seriesModel.setCenter(res.center),seriesModel.setZoom(res.zoom)}))}}))}))}},"./node_modules/echarts/lib/component/helper/MapDraw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_RoamController_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/component/helper/RoamController.js"),_component_helper_roamHelper_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/echarts/lib/component/helper/roamHelper.js"),_component_helper_cursorHelper_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/echarts/lib/component/helper/cursorHelper.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/graphic/CompoundPath.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),_util_states_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/echarts/lib/util/states.js"),_coord_geo_geoSourceManager_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/echarts/lib/coord/geo/geoSourceManager.js"),_util_component_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/component.js"),_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),_util_innerStore_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),_util_decal_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/echarts/lib/util/decal.js"),zrender_lib_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_1__.Yf)();function getFixedItemStyle(model){var itemStyle=model.getItemStyle(),areaColor=model.get("areaColor");return null!=areaColor&&(itemStyle.fill=areaColor),itemStyle}function fixLineStyle(styleHost){var style=styleHost.style;style&&(style.stroke=style.stroke||style.fill,style.fill=null)}function applyOptionStyleForRegion(viewBuildCtx,el,dataIndex,regionModel){var normalStyleModel=regionModel.getModel("itemStyle"),emphasisStyleModel=regionModel.getModel(["emphasis","itemStyle"]),blurStyleModel=regionModel.getModel(["blur","itemStyle"]),selectStyleModel=regionModel.getModel(["select","itemStyle"]),normalStyle=getFixedItemStyle(normalStyleModel),emphasisStyle=getFixedItemStyle(emphasisStyleModel),selectStyle=getFixedItemStyle(selectStyleModel),blurStyle=getFixedItemStyle(blurStyleModel),data=viewBuildCtx.data;if(data){var style=data.getItemVisual(dataIndex,"style"),decal=data.getItemVisual(dataIndex,"decal");viewBuildCtx.isVisualEncodedByVisualMap&&style.fill&&(normalStyle.fill=style.fill),decal&&(normalStyle.decal=(0,_util_decal_js__WEBPACK_IMPORTED_MODULE_14__.I)(decal,viewBuildCtx.api))}el.setStyle(normalStyle),el.style.strokeNoScale=!0,el.ensureState("emphasis").style=emphasisStyle,el.ensureState("select").style=selectStyle,el.ensureState("blur").style=blurStyle,(0,_util_states_js__WEBPACK_IMPORTED_MODULE_10__.MA)(el)}function resetLabelForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx,labelXY){var data=viewBuildCtx.data,isGeo=viewBuildCtx.isGeo,isDataNaN=data&&isNaN(data.get(data.mapDimension("value"),dataIdx)),itemLayout=data&&data.getItemLayout(dataIdx);if(isGeo||isDataNaN||itemLayout&&itemLayout.showLabel){var query=isGeo?regionName:dataIdx,labelFetcher=void 0;(!data||dataIdx>=0)&&(labelFetcher=mapOrGeoModel);var specifiedTextOpt=labelXY?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_15__.ni)(el,(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_15__.k3)(regionModel),{labelFetcher,labelDataIndex:query,defaultText:regionName},specifiedTextOpt);var textEl=el.getTextContent();if(textEl&&(mapLabelRaw(textEl).ignore=textEl.ignore,el.textConfig&&labelXY)){var rect=el.getBoundingRect().clone();el.textConfig.layoutRect=rect,el.textConfig.position=[(labelXY[0]-rect.x)/rect.width*100+"%",(labelXY[1]-rect.y)/rect.height*100+"%"]}el.disableLabelAnimation=!0}else el.removeTextContent(),el.removeTextConfig(),el.disableLabelAnimation=null}function resetEventTriggerForRegion(viewBuildCtx,eventTrigger,regionName,regionModel,mapOrGeoModel,dataIdx){viewBuildCtx.data?viewBuildCtx.data.setItemGraphicEl(dataIdx,eventTrigger):(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_16__.A)(eventTrigger).eventData={componentType:"geo",componentIndex:mapOrGeoModel.componentIndex,geoIndex:mapOrGeoModel.componentIndex,name:regionName,region:regionModel&&regionModel.option||{}}}function resetTooltipForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel){viewBuildCtx.data||_util_graphic_js__WEBPACK_IMPORTED_MODULE_17__.setTooltipConfig({el,componentModel:mapOrGeoModel,itemName:regionName,itemTooltipOption:regionModel.get("tooltip")})}function resetStateTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel){el.highDownSilentOnTouch=!!mapOrGeoModel.get("selectedMode");var emphasisModel=regionModel.getModel("emphasis"),focus=emphasisModel.get("focus");return(0,_util_states_js__WEBPACK_IMPORTED_MODULE_10__.k5)(el,focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled")),viewBuildCtx.isGeo&&(0,_util_states_js__WEBPACK_IMPORTED_MODULE_10__.th)(el,mapOrGeoModel,regionName),focus}function projectPolys(rings,createStream,isLine){var curPoly,polygons=[];function startPolygon(){curPoly=[]}function endPolygon(){curPoly.length&&(polygons.push(curPoly),curPoly=[])}var stream=createStream({polygonStart:startPolygon,polygonEnd:endPolygon,lineStart:startPolygon,lineEnd:endPolygon,point:function(x,y){isFinite(x)&&isFinite(y)&&curPoly.push([x,y])},sphere:function(){}});return!isLine&&stream.polygonStart(),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(rings,(function(ring){stream.lineStart();for(var i=0;i<ring.length;i++)stream.point(ring[i][0],ring[i][1]);stream.lineEnd()})),!isLine&&stream.polygonEnd(),polygons}const __WEBPACK_DEFAULT_EXPORT__=function(){function MapDraw(api){var group=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z;this.uid=(0,_util_component_js__WEBPACK_IMPORTED_MODULE_3__.Kr)("ec_map_draw"),this._controller=new _RoamController_js__WEBPACK_IMPORTED_MODULE_4__.Z(api.getZr()),this._controllerHost={target:group},this.group=group,group.add(this._regionsGroup=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z),group.add(this._svgGroup=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z)}return MapDraw.prototype.draw=function(mapOrGeoModel,ecModel,api,fromView,payload){var isGeo="geo"===mapOrGeoModel.mainType,data=mapOrGeoModel.getData&&mapOrGeoModel.getData();isGeo&&ecModel.eachComponent({mainType:"series",subType:"map"},(function(mapSeries){data||mapSeries.getHostGeoModel()!==mapOrGeoModel||(data=mapSeries.getData())}));var geo=mapOrGeoModel.coordinateSystem,regionsGroup=this._regionsGroup,group=this.group,transformInfo=geo.getTransformInfo(),transformInfoRaw=transformInfo.raw,transformInfoRoam=transformInfo.roam;!regionsGroup.childAt(0)||payload?(group.x=transformInfoRoam.x,group.y=transformInfoRoam.y,group.scaleX=transformInfoRoam.scaleX,group.scaleY=transformInfoRoam.scaleY,group.dirty()):_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.D(group,transformInfoRoam,mapOrGeoModel);var isVisualEncodedByVisualMap=data&&data.getVisual("visualMeta")&&data.getVisual("visualMeta").length>0,viewBuildCtx={api,geo,mapOrGeoModel,data,isVisualEncodedByVisualMap,isGeo,transformInfoRaw};"geoJSON"===geo.resourceType?this._buildGeoJSON(viewBuildCtx):"geoSVG"===geo.resourceType&&this._buildSVG(viewBuildCtx),this._updateController(mapOrGeoModel,ecModel,api),this._updateMapSelectHandler(mapOrGeoModel,regionsGroup,api,fromView)},MapDraw.prototype._buildGeoJSON=function(viewBuildCtx){var regionsGroupByName=this._regionsGroupByName=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(),regionsInfoByName=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(),regionsGroup=this._regionsGroup,transformInfoRaw=viewBuildCtx.transformInfoRaw,mapOrGeoModel=viewBuildCtx.mapOrGeoModel,data=viewBuildCtx.data,projection=viewBuildCtx.geo.projection,projectionStream=projection&&projection.stream;function transformPoint(point,project){return project&&(point=project(point)),point&&[point[0]*transformInfoRaw.scaleX+transformInfoRaw.x,point[1]*transformInfoRaw.scaleY+transformInfoRaw.y]}function transformPolygonPoints(inPoints){for(var outPoints=[],project=!projectionStream&&projection&&projection.project,i=0;i<inPoints.length;++i){var newPt=transformPoint(inPoints[i],project);newPt&&outPoints.push(newPt)}return outPoints}function getPolyShape(points){return{shape:{points:transformPolygonPoints(points)}}}regionsGroup.removeAll(),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(viewBuildCtx.geo.regions,(function(region){var regionName=region.name,regionGroup=regionsGroupByName.get(regionName),_a=regionsInfoByName.get(regionName)||{},dataIdx=_a.dataIdx,regionModel=_a.regionModel;regionGroup||(regionGroup=regionsGroupByName.set(regionName,new _util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z),regionsGroup.add(regionGroup),dataIdx=data?data.indexOfName(regionName):null,regionModel=viewBuildCtx.isGeo?mapOrGeoModel.getRegionModel(regionName):data?data.getItemModel(dataIdx):null,regionsInfoByName.set(regionName,{dataIdx,regionModel}));var polygonSubpaths=[],polylineSubpaths=[];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(region.geometries,(function(geometry){if("polygon"===geometry.type){var polys=[geometry.exterior].concat(geometry.interiors||[]);projectionStream&&(polys=projectPolys(polys,projectionStream)),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(polys,(function(poly){polygonSubpaths.push(new _util_graphic_js__WEBPACK_IMPORTED_MODULE_6__.Z(getPolyShape(poly)))}))}else{var points=geometry.points;projectionStream&&(points=projectPolys(points,projectionStream,!0)),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(points,(function(points){polylineSubpaths.push(new _util_graphic_js__WEBPACK_IMPORTED_MODULE_7__.Z(getPolyShape(points)))}))}}));var centerPt=transformPoint(region.getCenter(),projection&&projection.project);function createCompoundPath(subpaths,isLine){if(subpaths.length){var compoundPath=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_8__.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:subpaths}});regionGroup.add(compoundPath),applyOptionStyleForRegion(viewBuildCtx,compoundPath,dataIdx,regionModel),resetLabelForRegion(viewBuildCtx,compoundPath,regionName,regionModel,mapOrGeoModel,dataIdx,centerPt),isLine&&(fixLineStyle(compoundPath),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(compoundPath.states,fixLineStyle))}}createCompoundPath(polygonSubpaths),createCompoundPath(polylineSubpaths,!0)})),regionsGroupByName.each((function(regionGroup,regionName){var _a=regionsInfoByName.get(regionName),dataIdx=_a.dataIdx,regionModel=_a.regionModel;resetEventTriggerForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel,dataIdx),resetTooltipForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel),resetStateTriggerForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel)}),this)},MapDraw.prototype._buildSVG=function(viewBuildCtx){var mapName=viewBuildCtx.geo.map,transformInfoRaw=viewBuildCtx.transformInfoRaw;this._svgGroup.x=transformInfoRaw.x,this._svgGroup.y=transformInfoRaw.y,this._svgGroup.scaleX=transformInfoRaw.scaleX,this._svgGroup.scaleY=transformInfoRaw.scaleY,this._svgResourceChanged(mapName)&&(this._freeSVG(),this._useSVG(mapName));var svgDispatcherMap=this._svgDispatcherMap=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(),focusSelf=!1;zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(this._svgGraphicRecord.named,(function(namedItem){var regionName=namedItem.name,mapOrGeoModel=viewBuildCtx.mapOrGeoModel,data=viewBuildCtx.data,svgNodeTagLower=namedItem.svgNodeTagLower,el=namedItem.el,dataIdx=data?data.indexOfName(regionName):null,regionModel=mapOrGeoModel.getRegionModel(regionName);(null!=OPTION_STYLE_ENABLED_TAG_MAP.get(svgNodeTagLower)&&el instanceof zrender_lib_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_9__.ZP&&applyOptionStyleForRegion(viewBuildCtx,el,dataIdx,regionModel),el instanceof zrender_lib_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_9__.ZP&&(el.culling=!0),el.z2EmphasisLift=0,namedItem.namedFrom)||(null!=LABEL_HOST_MAP.get(svgNodeTagLower)&&resetLabelForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx,null),resetEventTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx),resetTooltipForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel),null!=STATE_TRIGGER_TAG_MAP.get(svgNodeTagLower)&&("self"===resetStateTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel)&&(focusSelf=!0),(svgDispatcherMap.get(regionName)||svgDispatcherMap.set(regionName,[])).push(el)))}),this),this._enableBlurEntireSVG(focusSelf,viewBuildCtx)},MapDraw.prototype._enableBlurEntireSVG=function(focusSelf,viewBuildCtx){if(focusSelf&&viewBuildCtx.isGeo){var opacity_1=viewBuildCtx.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(el){if(!el.isGroup){(0,_util_states_js__WEBPACK_IMPORTED_MODULE_10__.MA)(el);var style=el.ensureState("blur").style||{};null==style.opacity&&null!=opacity_1&&(style.opacity=opacity_1),el.ensureState("emphasis")}}))}},MapDraw.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},MapDraw.prototype.findHighDownDispatchers=function(name,geoModel){if(null==name)return[];var geo=geoModel.coordinateSystem;if("geoJSON"===geo.resourceType){var regionsGroupByName=this._regionsGroupByName;if(regionsGroupByName){var regionGroup=regionsGroupByName.get(name);return regionGroup?[regionGroup]:[]}}else if("geoSVG"===geo.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(name)||[]},MapDraw.prototype._svgResourceChanged=function(mapName){return this._svgMapName!==mapName},MapDraw.prototype._useSVG=function(mapName){var resource=_coord_geo_geoSourceManager_js__WEBPACK_IMPORTED_MODULE_11__.Z.getGeoResource(mapName);if(resource&&"geoSVG"===resource.type){var svgGraphic=resource.useGraphic(this.uid);this._svgGroup.add(svgGraphic.root),this._svgGraphicRecord=svgGraphic,this._svgMapName=mapName}},MapDraw.prototype._freeSVG=function(){var mapName=this._svgMapName;if(null!=mapName){var resource=_coord_geo_geoSourceManager_js__WEBPACK_IMPORTED_MODULE_11__.Z.getGeoResource(mapName);resource&&"geoSVG"===resource.type&&resource.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},MapDraw.prototype._updateController=function(mapOrGeoModel,ecModel,api){var geo=mapOrGeoModel.coordinateSystem,controller=this._controller,controllerHost=this._controllerHost;controllerHost.zoomLimit=mapOrGeoModel.get("scaleLimit"),controllerHost.zoom=geo.getZoom(),controller.enable(mapOrGeoModel.get("roam")||!1);var mainType=mapOrGeoModel.mainType;function makeActionBase(){var action={type:"geoRoam",componentType:mainType};return action[mainType+"Id"]=mapOrGeoModel.id,action}controller.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,_component_helper_roamHelper_js__WEBPACK_IMPORTED_MODULE_12__.e(controllerHost,e.dx,e.dy),api.dispatchAction(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(makeActionBase(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),controller.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,_component_helper_roamHelper_js__WEBPACK_IMPORTED_MODULE_12__.H(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(makeActionBase(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),controller.setPointerChecker((function(e,x,y){return geo.containPoint([x,y])&&!(0,_component_helper_cursorHelper_js__WEBPACK_IMPORTED_MODULE_13__.l)(e,api,mapOrGeoModel)}))},MapDraw.prototype.resetForLabelLayout=function(){this.group.traverse((function(el){var label=el.getTextContent();label&&(label.ignore=mapLabelRaw(label).ignore)}))},MapDraw.prototype._updateMapSelectHandler=function(mapOrGeoModel,regionsGroup,api,fromView){var mapDraw=this;regionsGroup.off("mousedown"),regionsGroup.off("click"),mapOrGeoModel.get("selectedMode")&&(regionsGroup.on("mousedown",(function(){mapDraw._mouseDownFlag=!0})),regionsGroup.on("click",(function(e){mapDraw._mouseDownFlag&&(mapDraw._mouseDownFlag=!1)})))},MapDraw}()},"./node_modules/echarts/lib/component/helper/RoamController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender_lib_core_Eventful_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/Eventful.js"),zrender_lib_core_event_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/event.js"),_interactionMutex_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/component/helper/interactionMutex.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function checkPointerAndTrigger(controller,eventName,behaviorToCheck,e,contollerEvent){controller.pointerChecker&&controller.pointerChecker(e,contollerEvent.originX,contollerEvent.originY)&&(zrender_lib_core_event_js__WEBPACK_IMPORTED_MODULE_2__.sT(e.event),trigger(controller,eventName,behaviorToCheck,e,contollerEvent))}function trigger(controller,eventName,behaviorToCheck,e,contollerEvent){contollerEvent.isAvailableBehavior=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.bind)(isAvailableBehavior,null,behaviorToCheck,e),controller.trigger(eventName,contollerEvent)}function isAvailableBehavior(behaviorToCheck,e,settings){var setting=settings[behaviorToCheck];return!behaviorToCheck||setting&&(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(setting)||e.event[setting+"Key"])}const __WEBPACK_DEFAULT_EXPORT__=function(_super){function RoamController(zr){var _this=_super.call(this)||this;_this._zr=zr;var mousedownHandler=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.bind)(_this._mousedownHandler,_this),mousemoveHandler=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.bind)(_this._mousemoveHandler,_this),mouseupHandler=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.bind)(_this._mouseupHandler,_this),mousewheelHandler=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.bind)(_this._mousewheelHandler,_this),pinchHandler=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.bind)(_this._pinchHandler,_this);return _this.enable=function(controlType,opt){this.disable(),this._opt=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.defaults)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.clone)(opt)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==controlType&&(controlType=!0),!0!==controlType&&"move"!==controlType&&"pan"!==controlType||(zr.on("mousedown",mousedownHandler),zr.on("mousemove",mousemoveHandler),zr.on("mouseup",mouseupHandler)),!0!==controlType&&"scale"!==controlType&&"zoom"!==controlType||(zr.on("mousewheel",mousewheelHandler),zr.on("pinch",pinchHandler))},_this.disable=function(){zr.off("mousedown",mousedownHandler),zr.off("mousemove",mousemoveHandler),zr.off("mouseup",mouseupHandler),zr.off("mousewheel",mousewheelHandler),zr.off("pinch",pinchHandler)},_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(RoamController,_super),RoamController.prototype.isDragging=function(){return this._dragging},RoamController.prototype.isPinching=function(){return this._pinching},RoamController.prototype.setPointerChecker=function(pointerChecker){this.pointerChecker=pointerChecker},RoamController.prototype.dispose=function(){this.disable()},RoamController.prototype._mousedownHandler=function(e){if(!zrender_lib_core_event_js__WEBPACK_IMPORTED_MODULE_2__.x1(e)){for(var el=e.target;el;){if(el.draggable)return;el=el.__hostTarget||el.parent}var x=e.offsetX,y=e.offsetY;this.pointerChecker&&this.pointerChecker(e,x,y)&&(this._x=x,this._y=y,this._dragging=!0)}},RoamController.prototype._mousemoveHandler=function(e){if(this._dragging&&isAvailableBehavior("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!_interactionMutex_js__WEBPACK_IMPORTED_MODULE_3__.Tf(this._zr,"globalPan")){var x=e.offsetX,y=e.offsetY,oldX=this._x,oldY=this._y,dx=x-oldX,dy=y-oldY;this._x=x,this._y=y,this._opt.preventDefaultMouseMove&&zrender_lib_core_event_js__WEBPACK_IMPORTED_MODULE_2__.sT(e.event),trigger(this,"pan","moveOnMouseMove",e,{dx,dy,oldX,oldY,newX:x,newY:y,isAvailableBehavior:null})}},RoamController.prototype._mouseupHandler=function(e){zrender_lib_core_event_js__WEBPACK_IMPORTED_MODULE_2__.x1(e)||(this._dragging=!1)},RoamController.prototype._mousewheelHandler=function(e){var shouldZoom=isAvailableBehavior("zoomOnMouseWheel",e,this._opt),shouldMove=isAvailableBehavior("moveOnMouseWheel",e,this._opt),wheelDelta=e.wheelDelta,absWheelDeltaDelta=Math.abs(wheelDelta),originX=e.offsetX,originY=e.offsetY;if(0!==wheelDelta&&(shouldZoom||shouldMove)){if(shouldZoom){var factor=absWheelDeltaDelta>3?1.4:absWheelDeltaDelta>1?1.2:1.1;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",e,{scale:wheelDelta>0?factor:1/factor,originX,originY,isAvailableBehavior:null})}if(shouldMove){var absDelta=Math.abs(wheelDelta);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(wheelDelta>0?1:-1)*(absDelta>3?.4:absDelta>1?.15:.05),originX,originY,isAvailableBehavior:null})}}},RoamController.prototype._pinchHandler=function(e){_interactionMutex_js__WEBPACK_IMPORTED_MODULE_3__.Tf(this._zr,"globalPan")||checkPointerAndTrigger(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},RoamController}(zrender_lib_core_Eventful_js__WEBPACK_IMPORTED_MODULE_4__.Z)},"./node_modules/echarts/lib/component/helper/cursorHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>onIrrelevantElement});var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(e,api,targetCoordSysModel){var model=api.getComponentByElement(e.topTarget),coordSys=model&&model.coordinateSystem;return model&&model!==targetCoordSysModel&&!IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType)&&coordSys&&coordSys.model!==targetCoordSysModel}},"./node_modules/echarts/lib/component/helper/interactionMutex.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ar:()=>release,Tf:()=>isTaken,qn:()=>take});var _core_echarts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/core/echarts.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),ATTR="\0_ec_interaction_mutex";function take(zr,resourceKey,userKey){getStore(zr)[resourceKey]=userKey}function release(zr,resourceKey,userKey){var store=getStore(zr);store[resourceKey]===userKey&&(store[resourceKey]=null)}function isTaken(zr,resourceKey){return!!getStore(zr)[resourceKey]}function getStore(zr){return zr[ATTR]||(zr[ATTR]={})}_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.noop)},"./node_modules/echarts/lib/component/helper/roamHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function updateViewOnPan(controllerHost,dx,dy){var target=controllerHost.target;target.x+=dx,target.y+=dy,target.dirty()}function updateViewOnZoom(controllerHost,zoomDelta,zoomX,zoomY){var target=controllerHost.target,zoomLimit=controllerHost.zoomLimit,newZoom=controllerHost.zoom=controllerHost.zoom||1;if(newZoom*=zoomDelta,zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;newZoom=Math.max(Math.min(zoomMax,newZoom),zoomMin)}var zoomScale=newZoom/controllerHost.zoom;controllerHost.zoom=newZoom,target.x-=(zoomX-target.x)*(zoomScale-1),target.y-=(zoomY-target.y)*(zoomScale-1),target.scaleX*=zoomScale,target.scaleY*=zoomScale,target.dirty()}__webpack_require__.d(__webpack_exports__,{H:()=>updateViewOnZoom,e:()=>updateViewOnPan})},"./node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>defaultSeriesFormatTooltip});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataProvider.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/model.js");function defaultSeriesFormatTooltip(opt){var inlineValue,inlineValueType,subBlocks,sortParam,series=opt.series,dataIndex=opt.dataIndex,multipleSeries=opt.multipleSeries,data=series.getData(),tooltipDims=data.mapDimensionsAll("defaultedTooltip"),tooltipDimLen=tooltipDims.length,value=series.getRawValue(dataIndex),isValueArr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(value),markerColor=(0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__.jT)(series,dataIndex);if(tooltipDimLen>1||isValueArr&&!tooltipDimLen){var formatArrResult=function formatTooltipArrayValue(value,series,dataIndex,tooltipDims,colorStr){var data=series.getData(),isValueMultipleLine=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.reduce)(value,(function(isValueMultipleLine,val,idx){var dimItem=data.getDimensionInfo(idx);return isValueMultipleLine||dimItem&&!1!==dimItem.tooltip&&null!=dimItem.displayName}),!1),inlineValues=[],inlineValueTypes=[],blocks=[];function setEachItem(val,dim){var dimInfo=data.getDimensionInfo(dim);dimInfo&&!1!==dimInfo.otherDims.tooltip&&(isValueMultipleLine?blocks.push((0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__.TX)("nameValue",{markerType:"subItem",markerColor:colorStr,name:dimInfo.displayName,value:val,valueType:dimInfo.type})):(inlineValues.push(val),inlineValueTypes.push(dimInfo.type)))}return tooltipDims.length?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(tooltipDims,(function(dim){setEachItem((0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__.hk)(data,dataIndex,dim),dim)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(value,setEachItem),{inlineValues,inlineValueTypes,blocks}}(value,series,dataIndex,tooltipDims,markerColor);inlineValue=formatArrResult.inlineValues,inlineValueType=formatArrResult.inlineValueTypes,subBlocks=formatArrResult.blocks,sortParam=formatArrResult.inlineValues[0]}else if(tooltipDimLen){var dimInfo=data.getDimensionInfo(tooltipDims[0]);sortParam=inlineValue=(0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__.hk)(data,dataIndex,tooltipDims[0]),inlineValueType=dimInfo.type}else sortParam=inlineValue=isValueArr?value[0]:value;var seriesNameSpecified=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__.yu)(series),seriesName=seriesNameSpecified&&series.name||"",itemName=data.getName(dataIndex),inlineName=multipleSeries?seriesName:itemName;return(0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__.TX)("section",{header:seriesName,noHeader:multipleSeries||!seriesNameSpecified,sortParam,blocks:[(0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__.TX)("nameValue",{markerType:"item",markerColor,name:inlineName,noName:!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(inlineName),value:inlineValue,valueType:inlineValueType})].concat(subBlocks||[])})}},"./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BY:()=>buildTooltipMarkup,TX:()=>createTooltipMarkup,d_:()=>getPaddingFromTooltipModel,iv:()=>TooltipMarkupStyleCreator,jT:()=>retrieveVisualColorForTooltipMarker});var _util_format_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/dom.js"),_util_format_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/format.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_data_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataValueHelper.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(textStyle,renderMode){var nameFontColor=textStyle.color||"#6e7079",nameFontSize=textStyle.fontSize||12,nameFontWeight=textStyle.fontWeight||"400",valueFontColor=textStyle.color||"#464646",valueFontSize=textStyle.fontSize||14,valueFontWeight=textStyle.fontWeight||"900";return"html"===renderMode?{nameStyle:"font-size:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(nameFontSize+"")+"px;color:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(nameFontColor)+";font-weight:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(nameFontWeight+""),valueStyle:"font-size:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(valueFontSize+"")+"px;color:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(valueFontColor)+";font-weight:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(valueFontWeight+"")}:{nameStyle:{fontSize:nameFontSize,fill:nameFontColor,fontWeight:nameFontWeight},valueStyle:{fontSize:valueFontSize,fill:valueFontColor,fontWeight:valueFontWeight}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["","\n","\n\n","\n\n\n"];function createTooltipMarkup(type,option){return option.type=type,option}function isSectionFragment(frag){return"section"===frag.type}function getBuilder(frag){return isSectionFragment(frag)?buildSection:buildNameValue}function getBlockGapLevel(frag){if(isSectionFragment(frag)){var gapLevel_1=0,subBlockLen=frag.blocks.length,hasInnerGap_1=subBlockLen>1||subBlockLen>0&&!frag.noHeader;return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(frag.blocks,(function(subBlock){var subGapLevel=getBlockGapLevel(subBlock);subGapLevel>=gapLevel_1&&(gapLevel_1=subGapLevel+ +(hasInnerGap_1&&(!subGapLevel||isSectionFragment(subBlock)&&!subBlock.noHeader)))})),gapLevel_1}return 0}function buildSection(ctx,fragment,topMarginForOuterGap,toolTipTextStyle){var noHeader=fragment.noHeader,gaps=function getGap(gapLevel){return{html:HTML_GAPS[gapLevel],richText:RICH_TEXT_GAPS[gapLevel]}}(getBlockGapLevel(fragment)),subMarkupTextList=[],subBlocks=fragment.blocks||[];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.assert)(!subBlocks||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(subBlocks)),subBlocks=subBlocks||[];var orderMode=ctx.orderMode;if(fragment.sortBlocks&&orderMode){subBlocks=subBlocks.slice();var orderMap={valueAsc:"asc",valueDesc:"desc"};if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.hasOwn)(orderMap,orderMode)){var comparator_1=new _data_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__.ID(orderMap[orderMode],null);subBlocks.sort((function(a,b){return comparator_1.evaluate(a.sortParam,b.sortParam)}))}else"seriesDesc"===orderMode&&subBlocks.reverse()}(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(subBlocks,(function(subBlock,idx){var valueFormatter=fragment.valueFormatter,subMarkupText=getBuilder(subBlock)(valueFormatter?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)({},ctx),{valueFormatter}):ctx,subBlock,idx>0?gaps.html:0,toolTipTextStyle);null!=subMarkupText&&subMarkupTextList.push(subMarkupText)}));var subMarkupText="richText"===ctx.renderMode?subMarkupTextList.join(gaps.richText):wrapBlockHTML(subMarkupTextList.join(""),noHeader?topMarginForOuterGap:gaps.html);if(noHeader)return subMarkupText;var displayableHeader=(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__.uX)(fragment.header,"ordinal",ctx.useUTC),nameStyle=getTooltipTextStyle(toolTipTextStyle,ctx.renderMode).nameStyle;return"richText"===ctx.renderMode?wrapInlineNameRichText(ctx,displayableHeader,nameStyle)+gaps.richText+subMarkupText:wrapBlockHTML('<div style="'+nameStyle+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(displayableHeader)+"</div>"+subMarkupText,topMarginForOuterGap)}function buildNameValue(ctx,fragment,topMarginForOuterGap,toolTipTextStyle){var renderMode=ctx.renderMode,noName=fragment.noName,noValue=fragment.noValue,noMarker=!fragment.markerType,name=fragment.name,useUTC=ctx.useUTC,valueFormatter=fragment.valueFormatter||ctx.valueFormatter||function(value){return value=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(value)?value:[value],(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.map)(value,(function(val,idx){return(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__.uX)(val,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(valueTypeOption)?valueTypeOption[idx]:valueTypeOption,useUTC)}))};if(!noName||!noValue){var markerStr=noMarker?"":ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType,fragment.markerColor||"#333",renderMode),readableName=noName?"":(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__.uX)(name,"ordinal",useUTC),valueTypeOption=fragment.valueType,readableValueList=noValue?[]:valueFormatter(fragment.value),valueAlignRight=!noMarker||!noName,valueCloseToMarker=!noMarker&&noName,_a=getTooltipTextStyle(toolTipTextStyle,renderMode),nameStyle=_a.nameStyle,valueStyle=_a.valueStyle;return"richText"===renderMode?(noMarker?"":markerStr)+(noName?"":wrapInlineNameRichText(ctx,readableName,nameStyle))+(noValue?"":function wrapInlineValueRichText(ctx,values,alignRight,valueCloseToMarker,style){var styles=[style],paddingLeft=valueCloseToMarker?10:20;return alignRight&&styles.push({padding:[0,0,0,paddingLeft],align:"right"}),ctx.markupStyleCreator.wrapRichTextStyle((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(values)?values.join("  "):values,styles)}(ctx,readableValueList,valueAlignRight,valueCloseToMarker,valueStyle)):wrapBlockHTML((noMarker?"":markerStr)+(noName?"":function wrapInlineNameHTML(name,leftHasMarker,style){return'<span style="'+style+";"+(leftHasMarker?"margin-left:2px":"")+'">'+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(name)+"</span>"}(readableName,!noMarker,nameStyle))+(noValue?"":function wrapInlineValueHTML(valueList,alignRight,valueCloseToMarker,style){var paddingStr=valueCloseToMarker?"10px":"20px",alignCSS=alignRight?"float:right;margin-left:"+paddingStr:"";return valueList=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(valueList)?valueList:[valueList],'<span style="'+alignCSS+";"+style+'">'+(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.map)(valueList,(function(value){return(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__.F1)(value)})).join("&nbsp;&nbsp;")+"</span>"}(readableValueList,valueAlignRight,valueCloseToMarker,valueStyle)),topMarginForOuterGap)}}function buildTooltipMarkup(fragment,markupStyleCreator,renderMode,orderMode,useUTC,toolTipTextStyle){if(fragment)return getBuilder(fragment)({useUTC,renderMode,orderMode,markupStyleCreator,valueFormatter:fragment.valueFormatter},fragment,0,toolTipTextStyle)}function wrapBlockHTML(encodedContent,topGap){return'<div style="'+("margin: "+topGap+"px 0 0")+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodedContent+'<div style="clear:both"></div></div>'}function wrapInlineNameRichText(ctx,name,style){return ctx.markupStyleCreator.wrapRichTextStyle(name,style)}function retrieveVisualColorForTooltipMarker(series,dataIndex){var color=series.getData().getItemVisual(dataIndex,"style")[series.visualDrawType];return(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__.Lz)(color)}function getPaddingFromTooltipModel(model,renderMode){var padding=model.get("padding");return null!=padding?padding:"richText"===renderMode?[8,10]:10}var TooltipMarkupStyleCreator=function(){function TooltipMarkupStyleCreator(){this.richTextStyles={},this._nextStyleNameId=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_4__.jj)()}return TooltipMarkupStyleCreator.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},TooltipMarkupStyleCreator.prototype.makeTooltipMarker=function(markerType,colorStr,renderMode){var markerId="richText"===renderMode?this._generateStyleName():null,marker=(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__.A0)({color:colorStr,type:markerType,renderMode,markerId});return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(marker)?marker:(this.richTextStyles[markerId]=marker.style,marker.content)},TooltipMarkupStyleCreator.prototype.wrapRichTextStyle=function(text,styles){var finalStl={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(styles)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(styles,(function(stl){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(finalStl,stl)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(finalStl,styles);var styleName=this._generateStyleName();return this.richTextStyles[styleName]=finalStl,"{"+styleName+"|"+text+"}"},TooltipMarkupStyleCreator}()},"./node_modules/echarts/lib/coord/Axis.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>coord_Axis});var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),contain_text=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),axisHelper=__webpack_require__("./node_modules/echarts/lib/coord/axisHelper.js"),inner=(0,model.Yf)();function createAxisLabels(axis){return"category"===axis.type?function makeCategoryLabels(axis){var labelModel=axis.getLabelModel(),result=makeCategoryLabelsActually(axis,labelModel);return!labelModel.get("show")||axis.scale.isBlank()?{labels:[],labelCategoryInterval:result.labelCategoryInterval}:result}(axis):function makeRealNumberLabels(axis){var ticks=axis.scale.getTicks(),labelFormatter=(0,axisHelper.J9)(axis);return{labels:util.map(ticks,(function(tick,idx){return{level:tick.level,formattedLabel:labelFormatter(tick,idx),rawLabel:axis.scale.getLabel(tick),tickValue:tick.value}}))}}(axis)}function createAxisTicks(axis,tickModel){return"category"===axis.type?function makeCategoryTicks(axis,tickModel){var ticks,tickCategoryInterval,ticksCache=getListCache(axis,"ticks"),optionTickInterval=(0,axisHelper.rk)(tickModel),result=listCacheGet(ticksCache,optionTickInterval);if(result)return result;tickModel.get("show")&&!axis.scale.isBlank()||(ticks=[]);if(util.isFunction(optionTickInterval))ticks=makeLabelsByCustomizedCategoryInterval(axis,optionTickInterval,!0);else if("auto"===optionTickInterval){var labelsResult=makeCategoryLabelsActually(axis,axis.getLabelModel());tickCategoryInterval=labelsResult.labelCategoryInterval,ticks=util.map(labelsResult.labels,(function(labelItem){return labelItem.tickValue}))}else ticks=makeLabelsByNumericCategoryInterval(axis,tickCategoryInterval=optionTickInterval,!0);return listCacheSet(ticksCache,optionTickInterval,{ticks,tickCategoryInterval})}(axis,tickModel):{ticks:util.map(axis.scale.getTicks(),(function(tick){return tick.value}))}}function makeCategoryLabelsActually(axis,labelModel){var labels,numericLabelInterval,labelsCache=getListCache(axis,"labels"),optionLabelInterval=(0,axisHelper.rk)(labelModel),result=listCacheGet(labelsCache,optionLabelInterval);return result||(util.isFunction(optionLabelInterval)?labels=makeLabelsByCustomizedCategoryInterval(axis,optionLabelInterval):(numericLabelInterval="auto"===optionLabelInterval?function makeAutoCategoryInterval(axis){var result=inner(axis).autoInterval;return null!=result?result:inner(axis).autoInterval=axis.calculateCategoryInterval()}(axis):optionLabelInterval,labels=makeLabelsByNumericCategoryInterval(axis,numericLabelInterval)),listCacheSet(labelsCache,optionLabelInterval,{labels,labelCategoryInterval:numericLabelInterval}))}function getListCache(axis,prop){return inner(axis)[prop]||(inner(axis)[prop]=[])}function listCacheGet(cache,key){for(var i=0;i<cache.length;i++)if(cache[i].key===key)return cache[i].value}function listCacheSet(cache,key,value){return cache.push({key,value}),value}function makeLabelsByNumericCategoryInterval(axis,categoryInterval,onlyTick){var labelFormatter=(0,axisHelper.J9)(axis),ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),labelModel=axis.getLabelModel(),result=[],step=Math.max((categoryInterval||0)+1,1),startTick=ordinalExtent[0],tickCount=ordinalScale.count();0!==startTick&&step>1&&tickCount/step>2&&(startTick=Math.round(Math.ceil(startTick/step)*step));var showAllLabel=(0,axisHelper.WY)(axis),includeMinLabel=labelModel.get("showMinLabel")||showAllLabel,includeMaxLabel=labelModel.get("showMaxLabel")||showAllLabel;includeMinLabel&&startTick!==ordinalExtent[0]&&addItem(ordinalExtent[0]);for(var tickValue=startTick;tickValue<=ordinalExtent[1];tickValue+=step)addItem(tickValue);function addItem(tickValue){var tickObj={value:tickValue};result.push(onlyTick?tickValue:{formattedLabel:labelFormatter(tickObj),rawLabel:ordinalScale.getLabel(tickObj),tickValue})}return includeMaxLabel&&tickValue-step!==ordinalExtent[1]&&addItem(ordinalExtent[1]),result}function makeLabelsByCustomizedCategoryInterval(axis,categoryInterval,onlyTick){var ordinalScale=axis.scale,labelFormatter=(0,axisHelper.J9)(axis),result=[];return util.each(ordinalScale.getTicks(),(function(tick){var rawLabel=ordinalScale.getLabel(tick),tickValue=tick.value;categoryInterval(tick.value,rawLabel)&&result.push(onlyTick?tickValue:{formattedLabel:labelFormatter(tick),rawLabel,tickValue})})),result}var NORMALIZED_EXTENT=[0,1];function fixExtentWithBands(extent,nTick){var margin=(extent[1]-extent[0])/nTick/2;extent[0]+=margin,extent[1]-=margin}const coord_Axis=function(){function Axis(dim,scale,extent){this.onBand=!1,this.inverse=!1,this.dim=dim,this.scale=scale,this._extent=extent||[0,0]}return Axis.prototype.contain=function(coord){var extent=this._extent,min=Math.min(extent[0],extent[1]),max=Math.max(extent[0],extent[1]);return coord>=min&&coord<=max},Axis.prototype.containData=function(data){return this.scale.contain(data)},Axis.prototype.getExtent=function(){return this._extent.slice()},Axis.prototype.getPixelPrecision=function(dataExtent){return(0,number.M9)(dataExtent||this.scale.getExtent(),this._extent)},Axis.prototype.setExtent=function(start,end){var extent=this._extent;extent[0]=start,extent[1]=end},Axis.prototype.dataToCoord=function(data,clamp){var extent=this._extent,scale=this.scale;return data=scale.normalize(data),this.onBand&&"ordinal"===scale.type&&fixExtentWithBands(extent=extent.slice(),scale.count()),(0,number.NU)(data,NORMALIZED_EXTENT,extent,clamp)},Axis.prototype.coordToData=function(coord,clamp){var extent=this._extent,scale=this.scale;this.onBand&&"ordinal"===scale.type&&fixExtentWithBands(extent=extent.slice(),scale.count());var t=(0,number.NU)(coord,extent,NORMALIZED_EXTENT,clamp);return this.scale.scale(t)},Axis.prototype.pointToData=function(point,clamp){},Axis.prototype.getTicksCoords=function(opt){var tickModel=(opt=opt||{}).tickModel||this.getTickModel(),ticks=createAxisTicks(this,tickModel).ticks,ticksCoords=(0,util.map)(ticks,(function(tickVal){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(tickVal):tickVal),tickValue:tickVal}}),this);return function fixOnBandTicksCoords(axis,ticksCoords,alignWithLabel,clamp){var ticksLen=ticksCoords.length;if(!axis.onBand||alignWithLabel||!ticksLen)return;var last,diffSize,axisExtent=axis.getExtent();if(1===ticksLen)ticksCoords[0].coord=axisExtent[0],last=ticksCoords[1]={coord:axisExtent[1]};else{var crossLen=ticksCoords[ticksLen-1].tickValue-ticksCoords[0].tickValue,shift_1=(ticksCoords[ticksLen-1].coord-ticksCoords[0].coord)/crossLen;(0,util.each)(ticksCoords,(function(ticksItem){ticksItem.coord-=shift_1/2})),diffSize=1+axis.scale.getExtent()[1]-ticksCoords[ticksLen-1].tickValue,last={coord:ticksCoords[ticksLen-1].coord+shift_1*diffSize},ticksCoords.push(last)}var inverse=axisExtent[0]>axisExtent[1];littleThan(ticksCoords[0].coord,axisExtent[0])&&(clamp?ticksCoords[0].coord=axisExtent[0]:ticksCoords.shift());clamp&&littleThan(axisExtent[0],ticksCoords[0].coord)&&ticksCoords.unshift({coord:axisExtent[0]});littleThan(axisExtent[1],last.coord)&&(clamp?last.coord=axisExtent[1]:ticksCoords.pop());clamp&&littleThan(last.coord,axisExtent[1])&&ticksCoords.push({coord:axisExtent[1]});function littleThan(a,b){return a=(0,number.NM)(a),b=(0,number.NM)(b),inverse?a>b:a<b}}(this,ticksCoords,tickModel.get("alignWithLabel"),opt.clamp),ticksCoords},Axis.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var splitNumber=this.model.getModel("minorTick").get("splitNumber");splitNumber>0&&splitNumber<100||(splitNumber=5);var minorTicks=this.scale.getMinorTicks(splitNumber);return(0,util.map)(minorTicks,(function(minorTicksGroup){return(0,util.map)(minorTicksGroup,(function(minorTick){return{coord:this.dataToCoord(minorTick),tickValue:minorTick}}),this)}),this)},Axis.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Axis.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Axis.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Axis.prototype.getBandWidth=function(){var axisExtent=this._extent,dataExtent=this.scale.getExtent(),len=dataExtent[1]-dataExtent[0]+(this.onBand?1:0);0===len&&(len=1);var size=Math.abs(axisExtent[1]-axisExtent[0]);return Math.abs(size)/len},Axis.prototype.calculateCategoryInterval=function(){return function calculateCategoryInterval(axis){var params=function fetchAutoCategoryIntervalCalculationParams(axis){var labelModel=axis.getLabelModel();return{axisRotate:axis.getRotate?axis.getRotate():axis.isHorizontal&&!axis.isHorizontal()?90:0,labelRotate:labelModel.get("rotate")||0,font:labelModel.getFont()}}(axis),labelFormatter=(0,axisHelper.J9)(axis),rotation=(params.axisRotate-params.labelRotate)/180*Math.PI,ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),tickCount=ordinalScale.count();if(ordinalExtent[1]-ordinalExtent[0]<1)return 0;var step=1;tickCount>40&&(step=Math.max(1,Math.floor(tickCount/40)));for(var tickValue=ordinalExtent[0],unitSpan=axis.dataToCoord(tickValue+1)-axis.dataToCoord(tickValue),unitW=Math.abs(unitSpan*Math.cos(rotation)),unitH=Math.abs(unitSpan*Math.sin(rotation)),maxW=0,maxH=0;tickValue<=ordinalExtent[1];tickValue+=step){var width,height,rect=contain_text.lP(labelFormatter({value:tickValue}),params.font,"center","top");width=1.3*rect.width,height=1.3*rect.height,maxW=Math.max(maxW,width,7),maxH=Math.max(maxH,height,7)}var dw=maxW/unitW,dh=maxH/unitH;isNaN(dw)&&(dw=1/0),isNaN(dh)&&(dh=1/0);var interval=Math.max(0,Math.floor(Math.min(dw,dh))),cache=inner(axis.model),axisExtent=axis.getExtent(),lastAutoInterval=cache.lastAutoInterval,lastTickCount=cache.lastTickCount;return null!=lastAutoInterval&&null!=lastTickCount&&Math.abs(lastAutoInterval-interval)<=1&&Math.abs(lastTickCount-tickCount)<=1&&lastAutoInterval>interval&&cache.axisExtent0===axisExtent[0]&&cache.axisExtent1===axisExtent[1]?interval=lastAutoInterval:(cache.lastTickCount=tickCount,cache.lastAutoInterval=interval,cache.axisExtent0=axisExtent[0],cache.axisExtent1=axisExtent[1]),interval}(this)},Axis}()},"./node_modules/echarts/lib/coord/CoordinateSystem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isCoordinateSystemType(coordSys,type){return coordSys.type===type}__webpack_require__.d(__webpack_exports__,{H:()=>isCoordinateSystemType})},"./node_modules/echarts/lib/coord/View.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),v2ApplyTransform=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.applyTransform;function getCoordSys(finder){var seriesModel=finder.seriesModel;return seriesModel?seriesModel.coordinateSystem:null}const __WEBPACK_DEFAULT_EXPORT__=function(_super){function View(name){var _this=_super.call(this)||this;return _this.type="view",_this.dimensions=["x","y"],_this._roamTransformable=new zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_2__.ZP,_this._rawTransformable=new zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_2__.ZP,_this.name=name,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(View,_super),View.prototype.setBoundingRect=function(x,y,width,height){return this._rect=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(x,y,width,height),this._rect},View.prototype.getBoundingRect=function(){return this._rect},View.prototype.setViewRect=function(x,y,width,height){this._transformTo(x,y,width,height),this._viewRect=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(x,y,width,height)},View.prototype._transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),rawTransform=this._rawTransformable;rawTransform.transform=rect.calculateTransform(new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(x,y,width,height));var rawParent=rawTransform.parent;rawTransform.parent=null,rawTransform.decomposeTransform(),rawTransform.parent=rawParent,this._updateTransform()},View.prototype.setCenter=function(centerCoord,api){centerCoord&&(this._center=[(0,_util_number_js__WEBPACK_IMPORTED_MODULE_4__.GM)(centerCoord[0],api.getWidth()),(0,_util_number_js__WEBPACK_IMPORTED_MODULE_4__.GM)(centerCoord[1],api.getHeight())],this._updateCenterAndZoom())},View.prototype.setZoom=function(zoom){zoom=zoom||1;var zoomLimit=this.zoomLimit;zoomLimit&&(null!=zoomLimit.max&&(zoom=Math.min(zoomLimit.max,zoom)),null!=zoomLimit.min&&(zoom=Math.max(zoomLimit.min,zoom))),this._zoom=zoom,this._updateCenterAndZoom()},View.prototype.getDefaultCenter=function(){var rawRect=this.getBoundingRect();return[rawRect.x+rawRect.width/2,rawRect.y+rawRect.height/2]},View.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},View.prototype.getZoom=function(){return this._zoom||1},View.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},View.prototype._updateCenterAndZoom=function(){var rawTransformMatrix=this._rawTransformable.getLocalTransform(),roamTransform=this._roamTransformable,defaultCenter=this.getDefaultCenter(),center=this.getCenter(),zoom=this.getZoom();center=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.applyTransform([],center,rawTransformMatrix),defaultCenter=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.applyTransform([],defaultCenter,rawTransformMatrix),roamTransform.originX=center[0],roamTransform.originY=center[1],roamTransform.x=defaultCenter[0]-center[0],roamTransform.y=defaultCenter[1]-center[1],roamTransform.scaleX=roamTransform.scaleY=zoom,this._updateTransform()},View.prototype._updateTransform=function(){var roamTransformable=this._roamTransformable,rawTransformable=this._rawTransformable;rawTransformable.parent=roamTransformable,roamTransformable.updateTransform(),rawTransformable.updateTransform(),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.copy(this.transform||(this.transform=[]),rawTransformable.transform||zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.create()),this._rawTransform=rawTransformable.getLocalTransform(),this.invTransform=this.invTransform||[],zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.invert(this.invTransform,this.transform),this.decomposeTransform()},View.prototype.getTransformInfo=function(){var rawTransformable=this._rawTransformable,roamTransformable=this._roamTransformable,dummyTransformable=new zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_2__.ZP;return dummyTransformable.transform=roamTransformable.transform,dummyTransformable.decomposeTransform(),{roam:{x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY},raw:{x:rawTransformable.x,y:rawTransformable.y,scaleX:rawTransformable.scaleX,scaleY:rawTransformable.scaleY}}},View.prototype.getViewRect=function(){return this._viewRect},View.prototype.getViewRectAfterRoam=function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},View.prototype.dataToPoint=function(data,noRoam,out){var transform=noRoam?this._rawTransform:this.transform;return out=out||[],transform?v2ApplyTransform(out,data,transform):zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.copy(out,data)},View.prototype.pointToData=function(point){var invTransform=this.invTransform;return invTransform?v2ApplyTransform([],point,invTransform):[point[0],point[1]]},View.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},View.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},View.prototype.containPoint=function(point){return this.getViewRectAfterRoam().contain(point[0],point[1])},View.dimensions=["x","y"],View}(zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_2__.ZP)},"./node_modules/echarts/lib/coord/axisHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aG:()=>createScaleByModel,Do:()=>estimateLabelUnionRect,DX:()=>getAxisRawValue,PY:()=>getDataDimensionsOnAxis,rk:()=>getOptionCategoryInterval,Xv:()=>getScaleExtent,Yb:()=>ifAxisCrossZero,J9:()=>makeLabelFormatter,Jk:()=>niceScaleExtent,WY:()=>shouldShowAllLabels,AH:()=>unionAxisExtentFromData});var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),Ordinal=__webpack_require__("./node_modules/echarts/lib/scale/Ordinal.js"),Interval=__webpack_require__("./node_modules/echarts/lib/scale/Interval.js"),Scale=__webpack_require__("./node_modules/echarts/lib/scale/Scale.js"),barGrid=__webpack_require__("./node_modules/echarts/lib/layout/barGrid.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),Time=__webpack_require__("./node_modules/echarts/lib/scale/Time.js"),tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),helper=__webpack_require__("./node_modules/echarts/lib/scale/helper.js"),scaleProto=Scale.Z.prototype,intervalScaleProto=Interval.Z.prototype,roundingErrorFix=number.NM,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow=Math.pow,mathLog=Math.log,LogScale=function(_super){function LogScale(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="log",_this.base=10,_this._originalScale=new Interval.Z,_this._interval=0,_this}return(0,tslib_es6.ZT)(LogScale,_super),LogScale.prototype.getTicks=function(expandToNicedExtent){var originalScale=this._originalScale,extent=this._extent,originalExtent=originalScale.getExtent(),ticks=intervalScaleProto.getTicks.call(this,expandToNicedExtent);return util.map(ticks,(function(tick){var val=tick.value,powVal=number.NM(mathPow(this.base,val));return powVal=val===extent[0]&&this._fixMin?fixRoundingError(powVal,originalExtent[0]):powVal,{value:powVal=val===extent[1]&&this._fixMax?fixRoundingError(powVal,originalExtent[1]):powVal}}),this)},LogScale.prototype.setExtent=function(start,end){var base=mathLog(this.base);start=mathLog(Math.max(0,start))/base,end=mathLog(Math.max(0,end))/base,intervalScaleProto.setExtent.call(this,start,end)},LogScale.prototype.getExtent=function(){var base=this.base,extent=scaleProto.getExtent.call(this);extent[0]=mathPow(base,extent[0]),extent[1]=mathPow(base,extent[1]);var originalExtent=this._originalScale.getExtent();return this._fixMin&&(extent[0]=fixRoundingError(extent[0],originalExtent[0])),this._fixMax&&(extent[1]=fixRoundingError(extent[1],originalExtent[1])),extent},LogScale.prototype.unionExtent=function(extent){this._originalScale.unionExtent(extent);var base=this.base;extent[0]=mathLog(extent[0])/mathLog(base),extent[1]=mathLog(extent[1])/mathLog(base),scaleProto.unionExtent.call(this,extent)},LogScale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},LogScale.prototype.calcNiceTicks=function(approxTickNum){approxTickNum=approxTickNum||10;var extent=this._extent,span=extent[1]-extent[0];if(!(span===1/0||span<=0)){var interval=number.Xd(span);for(approxTickNum/span*interval<=.5&&(interval*=10);!isNaN(interval)&&Math.abs(interval)<1&&Math.abs(interval)>0;)interval*=10;var niceExtent=[number.NM(mathCeil(extent[0]/interval)*interval),number.NM(mathFloor(extent[1]/interval)*interval)];this._interval=interval,this._niceExtent=niceExtent}},LogScale.prototype.calcNiceExtent=function(opt){intervalScaleProto.calcNiceExtent.call(this,opt),this._fixMin=opt.fixMin,this._fixMax=opt.fixMax},LogScale.prototype.parse=function(val){return val},LogScale.prototype.contain=function(val){return val=mathLog(val)/mathLog(this.base),helper.XS(val,this._extent)},LogScale.prototype.normalize=function(val){return val=mathLog(val)/mathLog(this.base),helper.Fv(val,this._extent)},LogScale.prototype.scale=function(val){return val=helper.bA(val,this._extent),mathPow(this.base,val)},LogScale.type="log",LogScale}(Scale.Z),proto=LogScale.prototype;function fixRoundingError(val,originalVal){return roundingErrorFix(val,number.p8(originalVal))}proto.getMinorTicks=intervalScaleProto.getMinorTicks,proto.getLabel=intervalScaleProto.getLabel,Scale.Z.registerClass(LogScale);const Log=LogScale;var dataStackHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),scaleRawExtentInfo=__webpack_require__("./node_modules/echarts/lib/coord/scaleRawExtentInfo.js");function getScaleExtent(scale,model){var scaleType=scale.type,rawExtentResult=(0,scaleRawExtentInfo.Qw)(scale,model,scale.getExtent()).calculate();scale.setBlank(rawExtentResult.isBlank);var min=rawExtentResult.min,max=rawExtentResult.max,ecModel=model.ecModel;if(ecModel&&"time"===scaleType){var barSeriesModels=(0,barGrid.Ge)("bar",ecModel),isBaseAxisAndHasBarSeries_1=!1;if(util.each(barSeriesModels,(function(seriesModel){isBaseAxisAndHasBarSeries_1=isBaseAxisAndHasBarSeries_1||seriesModel.getBaseAxis()===model.axis})),isBaseAxisAndHasBarSeries_1){var barWidthAndOffset=(0,barGrid.My)(barSeriesModels),adjustedScale=function adjustScaleForOverflow(min,max,model,barWidthAndOffset){var axisExtent=model.axis.getExtent(),axisLength=axisExtent[1]-axisExtent[0],barsOnCurrentAxis=(0,barGrid.G_)(barWidthAndOffset,model.axis);if(void 0===barsOnCurrentAxis)return{min,max};var minOverflow=1/0;util.each(barsOnCurrentAxis,(function(item){minOverflow=Math.min(item.offset,minOverflow)}));var maxOverflow=-1/0;util.each(barsOnCurrentAxis,(function(item){maxOverflow=Math.max(item.offset+item.width,maxOverflow)})),minOverflow=Math.abs(minOverflow),maxOverflow=Math.abs(maxOverflow);var totalOverFlow=minOverflow+maxOverflow,oldRange=max-min,overflowBuffer=oldRange/(1-(minOverflow+maxOverflow)/axisLength)-oldRange;return max+=overflowBuffer*(maxOverflow/totalOverFlow),min-=overflowBuffer*(minOverflow/totalOverFlow),{min,max}}(min,max,model,barWidthAndOffset);min=adjustedScale.min,max=adjustedScale.max}}return{extent:[min,max],fixMin:rawExtentResult.minFixed,fixMax:rawExtentResult.maxFixed}}function niceScaleExtent(scale,inModel){var model=inModel,extentInfo=getScaleExtent(scale,model),extent=extentInfo.extent,splitNumber=model.get("splitNumber");scale instanceof Log&&(scale.base=model.get("logBase"));var scaleType=scale.type,interval=model.get("interval"),isIntervalOrTime="interval"===scaleType||"time"===scaleType;scale.setExtent(extent[0],extent[1]),scale.calcNiceExtent({splitNumber,fixMin:extentInfo.fixMin,fixMax:extentInfo.fixMax,minInterval:isIntervalOrTime?model.get("minInterval"):null,maxInterval:isIntervalOrTime?model.get("maxInterval"):null}),null!=interval&&scale.setInterval&&scale.setInterval(interval)}function createScaleByModel(model,axisType){if(axisType=axisType||model.get("type"))switch(axisType){case"category":return new Ordinal.Z({ordinalMeta:model.getOrdinalMeta?model.getOrdinalMeta():model.getCategories(),extent:[1/0,-1/0]});case"time":return new Time.Z({locale:model.ecModel.getLocaleModel(),useUTC:model.ecModel.get("useUTC")});default:return new(Scale.Z.getClass(axisType)||Interval.Z)}}function ifAxisCrossZero(axis){var dataExtent=axis.scale.getExtent(),min=dataExtent[0],max=dataExtent[1];return!(min>0&&max>0||min<0&&max<0)}function makeLabelFormatter(axis){var cb,tpl,labelFormatter=axis.getLabelModel().get("formatter"),categoryTickStart="category"===axis.type?axis.scale.getExtent()[0]:null;return"time"===axis.scale.type?(tpl=labelFormatter,function(tick,idx){return axis.scale.getFormattedLabel(tick,idx,tpl)}):util.isString(labelFormatter)?function(tpl){return function(tick){var label=axis.scale.getLabel(tick);return tpl.replace("{value}",null!=label?label:"")}}(labelFormatter):util.isFunction(labelFormatter)?(cb=labelFormatter,function(tick,idx){return null!=categoryTickStart&&(idx=tick.value-categoryTickStart),cb(getAxisRawValue(axis,tick),idx,null!=tick.level?{level:tick.level}:null)}):function(tick){return axis.scale.getLabel(tick)}}function getAxisRawValue(axis,tick){return"category"===axis.type?axis.scale.getLabel(tick):tick.value}function estimateLabelUnionRect(axis){var axisModel=axis.model,scale=axis.scale;if(axisModel.get(["axisLabel","show"])&&!scale.isBlank()){var realNumberScaleTicks,tickCount,categoryScaleExtent=scale.getExtent();tickCount=scale instanceof Ordinal.Z?scale.count():(realNumberScaleTicks=scale.getTicks()).length;var rect,textRect,rotate,rotateRadians,beforeWidth,beforeHeight,afterWidth,afterHeight,axisLabelModel=axis.getLabelModel(),labelFormatter=makeLabelFormatter(axis),step=1;tickCount>40&&(step=Math.ceil(tickCount/40));for(var i=0;i<tickCount;i+=step){var label=labelFormatter(realNumberScaleTicks?realNumberScaleTicks[i]:{value:categoryScaleExtent[0]+i},i),unrotatedSingleRect=axisLabelModel.getTextRect(label),singleRect=(textRect=unrotatedSingleRect,rotate=axisLabelModel.get("rotate")||0,rotateRadians=void 0,beforeWidth=void 0,beforeHeight=void 0,afterWidth=void 0,afterHeight=void 0,void 0,rotateRadians=rotate*Math.PI/180,beforeWidth=textRect.width,beforeHeight=textRect.height,afterWidth=beforeWidth*Math.abs(Math.cos(rotateRadians))+Math.abs(beforeHeight*Math.sin(rotateRadians)),afterHeight=beforeWidth*Math.abs(Math.sin(rotateRadians))+Math.abs(beforeHeight*Math.cos(rotateRadians)),new BoundingRect.Z(textRect.x,textRect.y,afterWidth,afterHeight));rect?rect.union(singleRect):rect=singleRect}return rect}}function getOptionCategoryInterval(model){var interval=model.get("interval");return null==interval?"auto":interval}function shouldShowAllLabels(axis){return"category"===axis.type&&0===getOptionCategoryInterval(axis.getLabelModel())}function getDataDimensionsOnAxis(data,axisDim){var dataDimMap={};return util.each(data.mapDimensionsAll(axisDim),(function(dataDim){dataDimMap[(0,dataStackHelper.IR)(data,dataDim)]=!0})),util.keys(dataDimMap)}function unionAxisExtentFromData(dataExtent,data,axisDim){data&&util.each(getDataDimensionsOnAxis(data,axisDim),(function(dim){var seriesExtent=data.getApproximateExtent(dim);seriesExtent[0]<dataExtent[0]&&(dataExtent[0]=seriesExtent[0]),seriesExtent[1]>dataExtent[1]&&(dataExtent[1]=seriesExtent[1])}))}},"./node_modules/echarts/lib/coord/axisModelCommonMixin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>AxisModelCommonMixin});var AxisModelCommonMixin=function(){function AxisModelCommonMixin(){}return AxisModelCommonMixin.prototype.getNeedCrossZero=function(){return!this.option.scale},AxisModelCommonMixin.prototype.getCoordSysModel=function(){},AxisModelCommonMixin}()},"./node_modules/echarts/lib/coord/cartesian/Cartesian.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");const __WEBPACK_DEFAULT_EXPORT__=function(){function Cartesian(name){this.type="cartesian",this._dimList=[],this._axes={},this.name=name||""}return Cartesian.prototype.getAxis=function(dim){return this._axes[dim]},Cartesian.prototype.getAxes=function(){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(this._dimList,(function(dim){return this._axes[dim]}),this)},Cartesian.prototype.getAxesByScale=function(scaleType){return scaleType=scaleType.toLowerCase(),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.filter(this.getAxes(),(function(axis){return axis.scale.type===scaleType}))},Cartesian.prototype.addAxis=function(axis){var dim=axis.dim;this._axes[dim]=axis,this._dimList.push(dim)},Cartesian}()},"./node_modules/echarts/lib/coord/geo/Region.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Im:()=>GeoSVGRegion,Ni:()=>GeoJSONRegion,Qh:()=>GeoJSONPolygonGeometry,jM:()=>GeoJSONLineStringGeometry});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),zrender_lib_contain_polygon_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/contain/polygon.js"),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),TMP_TRANSFORM=[];function transformPoints(points,transform){for(var p=0;p<points.length;p++)zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.applyTransform(points[p],points[p],transform)}function updateBBoxFromPoints(points,min,max,projection){for(var i=0;i<points.length;i++){var p=points[i];projection&&(p=projection.project(p)),p&&isFinite(p[0])&&isFinite(p[1])&&(zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.min(min,min,p),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.max(max,max,p))}}var Region=function(){function Region(name){this.name=name}return Region.prototype.setCenter=function(center){this._center=center},Region.prototype.getCenter=function(){var center=this._center;return center||(center=this._center=this.calcCenter()),center},Region}(),GeoJSONPolygonGeometry=function GeoJSONPolygonGeometry(exterior,interiors){this.type="polygon",this.exterior=exterior,this.interiors=interiors},GeoJSONLineStringGeometry=function GeoJSONLineStringGeometry(points){this.type="linestring",this.points=points},GeoJSONRegion=function(_super){function GeoJSONRegion(name,geometries,cp){var _this=_super.call(this,name)||this;return _this.type="geoJSON",_this.geometries=geometries,_this._center=cp&&[cp[0],cp[1]],_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(GeoJSONRegion,_super),GeoJSONRegion.prototype.calcCenter=function(){for(var largestGeo,geometries=this.geometries,largestGeoSize=0,i=0;i<geometries.length;i++){var geo=geometries[i],exterior=geo.exterior,size=exterior&&exterior.length;size>largestGeoSize&&(largestGeo=geo,largestGeoSize=size)}if(largestGeo)return function centroid(points){for(var signedArea=0,cx=0,cy=0,len=points.length,x0=points[len-1][0],y0=points[len-1][1],i=0;i<len;i++){var x1=points[i][0],y1=points[i][1],a=x0*y1-x1*y0;signedArea+=a,cx+=(x0+x1)*a,cy+=(y0+y1)*a,x0=x1,y0=y1}return signedArea?[cx/signedArea/3,cy/signedArea/3,signedArea]:[points[0][0]||0,points[0][1]||0]}(largestGeo.exterior);var rect=this.getBoundingRect();return[rect.x+rect.width/2,rect.y+rect.height/2]},GeoJSONRegion.prototype.getBoundingRect=function(projection){var rect=this._rect;if(rect&&!projection)return rect;var min=[1/0,1/0],max=[-1/0,-1/0],geometries=this.geometries;return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(geometries,(function(geo){"polygon"===geo.type?updateBBoxFromPoints(geo.exterior,min,max,projection):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(geo.points,(function(points){updateBBoxFromPoints(points,min,max,projection)}))})),isFinite(min[0])&&isFinite(min[1])&&isFinite(max[0])&&isFinite(max[1])||(min[0]=min[1]=max[0]=max[1]=0),rect=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(min[0],min[1],max[0]-min[0],max[1]-min[1]),projection||(this._rect=rect),rect},GeoJSONRegion.prototype.contain=function(coord){var rect=this.getBoundingRect(),geometries=this.geometries;if(!rect.contain(coord[0],coord[1]))return!1;loopGeo:for(var i=0,len=geometries.length;i<len;i++){var geo=geometries[i];if("polygon"===geo.type){var exterior=geo.exterior,interiors=geo.interiors;if(zrender_lib_contain_polygon_js__WEBPACK_IMPORTED_MODULE_4__.X(exterior,coord[0],coord[1])){for(var k=0;k<(interiors?interiors.length:0);k++)if(zrender_lib_contain_polygon_js__WEBPACK_IMPORTED_MODULE_4__.X(interiors[k],coord[0],coord[1]))continue loopGeo;return!0}}}return!1},GeoJSONRegion.prototype.transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),aspect=rect.width/rect.height;width?height||(height=width/aspect):width=aspect*height;for(var target=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(x,y,width,height),transform=rect.calculateTransform(target),geometries=this.geometries,i=0;i<geometries.length;i++){var geo=geometries[i];"polygon"===geo.type?(transformPoints(geo.exterior,transform),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(geo.interiors,(function(interior){transformPoints(interior,transform)}))):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(geo.points,(function(points){transformPoints(points,transform)}))}(rect=this._rect).copy(target),this._center=[rect.x+rect.width/2,rect.y+rect.height/2]},GeoJSONRegion.prototype.cloneShallow=function(name){null==name&&(name=this.name);var newRegion=new GeoJSONRegion(name,this.geometries,this._center);return newRegion._rect=this._rect,newRegion.transformTo=null,newRegion},GeoJSONRegion}(Region),GeoSVGRegion=function(_super){function GeoSVGRegion(name,elOnlyForCalculate){var _this=_super.call(this,name)||this;return _this.type="geoSVG",_this._elOnlyForCalculate=elOnlyForCalculate,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(GeoSVGRegion,_super),GeoSVGRegion.prototype.calcCenter=function(){for(var el=this._elOnlyForCalculate,rect=el.getBoundingRect(),center=[rect.x+rect.width/2,rect.y+rect.height/2],mat=zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.identity(TMP_TRANSFORM),target=el;target&&!target.isGeoSVGGraphicRoot;)zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.mul(mat,target.getLocalTransform(),mat),target=target.parent;return zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.invert(mat,mat),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_0__.applyTransform(center,center,mat),center},GeoSVGRegion}(Region)},"./node_modules/echarts/lib/coord/geo/fix/textCoord.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>fixTextCoords});var coordsOffsetMap={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function fixTextCoords(mapType,region){if("china"===mapType){var coordFix=coordsOffsetMap[region.name];if(coordFix){var cp=region.getCenter();cp[0]+=coordFix[0]/10.5,cp[1]+=-coordFix[1]/14,region.setCenter(cp)}}}},"./node_modules/echarts/lib/coord/geo/geoSourceManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>geoSourceManager});var nodeParsers,util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),Image=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),Circle=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),Ellipse=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),Line=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Line.js"),Polygon=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),Polyline=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),matrix=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),tool_path=__webpack_require__("./node_modules/zrender/lib/tool/path.js"),LinearGradient=__webpack_require__("./node_modules/zrender/lib/graphic/LinearGradient.js"),RadialGradient=__webpack_require__("./node_modules/zrender/lib/graphic/RadialGradient.js"),TSpan=__webpack_require__("./node_modules/zrender/lib/graphic/TSpan.js");function parseXML(svg){(0,util.isString)(svg)&&(svg=(new DOMParser).parseFromString(svg,"text/xml"));var svgNode=svg;for(9===svgNode.nodeType&&(svgNode=svgNode.firstChild);"svg"!==svgNode.nodeName.toLowerCase()||1!==svgNode.nodeType;)svgNode=svgNode.nextSibling;return svgNode}var INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=(0,util.keys)(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=(0,util.keys)(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function SVGParser(){this._defs={},this._root=null}return SVGParser.prototype.parse=function(xml,opt){opt=opt||{};var svg=parseXML(xml);this._defsUsePending=[];var root=new Group.Z;this._root=root;var named=[],viewBox=svg.getAttribute("viewBox")||"",width=parseFloat(svg.getAttribute("width")||opt.width),height=parseFloat(svg.getAttribute("height")||opt.height);isNaN(width)&&(width=null),isNaN(height)&&(height=null),parseAttributes(svg,root,null,!0,!1);for(var viewBoxRect,viewBoxTransform,child=svg.firstChild;child;)this._parseNode(child,root,named,null,!1,!1),child=child.nextSibling;if(function applyDefs(defs,defsUsePending){for(var i=0;i<defsUsePending.length;i++){var item=defsUsePending[i];item[0].style[item[1]]=defs[item[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],viewBox){var viewBoxArr=splitNumberSequence(viewBox);viewBoxArr.length>=4&&(viewBoxRect={x:parseFloat(viewBoxArr[0]||0),y:parseFloat(viewBoxArr[1]||0),width:parseFloat(viewBoxArr[2]),height:parseFloat(viewBoxArr[3])})}if(viewBoxRect&&null!=width&&null!=height&&(viewBoxTransform=makeViewBoxTransform(viewBoxRect,{x:0,y:0,width,height}),!opt.ignoreViewBox)){var elRoot=root;(root=new Group.Z).add(elRoot),elRoot.scaleX=elRoot.scaleY=viewBoxTransform.scale,elRoot.x=viewBoxTransform.x,elRoot.y=viewBoxTransform.y}return opt.ignoreRootClip||null==width||null==height||root.setClipPath(new Rect.Z({shape:{x:0,y:0,width,height}})),{root,width,height,viewBoxRect,viewBoxTransform,named}},SVGParser.prototype._parseNode=function(xmlNode,parentGroup,named,namedFrom,isInDefs,isInText){var el,nodeName=xmlNode.nodeName.toLowerCase(),namedFromForSub=namedFrom;if("defs"===nodeName&&(isInDefs=!0),"text"===nodeName&&(isInText=!0),"defs"===nodeName||"switch"===nodeName)el=parentGroup;else{if(!isInDefs){var parser_1=nodeParsers[nodeName];if(parser_1&&(0,util.hasOwn)(nodeParsers,nodeName)){el=parser_1.call(this,xmlNode,parentGroup);var nameAttr=xmlNode.getAttribute("name");if(nameAttr){var newNamed={name:nameAttr,namedFrom:null,svgNodeTagLower:nodeName,el};named.push(newNamed),"g"===nodeName&&(namedFromForSub=newNamed)}else namedFrom&&named.push({name:namedFrom.name,namedFrom,svgNodeTagLower:nodeName,el});parentGroup.add(el)}}var parser=paintServerParsers[nodeName];if(parser&&(0,util.hasOwn)(paintServerParsers,nodeName)){var def=parser.call(this,xmlNode),id=xmlNode.getAttribute("id");id&&(this._defs[id]=def)}}if(el&&el.isGroup)for(var child=xmlNode.firstChild;child;)1===child.nodeType?this._parseNode(child,el,named,namedFromForSub,isInDefs,isInText):3===child.nodeType&&isInText&&this._parseText(child,el),child=child.nextSibling},SVGParser.prototype._parseText=function(xmlNode,parentGroup){var text=new TSpan.Z({style:{text:xmlNode.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(parentGroup,text),parseAttributes(xmlNode,text,this._defsUsePending,!1,!1),function applyTextAlignment(text,parentGroup){var parentSelfStyle=parentGroup.__selfStyle;if(parentSelfStyle){var textBaseline=parentSelfStyle.textBaseline,zrTextBaseline=textBaseline;textBaseline&&"auto"!==textBaseline?"baseline"===textBaseline?zrTextBaseline="alphabetic":"before-edge"===textBaseline||"text-before-edge"===textBaseline?zrTextBaseline="top":"after-edge"===textBaseline||"text-after-edge"===textBaseline?zrTextBaseline="bottom":"central"!==textBaseline&&"mathematical"!==textBaseline||(zrTextBaseline="middle"):zrTextBaseline="alphabetic",text.style.textBaseline=zrTextBaseline}var parentInheritedStyle=parentGroup.__inheritedStyle;if(parentInheritedStyle){var textAlign=parentInheritedStyle.textAlign,zrTextAlign=textAlign;textAlign&&("middle"===textAlign&&(zrTextAlign="center"),text.style.textAlign=zrTextAlign)}}(text,parentGroup);var textStyle=text.style,fontSize=textStyle.fontSize;fontSize&&fontSize<9&&(textStyle.fontSize=9,text.scaleX*=fontSize/9,text.scaleY*=fontSize/9);var font=(textStyle.fontSize||textStyle.fontFamily)&&[textStyle.fontStyle,textStyle.fontWeight,(textStyle.fontSize||12)+"px",textStyle.fontFamily||"sans-serif"].join(" ");textStyle.font=font;var rect=text.getBoundingRect();return this._textX+=rect.width,parentGroup.add(text),text},SVGParser.internalField=void(nodeParsers={g:function(xmlNode,parentGroup){var g=new Group.Z;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!1),g},rect:function(xmlNode,parentGroup){var rect=new Rect.Z;return inheritStyle(parentGroup,rect),parseAttributes(xmlNode,rect,this._defsUsePending,!1,!1),rect.setShape({x:parseFloat(xmlNode.getAttribute("x")||"0"),y:parseFloat(xmlNode.getAttribute("y")||"0"),width:parseFloat(xmlNode.getAttribute("width")||"0"),height:parseFloat(xmlNode.getAttribute("height")||"0")}),rect.silent=!0,rect},circle:function(xmlNode,parentGroup){var circle=new Circle.Z;return inheritStyle(parentGroup,circle),parseAttributes(xmlNode,circle,this._defsUsePending,!1,!1),circle.setShape({cx:parseFloat(xmlNode.getAttribute("cx")||"0"),cy:parseFloat(xmlNode.getAttribute("cy")||"0"),r:parseFloat(xmlNode.getAttribute("r")||"0")}),circle.silent=!0,circle},line:function(xmlNode,parentGroup){var line=new Line.Z;return inheritStyle(parentGroup,line),parseAttributes(xmlNode,line,this._defsUsePending,!1,!1),line.setShape({x1:parseFloat(xmlNode.getAttribute("x1")||"0"),y1:parseFloat(xmlNode.getAttribute("y1")||"0"),x2:parseFloat(xmlNode.getAttribute("x2")||"0"),y2:parseFloat(xmlNode.getAttribute("y2")||"0")}),line.silent=!0,line},ellipse:function(xmlNode,parentGroup){var ellipse=new Ellipse.Z;return inheritStyle(parentGroup,ellipse),parseAttributes(xmlNode,ellipse,this._defsUsePending,!1,!1),ellipse.setShape({cx:parseFloat(xmlNode.getAttribute("cx")||"0"),cy:parseFloat(xmlNode.getAttribute("cy")||"0"),rx:parseFloat(xmlNode.getAttribute("rx")||"0"),ry:parseFloat(xmlNode.getAttribute("ry")||"0")}),ellipse.silent=!0,ellipse},polygon:function(xmlNode,parentGroup){var pointsArr,pointsStr=xmlNode.getAttribute("points");pointsStr&&(pointsArr=parsePoints(pointsStr));var polygon=new Polygon.Z({shape:{points:pointsArr||[]},silent:!0});return inheritStyle(parentGroup,polygon),parseAttributes(xmlNode,polygon,this._defsUsePending,!1,!1),polygon},polyline:function(xmlNode,parentGroup){var pointsArr,pointsStr=xmlNode.getAttribute("points");pointsStr&&(pointsArr=parsePoints(pointsStr));var polyline=new Polyline.Z({shape:{points:pointsArr||[]},silent:!0});return inheritStyle(parentGroup,polyline),parseAttributes(xmlNode,polyline,this._defsUsePending,!1,!1),polyline},image:function(xmlNode,parentGroup){var img=new Image.ZP;return inheritStyle(parentGroup,img),parseAttributes(xmlNode,img,this._defsUsePending,!1,!1),img.setStyle({image:xmlNode.getAttribute("xlink:href")||xmlNode.getAttribute("href"),x:+xmlNode.getAttribute("x"),y:+xmlNode.getAttribute("y"),width:+xmlNode.getAttribute("width"),height:+xmlNode.getAttribute("height")}),img.silent=!0,img},text:function(xmlNode,parentGroup){var x=xmlNode.getAttribute("x")||"0",y=xmlNode.getAttribute("y")||"0",dx=xmlNode.getAttribute("dx")||"0",dy=xmlNode.getAttribute("dy")||"0";this._textX=parseFloat(x)+parseFloat(dx),this._textY=parseFloat(y)+parseFloat(dy);var g=new Group.Z;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!0),g},tspan:function(xmlNode,parentGroup){var x=xmlNode.getAttribute("x"),y=xmlNode.getAttribute("y");null!=x&&(this._textX=parseFloat(x)),null!=y&&(this._textY=parseFloat(y));var dx=xmlNode.getAttribute("dx")||"0",dy=xmlNode.getAttribute("dy")||"0",g=new Group.Z;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!0),this._textX+=parseFloat(dx),this._textY+=parseFloat(dy),g},path:function(xmlNode,parentGroup){var d=xmlNode.getAttribute("d")||"",path=(0,tool_path.iR)(d);return inheritStyle(parentGroup,path),parseAttributes(xmlNode,path,this._defsUsePending,!1,!1),path.silent=!0,path}}),SVGParser}(),paintServerParsers={lineargradient:function(xmlNode){var x1=parseInt(xmlNode.getAttribute("x1")||"0",10),y1=parseInt(xmlNode.getAttribute("y1")||"0",10),x2=parseInt(xmlNode.getAttribute("x2")||"10",10),y2=parseInt(xmlNode.getAttribute("y2")||"0",10),gradient=new LinearGradient.Z(x1,y1,x2,y2);return parsePaintServerUnit(xmlNode,gradient),parseGradientColorStops(xmlNode,gradient),gradient},radialgradient:function(xmlNode){var cx=parseInt(xmlNode.getAttribute("cx")||"0",10),cy=parseInt(xmlNode.getAttribute("cy")||"0",10),r=parseInt(xmlNode.getAttribute("r")||"0",10),gradient=new RadialGradient.Z(cx,cy,r);return parsePaintServerUnit(xmlNode,gradient),parseGradientColorStops(xmlNode,gradient),gradient}};function parsePaintServerUnit(xmlNode,gradient){"userSpaceOnUse"===xmlNode.getAttribute("gradientUnits")&&(gradient.global=!0)}function parseGradientColorStops(xmlNode,gradient){for(var stop=xmlNode.firstChild;stop;){if(1===stop.nodeType&&"stop"===stop.nodeName.toLocaleLowerCase()){var offsetStr=stop.getAttribute("offset"),offset=void 0;offset=offsetStr&&offsetStr.indexOf("%")>0?parseInt(offsetStr,10)/100:offsetStr?parseFloat(offsetStr):0;var styleVals={};parseInlineStyle(stop,styleVals,styleVals);var stopColor=styleVals.stopColor||stop.getAttribute("stop-color")||"#000000";gradient.colorStops.push({offset,color:stopColor})}stop=stop.nextSibling}}function inheritStyle(parent,child){parent&&parent.__inheritedStyle&&(child.__inheritedStyle||(child.__inheritedStyle={}),(0,util.defaults)(child.__inheritedStyle,parent.__inheritedStyle))}function parsePoints(pointsString){for(var list=splitNumberSequence(pointsString),points=[],i=0;i<list.length;i+=2){var x=parseFloat(list[i]),y=parseFloat(list[i+1]);points.push([x,y])}return points}function parseAttributes(xmlNode,el,defsUsePending,onlyInlineStyle,isTextGroup){var disp=el,inheritedStyle=disp.__inheritedStyle=disp.__inheritedStyle||{},selfStyle={};1===xmlNode.nodeType&&(!function parseTransformAttribute(xmlNode,node){var transform=xmlNode.getAttribute("transform");if(transform){transform=transform.replace(/,/g," ");var transformOps_1=[],mt=null;transform.replace(transformRegex,(function(str,type,value){return transformOps_1.push(type,value),""}));for(var i=transformOps_1.length-1;i>0;i-=2){var value=transformOps_1[i],type=transformOps_1[i-1],valueArr=splitNumberSequence(value);switch(mt=mt||matrix.create(),type){case"translate":matrix.translate(mt,mt,[parseFloat(valueArr[0]),parseFloat(valueArr[1]||"0")]);break;case"scale":matrix.scale(mt,mt,[parseFloat(valueArr[0]),parseFloat(valueArr[1]||valueArr[0])]);break;case"rotate":matrix.rotate(mt,mt,-parseFloat(valueArr[0])*DEGREE_TO_ANGLE);break;case"skewX":var sx=Math.tan(parseFloat(valueArr[0])*DEGREE_TO_ANGLE);matrix.mul(mt,[1,0,sx,1,0,0],mt);break;case"skewY":var sy=Math.tan(parseFloat(valueArr[0])*DEGREE_TO_ANGLE);matrix.mul(mt,[1,sy,0,1,0,0],mt);break;case"matrix":mt[0]=parseFloat(valueArr[0]),mt[1]=parseFloat(valueArr[1]),mt[2]=parseFloat(valueArr[2]),mt[3]=parseFloat(valueArr[3]),mt[4]=parseFloat(valueArr[4]),mt[5]=parseFloat(valueArr[5])}}node.setLocalTransform(mt)}}(xmlNode,el),parseInlineStyle(xmlNode,inheritedStyle,selfStyle),onlyInlineStyle||function parseAttributeStyle(xmlNode,inheritableStyleResult,selfStyleResult){for(var i=0;i<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;i++){var svgAttrName=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];null!=(attrValue=xmlNode.getAttribute(svgAttrName))&&(inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]]=attrValue)}for(i=0;i<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;i++){var attrValue;svgAttrName=SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];null!=(attrValue=xmlNode.getAttribute(svgAttrName))&&(selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]]=attrValue)}}(xmlNode,inheritedStyle,selfStyle)),disp.style=disp.style||{},null!=inheritedStyle.fill&&(disp.style.fill=getFillStrokeStyle(disp,"fill",inheritedStyle.fill,defsUsePending)),null!=inheritedStyle.stroke&&(disp.style.stroke=getFillStrokeStyle(disp,"stroke",inheritedStyle.stroke,defsUsePending)),(0,util.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(propName){null!=inheritedStyle[propName]&&(disp.style[propName]=parseFloat(inheritedStyle[propName]))})),(0,util.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(propName){null!=inheritedStyle[propName]&&(disp.style[propName]=inheritedStyle[propName])})),isTextGroup&&(disp.__selfStyle=selfStyle),inheritedStyle.lineDash&&(disp.style.lineDash=(0,util.map)(splitNumberSequence(inheritedStyle.lineDash),(function(str){return parseFloat(str)}))),"hidden"!==inheritedStyle.visibility&&"collapse"!==inheritedStyle.visibility||(disp.invisible=!0),"none"===inheritedStyle.display&&(disp.ignore=!0)}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(el,method,str,defsUsePending){var urlMatch=str&&str.match(urlRegex);if(!urlMatch)return"none"===str&&(str=null),str;var url=(0,util.trim)(urlMatch[1]);defsUsePending.push([el,method,url])}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(rawStr){return rawStr.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(xmlNode,inheritableStyleResult,selfStyleResult){var styleRegResult,style=xmlNode.getAttribute("style");if(style)for(styleRegex.lastIndex=0;null!=(styleRegResult=styleRegex.exec(style));){var svgStlAttr=styleRegResult[1],zrInheritableStlAttr=(0,util.hasOwn)(INHERITABLE_STYLE_ATTRIBUTES_MAP,svgStlAttr)?INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]:null;zrInheritableStlAttr&&(inheritableStyleResult[zrInheritableStlAttr]=styleRegResult[2]);var zrSelfStlAttr=(0,util.hasOwn)(SELF_STYLE_ATTRIBUTES_MAP,svgStlAttr)?SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]:null;zrSelfStlAttr&&(selfStyleResult[zrSelfStlAttr]=styleRegResult[2])}}function makeViewBoxTransform(viewBoxRect,boundingRect){var scaleX=boundingRect.width/viewBoxRect.width,scaleY=boundingRect.height/viewBoxRect.height,scale=Math.min(scaleX,scaleY);return{scale,x:-(viewBoxRect.x+viewBoxRect.width/2)*scale+(boundingRect.x+boundingRect.width/2),y:-(viewBoxRect.y+viewBoxRect.height/2)*scale+(boundingRect.y+boundingRect.height/2)}}var BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),Region=__webpack_require__("./node_modules/echarts/lib/coord/geo/Region.js"),REGION_AVAILABLE_SVG_TAG_MAP=(0,util.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function GeoSVGResource(mapName,svg){this.type="geoSVG",this._usedGraphicMap=(0,util.createHashMap)(),this._freedGraphics=[],this._mapName=mapName,this._parsedXML=parseXML(svg)}return GeoSVGResource.prototype.load=function(){var firstGraphic=this._firstGraphic;if(!firstGraphic){firstGraphic=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(firstGraphic),this._boundingRect=this._firstGraphic.boundingRect.clone();var _a=function createRegions(named){var regions=[],regionsMap=(0,util.createHashMap)();return(0,util.each)(named,(function(namedItem){if(null==namedItem.namedFrom){var region=new Region.Im(namedItem.name,namedItem.el);regions.push(region),regionsMap.set(namedItem.name,region)}})),{regions,regionsMap}}(firstGraphic.named),regions=_a.regions,regionsMap=_a.regionsMap;this._regions=regions,this._regionsMap=regionsMap}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},GeoSVGResource.prototype._buildGraphic=function(svgXML){var result,rootFromParse;try{rootFromParse=(result=svgXML&&function parseSVG(xml,opt){return(new SVGParser).parse(xml,opt)}(svgXML,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,(0,util.assert)(null!=rootFromParse)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var root=new Group.Z;root.add(rootFromParse),root.isGeoSVGGraphicRoot=!0;var svgWidth=result.width,svgHeight=result.height,viewBoxRect=result.viewBoxRect,boundingRect=this._boundingRect;if(!boundingRect){var bRectX=void 0,bRectY=void 0,bRectWidth=void 0,bRectHeight=void 0;if(null!=svgWidth?(bRectX=0,bRectWidth=svgWidth):viewBoxRect&&(bRectX=viewBoxRect.x,bRectWidth=viewBoxRect.width),null!=svgHeight?(bRectY=0,bRectHeight=svgHeight):viewBoxRect&&(bRectY=viewBoxRect.y,bRectHeight=viewBoxRect.height),null==bRectX||null==bRectY){var calculatedBoundingRect=rootFromParse.getBoundingRect();null==bRectX&&(bRectX=calculatedBoundingRect.x,bRectWidth=calculatedBoundingRect.width),null==bRectY&&(bRectY=calculatedBoundingRect.y,bRectHeight=calculatedBoundingRect.height)}boundingRect=this._boundingRect=new BoundingRect.Z(bRectX,bRectY,bRectWidth,bRectHeight)}if(viewBoxRect){var viewBoxTransform=makeViewBoxTransform(viewBoxRect,boundingRect);rootFromParse.scaleX=rootFromParse.scaleY=viewBoxTransform.scale,rootFromParse.x=viewBoxTransform.x,rootFromParse.y=viewBoxTransform.y}root.setClipPath(new Rect.Z({shape:boundingRect.plain()}));var named=[];return(0,util.each)(result.named,(function(namedItem){null!=REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower)&&(named.push(namedItem),function setSilent(el){el.silent=!1,el.isGroup&&el.traverse((function(child){child.silent=!1}))}(namedItem.el))})),{root,boundingRect,named}},GeoSVGResource.prototype.useGraphic=function(hostKey){var usedRootMap=this._usedGraphicMap,svgGraphic=usedRootMap.get(hostKey);return svgGraphic||(svgGraphic=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),usedRootMap.set(hostKey,svgGraphic),svgGraphic)},GeoSVGResource.prototype.freeGraphic=function(hostKey){var usedRootMap=this._usedGraphicMap,svgGraphic=usedRootMap.get(hostKey);svgGraphic&&(usedRootMap.removeKey(hostKey),this._freedGraphics.push(svgGraphic))},GeoSVGResource}();for(var parseGeoJson=__webpack_require__("./node_modules/echarts/lib/coord/geo/parseGeoJson.js"),geoCoord=[126,25],points=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<points.length;i++)for(var k=0;k<points[i].length;k++)points[i][k][0]/=10.5,points[i][k][1]/=-14,points[i][k][0]+=geoCoord[0],points[i][k][1]+=geoCoord[1];var textCoord=__webpack_require__("./node_modules/echarts/lib/coord/geo/fix/textCoord.js"),diaoyuIsland_points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var GeoJSONResource=function(){function GeoJSONResource(mapName,geoJSON,specialAreas){this.type="geoJSON",this._parsedMap=(0,util.createHashMap)(),this._mapName=mapName,this._specialAreas=specialAreas,this._geoJSON=function parseInput(source){return(0,util.isString)(source)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(source):new Function("return ("+source+");")():source}(geoJSON)}return GeoJSONResource.prototype.load=function(nameMap,nameProperty){nameProperty=nameProperty||"name";var parsed=this._parsedMap.get(nameProperty);if(!parsed){var rawRegions=this._parseToRegions(nameProperty);parsed=this._parsedMap.set(nameProperty,{regions:rawRegions,boundingRect:calculateBoundingRect(rawRegions)})}var regionsMap=(0,util.createHashMap)(),finalRegions=[];return(0,util.each)(parsed.regions,(function(region){var regionName=region.name;nameMap&&(0,util.hasOwn)(nameMap,regionName)&&(region=region.cloneShallow(regionName=nameMap[regionName])),finalRegions.push(region),regionsMap.set(regionName,region)})),{regions:finalRegions,boundingRect:parsed.boundingRect||new BoundingRect.Z(0,0,0,0),regionsMap}},GeoJSONResource.prototype._parseToRegions=function(nameProperty){var rawRegions,mapName=this._mapName,geoJSON=this._geoJSON;try{rawRegions=geoJSON?(0,parseGeoJson.Z)(geoJSON,nameProperty):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return function fixNanhai(mapType,regions){if("china"===mapType){for(var i=0;i<regions.length;i++)if("南海诸岛"===regions[i].name)return;regions.push(new Region.Ni("南海诸岛",util.map(points,(function(exterior){return{type:"polygon",exterior}})),geoCoord))}}(mapName,rawRegions),(0,util.each)(rawRegions,(function(region){var regionName=region.name;(0,textCoord.Z)(mapName,region),function fixDiaoyuIsland(mapType,region){"china"===mapType&&"台湾"===region.name&&region.geometries.push({type:"polygon",exterior:diaoyuIsland_points[0]})}(mapName,region);var specialArea=this._specialAreas&&this._specialAreas[regionName];specialArea&&region.transformTo(specialArea.left,specialArea.top,specialArea.width,specialArea.height)}),this),rawRegions},GeoJSONResource.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},GeoJSONResource}();function calculateBoundingRect(regions){for(var rect,i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect();(rect=rect||regionRect.clone()).union(regionRect)}return rect}var storage=(0,util.createHashMap)();const geoSourceManager={registerMap:function(mapName,rawDef,rawSpecialAreas){if(rawDef.svg){var resource=new GeoSVGResource(mapName,rawDef.svg);storage.set(mapName,resource)}else{var geoJSON=rawDef.geoJson||rawDef.geoJSON;geoJSON&&!rawDef.features?rawSpecialAreas=rawDef.specialAreas:geoJSON=rawDef;resource=new GeoJSONResource(mapName,geoJSON,rawSpecialAreas);storage.set(mapName,resource)}},getGeoResource:function(mapName){return storage.get(mapName)},getMapForUser:function(mapName){var resource=storage.get(mapName);return resource&&"geoJSON"===resource.type&&resource.getMapForUser()},load:function(mapName,nameMap,nameProperty){var resource=storage.get(mapName);if(resource)return resource.load(nameMap,nameProperty)}}},"./node_modules/echarts/lib/coord/geo/parseGeoJson.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>parseGeoJSON});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_Region_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/coord/geo/Region.js");function decodeRings(rings,encodeOffsets,encodeScale){for(var c=0;c<rings.length;c++)rings[c]=decodeRing(rings[c],encodeOffsets[c],encodeScale)}function decodeRing(coordinate,encodeOffsets,encodeScale){for(var result=[],prevX=encodeOffsets[0],prevY=encodeOffsets[1],i=0;i<coordinate.length;i+=2){var x=coordinate.charCodeAt(i)-64,y=coordinate.charCodeAt(i+1)-64;x=x>>1^-(1&x),y=y>>1^-(1&y),prevX=x+=prevX,prevY=y+=prevY,result.push([x/encodeScale,y/encodeScale])}return result}function parseGeoJSON(geoJson,nameProperty){return geoJson=function decode(json){if(!json.UTF8Encoding)return json;var jsonCompressed=json,encodeScale=jsonCompressed.UTF8Scale;null==encodeScale&&(encodeScale=1024);var features=jsonCompressed.features;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(features,(function(feature){var geometry=feature.geometry,encodeOffsets=geometry.encodeOffsets,coordinates=geometry.coordinates;if(encodeOffsets)switch(geometry.type){case"LineString":geometry.coordinates=decodeRing(coordinates,encodeOffsets,encodeScale);break;case"Polygon":case"MultiLineString":decodeRings(coordinates,encodeOffsets,encodeScale);break;case"MultiPolygon":zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(coordinates,(function(rings,idx){return decodeRings(rings,encodeOffsets[idx],encodeScale)}))}})),jsonCompressed.UTF8Encoding=!1,jsonCompressed}(geoJson),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.filter(geoJson.features,(function(featureObj){return featureObj.geometry&&featureObj.properties&&featureObj.geometry.coordinates.length>0})),(function(featureObj){var properties=featureObj.properties,geo=featureObj.geometry,geometries=[];switch(geo.type){case"Polygon":var coordinates=geo.coordinates;geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.Qh(coordinates[0],coordinates.slice(1)));break;case"MultiPolygon":zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(geo.coordinates,(function(item){item[0]&&geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.Qh(item[0],item.slice(1)))}));break;case"LineString":geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.jM([geo.coordinates]));break;case"MultiLineString":geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.jM(geo.coordinates))}var region=new _Region_js__WEBPACK_IMPORTED_MODULE_1__.Ni(properties[nameProperty||"name"],geometries,properties.cp);return region.properties=properties,region}))}},"./node_modules/echarts/lib/coord/scaleRawExtentInfo.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qw:()=>ensureScaleRawExtentInfo});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),ScaleRawExtentInfo=function(){function ScaleRawExtentInfo(scale,model,originalExtent){this._prepareParams(scale,model,originalExtent)}return ScaleRawExtentInfo.prototype._prepareParams=function(scale,model,dataExtent){dataExtent[1]<dataExtent[0]&&(dataExtent=[NaN,NaN]),this._dataMin=dataExtent[0],this._dataMax=dataExtent[1];var isOrdinal=this._isOrdinal="ordinal"===scale.type;this._needCrossZero="interval"===scale.type&&model.getNeedCrossZero&&model.getNeedCrossZero();var modelMinRaw=this._modelMinRaw=model.get("min",!0);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(modelMinRaw)?this._modelMinNum=parseAxisModelMinMax(scale,modelMinRaw({min:dataExtent[0],max:dataExtent[1]})):"dataMin"!==modelMinRaw&&(this._modelMinNum=parseAxisModelMinMax(scale,modelMinRaw));var modelMaxRaw=this._modelMaxRaw=model.get("max",!0);if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(modelMaxRaw)?this._modelMaxNum=parseAxisModelMinMax(scale,modelMaxRaw({min:dataExtent[0],max:dataExtent[1]})):"dataMax"!==modelMaxRaw&&(this._modelMaxNum=parseAxisModelMinMax(scale,modelMaxRaw)),isOrdinal)this._axisDataLen=model.getCategories().length;else{var boundaryGap=model.get("boundaryGap"),boundaryGapArr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(boundaryGap)?boundaryGap:[boundaryGap||0,boundaryGap||0];"boolean"==typeof boundaryGapArr[0]||"boolean"==typeof boundaryGapArr[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.GM)(boundaryGapArr[0],1),(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.GM)(boundaryGapArr[1],1)]}},ScaleRawExtentInfo.prototype.calculate=function(){var isOrdinal=this._isOrdinal,dataMin=this._dataMin,dataMax=this._dataMax,axisDataLen=this._axisDataLen,boundaryGapInner=this._boundaryGapInner,span=isOrdinal?null:dataMax-dataMin||Math.abs(dataMin),min="dataMin"===this._modelMinRaw?dataMin:this._modelMinNum,max="dataMax"===this._modelMaxRaw?dataMax:this._modelMaxNum,minFixed=null!=min,maxFixed=null!=max;null==min&&(min=isOrdinal?axisDataLen?0:NaN:dataMin-boundaryGapInner[0]*span),null==max&&(max=isOrdinal?axisDataLen?axisDataLen-1:NaN:dataMax+boundaryGapInner[1]*span),(null==min||!isFinite(min))&&(min=NaN),(null==max||!isFinite(max))&&(max=NaN);var isBlank=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.eqNaN)(min)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.eqNaN)(max)||isOrdinal&&!axisDataLen;this._needCrossZero&&(min>0&&max>0&&!minFixed&&(min=0),min<0&&max<0&&!maxFixed&&(max=0));var determinedMin=this._determinedMin,determinedMax=this._determinedMax;return null!=determinedMin&&(min=determinedMin,minFixed=!0),null!=determinedMax&&(max=determinedMax,maxFixed=!0),{min,max,minFixed,maxFixed,isBlank}},ScaleRawExtentInfo.prototype.modifyDataMinMax=function(minMaxName,val){this[DATA_MIN_MAX_ATTR[minMaxName]]=val},ScaleRawExtentInfo.prototype.setDeterminedMinMax=function(minMaxName,val){this[DETERMINED_MIN_MAX_ATTR[minMaxName]]=val},ScaleRawExtentInfo.prototype.freeze=function(){this.frozen=!0},ScaleRawExtentInfo}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(scale,model,originalExtent){var rawExtentInfo=scale.rawExtentInfo;return rawExtentInfo||(rawExtentInfo=new ScaleRawExtentInfo(scale,model,originalExtent),scale.rawExtentInfo=rawExtentInfo,rawExtentInfo)}function parseAxisModelMinMax(scale,minMax){return null==minMax?null:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.eqNaN)(minMax)?NaN:scale.parse(minMax)}},"./node_modules/echarts/lib/core/CoordinateSystem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),coordinateSystemCreators={};const __WEBPACK_DEFAULT_EXPORT__=function(){function CoordinateSystemManager(){this._coordinateSystems=[]}return CoordinateSystemManager.prototype.create=function(ecModel,api){var coordinateSystems=[];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(coordinateSystemCreators,(function(creator,type){var list=creator.create(ecModel,api);coordinateSystems=coordinateSystems.concat(list||[])})),this._coordinateSystems=coordinateSystems},CoordinateSystemManager.prototype.update=function(ecModel,api){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(this._coordinateSystems,(function(coordSys){coordSys.update&&coordSys.update(ecModel,api)}))},CoordinateSystemManager.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},CoordinateSystemManager.register=function(type,creator){coordinateSystemCreators[type]=creator},CoordinateSystemManager.get=function(type){return coordinateSystemCreators[type]},CoordinateSystemManager}()},"./node_modules/echarts/lib/core/echarts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Hr:()=>PRIORITY,$j:()=>connect,Ok:()=>dataTool,HO:()=>dependencies,eU:()=>disConnect,zP:()=>disconnect,B9:()=>dispose,wL:()=>getCoordinateSystemDimensions,JE:()=>getInstanceByDom,rp:()=>getInstanceById,FU:()=>getMap,S1:()=>init,zl:()=>registerAction,RS:()=>registerCoordinateSystem,qR:()=>registerLayout,yn:()=>registerLoading,I2:()=>locale.I2,je:()=>registerMap,sq:()=>registerPostInit,Br:()=>registerPostUpdate,ds:()=>registerPreprocessor,Pu:()=>registerProcessor,aW:()=>registerTheme,OB:()=>registerTransform,YK:()=>registerUpdateLifecycle,Og:()=>registerVisual,jQ:()=>setCanvasCreator,i8:()=>version});var tslib_es6=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender=__webpack_require__("./node_modules/zrender/lib/zrender.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),timsort=__webpack_require__("./node_modules/zrender/lib/core/timsort.js"),Eventful=__webpack_require__("./node_modules/zrender/lib/core/Eventful.js"),model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),Component=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),platform="";"undefined"!=typeof navigator&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var reCreateSeriesIndices,assertSeriesInitialized,initBase,sourceHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),internalComponentCreator=__webpack_require__("./node_modules/echarts/lib/model/internalComponentCreator.js"),palette=__webpack_require__("./node_modules/echarts/lib/model/mixin/palette.js");var GlobalModel=function(_super){function GlobalModel(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(GlobalModel,_super),GlobalModel.prototype.init=function(option,parentModel,ecModel,theme,locale,optionManager){theme=theme||{},this.option=null,this._theme=new Model.Z(theme),this._locale=new Model.Z(locale),this._optionManager=optionManager},GlobalModel.prototype.setOption=function(option,opts,optionPreprocessorFuncs){var innerOpt=normalizeSetOptionInput(opts);this._optionManager.setOption(option,optionPreprocessorFuncs,innerOpt),this._resetOption(null,innerOpt)},GlobalModel.prototype.resetOption=function(type,opt){return this._resetOption(type,normalizeSetOptionInput(opt))},GlobalModel.prototype._resetOption=function(type,opt){var optionChanged=!1,optionManager=this._optionManager;if(!type||"recreate"===type){var baseOption=optionManager.mountOption("recreate"===type);0,this.option&&"recreate"!==type?(this.restoreData(),this._mergeOption(baseOption,opt)):initBase(this,baseOption),optionChanged=!0}if("timeline"!==type&&"media"!==type||this.restoreData(),!type||"recreate"===type||"timeline"===type){var timelineOption=optionManager.getTimelineOption(this);timelineOption&&(optionChanged=!0,this._mergeOption(timelineOption,opt))}if(!type||"recreate"===type||"media"===type){var mediaOptions=optionManager.getMediaOption(this);mediaOptions.length&&(0,util.each)(mediaOptions,(function(mediaOption){optionChanged=!0,this._mergeOption(mediaOption,opt)}),this)}return optionChanged},GlobalModel.prototype.mergeOption=function(option){this._mergeOption(option,null)},GlobalModel.prototype._mergeOption=function(newOption,opt){var option=this.option,componentsMap=this._componentsMap,componentsCount=this._componentsCount,newCmptTypes=[],newCmptTypeMap=(0,util.createHashMap)(),replaceMergeMainTypeMap=opt&&opt.replaceMergeMainTypeMap;(0,sourceHelper.md)(this),(0,util.each)(newOption,(function(componentOption,mainType){null!=componentOption&&(Component.Z.hasClass(mainType)?mainType&&(newCmptTypes.push(mainType),newCmptTypeMap.set(mainType,!0)):option[mainType]=null==option[mainType]?(0,util.clone)(componentOption):(0,util.merge)(option[mainType],componentOption,!0))})),replaceMergeMainTypeMap&&replaceMergeMainTypeMap.each((function(val,mainTypeInReplaceMerge){Component.Z.hasClass(mainTypeInReplaceMerge)&&!newCmptTypeMap.get(mainTypeInReplaceMerge)&&(newCmptTypes.push(mainTypeInReplaceMerge),newCmptTypeMap.set(mainTypeInReplaceMerge,!0))})),Component.Z.topologicalTravel(newCmptTypes,Component.Z.getAllClassMainTypes(),(function visitComponent(mainType){var newCmptOptionList=(0,internalComponentCreator.R)(this,mainType,model.kF(newOption[mainType])),oldCmptList=componentsMap.get(mainType),mergeMode=oldCmptList?replaceMergeMainTypeMap&&replaceMergeMainTypeMap.get(mainType)?"replaceMerge":"normalMerge":"replaceAll",mappingResult=model.ab(oldCmptList,newCmptOptionList,mergeMode);model.O0(mappingResult,mainType,Component.Z),option[mainType]=null,componentsMap.set(mainType,null),componentsCount.set(mainType,0);var tooltipExists,optionsByMainType=[],cmptsByMainType=[],cmptsCountByMainType=0;(0,util.each)(mappingResult,(function(resultItem,index){var componentModel=resultItem.existing,newCmptOption=resultItem.newOption;if(newCmptOption){var isSeriesType="series"===mainType,ComponentModelClass=Component.Z.getClass(mainType,resultItem.keyInfo.subType,!isSeriesType);if(!ComponentModelClass)return;if("tooltip"===mainType){if(tooltipExists)return void 0;tooltipExists=!0}if(componentModel&&componentModel.constructor===ComponentModelClass)componentModel.name=resultItem.keyInfo.name,componentModel.mergeOption(newCmptOption,this),componentModel.optionUpdated(newCmptOption,!1);else{var extraOpt=(0,util.extend)({componentIndex:index},resultItem.keyInfo);componentModel=new ComponentModelClass(newCmptOption,this,this,extraOpt),(0,util.extend)(componentModel,extraOpt),resultItem.brandNew&&(componentModel.__requireNewView=!0),componentModel.init(newCmptOption,this,this),componentModel.optionUpdated(null,!0)}}else componentModel&&(componentModel.mergeOption({},this),componentModel.optionUpdated({},!1));componentModel?(optionsByMainType.push(componentModel.option),cmptsByMainType.push(componentModel),cmptsCountByMainType++):(optionsByMainType.push(void 0),cmptsByMainType.push(void 0))}),this),option[mainType]=optionsByMainType,componentsMap.set(mainType,cmptsByMainType),componentsCount.set(mainType,cmptsCountByMainType),"series"===mainType&&reCreateSeriesIndices(this)}),this),this._seriesIndices||reCreateSeriesIndices(this)},GlobalModel.prototype.getOption=function(){var option=(0,util.clone)(this.option);return(0,util.each)(option,(function(optInMainType,mainType){if(Component.Z.hasClass(mainType)){for(var opts=model.kF(optInMainType),realLen=opts.length,metNonInner=!1,i=realLen-1;i>=0;i--)opts[i]&&!model.lY(opts[i])?metNonInner=!0:(opts[i]=null,!metNonInner&&realLen--);opts.length=realLen,option[mainType]=opts}})),delete option["\0_ec_inner"],option},GlobalModel.prototype.getTheme=function(){return this._theme},GlobalModel.prototype.getLocaleModel=function(){return this._locale},GlobalModel.prototype.setUpdatePayload=function(payload){this._payload=payload},GlobalModel.prototype.getUpdatePayload=function(){return this._payload},GlobalModel.prototype.getComponent=function(mainType,idx){var list=this._componentsMap.get(mainType);if(list){var cmpt=list[idx||0];if(cmpt)return cmpt;if(null==idx)for(var i=0;i<list.length;i++)if(list[i])return list[i]}},GlobalModel.prototype.queryComponents=function(condition){var mainType=condition.mainType;if(!mainType)return[];var result,index=condition.index,id=condition.id,name=condition.name,cmpts=this._componentsMap.get(mainType);return cmpts&&cmpts.length?(null!=index?(result=[],(0,util.each)(model.kF(index),(function(idx){cmpts[idx]&&result.push(cmpts[idx])}))):result=null!=id?queryByIdOrName("id",id,cmpts):null!=name?queryByIdOrName("name",name,cmpts):(0,util.filter)(cmpts,(function(cmpt){return!!cmpt})),filterBySubType(result,condition)):[]},GlobalModel.prototype.findComponents=function(condition){var query=condition.query,mainType=condition.mainType,queryCond=function getQueryCond(q){var indexAttr=mainType+"Index",idAttr=mainType+"Id",nameAttr=mainType+"Name";return!q||null==q[indexAttr]&&null==q[idAttr]&&null==q[nameAttr]?null:{mainType,index:q[indexAttr],id:q[idAttr],name:q[nameAttr]}}(query);return function doFilter(res){return condition.filter?(0,util.filter)(res,condition.filter):res}(filterBySubType(queryCond?this.queryComponents(queryCond):(0,util.filter)(this._componentsMap.get(mainType),(function(cmpt){return!!cmpt})),condition))},GlobalModel.prototype.eachComponent=function(mainType,cb,context){var componentsMap=this._componentsMap;if((0,util.isFunction)(mainType)){var ctxForAll_1=cb,cbForAll_1=mainType;componentsMap.each((function(cmpts,componentType){for(var i=0;cmpts&&i<cmpts.length;i++){var cmpt=cmpts[i];cmpt&&cbForAll_1.call(ctxForAll_1,componentType,cmpt,cmpt.componentIndex)}}))}else for(var cmpts=(0,util.isString)(mainType)?componentsMap.get(mainType):(0,util.isObject)(mainType)?this.findComponents(mainType):null,i=0;cmpts&&i<cmpts.length;i++){var cmpt=cmpts[i];cmpt&&cb.call(context,cmpt,cmpt.componentIndex)}},GlobalModel.prototype.getSeriesByName=function(name){var nameStr=model.U5(name,null);return(0,util.filter)(this._componentsMap.get("series"),(function(oneSeries){return!!oneSeries&&null!=nameStr&&oneSeries.name===nameStr}))},GlobalModel.prototype.getSeriesByIndex=function(seriesIndex){return this._componentsMap.get("series")[seriesIndex]},GlobalModel.prototype.getSeriesByType=function(subType){return(0,util.filter)(this._componentsMap.get("series"),(function(oneSeries){return!!oneSeries&&oneSeries.subType===subType}))},GlobalModel.prototype.getSeries=function(){return(0,util.filter)(this._componentsMap.get("series"),(function(oneSeries){return!!oneSeries}))},GlobalModel.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},GlobalModel.prototype.eachSeries=function(cb,context){assertSeriesInitialized(this),(0,util.each)(this._seriesIndices,(function(rawSeriesIndex){var series=this._componentsMap.get("series")[rawSeriesIndex];cb.call(context,series,rawSeriesIndex)}),this)},GlobalModel.prototype.eachRawSeries=function(cb,context){(0,util.each)(this._componentsMap.get("series"),(function(series){series&&cb.call(context,series,series.componentIndex)}))},GlobalModel.prototype.eachSeriesByType=function(subType,cb,context){assertSeriesInitialized(this),(0,util.each)(this._seriesIndices,(function(rawSeriesIndex){var series=this._componentsMap.get("series")[rawSeriesIndex];series.subType===subType&&cb.call(context,series,rawSeriesIndex)}),this)},GlobalModel.prototype.eachRawSeriesByType=function(subType,cb,context){return(0,util.each)(this.getSeriesByType(subType),cb,context)},GlobalModel.prototype.isSeriesFiltered=function(seriesModel){return assertSeriesInitialized(this),null==this._seriesIndicesMap.get(seriesModel.componentIndex)},GlobalModel.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},GlobalModel.prototype.filterSeries=function(cb,context){assertSeriesInitialized(this);var newSeriesIndices=[];(0,util.each)(this._seriesIndices,(function(seriesRawIdx){var series=this._componentsMap.get("series")[seriesRawIdx];cb.call(context,series,seriesRawIdx)&&newSeriesIndices.push(seriesRawIdx)}),this),this._seriesIndices=newSeriesIndices,this._seriesIndicesMap=(0,util.createHashMap)(newSeriesIndices)},GlobalModel.prototype.restoreData=function(payload){reCreateSeriesIndices(this);var componentsMap=this._componentsMap,componentTypes=[];componentsMap.each((function(components,componentType){Component.Z.hasClass(componentType)&&componentTypes.push(componentType)})),Component.Z.topologicalTravel(componentTypes,Component.Z.getAllClassMainTypes(),(function(componentType){(0,util.each)(componentsMap.get(componentType),(function(component){!component||"series"===componentType&&function isNotTargetSeries(seriesModel,payload){if(payload){var index=payload.seriesIndex,id=payload.seriesId,name_1=payload.seriesName;return null!=index&&seriesModel.componentIndex!==index||null!=id&&seriesModel.id!==id||null!=name_1&&seriesModel.name!==name_1}}(component,payload)||component.restoreData()}))}))},GlobalModel.internalField=(reCreateSeriesIndices=function(ecModel){var seriesIndices=ecModel._seriesIndices=[];(0,util.each)(ecModel._componentsMap.get("series"),(function(series){series&&seriesIndices.push(series.componentIndex)})),ecModel._seriesIndicesMap=(0,util.createHashMap)(seriesIndices)},assertSeriesInitialized=function(ecModel){},void(initBase=function(ecModel,baseOption){ecModel.option={},ecModel.option["\0_ec_inner"]=1,ecModel._componentsMap=(0,util.createHashMap)({series:[]}),ecModel._componentsCount=(0,util.createHashMap)();var airaOption=baseOption.aria;(0,util.isObject)(airaOption)&&null==airaOption.enabled&&(airaOption.enabled=!0),function mergeTheme(option,theme){var notMergeColorLayer=option.color&&!option.colorLayer;(0,util.each)(theme,(function(themeItem,name){"colorLayer"===name&&notMergeColorLayer||Component.Z.hasClass(name)||("object"==typeof themeItem?option[name]=option[name]?(0,util.merge)(option[name],themeItem,!1):(0,util.clone)(themeItem):null==option[name]&&(option[name]=themeItem))}))}(baseOption,ecModel._theme.option),(0,util.merge)(baseOption,globalDefault,!1),ecModel._mergeOption(baseOption,null)})),GlobalModel}(Model.Z);function queryByIdOrName(attr,idOrName,cmpts){if((0,util.isArray)(idOrName)){var keyMap_1=(0,util.createHashMap)();return(0,util.each)(idOrName,(function(idOrNameItem){null!=idOrNameItem&&(null!=model.U5(idOrNameItem,null)&&keyMap_1.set(idOrNameItem,!0))})),(0,util.filter)(cmpts,(function(cmpt){return cmpt&&keyMap_1.get(cmpt[attr])}))}var idName_1=model.U5(idOrName,null);return(0,util.filter)(cmpts,(function(cmpt){return cmpt&&null!=idName_1&&cmpt[attr]===idName_1}))}function filterBySubType(components,condition){return condition.hasOwnProperty("subType")?(0,util.filter)(components,(function(cmpt){return cmpt&&cmpt.subType===condition.subType})):components}function normalizeSetOptionInput(opts){var replaceMergeMainTypeMap=(0,util.createHashMap)();return opts&&(0,util.each)(model.kF(opts.replaceMerge),(function(mainType){replaceMergeMainTypeMap.set(mainType,!0)})),{replaceMergeMainTypeMap}}(0,util.mixin)(GlobalModel,palette._);const Global=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const core_ExtensionAPI=function ExtensionAPI(ecInstance){util.each(availableMethods,(function(methodName){this[methodName]=util.bind(ecInstance[methodName],ecInstance)}),this)};var CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/core/CoordinateSystem.js"),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function OptionManager(api){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=api}return OptionManager.prototype.setOption=function(rawOption,optionPreprocessorFuncs,opt){rawOption&&((0,util.each)((0,model.kF)(rawOption.series),(function(series){series&&series.data&&(0,util.isTypedArray)(series.data)&&(0,util.setAsPrimitive)(series.data)})),(0,util.each)((0,model.kF)(rawOption.dataset),(function(dataset){dataset&&dataset.source&&(0,util.isTypedArray)(dataset.source)&&(0,util.setAsPrimitive)(dataset.source)}))),rawOption=(0,util.clone)(rawOption);var optionBackup=this._optionBackup,newParsedOption=function parseRawOption(rawOption,optionPreprocessorFuncs,isNew){var mediaDefault,baseOption,mediaList=[],declaredBaseOption=rawOption.baseOption,timelineOnRoot=rawOption.timeline,timelineOptionsOnRoot=rawOption.options,mediaOnRoot=rawOption.media,hasMedia=!!rawOption.media,hasTimeline=!!(timelineOptionsOnRoot||timelineOnRoot||declaredBaseOption&&declaredBaseOption.timeline);declaredBaseOption?(baseOption=declaredBaseOption).timeline||(baseOption.timeline=timelineOnRoot):((hasTimeline||hasMedia)&&(rawOption.options=rawOption.media=null),baseOption=rawOption);hasMedia&&(0,util.isArray)(mediaOnRoot)&&(0,util.each)(mediaOnRoot,(function(singleMedia){singleMedia&&singleMedia.option&&(singleMedia.query?mediaList.push(singleMedia):mediaDefault||(mediaDefault=singleMedia))}));function doPreprocess(option){(0,util.each)(optionPreprocessorFuncs,(function(preProcess){preProcess(option,isNew)}))}return doPreprocess(baseOption),(0,util.each)(timelineOptionsOnRoot,(function(option){return doPreprocess(option)})),(0,util.each)(mediaList,(function(media){return doPreprocess(media.option)})),{baseOption,timelineOptions:timelineOptionsOnRoot||[],mediaDefault,mediaList}}(rawOption,optionPreprocessorFuncs,!optionBackup);this._newBaseOption=newParsedOption.baseOption,optionBackup?(newParsedOption.timelineOptions.length&&(optionBackup.timelineOptions=newParsedOption.timelineOptions),newParsedOption.mediaList.length&&(optionBackup.mediaList=newParsedOption.mediaList),newParsedOption.mediaDefault&&(optionBackup.mediaDefault=newParsedOption.mediaDefault)):this._optionBackup=newParsedOption},OptionManager.prototype.mountOption=function(isRecreate){var optionBackup=this._optionBackup;return this._timelineOptions=optionBackup.timelineOptions,this._mediaList=optionBackup.mediaList,this._mediaDefault=optionBackup.mediaDefault,this._currentMediaIndices=[],(0,util.clone)(isRecreate?optionBackup.baseOption:this._newBaseOption)},OptionManager.prototype.getTimelineOption=function(ecModel){var option,timelineOptions=this._timelineOptions;if(timelineOptions.length){var timelineModel=ecModel.getComponent("timeline");timelineModel&&(option=(0,util.clone)(timelineOptions[timelineModel.getCurrentIndex()]))}return option},OptionManager.prototype.getMediaOption=function(ecModel){var ecWidth=this._api.getWidth(),ecHeight=this._api.getHeight(),mediaList=this._mediaList,mediaDefault=this._mediaDefault,indices=[],result=[];if(!mediaList.length&&!mediaDefault)return result;for(var i=0,len=mediaList.length;i<len;i++)applyMediaQuery(mediaList[i].query,ecWidth,ecHeight)&&indices.push(i);return!indices.length&&mediaDefault&&(indices=[-1]),indices.length&&!function indicesEquals(indices1,indices2){return indices1.join(",")===indices2.join(",")}(indices,this._currentMediaIndices)&&(result=(0,util.map)(indices,(function(index){return(0,util.clone)(-1===index?mediaDefault.option:mediaList[index].option)}))),this._currentMediaIndices=indices,result},OptionManager}();function applyMediaQuery(query,ecWidth,ecHeight){var realMap={width:ecWidth,height:ecHeight,aspectratio:ecWidth/ecHeight},applicable=!0;return(0,util.each)(query,(function(value,attr){var matched=attr.match(QUERY_REG);if(matched&&matched[1]&&matched[2]){var operator=matched[1],realAttr=matched[2].toLowerCase();(function compare(real,expect,operator){return"min"===operator?real>=expect:"max"===operator?real<=expect:real===expect})(realMap[realAttr],value,operator)||(applicable=!1)}})),applicable}const model_OptionManager=OptionManager;var compatStyle_each=util.each,isObject=util.isObject,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(opt){var itemStyleOpt=opt&&opt.itemStyle;if(itemStyleOpt)for(var i=0,len=POSSIBLE_STYLES.length;i<len;i++){var styleName=POSSIBLE_STYLES[i],normalItemStyleOpt=itemStyleOpt.normal,emphasisItemStyleOpt=itemStyleOpt.emphasis;normalItemStyleOpt&&normalItemStyleOpt[styleName]&&(opt[styleName]=opt[styleName]||{},opt[styleName].normal?util.merge(opt[styleName].normal,normalItemStyleOpt[styleName]):opt[styleName].normal=normalItemStyleOpt[styleName],normalItemStyleOpt[styleName]=null),emphasisItemStyleOpt&&emphasisItemStyleOpt[styleName]&&(opt[styleName]=opt[styleName]||{},opt[styleName].emphasis?util.merge(opt[styleName].emphasis,emphasisItemStyleOpt[styleName]):opt[styleName].emphasis=emphasisItemStyleOpt[styleName],emphasisItemStyleOpt[styleName]=null)}}function convertNormalEmphasis(opt,optType,useExtend){if(opt&&opt[optType]&&(opt[optType].normal||opt[optType].emphasis)){var normalOpt=opt[optType].normal,emphasisOpt=opt[optType].emphasis;normalOpt&&(useExtend?(opt[optType].normal=opt[optType].emphasis=null,util.defaults(opt[optType],normalOpt)):opt[optType]=normalOpt),emphasisOpt&&(opt.emphasis=opt.emphasis||{},opt.emphasis[optType]=emphasisOpt,emphasisOpt.focus&&(opt.emphasis.focus=emphasisOpt.focus),emphasisOpt.blurScope&&(opt.emphasis.blurScope=emphasisOpt.blurScope))}}function removeEC3NormalStatus(opt){convertNormalEmphasis(opt,"itemStyle"),convertNormalEmphasis(opt,"lineStyle"),convertNormalEmphasis(opt,"areaStyle"),convertNormalEmphasis(opt,"label"),convertNormalEmphasis(opt,"labelLine"),convertNormalEmphasis(opt,"upperLabel"),convertNormalEmphasis(opt,"edgeLabel")}function compatTextStyle(opt,propName){var labelOptSingle=isObject(opt)&&opt[propName],textStyle=isObject(labelOptSingle)&&labelOptSingle.textStyle;if(textStyle){0;for(var i=0,len=model.Td.length;i<len;i++){var textPropName=model.Td[i];textStyle.hasOwnProperty(textPropName)&&(labelOptSingle[textPropName]=textStyle[textPropName])}}}function compatEC3CommonStyles(opt){opt&&(removeEC3NormalStatus(opt),compatTextStyle(opt,"label"),opt.emphasis&&compatTextStyle(opt.emphasis,"label"))}function toArr(o){return util.isArray(o)?o:o?[o]:[]}function toObj(o){return(util.isArray(o)?o[0]:o)||{}}function globalCompatStyle(option,isTheme){compatStyle_each(toArr(option.series),(function(seriesOpt){isObject(seriesOpt)&&function processSeries(seriesOpt){if(isObject(seriesOpt)){compatEC2ItemStyle(seriesOpt),removeEC3NormalStatus(seriesOpt),compatTextStyle(seriesOpt,"label"),compatTextStyle(seriesOpt,"upperLabel"),compatTextStyle(seriesOpt,"edgeLabel"),seriesOpt.emphasis&&(compatTextStyle(seriesOpt.emphasis,"label"),compatTextStyle(seriesOpt.emphasis,"upperLabel"),compatTextStyle(seriesOpt.emphasis,"edgeLabel"));var markPoint=seriesOpt.markPoint;markPoint&&(compatEC2ItemStyle(markPoint),compatEC3CommonStyles(markPoint));var markLine=seriesOpt.markLine;markLine&&(compatEC2ItemStyle(markLine),compatEC3CommonStyles(markLine));var markArea=seriesOpt.markArea;markArea&&compatEC3CommonStyles(markArea);var data=seriesOpt.data;if("graph"===seriesOpt.type){data=data||seriesOpt.nodes;var edgeData=seriesOpt.links||seriesOpt.edges;if(edgeData&&!util.isTypedArray(edgeData))for(var i=0;i<edgeData.length;i++)compatEC3CommonStyles(edgeData[i]);util.each(seriesOpt.categories,(function(opt){removeEC3NormalStatus(opt)}))}if(data&&!util.isTypedArray(data))for(i=0;i<data.length;i++)compatEC3CommonStyles(data[i]);if((markPoint=seriesOpt.markPoint)&&markPoint.data){var mpData=markPoint.data;for(i=0;i<mpData.length;i++)compatEC3CommonStyles(mpData[i])}if((markLine=seriesOpt.markLine)&&markLine.data){var mlData=markLine.data;for(i=0;i<mlData.length;i++)util.isArray(mlData[i])?(compatEC3CommonStyles(mlData[i][0]),compatEC3CommonStyles(mlData[i][1])):compatEC3CommonStyles(mlData[i])}"gauge"===seriesOpt.type?(compatTextStyle(seriesOpt,"axisLabel"),compatTextStyle(seriesOpt,"title"),compatTextStyle(seriesOpt,"detail")):"treemap"===seriesOpt.type?(convertNormalEmphasis(seriesOpt.breadcrumb,"itemStyle"),util.each(seriesOpt.levels,(function(opt){removeEC3NormalStatus(opt)}))):"tree"===seriesOpt.type&&removeEC3NormalStatus(seriesOpt.leaves)}}(seriesOpt)}));var axes=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];isTheme&&axes.push("valueAxis","categoryAxis","logAxis","timeAxis"),compatStyle_each(axes,(function(axisName){compatStyle_each(toArr(option[axisName]),(function(axisOpt){axisOpt&&(compatTextStyle(axisOpt,"axisLabel"),compatTextStyle(axisOpt.axisPointer,"label"))}))})),compatStyle_each(toArr(option.parallel),(function(parallelOpt){var parallelAxisDefault=parallelOpt&&parallelOpt.parallelAxisDefault;compatTextStyle(parallelAxisDefault,"axisLabel"),compatTextStyle(parallelAxisDefault&&parallelAxisDefault.axisPointer,"label")})),compatStyle_each(toArr(option.calendar),(function(calendarOpt){convertNormalEmphasis(calendarOpt,"itemStyle"),compatTextStyle(calendarOpt,"dayLabel"),compatTextStyle(calendarOpt,"monthLabel"),compatTextStyle(calendarOpt,"yearLabel")})),compatStyle_each(toArr(option.radar),(function(radarOpt){compatTextStyle(radarOpt,"name"),radarOpt.name&&null==radarOpt.axisName&&(radarOpt.axisName=radarOpt.name,delete radarOpt.name),null!=radarOpt.nameGap&&null==radarOpt.axisNameGap&&(radarOpt.axisNameGap=radarOpt.nameGap,delete radarOpt.nameGap)})),compatStyle_each(toArr(option.geo),(function(geoOpt){isObject(geoOpt)&&(compatEC3CommonStyles(geoOpt),compatStyle_each(toArr(geoOpt.regions),(function(regionObj){compatEC3CommonStyles(regionObj)})))})),compatStyle_each(toArr(option.timeline),(function(timelineOpt){compatEC3CommonStyles(timelineOpt),convertNormalEmphasis(timelineOpt,"label"),convertNormalEmphasis(timelineOpt,"itemStyle"),convertNormalEmphasis(timelineOpt,"controlStyle",!0);var data=timelineOpt.data;util.isArray(data)&&util.each(data,(function(item){util.isObject(item)&&(convertNormalEmphasis(item,"label"),convertNormalEmphasis(item,"itemStyle"))}))})),compatStyle_each(toArr(option.toolbox),(function(toolboxOpt){convertNormalEmphasis(toolboxOpt,"iconStyle"),compatStyle_each(toolboxOpt.feature,(function(featureOpt){convertNormalEmphasis(featureOpt,"iconStyle")}))})),compatTextStyle(toObj(option.axisPointer),"label"),compatTextStyle(toObj(option.tooltip).axisPointer,"label")}function compatLayoutProperties(option){option&&(0,util.each)(LAYOUT_PROPERTIES,(function(prop){prop[0]in option&&!(prop[1]in option)&&(option[prop[1]]=option[prop[0]])}))}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(option){var itemStyle=option&&option.itemStyle;if(itemStyle)for(var i=0;i<BAR_ITEM_STYLE_MAP.length;i++){var oldName=BAR_ITEM_STYLE_MAP[i][1],newName=BAR_ITEM_STYLE_MAP[i][0];null!=itemStyle[oldName]&&(itemStyle[newName]=itemStyle[oldName])}}function compatPieLabel(option){option&&"edge"===option.alignTo&&null!=option.margin&&null==option.edgeDistance&&(option.edgeDistance=option.margin)}function compatSunburstState(option){option&&option.downplay&&!option.blur&&(option.blur=option.downplay)}function traverseTree(data,cb){if(data)for(var i=0;i<data.length;i++)cb(data[i]),data[i]&&traverseTree(data[i].children,cb)}function globalBackwardCompat(option,isTheme){globalCompatStyle(option,isTheme),option.series=(0,model.kF)(option.series),(0,util.each)(option.series,(function(seriesOpt){if((0,util.isObject)(seriesOpt)){var seriesType=seriesOpt.type;if("line"===seriesType)null!=seriesOpt.clipOverflow&&(seriesOpt.clip=seriesOpt.clipOverflow);else if("pie"===seriesType||"gauge"===seriesType){if(null!=seriesOpt.clockWise&&(seriesOpt.clockwise=seriesOpt.clockWise),compatPieLabel(seriesOpt.label),(data=seriesOpt.data)&&!(0,util.isTypedArray)(data))for(var i=0;i<data.length;i++)compatPieLabel(data[i]);null!=seriesOpt.hoverOffset&&(seriesOpt.emphasis=seriesOpt.emphasis||{},(seriesOpt.emphasis.scaleSize=null)&&(seriesOpt.emphasis.scaleSize=seriesOpt.hoverOffset))}else if("gauge"===seriesType){var pointerColor=function get(opt,path){for(var pathArr=path.split(","),obj=opt,i=0;i<pathArr.length&&null!=(obj=obj&&obj[pathArr[i]]);i++);return obj}(seriesOpt,"pointer.color");null!=pointerColor&&function set(opt,path,val,overwrite){for(var key,pathArr=path.split(","),obj=opt,i=0;i<pathArr.length-1;i++)null==obj[key=pathArr[i]]&&(obj[key]={}),obj=obj[key];(overwrite||null==obj[pathArr[i]])&&(obj[pathArr[i]]=val)}(seriesOpt,"itemStyle.color",pointerColor)}else if("bar"===seriesType){var data;if(compatBarItemStyle(seriesOpt),compatBarItemStyle(seriesOpt.backgroundStyle),compatBarItemStyle(seriesOpt.emphasis),(data=seriesOpt.data)&&!(0,util.isTypedArray)(data))for(i=0;i<data.length;i++)"object"==typeof data[i]&&(compatBarItemStyle(data[i]),compatBarItemStyle(data[i]&&data[i].emphasis))}else if("sunburst"===seriesType){var highlightPolicy=seriesOpt.highlightPolicy;highlightPolicy&&(seriesOpt.emphasis=seriesOpt.emphasis||{},seriesOpt.emphasis.focus||(seriesOpt.emphasis.focus=highlightPolicy)),compatSunburstState(seriesOpt),traverseTree(seriesOpt.data,compatSunburstState)}else"graph"===seriesType||"sankey"===seriesType?function compatGraphFocus(option){option&&null!=option.focusNodeAdjacency&&(option.emphasis=option.emphasis||{},null==option.emphasis.focus&&(option.emphasis.focus="adjacency"))}(seriesOpt):"map"===seriesType&&(seriesOpt.mapType&&!seriesOpt.map&&(seriesOpt.map=seriesOpt.mapType),seriesOpt.mapLocation&&(0,util.defaults)(seriesOpt,seriesOpt.mapLocation));null!=seriesOpt.hoverAnimation&&(seriesOpt.emphasis=seriesOpt.emphasis||{},seriesOpt.emphasis&&null==seriesOpt.emphasis.scale&&(seriesOpt.emphasis.scale=seriesOpt.hoverAnimation)),compatLayoutProperties(seriesOpt)}})),option.dataRange&&(option.visualMap=option.dataRange),(0,util.each)(COMPATITABLE_COMPONENTS,(function(componentName){var options=option[componentName];options&&((0,util.isArray)(options)||(options=[options]),(0,util.each)(options,(function(option){compatLayoutProperties(option)})))}))}var number=__webpack_require__("./node_modules/echarts/lib/util/number.js");function calculateStack(stackInfoList){(0,util.each)(stackInfoList,(function(targetStackInfo,idxInStack){var resultVal=[],resultNaN=[NaN,NaN],dims=[targetStackInfo.stackResultDimension,targetStackInfo.stackedOverDimension],targetData=targetStackInfo.data,isStackedByIndex=targetStackInfo.isStackedByIndex,stackStrategy=targetStackInfo.seriesModel.get("stackStrategy")||"samesign";targetData.modify(dims,(function(v0,v1,dataIndex){var byValue,stackedDataRawIndex,sum=targetData.get(targetStackInfo.stackedDimension,dataIndex);if(isNaN(sum))return resultNaN;isStackedByIndex?stackedDataRawIndex=targetData.getRawIndex(dataIndex):byValue=targetData.get(targetStackInfo.stackedByDimension,dataIndex);for(var stackedOver=NaN,j=idxInStack-1;j>=0;j--){var stackInfo=stackInfoList[j];if(isStackedByIndex||(stackedDataRawIndex=stackInfo.data.rawIndexOf(stackInfo.stackedByDimension,byValue)),stackedDataRawIndex>=0){var val=stackInfo.data.getByRawIndex(stackInfo.stackResultDimension,stackedDataRawIndex);if("all"===stackStrategy||"positive"===stackStrategy&&val>0||"negative"===stackStrategy&&val<0||"samesign"===stackStrategy&&sum>=0&&val>0||"samesign"===stackStrategy&&sum<=0&&val<0){sum=(0,number.S$)(sum,val),stackedOver=val;break}}}return resultVal[0]=sum,resultVal[1]=stackedOver,resultVal}))}))}var Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),view_Component=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),Image=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),basicTransition=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),Path=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js"),throttle=__webpack_require__("./node_modules/echarts/lib/util/throttle.js"),makeStyleMapper=__webpack_require__("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),itemStyle=__webpack_require__("./node_modules/echarts/lib/model/mixin/itemStyle.js"),lineStyle=__webpack_require__("./node_modules/echarts/lib/model/mixin/lineStyle.js"),inner=(0,model.Yf)(),defaultStyleMappers={itemStyle:(0,makeStyleMapper.Z)(itemStyle.t,!0),lineStyle:(0,makeStyleMapper.Z)(lineStyle.v,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(seriesModel,stylePath){var styleMapper=seriesModel.visualStyleMapper||defaultStyleMappers[stylePath];return styleMapper||(console.warn("Unknown style type '"+stylePath+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(seriesModel,stylePath){var colorKey=seriesModel.visualDrawType||defaultColorKey[stylePath];return colorKey||(console.warn("Unknown style type '"+stylePath+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){var data=seriesModel.getData(),stylePath=seriesModel.visualStyleAccessPath||"itemStyle",styleModel=seriesModel.getModel(stylePath),globalStyle=getStyleMapper(seriesModel,stylePath)(styleModel),decalOption=styleModel.getShallow("decal");decalOption&&(data.setVisual("decal",decalOption),decalOption.dirty=!0);var colorKey=getDefaultColorKey(seriesModel,stylePath),color=globalStyle[colorKey],colorCallback=(0,util.isFunction)(color)?color:null,hasAutoColor="auto"===globalStyle.fill||"auto"===globalStyle.stroke;if(!globalStyle[colorKey]||colorCallback||hasAutoColor){var colorPalette=seriesModel.getColorFromPalette(seriesModel.name,null,ecModel.getSeriesCount());globalStyle[colorKey]||(globalStyle[colorKey]=colorPalette,data.setVisual("colorFromPalette",!0)),globalStyle.fill="auto"===globalStyle.fill||(0,util.isFunction)(globalStyle.fill)?colorPalette:globalStyle.fill,globalStyle.stroke="auto"===globalStyle.stroke||(0,util.isFunction)(globalStyle.stroke)?colorPalette:globalStyle.stroke}if(data.setVisual("style",globalStyle),data.setVisual("drawType",colorKey),!ecModel.isSeriesFiltered(seriesModel)&&colorCallback)return data.setVisual("colorFromPalette",!1),{dataEach:function(data,idx){var dataParams=seriesModel.getDataParams(idx),itemStyle=(0,util.extend)({},globalStyle);itemStyle[colorKey]=colorCallback(dataParams),data.setItemVisual(idx,"style",itemStyle)}}}},sharedModel=new Model.Z,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){if(!seriesModel.ignoreStyleOnData&&!ecModel.isSeriesFiltered(seriesModel)){var data=seriesModel.getData(),stylePath=seriesModel.visualStyleAccessPath||"itemStyle",getStyle=getStyleMapper(seriesModel,stylePath),colorKey=data.getVisual("drawType");return{dataEach:data.hasItemOption?function(data,idx){var rawItem=data.getRawDataItem(idx);if(rawItem&&rawItem[stylePath]){sharedModel.option=rawItem[stylePath];var style=getStyle(sharedModel),existsStyle=data.ensureUniqueItemVisual(idx,"style");(0,util.extend)(existsStyle,style),sharedModel.option.decal&&(data.setItemVisual(idx,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),colorKey in style&&data.setItemVisual(idx,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(ecModel){var paletteScopeGroupByType=(0,util.createHashMap)();ecModel.eachSeries((function(seriesModel){var colorBy=seriesModel.getColorBy();if(!seriesModel.isColorBySeries()){var key=seriesModel.type+"-"+colorBy,colorScope=paletteScopeGroupByType.get(key);colorScope||(colorScope={},paletteScopeGroupByType.set(key,colorScope)),inner(seriesModel).scope=colorScope}})),ecModel.eachSeries((function(seriesModel){if(!seriesModel.isColorBySeries()&&!ecModel.isSeriesFiltered(seriesModel)){var dataAll=seriesModel.getRawData(),idxMap={},data=seriesModel.getData(),colorScope=inner(seriesModel).scope,stylePath=seriesModel.visualStyleAccessPath||"itemStyle",colorKey=getDefaultColorKey(seriesModel,stylePath);data.each((function(idx){var rawIdx=data.getRawIndex(idx);idxMap[rawIdx]=idx})),dataAll.each((function(rawIdx){var idx=idxMap[rawIdx];if(data.getItemVisual(idx,"colorFromPalette")){var itemStyle=data.ensureUniqueItemVisual(idx,"style"),name_1=dataAll.getName(rawIdx)||rawIdx+"",dataCount=dataAll.count();itemStyle[colorKey]=seriesModel.getColorFromPalette(name_1,colorScope,dataCount)}}))}}))}},Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),Text=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),Arc=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Arc.js"),PI=Math.PI;var core_task=__webpack_require__("./node_modules/echarts/lib/core/task.js"),component=__webpack_require__("./node_modules/echarts/lib/util/component.js"),Scheduler=function(){function Scheduler(ecInstance,api,dataProcessorHandlers,visualHandlers){this._stageTaskMap=(0,util.createHashMap)(),this.ecInstance=ecInstance,this.api=api,dataProcessorHandlers=this._dataProcessorHandlers=dataProcessorHandlers.slice(),visualHandlers=this._visualHandlers=visualHandlers.slice(),this._allHandlers=dataProcessorHandlers.concat(visualHandlers)}return Scheduler.prototype.restoreData=function(ecModel,payload){ecModel.restoreData(payload),this._stageTaskMap.each((function(taskRecord){var overallTask=taskRecord.overallTask;overallTask&&overallTask.dirty()}))},Scheduler.prototype.getPerformArgs=function(task,isBlock){if(task.__pipeline){var pipeline=this._pipelineMap.get(task.__pipeline.id),pCtx=pipeline.context,step=!isBlock&&pipeline.progressiveEnabled&&(!pCtx||pCtx.progressiveRender)&&task.__idxInPipeline>pipeline.blockIndex?pipeline.step:null,modDataCount=pCtx&&pCtx.modDataCount;return{step,modBy:null!=modDataCount?Math.ceil(modDataCount/step):null,modDataCount}}},Scheduler.prototype.getPipeline=function(pipelineId){return this._pipelineMap.get(pipelineId)},Scheduler.prototype.updateStreamModes=function(seriesModel,view){var pipeline=this._pipelineMap.get(seriesModel.uid),dataLen=seriesModel.getData().count(),progressiveRender=pipeline.progressiveEnabled&&view.incrementalPrepareRender&&dataLen>=pipeline.threshold,large=seriesModel.get("large")&&dataLen>=seriesModel.get("largeThreshold"),modDataCount="mod"===seriesModel.get("progressiveChunkMode")?dataLen:null;seriesModel.pipelineContext=pipeline.context={progressiveRender,modDataCount,large}},Scheduler.prototype.restorePipelines=function(ecModel){var scheduler=this,pipelineMap=scheduler._pipelineMap=(0,util.createHashMap)();ecModel.eachSeries((function(seriesModel){var progressive=seriesModel.getProgressive(),pipelineId=seriesModel.uid;pipelineMap.set(pipelineId,{id:pipelineId,head:null,tail:null,threshold:seriesModel.getProgressiveThreshold(),progressiveEnabled:progressive&&!(seriesModel.preventIncremental&&seriesModel.preventIncremental()),blockIndex:-1,step:Math.round(progressive||700),count:0}),scheduler._pipe(seriesModel,seriesModel.dataTask)}))},Scheduler.prototype.prepareStageTasks=function(){var stageTaskMap=this._stageTaskMap,ecModel=this.api.getModel(),api=this.api;(0,util.each)(this._allHandlers,(function(handler){var record=stageTaskMap.get(handler.uid)||stageTaskMap.set(handler.uid,{});(0,util.assert)(!(handler.reset&&handler.overallReset),""),handler.reset&&this._createSeriesStageTask(handler,record,ecModel,api),handler.overallReset&&this._createOverallStageTask(handler,record,ecModel,api)}),this)},Scheduler.prototype.prepareView=function(view,model,ecModel,api){var renderTask=view.renderTask,context=renderTask.context;context.model=model,context.ecModel=ecModel,context.api=api,renderTask.__block=!view.incrementalPrepareRender,this._pipe(model,renderTask)},Scheduler.prototype.performDataProcessorTasks=function(ecModel,payload){this._performStageTasks(this._dataProcessorHandlers,ecModel,payload,{block:!0})},Scheduler.prototype.performVisualTasks=function(ecModel,payload,opt){this._performStageTasks(this._visualHandlers,ecModel,payload,opt)},Scheduler.prototype._performStageTasks=function(stageHandlers,ecModel,payload,opt){opt=opt||{};var unfinished=!1,scheduler=this;function needSetDirty(opt,task){return opt.setDirty&&(!opt.dirtyMap||opt.dirtyMap.get(task.__pipeline.id))}(0,util.each)(stageHandlers,(function(stageHandler,idx){if(!opt.visualType||opt.visualType===stageHandler.visualType){var stageHandlerRecord=scheduler._stageTaskMap.get(stageHandler.uid),seriesTaskMap=stageHandlerRecord.seriesTaskMap,overallTask=stageHandlerRecord.overallTask;if(overallTask){var overallNeedDirty_1,agentStubMap=overallTask.agentStubMap;agentStubMap.each((function(stub){needSetDirty(opt,stub)&&(stub.dirty(),overallNeedDirty_1=!0)})),overallNeedDirty_1&&overallTask.dirty(),scheduler.updatePayload(overallTask,payload);var performArgs_1=scheduler.getPerformArgs(overallTask,opt.block);agentStubMap.each((function(stub){stub.perform(performArgs_1)})),overallTask.perform(performArgs_1)&&(unfinished=!0)}else seriesTaskMap&&seriesTaskMap.each((function(task,pipelineId){needSetDirty(opt,task)&&task.dirty();var performArgs=scheduler.getPerformArgs(task,opt.block);performArgs.skip=!stageHandler.performRawSeries&&ecModel.isSeriesFiltered(task.context.model),scheduler.updatePayload(task,payload),task.perform(performArgs)&&(unfinished=!0)}))}})),this.unfinished=unfinished||this.unfinished},Scheduler.prototype.performSeriesTasks=function(ecModel){var unfinished;ecModel.eachSeries((function(seriesModel){unfinished=seriesModel.dataTask.perform()||unfinished})),this.unfinished=unfinished||this.unfinished},Scheduler.prototype.plan=function(){this._pipelineMap.each((function(pipeline){var task=pipeline.tail;do{if(task.__block){pipeline.blockIndex=task.__idxInPipeline;break}task=task.getUpstream()}while(task)}))},Scheduler.prototype.updatePayload=function(task,payload){"remain"!==payload&&(task.context.payload=payload)},Scheduler.prototype._createSeriesStageTask=function(stageHandler,stageHandlerRecord,ecModel,api){var scheduler=this,oldSeriesTaskMap=stageHandlerRecord.seriesTaskMap,newSeriesTaskMap=stageHandlerRecord.seriesTaskMap=(0,util.createHashMap)(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries;function create(seriesModel){var pipelineId=seriesModel.uid,task=newSeriesTaskMap.set(pipelineId,oldSeriesTaskMap&&oldSeriesTaskMap.get(pipelineId)||(0,core_task.v)({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));task.context={model:seriesModel,ecModel,api,useClearVisual:stageHandler.isVisual&&!stageHandler.isLayout,plan:stageHandler.plan,reset:stageHandler.reset,scheduler},scheduler._pipe(seriesModel,task)}stageHandler.createOnAllSeries?ecModel.eachRawSeries(create):seriesType?ecModel.eachRawSeriesByType(seriesType,create):getTargetSeries&&getTargetSeries(ecModel,api).each(create)},Scheduler.prototype._createOverallStageTask=function(stageHandler,stageHandlerRecord,ecModel,api){var scheduler=this,overallTask=stageHandlerRecord.overallTask=stageHandlerRecord.overallTask||(0,core_task.v)({reset:overallTaskReset});overallTask.context={ecModel,api,overallReset:stageHandler.overallReset,scheduler};var oldAgentStubMap=overallTask.agentStubMap,newAgentStubMap=overallTask.agentStubMap=(0,util.createHashMap)(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries,overallProgress=!0,shouldOverallTaskDirty=!1;function createStub(seriesModel){var pipelineId=seriesModel.uid,stub=newAgentStubMap.set(pipelineId,oldAgentStubMap&&oldAgentStubMap.get(pipelineId)||(shouldOverallTaskDirty=!0,(0,core_task.v)({reset:stubReset,onDirty:stubOnDirty})));stub.context={model:seriesModel,overallProgress},stub.agent=overallTask,stub.__block=overallProgress,scheduler._pipe(seriesModel,stub)}(0,util.assert)(!stageHandler.createOnAllSeries,""),seriesType?ecModel.eachRawSeriesByType(seriesType,createStub):getTargetSeries?getTargetSeries(ecModel,api).each(createStub):(overallProgress=!1,(0,util.each)(ecModel.getSeries(),createStub)),shouldOverallTaskDirty&&overallTask.dirty()},Scheduler.prototype._pipe=function(seriesModel,task){var pipelineId=seriesModel.uid,pipeline=this._pipelineMap.get(pipelineId);!pipeline.head&&(pipeline.head=task),pipeline.tail&&pipeline.tail.pipe(task),pipeline.tail=task,task.__idxInPipeline=pipeline.count++,task.__pipeline=pipeline},Scheduler.wrapStageHandler=function(stageHandler,visualType){return(0,util.isFunction)(stageHandler)&&(stageHandler={overallReset:stageHandler,seriesType:detectSeriseType(stageHandler)}),stageHandler.uid=(0,component.Kr)("stageHandler"),visualType&&(stageHandler.visualType=visualType),stageHandler},Scheduler}();function overallTaskReset(context){context.overallReset(context.ecModel,context.api,context.payload)}function stubReset(context){return context.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(context){return context.plan?context.plan(context.model,context.ecModel,context.api,context.payload):null}function seriesTaskReset(context){context.useClearVisual&&context.data.clearAllVisual();var resetDefines=context.resetDefines=(0,model.kF)(context.reset(context.model,context.ecModel,context.api,context.payload));return resetDefines.length>1?(0,util.map)(resetDefines,(function(v,idx){return makeSeriesTaskProgress(idx)})):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(resetDefineIdx){return function(params,context){var data=context.data,resetDefine=context.resetDefines[resetDefineIdx];if(resetDefine&&resetDefine.dataEach)for(var i=params.start;i<params.end;i++)resetDefine.dataEach(data,i);else resetDefine&&resetDefine.progress&&resetDefine.progress(params,data)}}function seriesTaskCount(context){return context.data.count()}function detectSeriseType(legacyFunc){seriesType=null;try{legacyFunc(ecModelMock,apiMock)}catch(e){}return seriesType}var seriesType,ecModelMock={},apiMock={};function mockMethods(target,Clz){for(var name_1 in Clz.prototype)target[name_1]=util.noop}mockMethods(ecModelMock,Global),mockMethods(apiMock,core_ExtensionAPI),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(type){seriesType=type},ecModelMock.eachComponent=function(cond){"series"===cond.mainType&&cond.subType&&(seriesType=cond.subType)};const core_Scheduler=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const light={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:"#B9B8CE"}},textStyle:{color:"#B9B8CE"},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:"#B9B8CE"}},dataZoom:{borderColor:"#71708A",textStyle:{color:"#B9B8CE"},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:"#B9B8CE"}},timeline:{lineStyle:{color:"#B9B8CE"},label:{color:"#B9B8CE"},controlStyle:{color:"#B9B8CE",borderColor:"#B9B8CE"}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:"#B9B8CE"},monthLabel:{color:"#B9B8CE"},yearLabel:{color:"#B9B8CE"}},timeAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},logAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},valueAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},categoryAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:"#B9B8CE"},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:"#B9B8CE"},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const dark=theme;var clazz=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),ECEventProcessor=function(){function ECEventProcessor(){}return ECEventProcessor.prototype.normalizeQuery=function(query){var cptQuery={},dataQuery={},otherQuery={};if(util.isString(query)){var condCptType=(0,clazz.u9)(query);cptQuery.mainType=condCptType.main||null,cptQuery.subType=condCptType.sub||null}else{var suffixes_1=["Index","Name","Id"],dataKeys_1={name:1,dataIndex:1,dataType:1};util.each(query,(function(val,key){for(var reserved=!1,i=0;i<suffixes_1.length;i++){var propSuffix=suffixes_1[i],suffixPos=key.lastIndexOf(propSuffix);if(suffixPos>0&&suffixPos===key.length-propSuffix.length){var mainType=key.slice(0,suffixPos);"data"!==mainType&&(cptQuery.mainType=mainType,cptQuery[propSuffix.toLowerCase()]=val,reserved=!0)}}dataKeys_1.hasOwnProperty(key)&&(dataQuery[key]=val,reserved=!0),reserved||(otherQuery[key]=val)}))}return{cptQuery,dataQuery,otherQuery}},ECEventProcessor.prototype.filter=function(eventType,query){var eventInfo=this.eventInfo;if(!eventInfo)return!0;var targetEl=eventInfo.targetEl,packedEvent=eventInfo.packedEvent,model=eventInfo.model,view=eventInfo.view;if(!model||!view)return!0;var cptQuery=query.cptQuery,dataQuery=query.dataQuery;return check(cptQuery,model,"mainType")&&check(cptQuery,model,"subType")&&check(cptQuery,model,"index","componentIndex")&&check(cptQuery,model,"name")&&check(cptQuery,model,"id")&&check(dataQuery,packedEvent,"name")&&check(dataQuery,packedEvent,"dataIndex")&&check(dataQuery,packedEvent,"dataType")&&(!view.filterForExposedEvent||view.filterForExposedEvent(eventType,query.otherQuery,targetEl,packedEvent));function check(query,host,prop,propOnHost){return null==query[prop]||host[propOnHost||prop]===query[prop]}},ECEventProcessor.prototype.afterTrigger=function(){this.eventInfo=null},ECEventProcessor}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){var data=seriesModel.getData();if(seriesModel.legendIcon&&data.setVisual("legendIcon",seriesModel.legendIcon),seriesModel.hasSymbolVisual){for(var symbolOptions={},symbolOptionsCb={},hasCallback=!1,i=0;i<SYMBOL_PROPS_WITH_CB.length;i++){var symbolPropName=SYMBOL_PROPS_WITH_CB[i],val=seriesModel.get(symbolPropName);(0,util.isFunction)(val)?(hasCallback=!0,symbolOptionsCb[symbolPropName]=val):symbolOptions[symbolPropName]=val}if(symbolOptions.symbol=symbolOptions.symbol||seriesModel.defaultSymbol,data.setVisual((0,util.extend)({legendIcon:seriesModel.legendIcon||symbolOptions.symbol,symbolKeepAspect:seriesModel.get("symbolKeepAspect")},symbolOptions)),!ecModel.isSeriesFiltered(seriesModel)){var symbolPropsCb=(0,util.keys)(symbolOptionsCb);return{dataEach:hasCallback?function dataEach(data,idx){for(var rawValue=seriesModel.getRawValue(idx),params=seriesModel.getDataParams(idx),i=0;i<symbolPropsCb.length;i++){var symbolPropName=symbolPropsCb[i];data.setItemVisual(idx,symbolPropName,symbolOptionsCb[symbolPropName](rawValue,params))}}:null}}}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(seriesModel,ecModel){if(seriesModel.hasSymbolVisual&&!ecModel.isSeriesFiltered(seriesModel))return{dataEach:seriesModel.getData().hasItemOption?function dataEach(data,idx){for(var itemModel=data.getItemModel(idx),i=0;i<SYMBOL_PROPS.length;i++){var symbolPropName=SYMBOL_PROPS[i],val=itemModel.getShallow(symbolPropName,!0);null!=val&&data.setItemVisual(idx,symbolPropName,val)}}:null}}},helper=__webpack_require__("./node_modules/echarts/lib/visual/helper.js"),log=__webpack_require__("./node_modules/echarts/lib/util/log.js"),dataSelectAction=__webpack_require__("./node_modules/echarts/lib/legacy/dataSelectAction.js"),transform=__webpack_require__("./node_modules/echarts/lib/data/helper/transform.js"),locale=__webpack_require__("./node_modules/echarts/lib/core/locale.js"),util_event=__webpack_require__("./node_modules/echarts/lib/util/event.js"),util_decal=__webpack_require__("./node_modules/echarts/lib/util/decal.js");const core_lifecycle=new Eventful.Z;var core_platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),impl=__webpack_require__("./node_modules/echarts/lib/core/impl.js"),version="5.4.3",dependencies={zrender:"5.4.4"},PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},PENDING_UPDATE="__pendingUpdate",ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseECharts(method){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(!this.isDisposed())return toLowercaseNameAndCallEventful(this,method,args);disposedWarning(this.id)}}function createRegisterEventWithLowercaseMessageCenter(method){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return toLowercaseNameAndCallEventful(this,method,args)}}function toLowercaseNameAndCallEventful(host,method,args){return args[0]=args[0]&&args[0].toLowerCase(),Eventful.Z.prototype[method].apply(host,args)}var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,MessageCenter=function(_super){function MessageCenter(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(MessageCenter,_super),MessageCenter}(Eventful.Z),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var ECharts=function(_super){function ECharts(dom,theme,opts){var _this=_super.call(this,new ECEventProcessor)||this;_this._chartsViews=[],_this._chartsMap={},_this._componentsViews=[],_this._componentsMap={},_this._pendingActions=[],opts=opts||{},(0,util.isString)(theme)&&(theme=themeStorage[theme]),_this._dom=dom;var zr=_this._zr=zrender.init(dom,{renderer:opts.renderer||"canvas",devicePixelRatio:opts.devicePixelRatio,width:opts.width,height:opts.height,ssr:opts.ssr,useDirtyRect:(0,util.retrieve2)(opts.useDirtyRect,!1),useCoarsePointer:(0,util.retrieve2)(opts.useCoarsePointer,"auto"),pointerSize:opts.pointerSize});_this._ssr=opts.ssr,_this._throttledZrFlush=(0,throttle.P2)((0,util.bind)(zr.flush,zr),17),(theme=(0,util.clone)(theme))&&globalBackwardCompat(theme,!0),_this._theme=theme,_this._locale=(0,locale.D0)(opts.locale||locale.sO),_this._coordSysMgr=new CoordinateSystem.Z;var api=_this._api=createExtensionAPI(_this);function prioritySortFunc(a,b){return a.__prio-b.__prio}return(0,timsort.Z)(visualFuncs,prioritySortFunc),(0,timsort.Z)(dataProcessorFuncs,prioritySortFunc),_this._scheduler=new core_Scheduler(_this,api,dataProcessorFuncs,visualFuncs),_this._messageCenter=new MessageCenter,_this._initEvents(),_this.resize=(0,util.bind)(_this.resize,_this),zr.animation.on("frame",_this._onframe,_this),bindRenderedEvent(zr,_this),bindMouseEvent(zr,_this),(0,util.setAsPrimitive)(_this),_this}return(0,tslib_es6.ZT)(ECharts,_super),ECharts.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var scheduler=this._scheduler;if(this[PENDING_UPDATE]){var silent=this[PENDING_UPDATE].silent;this.__flagInMainProcess=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(e){throw this.__flagInMainProcess=!1,this[PENDING_UPDATE]=null,e}this._zr.flush(),this.__flagInMainProcess=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}else if(scheduler.unfinished){var remainTime=1,ecModel=this._model,api=this._api;scheduler.unfinished=!1;do{var startTime=+new Date;scheduler.performSeriesTasks(ecModel),scheduler.performDataProcessorTasks(ecModel),updateStreamModes(this,ecModel),scheduler.performVisualTasks(ecModel),renderSeries(this,this._model,api,"remain",{}),remainTime-=+new Date-startTime}while(remainTime>0&&scheduler.unfinished);scheduler.unfinished||this._zr.flush()}}},ECharts.prototype.getDom=function(){return this._dom},ECharts.prototype.getId=function(){return this.id},ECharts.prototype.getZr=function(){return this._zr},ECharts.prototype.isSSR=function(){return this._ssr},ECharts.prototype.setOption=function(option,notMerge,lazyUpdate){if(!this.__flagInMainProcess)if(this._disposed)disposedWarning(this.id);else{var silent,replaceMerge,transitionOpt;if((0,util.isObject)(notMerge)&&(lazyUpdate=notMerge.lazyUpdate,silent=notMerge.silent,replaceMerge=notMerge.replaceMerge,transitionOpt=notMerge.transition,notMerge=notMerge.notMerge),this.__flagInMainProcess=!0,!this._model||notMerge){var optionManager=new model_OptionManager(this._api),theme=this._theme,ecModel=this._model=new Global;ecModel.scheduler=this._scheduler,ecModel.ssr=this._ssr,ecModel.init(null,null,null,theme,this._locale,optionManager)}this._model.setOption(option,{replaceMerge},optionPreprocessorFuncs);var updateParams={seriesTransition:transitionOpt,optionChanged:!0};if(lazyUpdate)this[PENDING_UPDATE]={silent,updateParams},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,updateParams)}catch(e){throw this[PENDING_UPDATE]=null,this.__flagInMainProcess=!1,e}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this.__flagInMainProcess=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}}},ECharts.prototype.setTheme=function(){(0,log.Sh)("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},ECharts.prototype.getModel=function(){return this._model},ECharts.prototype.getOption=function(){return this._model&&this._model.getOption()},ECharts.prototype.getWidth=function(){return this._zr.getWidth()},ECharts.prototype.getHeight=function(){return this._zr.getHeight()},ECharts.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.Z.hasGlobalWindow&&window.devicePixelRatio||1},ECharts.prototype.getRenderedCanvas=function(opts){return this.renderToCanvas(opts)},ECharts.prototype.renderToCanvas=function(opts){return opts=opts||{},this._zr.painter.getRenderedCanvas({backgroundColor:opts.backgroundColor||this._model.get("backgroundColor"),pixelRatio:opts.pixelRatio||this.getDevicePixelRatio()})},ECharts.prototype.renderToSVGString=function(opts){return opts=opts||{},this._zr.painter.renderToString({useViewBox:opts.useViewBox})},ECharts.prototype.getSvgDataURL=function(){if(env.Z.svgSupported){var zr=this._zr,list=zr.storage.getDisplayList();return(0,util.each)(list,(function(el){el.stopAnimation(null,!0)})),zr.painter.toDataURL()}},ECharts.prototype.getDataURL=function(opts){if(!this._disposed){var excludeComponents=(opts=opts||{}).excludeComponents,ecModel=this._model,excludesComponentViews=[],self=this;(0,util.each)(excludeComponents,(function(componentType){ecModel.eachComponent({mainType:componentType},(function(component){var view=self._componentsMap[component.__viewId];view.group.ignore||(excludesComponentViews.push(view),view.group.ignore=!0)}))}));var url="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(opts).toDataURL("image/"+(opts&&opts.type||"png"));return(0,util.each)(excludesComponentViews,(function(view){view.group.ignore=!1})),url}disposedWarning(this.id)},ECharts.prototype.getConnectedDataURL=function(opts){if(!this._disposed){var isSvg="svg"===opts.type,groupId=this.group,mathMin=Math.min,mathMax=Math.max;if(connectedGroups[groupId]){var left_1=Infinity,top_1=Infinity,right_1=-Infinity,bottom_1=-Infinity,canvasList_1=[],dpr_1=opts&&opts.pixelRatio||this.getDevicePixelRatio();(0,util.each)(instances,(function(chart,id){if(chart.group===groupId){var canvas=isSvg?chart.getZr().painter.getSvgDom().innerHTML:chart.renderToCanvas((0,util.clone)(opts)),boundingRect=chart.getDom().getBoundingClientRect();left_1=mathMin(boundingRect.left,left_1),top_1=mathMin(boundingRect.top,top_1),right_1=mathMax(boundingRect.right,right_1),bottom_1=mathMax(boundingRect.bottom,bottom_1),canvasList_1.push({dom:canvas,left:boundingRect.left,top:boundingRect.top})}}));var width=(right_1*=dpr_1)-(left_1*=dpr_1),height=(bottom_1*=dpr_1)-(top_1*=dpr_1),targetCanvas=core_platform.qW.createCanvas(),zr_1=zrender.init(targetCanvas,{renderer:isSvg?"svg":"canvas"});if(zr_1.resize({width,height}),isSvg){var content_1="";return(0,util.each)(canvasList_1,(function(item){var x=item.left-left_1,y=item.top-top_1;content_1+='<g transform="translate('+x+","+y+')">'+item.dom+"</g>"})),zr_1.painter.getSvgRoot().innerHTML=content_1,opts.connectedBackgroundColor&&zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor),zr_1.refreshImmediately(),zr_1.painter.toDataURL()}return opts.connectedBackgroundColor&&zr_1.add(new Rect.Z({shape:{x:0,y:0,width,height},style:{fill:opts.connectedBackgroundColor}})),(0,util.each)(canvasList_1,(function(item){var img=new Image.ZP({style:{x:item.left*dpr_1-left_1,y:item.top*dpr_1-top_1,image:item.dom}});zr_1.add(img)})),zr_1.refreshImmediately(),targetCanvas.toDataURL("image/"+(opts&&opts.type||"png"))}return this.getDataURL(opts)}disposedWarning(this.id)},ECharts.prototype.convertToPixel=function(finder,value){return doConvertPixel(this,"convertToPixel",finder,value)},ECharts.prototype.convertFromPixel=function(finder,value){return doConvertPixel(this,"convertFromPixel",finder,value)},ECharts.prototype.containPixel=function(finder,value){if(!this._disposed){var result,ecModel=this._model,findResult=model.pm(ecModel,finder);return(0,util.each)(findResult,(function(models,key){key.indexOf("Models")>=0&&(0,util.each)(models,(function(model){var coordSys=model.coordinateSystem;if(coordSys&&coordSys.containPoint)result=result||!!coordSys.containPoint(value);else if("seriesModels"===key){var view=this._chartsMap[model.__viewId];view&&view.containPoint&&(result=result||view.containPoint(value,model))}else 0}),this)}),this),!!result}disposedWarning(this.id)},ECharts.prototype.getVisual=function(finder,visualType){var ecModel=this._model,parsedFinder=model.pm(ecModel,finder,{defaultMainType:"series"});var data=parsedFinder.seriesModel.getData(),dataIndexInside=parsedFinder.hasOwnProperty("dataIndexInside")?parsedFinder.dataIndexInside:parsedFinder.hasOwnProperty("dataIndex")?data.indexOfRawIndex(parsedFinder.dataIndex):null;return null!=dataIndexInside?(0,helper.Or)(data,dataIndexInside,visualType):(0,helper.UL)(data,visualType)},ECharts.prototype.getViewOfComponentModel=function(componentModel){return this._componentsMap[componentModel.__viewId]},ECharts.prototype.getViewOfSeriesModel=function(seriesModel){return this._chartsMap[seriesModel.__viewId]},ECharts.prototype._initEvents=function(){var _this=this;(0,util.each)(MOUSE_EVENT_NAMES,(function(eveName){var handler=function(e){var params,ecModel=_this.getModel(),el=e.target;if("globalout"===eveName?params={}:el&&(0,util_event.o)(el,(function(parent){var ecData=(0,innerStore.A)(parent);if(ecData&&null!=ecData.dataIndex){var dataModel=ecData.dataModel||ecModel.getSeriesByIndex(ecData.seriesIndex);return params=dataModel&&dataModel.getDataParams(ecData.dataIndex,ecData.dataType,el)||{},!0}if(ecData.eventData)return params=(0,util.extend)({},ecData.eventData),!0}),!0),params){var componentType=params.componentType,componentIndex=params.componentIndex;"markLine"!==componentType&&"markPoint"!==componentType&&"markArea"!==componentType||(componentType="series",componentIndex=params.seriesIndex);var model=componentType&&null!=componentIndex&&ecModel.getComponent(componentType,componentIndex),view=model&&_this["series"===model.mainType?"_chartsMap":"_componentsMap"][model.__viewId];0,params.event=e,params.type=eveName,_this._$eventProcessor.eventInfo={targetEl:el,packedEvent:params,model,view},_this.trigger(eveName,params)}};handler.zrEventfulCallAtLast=!0,_this._zr.on(eveName,handler,_this)})),(0,util.each)(eventActionMap,(function(actionType,eventType){_this._messageCenter.on(eventType,(function(event){this.trigger(eventType,event)}),_this)})),(0,util.each)(["selectchanged"],(function(eventType){_this._messageCenter.on(eventType,(function(event){this.trigger(eventType,event)}),_this)})),(0,dataSelectAction.s)(this._messageCenter,this,this._api)},ECharts.prototype.isDisposed=function(){return this._disposed},ECharts.prototype.clear=function(){this._disposed?disposedWarning(this.id):this.setOption({series:[]},!0)},ECharts.prototype.dispose=function(){if(this._disposed)disposedWarning(this.id);else{this._disposed=!0,this.getDom()&&model.P$(this.getDom(),DOM_ATTRIBUTE_KEY,"");var api=this._api,ecModel=this._model;(0,util.each)(this._componentsViews,(function(component){component.dispose(ecModel,api)})),(0,util.each)(this._chartsViews,(function(chart){chart.dispose(ecModel,api)})),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete instances[this.id]}},ECharts.prototype.resize=function(opts){if(!this.__flagInMainProcess)if(this._disposed)disposedWarning(this.id);else{this._zr.resize(opts);var ecModel=this._model;if(this._loadingFX&&this._loadingFX.resize(),ecModel){var needPrepare=ecModel.resetOption("media"),silent=opts&&opts.silent;this[PENDING_UPDATE]&&(null==silent&&(silent=this[PENDING_UPDATE].silent),needPrepare=!0,this[PENDING_UPDATE]=null),this.__flagInMainProcess=!0;try{needPrepare&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:(0,util.extend)({duration:0},opts&&opts.animation)})}catch(e){throw this.__flagInMainProcess=!1,e}this.__flagInMainProcess=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}}},ECharts.prototype.showLoading=function(name,cfg){if(this._disposed)disposedWarning(this.id);else if((0,util.isObject)(name)&&(cfg=name,name=""),name=name||"default",this.hideLoading(),loadingEffects[name]){var el=loadingEffects[name](this._api,cfg),zr=this._zr;this._loadingFX=el,zr.add(el)}},ECharts.prototype.hideLoading=function(){this._disposed?disposedWarning(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},ECharts.prototype.makeActionFromEvent=function(eventObj){var payload=(0,util.extend)({},eventObj);return payload.type=eventActionMap[eventObj.type],payload},ECharts.prototype.dispatchAction=function(payload,opt){if(this._disposed)disposedWarning(this.id);else if((0,util.isObject)(opt)||(opt={silent:!!opt}),actions[payload.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(payload);else{var silent=opt.silent;doDispatchAction.call(this,payload,silent);var flush=opt.flush;flush?this._zr.flush():!1!==flush&&env.Z.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}},ECharts.prototype.updateLabelLayout=function(){core_lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},ECharts.prototype.appendData=function(params){if(this._disposed)disposedWarning(this.id);else{var seriesIndex=params.seriesIndex;0,this.getModel().getSeriesByIndex(seriesIndex).appendData(params),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},ECharts.internalField=function(){function clearColorPalette(ecModel){ecModel.clearColorPalette(),ecModel.eachSeries((function(seriesModel){seriesModel.clearColorPalette()}))}function applyElementStates(el){for(var newStates=[],oldStates=el.currentStates,i=0;i<oldStates.length;i++){var stateName=oldStates[i];"emphasis"!==stateName&&"blur"!==stateName&&"select"!==stateName&&newStates.push(stateName)}el.selected&&el.states.select&&newStates.push("select"),el.hoverState===states.wU&&el.states.emphasis?newStates.push("emphasis"):el.hoverState===states.CX&&el.states.blur&&newStates.push("blur"),el.useStates(newStates)}function updateZ(model,view){if(!model.preventAutoZ){var z=model.get("z")||0,zlevel=model.get("zlevel")||0;view.eachRendered((function(el){return doUpdateZ(el,z,zlevel,-1/0),!0}))}}function doUpdateZ(el,z,zlevel,maxZ2){var label=el.getTextContent(),labelLine=el.getTextGuideLine();if(el.isGroup)for(var children=el.childrenRef(),i=0;i<children.length;i++)maxZ2=Math.max(doUpdateZ(children[i],z,zlevel,maxZ2),maxZ2);else el.z=z,el.zlevel=zlevel,maxZ2=Math.max(el.z2,maxZ2);if(label&&(label.z=z,label.zlevel=zlevel,isFinite(maxZ2)&&(label.z2=maxZ2+2)),labelLine){var textGuideLineConfig=el.textGuideLineConfig;labelLine.z=z,labelLine.zlevel=zlevel,isFinite(maxZ2)&&(labelLine.z2=maxZ2+(textGuideLineConfig&&textGuideLineConfig.showAbove?1:-1))}return maxZ2}function clearStates(model,view){view.eachRendered((function(el){if(!basicTransition.eq(el)){var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();el.stateTransition&&(el.stateTransition=null),textContent&&textContent.stateTransition&&(textContent.stateTransition=null),textGuide&&textGuide.stateTransition&&(textGuide.stateTransition=null),el.hasState()?(el.prevStates=el.currentStates,el.clearStates()):el.prevStates&&(el.prevStates=null)}}))}function updateStates(model,view){var stateAnimationModel=model.getModel("stateAnimation"),enableAnimation=model.isAnimationEnabled(),duration=stateAnimationModel.get("duration"),stateTransition=duration>0?{duration,delay:stateAnimationModel.get("delay"),easing:stateAnimationModel.get("easing")}:null;view.eachRendered((function(el){if(el.states&&el.states.emphasis){if(basicTransition.eq(el))return;if(el instanceof Path.ZP&&(0,states.e9)(el),el.__dirty){var prevStates=el.prevStates;prevStates&&el.useStates(prevStates)}if(enableAnimation){el.stateTransition=stateTransition;var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();textContent&&(textContent.stateTransition=stateTransition),textGuide&&(textGuide.stateTransition=stateTransition)}el.__dirty&&applyElementStates(el)}}))}prepare=function(ecIns){var scheduler=ecIns._scheduler;scheduler.restorePipelines(ecIns._model),scheduler.prepareStageTasks(),prepareView(ecIns,!0),prepareView(ecIns,!1),scheduler.plan()},prepareView=function(ecIns,isComponent){for(var ecModel=ecIns._model,scheduler=ecIns._scheduler,viewList=isComponent?ecIns._componentsViews:ecIns._chartsViews,viewMap=isComponent?ecIns._componentsMap:ecIns._chartsMap,zr=ecIns._zr,api=ecIns._api,i=0;i<viewList.length;i++)viewList[i].__alive=!1;function doPrepare(model){var requireNewView=model.__requireNewView;model.__requireNewView=!1;var viewId="_ec_"+model.id+"_"+model.type,view=!requireNewView&&viewMap[viewId];if(!view){var classType=(0,clazz.u9)(model.type);0,(view=new(isComponent?view_Component.Z.getClass(classType.main,classType.sub):Chart.Z.getClass(classType.sub))).init(ecModel,api),viewMap[viewId]=view,viewList.push(view),zr.add(view.group)}model.__viewId=view.__id=viewId,view.__alive=!0,view.__model=model,view.group.__ecComponentInfo={mainType:model.mainType,index:model.componentIndex},!isComponent&&scheduler.prepareView(view,model,ecModel,api)}isComponent?ecModel.eachComponent((function(componentType,model){"series"!==componentType&&doPrepare(model)})):ecModel.eachSeries(doPrepare);for(i=0;i<viewList.length;){var view=viewList[i];view.__alive?i++:(!isComponent&&view.renderTask.dispose(),zr.remove(view.group),view.dispose(ecModel,api),viewList.splice(i,1),viewMap[view.__id]===view&&delete viewMap[view.__id],view.__id=view.group.__ecComponentInfo=null)}},updateDirectly=function(ecIns,method,payload,mainType,subType){var ecModel=ecIns._model;if(ecModel.setUpdatePayload(payload),mainType){var query={};query[mainType+"Id"]=payload[mainType+"Id"],query[mainType+"Index"]=payload[mainType+"Index"],query[mainType+"Name"]=payload[mainType+"Name"];var condition={mainType,query};subType&&(condition.subType=subType);var excludeSeriesIdMap,excludeSeriesId=payload.excludeSeriesId;null!=excludeSeriesId&&(excludeSeriesIdMap=(0,util.createHashMap)(),(0,util.each)(model.kF(excludeSeriesId),(function(id){var modelId=model.U5(id,null);null!=modelId&&excludeSeriesIdMap.set(modelId,!0)}))),ecModel&&ecModel.eachComponent(condition,(function(model){if(!(excludeSeriesIdMap&&null!=excludeSeriesIdMap.get(model.id)))if((0,states.xp)(payload))if(model instanceof Series.Z)payload.type!==states.Ki||payload.notBlur||model.get(["emphasis","disabled"])||(0,states.UL)(model,payload,ecIns._api);else{var _a=(0,states.oJ)(model.mainType,model.componentIndex,payload.name,ecIns._api),focusSelf=_a.focusSelf,dispatchers=_a.dispatchers;payload.type===states.Ki&&focusSelf&&!payload.notBlur&&(0,states.zI)(model.mainType,model.componentIndex,ecIns._api),dispatchers&&(0,util.each)(dispatchers,(function(dispatcher){payload.type===states.Ki?(0,states.fD)(dispatcher):(0,states.Mh)(dispatcher)}))}else(0,states.aG)(payload)&&model instanceof Series.Z&&((0,states.og)(model,payload,ecIns._api),(0,states.ci)(model),markStatusToUpdate(ecIns))}),ecIns),ecModel&&ecModel.eachComponent(condition,(function(model){excludeSeriesIdMap&&null!=excludeSeriesIdMap.get(model.id)||callView(ecIns["series"===mainType?"_chartsMap":"_componentsMap"][model.__viewId])}),ecIns)}else(0,util.each)([].concat(ecIns._componentsViews).concat(ecIns._chartsViews),callView);function callView(view){view&&view.__alive&&view[method]&&view[method](view.__model,ecModel,ecIns._api,payload)}},updateMethods={prepareAndUpdate:function(payload){prepare(this),updateMethods.update.call(this,payload,{optionChanged:null!=payload.newOption})},update:function(payload,updateParams){var ecModel=this._model,api=this._api,zr=this._zr,coordSysMgr=this._coordSysMgr,scheduler=this._scheduler;if(ecModel){ecModel.setUpdatePayload(payload),scheduler.restoreData(ecModel,payload),scheduler.performSeriesTasks(ecModel),coordSysMgr.create(ecModel,api),scheduler.performDataProcessorTasks(ecModel,payload),updateStreamModes(this,ecModel),coordSysMgr.update(ecModel,api),clearColorPalette(ecModel),scheduler.performVisualTasks(ecModel,payload),render(this,ecModel,api,payload,updateParams);var backgroundColor=ecModel.get("backgroundColor")||"transparent",darkMode=ecModel.get("darkMode");zr.setBackgroundColor(backgroundColor),null!=darkMode&&"auto"!==darkMode&&zr.setDarkMode(darkMode),core_lifecycle.trigger("afterupdate",ecModel,api)}},updateTransform:function(payload){var _this=this,ecModel=this._model,api=this._api;if(ecModel){ecModel.setUpdatePayload(payload);var componentDirtyList=[];ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var componentView=_this.getViewOfComponentModel(componentModel);if(componentView&&componentView.__alive)if(componentView.updateTransform){var result=componentView.updateTransform(componentModel,ecModel,api,payload);result&&result.update&&componentDirtyList.push(componentView)}else componentDirtyList.push(componentView)}}));var seriesDirtyMap=(0,util.createHashMap)();ecModel.eachSeries((function(seriesModel){var chartView=_this._chartsMap[seriesModel.__viewId];if(chartView.updateTransform){var result=chartView.updateTransform(seriesModel,ecModel,api,payload);result&&result.update&&seriesDirtyMap.set(seriesModel.uid,1)}else seriesDirtyMap.set(seriesModel.uid,1)})),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{setDirty:!0,dirtyMap:seriesDirtyMap}),renderSeries(this,ecModel,api,payload,{},seriesDirtyMap),core_lifecycle.trigger("afterupdate",ecModel,api)}},updateView:function(payload){var ecModel=this._model;ecModel&&(ecModel.setUpdatePayload(payload),Chart.Z.markUpdateMethod(payload,"updateView"),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{setDirty:!0}),render(this,ecModel,this._api,payload,{}),core_lifecycle.trigger("afterupdate",ecModel,this._api))},updateVisual:function(payload){var _this=this,ecModel=this._model;ecModel&&(ecModel.setUpdatePayload(payload),ecModel.eachSeries((function(seriesModel){seriesModel.getData().clearAllVisual()})),Chart.Z.markUpdateMethod(payload,"updateVisual"),clearColorPalette(ecModel),this._scheduler.performVisualTasks(ecModel,payload,{visualType:"visual",setDirty:!0}),ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var componentView=_this.getViewOfComponentModel(componentModel);componentView&&componentView.__alive&&componentView.updateVisual(componentModel,ecModel,_this._api,payload)}})),ecModel.eachSeries((function(seriesModel){_this._chartsMap[seriesModel.__viewId].updateVisual(seriesModel,ecModel,_this._api,payload)})),core_lifecycle.trigger("afterupdate",ecModel,this._api))},updateLayout:function(payload){updateMethods.update.call(this,payload)}},doConvertPixel=function(ecIns,methodName,finder,value){if(ecIns._disposed)disposedWarning(ecIns.id);else{for(var result,ecModel=ecIns._model,coordSysList=ecIns._coordSysMgr.getCoordinateSystems(),parsedFinder=model.pm(ecModel,finder),i=0;i<coordSysList.length;i++){var coordSys=coordSysList[i];if(coordSys[methodName]&&null!=(result=coordSys[methodName](ecModel,parsedFinder,value)))return result}0}},updateStreamModes=function(ecIns,ecModel){var chartsMap=ecIns._chartsMap,scheduler=ecIns._scheduler;ecModel.eachSeries((function(seriesModel){scheduler.updateStreamModes(seriesModel,chartsMap[seriesModel.__viewId])}))},doDispatchAction=function(payload,silent){var _this=this,ecModel=this.getModel(),payloadType=payload.type,escapeConnect=payload.escapeConnect,actionWrap=actions[payloadType],actionInfo=actionWrap.actionInfo,cptTypeTmp=(actionInfo.update||"update").split(":"),updateMethod=cptTypeTmp.pop(),cptType=null!=cptTypeTmp[0]&&(0,clazz.u9)(cptTypeTmp[0]);this.__flagInMainProcess=!0;var payloads=[payload],batched=!1;payload.batch&&(batched=!0,payloads=(0,util.map)(payload.batch,(function(item){return(item=(0,util.defaults)((0,util.extend)({},item),payload)).batch=null,item})));var eventObj,eventObjBatch=[],isSelectChange=(0,states.aG)(payload),isHighDown=(0,states.xp)(payload);if(isHighDown&&(0,states.T5)(this._api),(0,util.each)(payloads,(function(batchItem){if((eventObj=(eventObj=actionWrap.action(batchItem,_this._model,_this._api))||(0,util.extend)({},batchItem)).type=actionInfo.event||eventObj.type,eventObjBatch.push(eventObj),isHighDown){var _a=model.zH(payload),queryOptionMap=_a.queryOptionMap,componentMainType=_a.mainTypeSpecified?queryOptionMap.keys()[0]:"series";updateDirectly(_this,updateMethod,batchItem,componentMainType),markStatusToUpdate(_this)}else isSelectChange?(updateDirectly(_this,updateMethod,batchItem,"series"),markStatusToUpdate(_this)):cptType&&updateDirectly(_this,updateMethod,batchItem,cptType.main,cptType.sub)})),"none"!==updateMethod&&!isHighDown&&!isSelectChange&&!cptType)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,payload),this[PENDING_UPDATE]=null):updateMethods[updateMethod].call(this,payload)}catch(e){throw this.__flagInMainProcess=!1,e}if(eventObj=batched?{type:actionInfo.event||payloadType,escapeConnect,batch:eventObjBatch}:eventObjBatch[0],this.__flagInMainProcess=!1,!silent){var messageCenter=this._messageCenter;if(messageCenter.trigger(eventObj.type,eventObj),isSelectChange){var newObj={type:"selectchanged",escapeConnect,selected:(0,states.C5)(ecModel),isFromClick:payload.isFromClick||!1,fromAction:payload.type,fromActionPayload:payload};messageCenter.trigger(newObj.type,newObj)}}},flushPendingActions=function(silent){for(var pendingActions=this._pendingActions;pendingActions.length;){var payload=pendingActions.shift();doDispatchAction.call(this,payload,silent)}},triggerUpdatedEvent=function(silent){!silent&&this.trigger("updated")},bindRenderedEvent=function(zr,ecIns){zr.on("rendered",(function(params){ecIns.trigger("rendered",params),!zr.animation.isFinished()||ecIns[PENDING_UPDATE]||ecIns._scheduler.unfinished||ecIns._pendingActions.length||ecIns.trigger("finished")}))},bindMouseEvent=function(zr,ecIns){zr.on("mouseover",(function(e){var el=e.target,dispatcher=(0,util_event.o)(el,states.Av);dispatcher&&((0,states.$l)(dispatcher,e,ecIns._api),markStatusToUpdate(ecIns))})).on("mouseout",(function(e){var el=e.target,dispatcher=(0,util_event.o)(el,states.Av);dispatcher&&((0,states.xr)(dispatcher,e,ecIns._api),markStatusToUpdate(ecIns))})).on("click",(function(e){var el=e.target,dispatcher=(0,util_event.o)(el,(function(target){return null!=(0,innerStore.A)(target).dataIndex}),!0);if(dispatcher){var actionType=dispatcher.selected?"unselect":"select",ecData=(0,innerStore.A)(dispatcher);ecIns._api.dispatchAction({type:actionType,dataType:ecData.dataType,dataIndexInside:ecData.dataIndex,seriesIndex:ecData.seriesIndex,isFromClick:!0})}}))},render=function(ecIns,ecModel,api,payload,updateParams){!function allocateZlevels(ecModel){var componentZLevels=[],seriesZLevels=[],hasSeperateZLevel=!1;if(ecModel.eachComponent((function(componentType,componentModel){var zlevel=componentModel.get("zlevel")||0,z=componentModel.get("z")||0,zlevelKey=componentModel.getZLevelKey();hasSeperateZLevel=hasSeperateZLevel||!!zlevelKey,("series"===componentType?seriesZLevels:componentZLevels).push({zlevel,z,idx:componentModel.componentIndex,type:componentType,key:zlevelKey})})),hasSeperateZLevel){var lastSeriesZLevel_1,lastSeriesKey_1,zLevels=componentZLevels.concat(seriesZLevels);(0,timsort.Z)(zLevels,(function(a,b){return a.zlevel===b.zlevel?a.z-b.z:a.zlevel-b.zlevel})),(0,util.each)(zLevels,(function(item){var componentModel=ecModel.getComponent(item.type,item.idx),zlevel=item.zlevel,key=item.key;null!=lastSeriesZLevel_1&&(zlevel=Math.max(lastSeriesZLevel_1,zlevel)),key?(zlevel===lastSeriesZLevel_1&&key!==lastSeriesKey_1&&zlevel++,lastSeriesKey_1=key):lastSeriesKey_1&&(zlevel===lastSeriesZLevel_1&&zlevel++,lastSeriesKey_1=""),lastSeriesZLevel_1=zlevel,componentModel.setZLevel(zlevel)}))}}(ecModel),renderComponents(ecIns,ecModel,api,payload,updateParams),(0,util.each)(ecIns._chartsViews,(function(chart){chart.__alive=!1})),renderSeries(ecIns,ecModel,api,payload,updateParams),(0,util.each)(ecIns._chartsViews,(function(chart){chart.__alive||chart.remove(ecModel,api)}))},renderComponents=function(ecIns,ecModel,api,payload,updateParams,dirtyList){(0,util.each)(dirtyList||ecIns._componentsViews,(function(componentView){var componentModel=componentView.__model;clearStates(componentModel,componentView),componentView.render(componentModel,ecModel,api,payload),updateZ(componentModel,componentView),updateStates(componentModel,componentView)}))},renderSeries=function(ecIns,ecModel,api,payload,updateParams,dirtyMap){var scheduler=ecIns._scheduler;updateParams=(0,util.extend)(updateParams||{},{updatedSeries:ecModel.getSeries()}),core_lifecycle.trigger("series:beforeupdate",ecModel,api,updateParams);var unfinished=!1;ecModel.eachSeries((function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive=!0;var renderTask=chartView.renderTask;scheduler.updatePayload(renderTask,payload),clearStates(seriesModel,chartView),dirtyMap&&dirtyMap.get(seriesModel.uid)&&renderTask.dirty(),renderTask.perform(scheduler.getPerformArgs(renderTask))&&(unfinished=!0),chartView.group.silent=!!seriesModel.get("silent"),function updateBlend(seriesModel,chartView){var blendMode=seriesModel.get("blendMode")||null;chartView.eachRendered((function(el){el.isGroup||(el.style.blend=blendMode)}))}(seriesModel,chartView),(0,states.ci)(seriesModel)})),scheduler.unfinished=unfinished||scheduler.unfinished,core_lifecycle.trigger("series:layoutlabels",ecModel,api,updateParams),core_lifecycle.trigger("series:transition",ecModel,api,updateParams),ecModel.eachSeries((function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];updateZ(seriesModel,chartView),updateStates(seriesModel,chartView)})),function updateHoverLayerStatus(ecIns,ecModel){var zr=ecIns._zr,storage=zr.storage,elCount=0;storage.traverse((function(el){el.isGroup||elCount++})),elCount>ecModel.get("hoverLayerThreshold")&&!env.Z.node&&!env.Z.worker&&ecModel.eachSeries((function(seriesModel){if(!seriesModel.preventUsingHoverLayer){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive&&chartView.eachRendered((function(el){el.states.emphasis&&(el.states.emphasis.hoverLayer=!0)}))}}))}(ecIns,ecModel),core_lifecycle.trigger("series:afterupdate",ecModel,api,updateParams)},markStatusToUpdate=function(ecIns){ecIns.__needsUpdateStatus=!0,ecIns.getZr().wakeUp()},applyChangedStates=function(ecIns){ecIns.__needsUpdateStatus&&(ecIns.getZr().storage.traverse((function(el){basicTransition.eq(el)||applyElementStates(el)})),ecIns.__needsUpdateStatus=!1)},createExtensionAPI=function(ecIns){return new(function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(class_1,_super),class_1.prototype.getCoordinateSystems=function(){return ecIns._coordSysMgr.getCoordinateSystems()},class_1.prototype.getComponentByElement=function(el){for(;el;){var modelInfo=el.__ecComponentInfo;if(null!=modelInfo)return ecIns._model.getComponent(modelInfo.mainType,modelInfo.index);el=el.parent}},class_1.prototype.enterEmphasis=function(el,highlightDigit){(0,states.fD)(el,highlightDigit),markStatusToUpdate(ecIns)},class_1.prototype.leaveEmphasis=function(el,highlightDigit){(0,states.Mh)(el,highlightDigit),markStatusToUpdate(ecIns)},class_1.prototype.enterBlur=function(el){(0,states.SX)(el),markStatusToUpdate(ecIns)},class_1.prototype.leaveBlur=function(el){(0,states.VP)(el),markStatusToUpdate(ecIns)},class_1.prototype.enterSelect=function(el){(0,states.XX)(el),markStatusToUpdate(ecIns)},class_1.prototype.leaveSelect=function(el){(0,states.SJ)(el),markStatusToUpdate(ecIns)},class_1.prototype.getModel=function(){return ecIns.getModel()},class_1.prototype.getViewOfComponentModel=function(componentModel){return ecIns.getViewOfComponentModel(componentModel)},class_1.prototype.getViewOfSeriesModel=function(seriesModel){return ecIns.getViewOfSeriesModel(seriesModel)},class_1}(core_ExtensionAPI))(ecIns)},enableConnect=function(chart){function updateConnectedChartsStatus(charts,status){for(var i=0;i<charts.length;i++){charts[i].__connectUpdateStatus=status}}(0,util.each)(eventActionMap,(function(actionType,eventType){chart._messageCenter.on(eventType,(function(event){if(connectedGroups[chart.group]&&0!==chart.__connectUpdateStatus){if(event&&event.escapeConnect)return;var action_1=chart.makeActionFromEvent(event),otherCharts_1=[];(0,util.each)(instances,(function(otherChart){otherChart!==chart&&otherChart.group===chart.group&&otherCharts_1.push(otherChart)})),updateConnectedChartsStatus(otherCharts_1,0),(0,util.each)(otherCharts_1,(function(otherChart){1!==otherChart.__connectUpdateStatus&&otherChart.dispatchAction(action_1)})),updateConnectedChartsStatus(otherCharts_1,2)}}))}))}}(),ECharts}(Eventful.Z),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(eventName,cb,ctx){var self=this;(0,log.Sh)("ECharts#one is deprecated."),this.on.call(this,eventName,(function wrapped(){for(var args2=[],_i=0;_i<arguments.length;_i++)args2[_i]=arguments[_i];cb&&cb.apply&&cb.apply(this,args2),self.off(eventName,wrapped)}),ctx)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(id){0}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init(dom,theme,opts){var isClient=!(opts&&opts.ssr);if(isClient){0;var existInstance=getInstanceByDom(dom);if(existInstance)return existInstance;0}var chart=new ECharts(dom,theme,opts);return chart.id="ec_"+idBase++,instances[chart.id]=chart,isClient&&model.P$(dom,DOM_ATTRIBUTE_KEY,chart.id),enableConnect(chart),core_lifecycle.trigger("afterinit",chart),chart}function connect(groupId){if((0,util.isArray)(groupId)){var charts=groupId;groupId=null,(0,util.each)(charts,(function(chart){null!=chart.group&&(groupId=chart.group)})),groupId=groupId||"g_"+groupIdBase++,(0,util.each)(charts,(function(chart){chart.group=groupId}))}return connectedGroups[groupId]=!0,groupId}function disconnect(groupId){connectedGroups[groupId]=!1}var disConnect=disconnect;function dispose(chart){(0,util.isString)(chart)?chart=instances[chart]:chart instanceof ECharts||(chart=getInstanceByDom(chart)),chart instanceof ECharts&&!chart.isDisposed()&&chart.dispose()}function getInstanceByDom(dom){return instances[model.IL(dom,DOM_ATTRIBUTE_KEY)]}function getInstanceById(key){return instances[key]}function registerTheme(name,theme){themeStorage[name]=theme}function registerPreprocessor(preprocessorFunc){(0,util.indexOf)(optionPreprocessorFuncs,preprocessorFunc)<0&&optionPreprocessorFuncs.push(preprocessorFunc)}function registerProcessor(priority,processor){normalizeRegister(dataProcessorFuncs,priority,processor,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(postInitFunc){registerUpdateLifecycle("afterinit",postInitFunc)}function registerPostUpdate(postUpdateFunc){registerUpdateLifecycle("afterupdate",postUpdateFunc)}function registerUpdateLifecycle(name,cb){core_lifecycle.on(name,cb)}function registerAction(actionInfo,eventName,action){(0,util.isFunction)(eventName)&&(action=eventName,eventName="");var actionType=(0,util.isObject)(actionInfo)?actionInfo.type:[actionInfo,actionInfo={event:eventName}][0];actionInfo.event=(actionInfo.event||actionType).toLowerCase(),eventName=actionInfo.event,eventActionMap[eventName]||((0,util.assert)(ACTION_REG.test(actionType)&&ACTION_REG.test(eventName)),actions[actionType]||(actions[actionType]={action,actionInfo}),eventActionMap[eventName]=actionType)}function registerCoordinateSystem(type,coordSysCreator){CoordinateSystem.Z.register(type,coordSysCreator)}function getCoordinateSystemDimensions(type){var coordSysCreator=CoordinateSystem.Z.get(type);if(coordSysCreator)return coordSysCreator.getDimensionsInfo?coordSysCreator.getDimensionsInfo():coordSysCreator.dimensions.slice()}function registerLayout(priority,layoutTask){normalizeRegister(visualFuncs,priority,layoutTask,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(priority,visualTask){normalizeRegister(visualFuncs,priority,visualTask,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(targetList,priority,fn,defaultPriority,visualType){if(((0,util.isFunction)(priority)||(0,util.isObject)(priority))&&(fn=priority,priority=defaultPriority),!((0,util.indexOf)(registeredTasks,fn)>=0)){registeredTasks.push(fn);var stageHandler=core_Scheduler.wrapStageHandler(fn,visualType);stageHandler.__prio=priority,stageHandler.__raw=fn,targetList.push(stageHandler)}}function registerLoading(name,loadingFx){loadingEffects[name]=loadingFx}function setCanvasCreator(creator){(0,core_platform.g2)({createCanvas:creator})}function registerMap(mapName,geoJson,specialAreas){var registerMap=(0,impl.C)("registerMap");registerMap&&registerMap(mapName,geoJson,specialAreas)}function getMap(mapName){var getMap=(0,impl.C)("getMap");return getMap&&getMap(mapName)}var registerTransform=transform.DA;registerVisual(2e3,seriesStyleTask),registerVisual(4500,dataStyleTask),registerVisual(4500,dataColorPaletteTask),registerVisual(2e3,seriesSymbolTask),registerVisual(4500,dataSymbolTask),registerVisual(7e3,(function decalVisual(ecModel,api){ecModel.eachRawSeries((function(seriesModel){if(!ecModel.isSeriesFiltered(seriesModel)){var data=seriesModel.getData();data.hasItemVisual()&&data.each((function(idx){var decal=data.getItemVisual(idx,"decal");decal&&(data.ensureUniqueItemVisual(idx,"style").decal=(0,util_decal.I)(decal,api))}));var decal=data.getVisual("decal");if(decal)data.getVisual("style").decal=(0,util_decal.I)(decal,api)}}))})),registerPreprocessor(globalBackwardCompat),registerProcessor(900,(function dataStack(ecModel){var stackInfoMap=(0,util.createHashMap)();ecModel.eachSeries((function(seriesModel){var stack=seriesModel.get("stack");if(stack){var stackInfoList=stackInfoMap.get(stack)||stackInfoMap.set(stack,[]),data=seriesModel.getData(),stackInfo={stackResultDimension:data.getCalculationInfo("stackResultDimension"),stackedOverDimension:data.getCalculationInfo("stackedOverDimension"),stackedDimension:data.getCalculationInfo("stackedDimension"),stackedByDimension:data.getCalculationInfo("stackedByDimension"),isStackedByIndex:data.getCalculationInfo("isStackedByIndex"),data,seriesModel};if(!stackInfo.stackedDimension||!stackInfo.isStackedByIndex&&!stackInfo.stackedByDimension)return;stackInfoList.length&&data.setCalculationInfo("stackedOnSeries",stackInfoList[stackInfoList.length-1].seriesModel),stackInfoList.push(stackInfo)}})),stackInfoMap.each(calculateStack)})),registerLoading("default",(function defaultLoading(api,opts){opts=opts||{},util.defaults(opts,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var group=new Group.Z,mask=new Rect.Z({style:{fill:opts.maskColor},zlevel:opts.zlevel,z:1e4});group.add(mask);var arc,textContent=new Text.ZP({style:{text:opts.text,fill:opts.textColor,fontSize:opts.fontSize,fontWeight:opts.fontWeight,fontStyle:opts.fontStyle,fontFamily:opts.fontFamily},zlevel:opts.zlevel,z:10001}),labelRect=new Rect.Z({style:{fill:"none"},textContent,textConfig:{position:"right",distance:10},zlevel:opts.zlevel,z:10001});return group.add(labelRect),opts.showSpinner&&((arc=new Arc.Z({shape:{startAngle:-PI/2,endAngle:-PI/2+.1,r:opts.spinnerRadius},style:{stroke:opts.color,lineCap:"round",lineWidth:opts.lineWidth},zlevel:opts.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*PI/2}).start("circularInOut"),arc.animateShape(!0).when(1e3,{startAngle:3*PI/2}).delay(300).start("circularInOut"),group.add(arc)),group.resize=function(){var textWidth=textContent.getBoundingRect().width,r=opts.showSpinner?opts.spinnerRadius:0,cx=(api.getWidth()-2*r-(opts.showSpinner&&textWidth?10:0)-textWidth)/2-(opts.showSpinner&&textWidth?0:5+textWidth/2)+(opts.showSpinner?0:textWidth/2)+(textWidth?0:r),cy=api.getHeight()/2;opts.showSpinner&&arc.setShape({cx,cy}),labelRect.setShape({x:cx-r,y:cy-r,width:2*r,height:2*r}),mask.setShape({x:0,y:0,width:api.getWidth(),height:api.getHeight()})},group.resize(),group})),registerAction({type:states.Ki,event:states.Ki,update:states.Ki},util.noop),registerAction({type:states.yx,event:states.yx,update:states.yx},util.noop),registerAction({type:states.Hg,event:states.Hg,update:states.Hg},util.noop),registerAction({type:states.JQ,event:states.JQ,update:states.JQ},util.noop),registerAction({type:states.iK,event:states.iK,update:states.iK},util.noop),registerTheme("light",light),registerTheme("dark",dark);var dataTool={}},"./node_modules/echarts/lib/core/impl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>getImpl,M:()=>registerImpl});var implsStore={};function registerImpl(name,impl){implsStore[name]=impl}function getImpl(name){return implsStore[name]}},"./node_modules/echarts/lib/core/locale.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sO:()=>SYSTEM_LANG,D0:()=>createLocaleObject,Li:()=>getDefaultLocaleModel,G8:()=>getLocaleModel,I2:()=>registerLocale});var Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),env=__webpack_require__("./node_modules/zrender/lib/core/env.js");var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.Z.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE;function registerLocale(locale,localeObj){locale=locale.toUpperCase(),localeModels[locale]=new Model.Z(localeObj),localeStorage[locale]=localeObj}function createLocaleObject(locale){if((0,util.isString)(locale)){var localeObj=localeStorage[locale.toUpperCase()]||{};return locale===LOCALE_ZH||locale===LOCALE_EN?(0,util.clone)(localeObj):(0,util.merge)((0,util.clone)(localeObj),(0,util.clone)(localeStorage[DEFAULT_LOCALE]),!1)}return(0,util.merge)((0,util.clone)(locale),(0,util.clone)(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(lang){return localeModels[lang]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),registerLocale(LOCALE_ZH,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}})},"./node_modules/echarts/lib/core/task.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>createTask});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function createTask(define){return new Task(define)}var Task=function(){function Task(define){define=define||{},this._reset=define.reset,this._plan=define.plan,this._count=define.count,this._onDirty=define.onDirty,this._dirty=!0}return Task.prototype.perform=function(performArgs){var planResult,upTask=this._upstream,skip=performArgs&&performArgs.skip;if(this._dirty&&upTask){var context=this.context;context.data=context.outputData=upTask.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!skip&&(planResult=this._plan(this.context));var forceFirstProgress,lastModBy=normalizeModBy(this._modBy),lastModDataCount=this._modDataCount||0,modBy=normalizeModBy(performArgs&&performArgs.modBy),modDataCount=performArgs&&performArgs.modDataCount||0;function normalizeModBy(val){return!(val>=1)&&(val=1),val}lastModBy===modBy&&lastModDataCount===modDataCount||(planResult="reset"),(this._dirty||"reset"===planResult)&&(this._dirty=!1,forceFirstProgress=this._doReset(skip)),this._modBy=modBy,this._modDataCount=modDataCount;var step=performArgs&&performArgs.step;if(this._dueEnd=upTask?upTask._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var start=this._dueIndex,end=Math.min(null!=step?this._dueIndex+step:1/0,this._dueEnd);if(!skip&&(forceFirstProgress||start<end)){var progress=this._progress;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(progress))for(var i=0;i<progress.length;i++)this._doProgress(progress[i],start,end,modBy,modDataCount);else this._doProgress(progress,start,end,modBy,modDataCount)}this._dueIndex=end;var outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:end;0,this._outputDueEnd=outputDueEnd}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Task.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Task.prototype._doProgress=function(progress,start,end,modBy,modDataCount){iterator.reset(start,end,modBy,modDataCount),this._callingProgress=progress,this._callingProgress({start,end,count:end-start,next:iterator.next},this.context)},Task.prototype._doReset=function(skip){var progress,forceFirstProgress;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!skip&&this._reset&&((progress=this._reset(this.context))&&progress.progress&&(forceFirstProgress=progress.forceFirstProgress,progress=progress.progress),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(progress)&&!progress.length&&(progress=null)),this._progress=progress,this._modBy=this._modDataCount=null;var downstream=this._downstream;return downstream&&downstream.dirty(),forceFirstProgress},Task.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Task.prototype.pipe=function(downTask){(this._downstream!==downTask||this._dirty)&&(this._downstream=downTask,downTask._upstream=this,downTask.dirty())},Task.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Task.prototype.getUpstream=function(){return this._upstream},Task.prototype.getDownstream=function(){return this._downstream},Task.prototype.setOutputEnd=function(end){this._outputDueEnd=this._settedOutputEnd=end},Task}(),iterator=function(){var end,current,modBy,modDataCount,winCount,it={reset:function(s,e,sStep,sCount){current=s,end=e,modBy=sStep,modDataCount=sCount,winCount=Math.ceil(modDataCount/modBy),it.next=modBy>1&&modDataCount>0?modNext:sequentialNext}};return it;function sequentialNext(){return current<end?current++:null}function modNext(){var dataIndex=current%winCount*modBy+Math.ceil(current/winCount),result=current>=end?null:dataIndex<modDataCount?dataIndex:current;return current++,result}}()},"./node_modules/echarts/lib/data/DataDiffer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function dataIndexMapValueLength(valNumOrArrLengthMoreThan2){return null==valNumOrArrLengthMoreThan2?0:valNumOrArrLengthMoreThan2.length||1}function defaultKeyGetter(item){return item}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(){function DataDiffer(oldArr,newArr,oldKeyGetter,newKeyGetter,context,diffMode){this._old=oldArr,this._new=newArr,this._oldKeyGetter=oldKeyGetter||defaultKeyGetter,this._newKeyGetter=newKeyGetter||defaultKeyGetter,this.context=context,this._diffModeMultiple="multiple"===diffMode}return DataDiffer.prototype.add=function(func){return this._add=func,this},DataDiffer.prototype.update=function(func){return this._update=func,this},DataDiffer.prototype.updateManyToOne=function(func){return this._updateManyToOne=func,this},DataDiffer.prototype.updateOneToMany=function(func){return this._updateOneToMany=func,this},DataDiffer.prototype.updateManyToMany=function(func){return this._updateManyToMany=func,this},DataDiffer.prototype.remove=function(func){return this._remove=func,this},DataDiffer.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},DataDiffer.prototype._executeOneToOne=function(){var oldArr=this._old,newArr=this._new,newDataIndexMap={},oldDataKeyArr=new Array(oldArr.length),newDataKeyArr=new Array(newArr.length);this._initIndexMap(oldArr,null,oldDataKeyArr,"_oldKeyGetter"),this._initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter");for(var i=0;i<oldArr.length;i++){var oldKey=oldDataKeyArr[i],newIdxMapVal=newDataIndexMap[oldKey],newIdxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(newIdxMapValLen>1){var newIdx=newIdxMapVal.shift();1===newIdxMapVal.length&&(newDataIndexMap[oldKey]=newIdxMapVal[0]),this._update&&this._update(newIdx,i)}else 1===newIdxMapValLen?(newDataIndexMap[oldKey]=null,this._update&&this._update(newIdxMapVal,i)):this._remove&&this._remove(i)}this._performRestAdd(newDataKeyArr,newDataIndexMap)},DataDiffer.prototype._executeMultiple=function(){var oldArr=this._old,newArr=this._new,oldDataIndexMap={},newDataIndexMap={},oldDataKeyArr=[],newDataKeyArr=[];this._initIndexMap(oldArr,oldDataIndexMap,oldDataKeyArr,"_oldKeyGetter"),this._initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter");for(var i=0;i<oldDataKeyArr.length;i++){var oldKey=oldDataKeyArr[i],oldIdxMapVal=oldDataIndexMap[oldKey],newIdxMapVal=newDataIndexMap[oldKey],oldIdxMapValLen=dataIndexMapValueLength(oldIdxMapVal),newIdxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(oldIdxMapValLen>1&&1===newIdxMapValLen)this._updateManyToOne&&this._updateManyToOne(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(1===oldIdxMapValLen&&newIdxMapValLen>1)this._updateOneToMany&&this._updateOneToMany(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(1===oldIdxMapValLen&&1===newIdxMapValLen)this._update&&this._update(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(oldIdxMapValLen>1&&newIdxMapValLen>1)this._updateManyToMany&&this._updateManyToMany(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(oldIdxMapValLen>1)for(var i_1=0;i_1<oldIdxMapValLen;i_1++)this._remove&&this._remove(oldIdxMapVal[i_1]);else this._remove&&this._remove(oldIdxMapVal)}this._performRestAdd(newDataKeyArr,newDataIndexMap)},DataDiffer.prototype._performRestAdd=function(newDataKeyArr,newDataIndexMap){for(var i=0;i<newDataKeyArr.length;i++){var newKey=newDataKeyArr[i],newIdxMapVal=newDataIndexMap[newKey],idxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(idxMapValLen>1)for(var j=0;j<idxMapValLen;j++)this._add&&this._add(newIdxMapVal[j]);else 1===idxMapValLen&&this._add&&this._add(newIdxMapVal);newDataIndexMap[newKey]=null}},DataDiffer.prototype._initIndexMap=function(arr,map,keyArr,keyGetterName){for(var cbModeMultiple=this._diffModeMultiple,i=0;i<arr.length;i++){var key="_ec_"+this[keyGetterName](arr[i],i);if(cbModeMultiple||(keyArr[i]=key),map){var idxMapVal=map[key],idxMapValLen=dataIndexMapValueLength(idxMapVal);0===idxMapValLen?(map[key]=i,cbModeMultiple&&keyArr.push(key)):1===idxMapValLen?map[key]=[idxMapVal,i]:idxMapVal.push(i)}}},DataDiffer}()},"./node_modules/echarts/lib/data/DataStore.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,hG:()=>CtorInt32Array});var defaultDimValueGetters,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataValueHelper.js"),_Source_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),CtorUint32Array="undefined"==typeof Uint32Array?Array:Uint32Array,CtorUint16Array="undefined"==typeof Uint16Array?Array:Uint16Array,CtorInt32Array="undefined"==typeof Int32Array?Array:Int32Array,CtorFloat64Array="undefined"==typeof Float64Array?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array,ordinal:Array,number:Array,time:CtorFloat64Array};function getIndicesCtor(rawCount){return rawCount>65535?CtorUint32Array:CtorUint16Array}function prepareStore(store,dimIdx,dimType,end,append){var DataCtor=dataCtors[dimType||"float"];if(append){var oldStore=store[dimIdx],oldLen=oldStore&&oldStore.length;if(oldLen!==end){for(var newStore=new DataCtor(end),j=0;j<oldLen;j++)newStore[j]=oldStore[j];store[dimIdx]=newStore}}else store[dimIdx]=new DataCtor(end)}const __WEBPACK_DEFAULT_EXPORT__=function(){function DataStore(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)()}return DataStore.prototype.initData=function(provider,inputDimensions,dimValueGetter){this._provider=provider,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var source=provider.getSource(),defaultGetter=this.defaultDimValueGetter=defaultDimValueGetters[source.sourceFormat];this._dimValueGetter=dimValueGetter||defaultGetter,this._rawExtent=[];(0,_Source_js__WEBPACK_IMPORTED_MODULE_1__.QY)(source);this._dimensions=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(inputDimensions,(function(dim){return{type:dim.type,property:dim.property}})),this._initDataFromProvider(0,provider.count())},DataStore.prototype.getProvider=function(){return this._provider},DataStore.prototype.getSource=function(){return this._provider.getSource()},DataStore.prototype.ensureCalculationDimension=function(dimName,type){var calcDimNameToIdx=this._calcDimNameToIdx,dimensions=this._dimensions,calcDimIdx=calcDimNameToIdx.get(dimName);if(null!=calcDimIdx){if(dimensions[calcDimIdx].type===type)return calcDimIdx}else calcDimIdx=dimensions.length;return dimensions[calcDimIdx]={type},calcDimNameToIdx.set(dimName,calcDimIdx),this._chunks[calcDimIdx]=new dataCtors[type||"float"](this._rawCount),this._rawExtent[calcDimIdx]=[1/0,-1/0],calcDimIdx},DataStore.prototype.collectOrdinalMeta=function(dimIdx,ordinalMeta){var chunk=this._chunks[dimIdx],dim=this._dimensions[dimIdx],rawExtents=this._rawExtent,offset=dim.ordinalOffset||0,len=chunk.length;0===offset&&(rawExtents[dimIdx]=[1/0,-1/0]);for(var dimRawExtent=rawExtents[dimIdx],i=offset;i<len;i++){var val=chunk[i]=ordinalMeta.parseAndCollect(chunk[i]);isNaN(val)||(dimRawExtent[0]=Math.min(val,dimRawExtent[0]),dimRawExtent[1]=Math.max(val,dimRawExtent[1]))}dim.ordinalMeta=ordinalMeta,dim.ordinalOffset=len,dim.type="ordinal"},DataStore.prototype.getOrdinalMeta=function(dimIdx){return this._dimensions[dimIdx].ordinalMeta},DataStore.prototype.getDimensionProperty=function(dimIndex){var item=this._dimensions[dimIndex];return item&&item.property},DataStore.prototype.appendData=function(data){var provider=this._provider,start=this.count();provider.appendData(data);var end=provider.count();return provider.persistent||(end+=start),start<end&&this._initDataFromProvider(start,end,!0),[start,end]},DataStore.prototype.appendValues=function(values,minFillLen){for(var chunks=this._chunks,dimensions=this._dimensions,dimLen=dimensions.length,rawExtent=this._rawExtent,start=this.count(),end=start+Math.max(values.length,minFillLen||0),i=0;i<dimLen;i++){prepareStore(chunks,i,(dim=dimensions[i]).type,end,!0)}for(var emptyDataItem=[],idx=start;idx<end;idx++)for(var sourceIdx=idx-start,dimIdx=0;dimIdx<dimLen;dimIdx++){var dim=dimensions[dimIdx],val=defaultDimValueGetters.arrayRows.call(this,values[sourceIdx]||emptyDataItem,dim.property,sourceIdx,dimIdx);chunks[dimIdx][idx]=val;var dimRawExtent=rawExtent[dimIdx];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}return this._rawCount=this._count=end,{start,end}},DataStore.prototype._initDataFromProvider=function(start,end,append){for(var provider=this._provider,chunks=this._chunks,dimensions=this._dimensions,dimLen=dimensions.length,rawExtent=this._rawExtent,dimNames=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(dimensions,(function(dim){return dim.property})),i=0;i<dimLen;i++){var dim=dimensions[i];rawExtent[i]||(rawExtent[i]=[1/0,-1/0]),prepareStore(chunks,i,dim.type,end,append)}if(provider.fillStorage)provider.fillStorage(start,end,chunks,rawExtent);else for(var dataItem=[],idx=start;idx<end;idx++){dataItem=provider.getItem(idx,dataItem);for(var dimIdx=0;dimIdx<dimLen;dimIdx++){var dimStorage=chunks[dimIdx],val=this._dimValueGetter(dataItem,dimNames[dimIdx],idx,dimIdx);dimStorage[idx]=val;var dimRawExtent=rawExtent[dimIdx];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}}!provider.persistent&&provider.clean&&provider.clean(),this._rawCount=this._count=end,this._extent=[]},DataStore.prototype.count=function(){return this._count},DataStore.prototype.get=function(dim,idx){if(!(idx>=0&&idx<this._count))return NaN;var dimStore=this._chunks[dim];return dimStore?dimStore[this.getRawIndex(idx)]:NaN},DataStore.prototype.getValues=function(dimensions,idx){var values=[],dimArr=[];if(null==idx){idx=dimensions,dimensions=[];for(var i=0;i<this._dimensions.length;i++)dimArr.push(i)}else dimArr=dimensions;i=0;for(var len=dimArr.length;i<len;i++)values.push(this.get(dimArr[i],idx));return values},DataStore.prototype.getByRawIndex=function(dim,rawIdx){if(!(rawIdx>=0&&rawIdx<this._rawCount))return NaN;var dimStore=this._chunks[dim];return dimStore?dimStore[rawIdx]:NaN},DataStore.prototype.getSum=function(dim){var sum=0;if(this._chunks[dim])for(var i=0,len=this.count();i<len;i++){var value=this.get(dim,i);isNaN(value)||(sum+=value)}return sum},DataStore.prototype.getMedian=function(dim){var dimDataArray=[];this.each([dim],(function(val){isNaN(val)||dimDataArray.push(val)}));var sortedDimDataArray=dimDataArray.sort((function(a,b){return a-b})),len=this.count();return 0===len?0:len%2==1?sortedDimDataArray[(len-1)/2]:(sortedDimDataArray[len/2]+sortedDimDataArray[len/2-1])/2},DataStore.prototype.indexOfRawIndex=function(rawIndex){if(rawIndex>=this._rawCount||rawIndex<0)return-1;if(!this._indices)return rawIndex;var indices=this._indices,rawDataIndex=indices[rawIndex];if(null!=rawDataIndex&&rawDataIndex<this._count&&rawDataIndex===rawIndex)return rawIndex;for(var left=0,right=this._count-1;left<=right;){var mid=(left+right)/2|0;if(indices[mid]<rawIndex)left=mid+1;else{if(!(indices[mid]>rawIndex))return mid;right=mid-1}}return-1},DataStore.prototype.indicesOfNearest=function(dim,value,maxDistance){var dimData=this._chunks[dim],nearestIndices=[];if(!dimData)return nearestIndices;null==maxDistance&&(maxDistance=1/0);for(var minDist=1/0,minDiff=-1,nearestIndicesLen=0,i=0,len=this.count();i<len;i++){var diff=value-dimData[this.getRawIndex(i)],dist=Math.abs(diff);dist<=maxDistance&&((dist<minDist||dist===minDist&&diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,nearestIndicesLen=0),diff===minDiff&&(nearestIndices[nearestIndicesLen++]=i))}return nearestIndices.length=nearestIndicesLen,nearestIndices},DataStore.prototype.getIndices=function(){var newIndices,indices=this._indices;if(indices){var Ctor=indices.constructor,thisCount=this._count;if(Ctor===Array){newIndices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)newIndices[i]=indices[i]}else newIndices=new Ctor(indices.buffer,0,thisCount)}else{newIndices=new(Ctor=getIndicesCtor(this._rawCount))(this.count());for(i=0;i<newIndices.length;i++)newIndices[i]=i}return newIndices},DataStore.prototype.filter=function(dims,cb){if(!this._count)return this;for(var newStore=this.clone(),count=newStore.count(),newIndices=new(getIndicesCtor(newStore._rawCount))(count),value=[],dimSize=dims.length,offset=0,dim0=dims[0],chunks=newStore._chunks,i=0;i<count;i++){var keep=void 0,rawIdx=newStore.getRawIndex(i);if(0===dimSize)keep=cb(i);else if(1===dimSize){keep=cb(chunks[dim0][rawIdx],i)}else{for(var k=0;k<dimSize;k++)value[k]=chunks[dims[k]][rawIdx];value[k]=i,keep=cb.apply(null,value)}keep&&(newIndices[offset++]=rawIdx)}return offset<count&&(newStore._indices=newIndices),newStore._count=offset,newStore._extent=[],newStore._updateGetRawIdx(),newStore},DataStore.prototype.selectRange=function(range){var newStore=this.clone(),len=newStore._count;if(!len)return this;var dims=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.keys)(range),dimSize=dims.length;if(!dimSize)return this;var originalCount=newStore.count(),newIndices=new(getIndicesCtor(newStore._rawCount))(originalCount),offset=0,dim0=dims[0],min=range[dim0][0],max=range[dim0][1],storeArr=newStore._chunks,quickFinished=!1;if(!newStore._indices){var idx=0;if(1===dimSize){for(var dimStorage=storeArr[dims[0]],i=0;i<len;i++){((val=dimStorage[i])>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}else if(2===dimSize){dimStorage=storeArr[dims[0]];var dimStorage2=storeArr[dims[1]],min2=range[dims[1]][0],max2=range[dims[1]][1];for(i=0;i<len;i++){var val=dimStorage[i],val2=dimStorage2[i];(val>=min&&val<=max||isNaN(val))&&(val2>=min2&&val2<=max2||isNaN(val2))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}}if(!quickFinished)if(1===dimSize)for(i=0;i<originalCount;i++){var rawIndex=newStore.getRawIndex(i);((val=storeArr[dims[0]][rawIndex])>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=rawIndex)}else for(i=0;i<originalCount;i++){for(var keep=!0,k=(rawIndex=newStore.getRawIndex(i),0);k<dimSize;k++){var dimk=dims[k];((val=storeArr[dimk][rawIndex])<range[dimk][0]||val>range[dimk][1])&&(keep=!1)}keep&&(newIndices[offset++]=newStore.getRawIndex(i))}return offset<originalCount&&(newStore._indices=newIndices),newStore._count=offset,newStore._extent=[],newStore._updateGetRawIdx(),newStore},DataStore.prototype.map=function(dims,cb){var target=this.clone(dims);return this._updateDims(target,dims,cb),target},DataStore.prototype.modify=function(dims,cb){this._updateDims(this,dims,cb)},DataStore.prototype._updateDims=function(target,dims,cb){for(var targetChunks=target._chunks,tmpRetValue=[],dimSize=dims.length,dataCount=target.count(),values=[],rawExtent=target._rawExtent,i=0;i<dims.length;i++)rawExtent[dims[i]]=[1/0,-1/0];for(var dataIndex=0;dataIndex<dataCount;dataIndex++){for(var rawIndex=target.getRawIndex(dataIndex),k=0;k<dimSize;k++)values[k]=targetChunks[dims[k]][rawIndex];values[dimSize]=dataIndex;var retValue=cb&&cb.apply(null,values);if(null!=retValue){"object"!=typeof retValue&&(tmpRetValue[0]=retValue,retValue=tmpRetValue);for(i=0;i<retValue.length;i++){var dim=dims[i],val=retValue[i],rawExtentOnDim=rawExtent[dim],dimStore=targetChunks[dim];dimStore&&(dimStore[rawIndex]=val),val<rawExtentOnDim[0]&&(rawExtentOnDim[0]=val),val>rawExtentOnDim[1]&&(rawExtentOnDim[1]=val)}}}},DataStore.prototype.lttbDownSample=function(valueDimension,rate){var maxArea,area,nextRawIndex,target=this.clone([valueDimension],!0),dimStore=target._chunks[valueDimension],len=this.count(),sampledIndex=0,frameSize=Math.floor(1/rate),currentRawIndex=this.getRawIndex(0),newIndices=new(getIndicesCtor(this._rawCount))(Math.min(2*(Math.ceil(len/frameSize)+2),len));newIndices[sampledIndex++]=currentRawIndex;for(var i=1;i<len-1;i+=frameSize){for(var nextFrameStart=Math.min(i+frameSize,len-1),nextFrameEnd=Math.min(i+2*frameSize,len),avgX=(nextFrameEnd+nextFrameStart)/2,avgY=0,idx=nextFrameStart;idx<nextFrameEnd;idx++){var y=dimStore[rawIndex=this.getRawIndex(idx)];isNaN(y)||(avgY+=y)}avgY/=nextFrameEnd-nextFrameStart;var frameStart=i,frameEnd=Math.min(i+frameSize,len),pointAX=i-1,pointAY=dimStore[currentRawIndex];maxArea=-1,nextRawIndex=frameStart;var firstNaNIndex=-1,countNaN=0;for(idx=frameStart;idx<frameEnd;idx++){var rawIndex;y=dimStore[rawIndex=this.getRawIndex(idx)];isNaN(y)?(countNaN++,firstNaNIndex<0&&(firstNaNIndex=rawIndex)):(area=Math.abs((pointAX-avgX)*(y-pointAY)-(pointAX-idx)*(avgY-pointAY)))>maxArea&&(maxArea=area,nextRawIndex=rawIndex)}countNaN>0&&countNaN<frameEnd-frameStart&&(newIndices[sampledIndex++]=Math.min(firstNaNIndex,nextRawIndex),nextRawIndex=Math.max(firstNaNIndex,nextRawIndex)),newIndices[sampledIndex++]=nextRawIndex,currentRawIndex=nextRawIndex}return newIndices[sampledIndex++]=this.getRawIndex(len-1),target._count=sampledIndex,target._indices=newIndices,target.getRawIndex=this._getRawIdx,target},DataStore.prototype.downSample=function(dimension,rate,sampleValue,sampleIndex){for(var target=this.clone([dimension],!0),targetStorage=target._chunks,frameValues=[],frameSize=Math.floor(1/rate),dimStore=targetStorage[dimension],len=this.count(),rawExtentOnDim=target._rawExtent[dimension]=[1/0,-1/0],newIndices=new(getIndicesCtor(this._rawCount))(Math.ceil(len/frameSize)),offset=0,i=0;i<len;i+=frameSize){frameSize>len-i&&(frameSize=len-i,frameValues.length=frameSize);for(var k=0;k<frameSize;k++){var dataIdx=this.getRawIndex(i+k);frameValues[k]=dimStore[dataIdx]}var value=sampleValue(frameValues),sampleFrameIdx=this.getRawIndex(Math.min(i+sampleIndex(frameValues,value)||0,len-1));dimStore[sampleFrameIdx]=value,value<rawExtentOnDim[0]&&(rawExtentOnDim[0]=value),value>rawExtentOnDim[1]&&(rawExtentOnDim[1]=value),newIndices[offset++]=sampleFrameIdx}return target._count=offset,target._indices=newIndices,target._updateGetRawIdx(),target},DataStore.prototype.each=function(dims,cb){if(this._count)for(var dimSize=dims.length,chunks=this._chunks,i=0,len=this.count();i<len;i++){var rawIdx=this.getRawIndex(i);switch(dimSize){case 0:cb(i);break;case 1:cb(chunks[dims[0]][rawIdx],i);break;case 2:cb(chunks[dims[0]][rawIdx],chunks[dims[1]][rawIdx],i);break;default:for(var k=0,value=[];k<dimSize;k++)value[k]=chunks[dims[k]][rawIdx];value[k]=i,cb.apply(null,value)}}},DataStore.prototype.getDataExtent=function(dim){var dimData=this._chunks[dim],initialExtent=[1/0,-1/0];if(!dimData)return initialExtent;var dimExtent,currEnd=this.count();if(!this._indices)return this._rawExtent[dim].slice();if(dimExtent=this._extent[dim])return dimExtent.slice();for(var min=(dimExtent=initialExtent)[0],max=dimExtent[1],i=0;i<currEnd;i++){var value=dimData[this.getRawIndex(i)];value<min&&(min=value),value>max&&(max=value)}return dimExtent=[min,max],this._extent[dim]=dimExtent,dimExtent},DataStore.prototype.getRawDataItem=function(idx){var rawIdx=this.getRawIndex(idx);if(this._provider.persistent)return this._provider.getItem(rawIdx);for(var val=[],chunks=this._chunks,i=0;i<chunks.length;i++)val.push(chunks[i][rawIdx]);return val},DataStore.prototype.clone=function(clonedDims,ignoreIndices){var originalChunk,Ctor,target=new DataStore,chunks=this._chunks,clonedDimsMap=clonedDims&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.reduce)(clonedDims,(function(obj,dimIdx){return obj[dimIdx]=!0,obj}),{});if(clonedDimsMap)for(var i=0;i<chunks.length;i++)target._chunks[i]=clonedDimsMap[i]?(originalChunk=chunks[i],Ctor=void 0,(Ctor=originalChunk.constructor)===Array?originalChunk.slice():new Ctor(originalChunk)):chunks[i];else target._chunks=chunks;return this._copyCommonProps(target),ignoreIndices||(target._indices=this._cloneIndices()),target._updateGetRawIdx(),target},DataStore.prototype._copyCommonProps=function(target){target._count=this._count,target._rawCount=this._rawCount,target._provider=this._provider,target._dimensions=this._dimensions,target._extent=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.clone)(this._extent),target._rawExtent=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.clone)(this._rawExtent)},DataStore.prototype._cloneIndices=function(){if(this._indices){var Ctor=this._indices.constructor,indices=void 0;if(Ctor===Array){var thisCount=this._indices.length;indices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)indices[i]=this._indices[i]}else indices=new Ctor(this._indices);return indices}return null},DataStore.prototype._getRawIdxIdentity=function(idx){return idx},DataStore.prototype._getRawIdx=function(idx){return idx<this._count&&idx>=0?this._indices[idx]:-1},DataStore.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},DataStore.internalField=function(){function getDimValueSimply(dataItem,property,dataIndex,dimIndex){return(0,_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__.yQ)(dataItem[dimIndex],this._dimensions[dimIndex])}defaultDimValueGetters={arrayRows:getDimValueSimply,objectRows:function(dataItem,property,dataIndex,dimIndex){return(0,_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__.yQ)(dataItem[property],this._dimensions[dimIndex])},keyedColumns:getDimValueSimply,original:function(dataItem,property,dataIndex,dimIndex){var value=dataItem&&(null==dataItem.value?dataItem:dataItem.value);return(0,_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__.yQ)(value instanceof Array?value[dimIndex]:value,this._dimensions[dimIndex])},typedArray:function(dataItem,property,dataIndex,dimIndex){return dataItem[dimIndex]}}}(),DataStore}()},"./node_modules/echarts/lib/data/Graph.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function generateNodeKey(id){return"_EC_"+id}var Graph=function(){function Graph(directed){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=directed||!1}return Graph.prototype.isDirected=function(){return this._directed},Graph.prototype.addNode=function(id,dataIndex){id=null==id?""+dataIndex:""+id;var nodesMap=this._nodesMap;if(!nodesMap[generateNodeKey(id)]){var node=new GraphNode(id,dataIndex);return node.hostGraph=this,this.nodes.push(node),nodesMap[generateNodeKey(id)]=node,node}},Graph.prototype.getNodeByIndex=function(dataIndex){var rawIdx=this.data.getRawIndex(dataIndex);return this.nodes[rawIdx]},Graph.prototype.getNodeById=function(id){return this._nodesMap[generateNodeKey(id)]},Graph.prototype.addEdge=function(n1,n2,dataIndex){var nodesMap=this._nodesMap,edgesMap=this._edgesMap;if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber(n1)&&(n1=this.nodes[n1]),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber(n2)&&(n2=this.nodes[n2]),n1 instanceof GraphNode||(n1=nodesMap[generateNodeKey(n1)]),n2 instanceof GraphNode||(n2=nodesMap[generateNodeKey(n2)]),n1&&n2){var key=n1.id+"-"+n2.id,edge=new GraphEdge(n1,n2,dataIndex);return edge.hostGraph=this,this._directed&&(n1.outEdges.push(edge),n2.inEdges.push(edge)),n1.edges.push(edge),n1!==n2&&n2.edges.push(edge),this.edges.push(edge),edgesMap[key]=edge,edge}},Graph.prototype.getEdgeByIndex=function(dataIndex){var rawIdx=this.edgeData.getRawIndex(dataIndex);return this.edges[rawIdx]},Graph.prototype.getEdge=function(n1,n2){n1 instanceof GraphNode&&(n1=n1.id),n2 instanceof GraphNode&&(n2=n2.id);var edgesMap=this._edgesMap;return this._directed?edgesMap[n1+"-"+n2]:edgesMap[n1+"-"+n2]||edgesMap[n2+"-"+n1]},Graph.prototype.eachNode=function(cb,context){for(var nodes=this.nodes,len=nodes.length,i=0;i<len;i++)nodes[i].dataIndex>=0&&cb.call(context,nodes[i],i)},Graph.prototype.eachEdge=function(cb,context){for(var edges=this.edges,len=edges.length,i=0;i<len;i++)edges[i].dataIndex>=0&&edges[i].node1.dataIndex>=0&&edges[i].node2.dataIndex>=0&&cb.call(context,edges[i],i)},Graph.prototype.breadthFirstTraverse=function(cb,startNode,direction,context){if(startNode instanceof GraphNode||(startNode=this._nodesMap[generateNodeKey(startNode)]),startNode){for(var edgeType="out"===direction?"outEdges":"in"===direction?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!cb.call(context,startNode,null))for(var queue=[startNode];queue.length;){var currentNode=queue.shift(),edges=currentNode[edgeType];for(i=0;i<edges.length;i++){var e=edges[i],otherNode=e.node1===currentNode?e.node2:e.node1;if(!otherNode.__visited){if(cb.call(context,otherNode,currentNode))return;queue.push(otherNode),otherNode.__visited=!0}}}}},Graph.prototype.update=function(){for(var data=this.data,edgeData=this.edgeData,nodes=this.nodes,edges=this.edges,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i;edgeData.filterSelf((function(idx){var edge=edges[edgeData.getRawIndex(idx)];return edge.node1.dataIndex>=0&&edge.node2.dataIndex>=0}));for(i=0,len=edges.length;i<len;i++)edges[i].dataIndex=-1;for(i=0,len=edgeData.count();i<len;i++)edges[edgeData.getRawIndex(i)].dataIndex=i},Graph.prototype.clone=function(){for(var graph=new Graph(this._directed),nodes=this.nodes,edges=this.edges,i=0;i<nodes.length;i++)graph.addNode(nodes[i].id,nodes[i].dataIndex);for(i=0;i<edges.length;i++){var e=edges[i];graph.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return graph},Graph}(),GraphNode=function(){function GraphNode(id,dataIndex){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==id?"":id,this.dataIndex=null==dataIndex?-1:dataIndex}return GraphNode.prototype.degree=function(){return this.edges.length},GraphNode.prototype.inDegree=function(){return this.inEdges.length},GraphNode.prototype.outDegree=function(){return this.outEdges.length},GraphNode.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(path)},GraphNode.prototype.getAdjacentDataIndices=function(){for(var dataIndices={edge:[],node:[]},i=0;i<this.edges.length;i++){var adjacentEdge=this.edges[i];adjacentEdge.dataIndex<0||(dataIndices.edge.push(adjacentEdge.dataIndex),dataIndices.node.push(adjacentEdge.node1.dataIndex,adjacentEdge.node2.dataIndex))}return dataIndices},GraphNode.prototype.getTrajectoryDataIndices=function(){for(var connectedEdgesMap=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(),connectedNodesMap=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(),i=0;i<this.edges.length;i++){var adjacentEdge=this.edges[i];if(!(adjacentEdge.dataIndex<0)){connectedEdgesMap.set(adjacentEdge.dataIndex,!0);for(var sourceNodesQueue=[adjacentEdge.node1],targetNodesQueue=[adjacentEdge.node2],nodeIteratorIndex=0;nodeIteratorIndex<sourceNodesQueue.length;){var sourceNode=sourceNodesQueue[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(sourceNode.dataIndex,!0);for(var j=0;j<sourceNode.inEdges.length;j++)connectedEdgesMap.set(sourceNode.inEdges[j].dataIndex,!0),sourceNodesQueue.push(sourceNode.inEdges[j].node1)}for(nodeIteratorIndex=0;nodeIteratorIndex<targetNodesQueue.length;){var targetNode=targetNodesQueue[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(targetNode.dataIndex,!0);for(j=0;j<targetNode.outEdges.length;j++)connectedEdgesMap.set(targetNode.outEdges[j].dataIndex,!0),targetNodesQueue.push(targetNode.outEdges[j].node2)}}}return{edge:connectedEdgesMap.keys(),node:connectedNodesMap.keys()}},GraphNode}(),GraphEdge=function(){function GraphEdge(n1,n2,dataIndex){this.dataIndex=-1,this.node1=n1,this.node2=n2,this.dataIndex=null==dataIndex?-1:dataIndex}return GraphEdge.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(path)},GraphEdge.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},GraphEdge.prototype.getTrajectoryDataIndices=function(){var connectedEdgesMap=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap(),connectedNodesMap=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap();connectedEdgesMap.set(this.dataIndex,!0);for(var sourceNodes=[this.node1],targetNodes=[this.node2],nodeIteratorIndex=0;nodeIteratorIndex<sourceNodes.length;){var sourceNode=sourceNodes[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(sourceNode.dataIndex,!0);for(var j=0;j<sourceNode.inEdges.length;j++)connectedEdgesMap.set(sourceNode.inEdges[j].dataIndex,!0),sourceNodes.push(sourceNode.inEdges[j].node1)}for(nodeIteratorIndex=0;nodeIteratorIndex<targetNodes.length;){var targetNode=targetNodes[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(targetNode.dataIndex,!0);for(j=0;j<targetNode.outEdges.length;j++)connectedEdgesMap.set(targetNode.outEdges[j].dataIndex,!0),targetNodes.push(targetNode.outEdges[j].node2)}return{edge:connectedEdgesMap.keys(),node:connectedNodesMap.keys()}},GraphEdge}();function createGraphDataProxyMixin(hostName,dataName){return{getValue:function(dimension){var data=this[hostName][dataName];return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},setVisual:function(key,value){this.dataIndex>=0&&this[hostName][dataName].setItemVisual(this.dataIndex,key,value)},getVisual:function(key){return this[hostName][dataName].getItemVisual(this.dataIndex,key)},setLayout:function(layout,merge){this.dataIndex>=0&&this[hostName][dataName].setItemLayout(this.dataIndex,layout,merge)},getLayout:function(){return this[hostName][dataName].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[hostName][dataName].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[hostName][dataName].getRawIndex(this.dataIndex)}}}zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const __WEBPACK_DEFAULT_EXPORT__=Graph},"./node_modules/echarts/lib/data/OrdinalMeta.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),uidBase=0;function getName(obj){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(obj)&&null!=obj.value?obj.value:obj+""}const __WEBPACK_DEFAULT_EXPORT__=function(){function OrdinalMeta(opt){this.categories=opt.categories||[],this._needCollect=opt.needCollect,this._deduplication=opt.deduplication,this.uid=++uidBase}return OrdinalMeta.createByAxisModel=function(axisModel){var option=axisModel.option,data=option.data,categories=data&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(data,getName);return new OrdinalMeta({categories,needCollect:!categories,deduplication:!1!==option.dedplication})},OrdinalMeta.prototype.getOrdinal=function(category){return this._getOrCreateMap().get(category)},OrdinalMeta.prototype.parseAndCollect=function(category){var index,needCollect=this._needCollect;if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(category)&&!needCollect)return category;if(needCollect&&!this._deduplication)return index=this.categories.length,this.categories[index]=category,index;var map=this._getOrCreateMap();return null==(index=map.get(category))&&(needCollect?(index=this.categories.length,this.categories[index]=category,map.set(category,index)):index=NaN),index},OrdinalMeta.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)(this.categories))},OrdinalMeta}()},"./node_modules/echarts/lib/data/SeriesData.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_model_Model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),_DataDiffer_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/echarts/lib/data/DataDiffer.js"),_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataProvider.js"),_helper_dimensionHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/data/helper/dimensionHelper.js"),_SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/SeriesDimensionDefine.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_util_innerStore_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),_Source_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),_DataStore_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/data/DataStore.js"),_helper_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/helper/SeriesDataSchema.js"),isObject=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject,map=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map,CtorInt32Array="undefined"==typeof Int32Array?Array:Int32Array,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"];const __WEBPACK_DEFAULT_EXPORT__=function(){function SeriesData(dimensionsInput,hostModel){var dimensions;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var assignStoreDimIdx=!1;(0,_helper_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__.bB)(dimensionsInput)?(dimensions=dimensionsInput.dimensions,this._dimOmitted=dimensionsInput.isDimensionOmitted(),this._schema=dimensionsInput):(assignStoreDimIdx=!0,dimensions=dimensionsInput),dimensions=dimensions||["x","y"];for(var dimensionInfos={},dimensionNames=[],invertedIndicesMap={},needsHasOwn=!1,emptyObj={},i=0;i<dimensions.length;i++){var dimInfoInput=dimensions[i],dimensionInfo=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(dimInfoInput)?new _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__.Z({name:dimInfoInput}):dimInfoInput instanceof _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__.Z?dimInfoInput:new _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__.Z(dimInfoInput),dimensionName=dimensionInfo.name;dimensionInfo.type=dimensionInfo.type||"float",dimensionInfo.coordDim||(dimensionInfo.coordDim=dimensionName,dimensionInfo.coordDimIndex=0);var otherDims=dimensionInfo.otherDims=dimensionInfo.otherDims||{};dimensionNames.push(dimensionName),dimensionInfos[dimensionName]=dimensionInfo,null!=emptyObj[dimensionName]&&(needsHasOwn=!0),dimensionInfo.createInvertedIndices&&(invertedIndicesMap[dimensionName]=[]),0===otherDims.itemName&&(this._nameDimIdx=i),0===otherDims.itemId&&(this._idDimIdx=i),assignStoreDimIdx&&(dimensionInfo.storeDimIndex=i)}if(this.dimensions=dimensionNames,this._dimInfos=dimensionInfos,this._initGetDimensionInfo(needsHasOwn),this.hostModel=hostModel,this._invertedIndicesMap=invertedIndicesMap,this._dimOmitted){var dimIdxToName_1=this._dimIdxToName=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap();zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(dimensionNames,(function(dimName){dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex,dimName)}))}}return SeriesData.prototype.getDimension=function(dim){var dimIdx=this._recognizeDimIndex(dim);if(null==dimIdx)return dim;if(dimIdx=dim,!this._dimOmitted)return this.dimensions[dimIdx];var dimName=this._dimIdxToName.get(dimIdx);if(null!=dimName)return dimName;var sourceDimDef=this._schema.getSourceDimension(dimIdx);return sourceDimDef?sourceDimDef.name:void 0},SeriesData.prototype.getDimensionIndex=function(dim){var dimIdx=this._recognizeDimIndex(dim);if(null!=dimIdx)return dimIdx;if(null==dim)return-1;var dimInfo=this._getDimInfo(dim);return dimInfo?dimInfo.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(dim):-1},SeriesData.prototype._recognizeDimIndex=function(dim){if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber(dim)||null!=dim&&!isNaN(dim)&&!this._getDimInfo(dim)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(dim)<0))return+dim},SeriesData.prototype._getStoreDimIndex=function(dim){return this.getDimensionIndex(dim)},SeriesData.prototype.getDimensionInfo=function(dim){return this._getDimInfo(this.getDimension(dim))},SeriesData.prototype._initGetDimensionInfo=function(needsHasOwn){var dimensionInfos=this._dimInfos;this._getDimInfo=needsHasOwn?function(dimName){return dimensionInfos.hasOwnProperty(dimName)?dimensionInfos[dimName]:void 0}:function(dimName){return dimensionInfos[dimName]}},SeriesData.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},SeriesData.prototype.mapDimension=function(coordDim,idx){var dimensionsSummary=this._dimSummary;if(null==idx)return dimensionsSummary.encodeFirstDimNotExtra[coordDim];var dims=dimensionsSummary.encode[coordDim];return dims?dims[idx]:null},SeriesData.prototype.mapDimensionsAll=function(coordDim){return(this._dimSummary.encode[coordDim]||[]).slice()},SeriesData.prototype.getStore=function(){return this._store},SeriesData.prototype.initData=function(data,nameList,dimValueGetter){var store,_this=this;if(data instanceof _DataStore_js__WEBPACK_IMPORTED_MODULE_3__.ZP&&(store=data),!store){var dimensions=this.dimensions,provider=(0,_Source_js__WEBPACK_IMPORTED_MODULE_4__.Ld)(data)||zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArrayLike(data)?new _helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_5__.Pl(data,dimensions.length):data;store=new _DataStore_js__WEBPACK_IMPORTED_MODULE_3__.ZP;var dimensionInfos=map(dimensions,(function(dimName){return{type:_this._dimInfos[dimName].type,property:dimName}}));store.initData(provider,dimensionInfos,dimValueGetter)}this._store=store,this._nameList=(nameList||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,store.count()),this._dimSummary=(0,_helper_dimensionHelper_js__WEBPACK_IMPORTED_MODULE_6__.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},SeriesData.prototype.appendData=function(data){var range=this._store.appendData(data);this._doInit(range[0],range[1])},SeriesData.prototype.appendValues=function(values,names){var _a=this._store.appendValues(values,names.length),start=_a.start,end=_a.end,shouldMakeIdFromName=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),names)for(var idx=start;idx<end;idx++){var sourceIdx=idx-start;this._nameList[idx]=names[sourceIdx],shouldMakeIdFromName&&makeIdFromName(this,idx)}},SeriesData.prototype._updateOrdinalMeta=function(){for(var store=this._store,dimensions=this.dimensions,i=0;i<dimensions.length;i++){var dimInfo=this._dimInfos[dimensions[i]];dimInfo.ordinalMeta&&store.collectOrdinalMeta(dimInfo.storeDimIndex,dimInfo.ordinalMeta)}},SeriesData.prototype._shouldMakeIdFromName=function(){var provider=this._store.getProvider();return null==this._idDimIdx&&provider.getSource().sourceFormat!==_util_types_js__WEBPACK_IMPORTED_MODULE_7__.J5&&!provider.fillStorage},SeriesData.prototype._doInit=function(start,end){if(!(start>=end)){var provider=this._store.getProvider();this._updateOrdinalMeta();var nameList=this._nameList,idList=this._idList;if(provider.getSource().sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_7__.cy&&!provider.pure)for(var sharedDataItem=[],idx=start;idx<end;idx++){var dataItem=provider.getItem(idx,sharedDataItem);if(!this.hasItemOption&&(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__.Co)(dataItem)&&(this.hasItemOption=!0),dataItem){var itemName=dataItem.name;null==nameList[idx]&&null!=itemName&&(nameList[idx]=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__.U5)(itemName,null));var itemId=dataItem.id;null==idList[idx]&&null!=itemId&&(idList[idx]=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__.U5)(itemId,null))}}if(this._shouldMakeIdFromName())for(idx=start;idx<end;idx++)makeIdFromName(this,idx);prepareInvertedIndex(this)}},SeriesData.prototype.getApproximateExtent=function(dim){return this._approximateExtent[dim]||this._store.getDataExtent(this._getStoreDimIndex(dim))},SeriesData.prototype.setApproximateExtent=function(extent,dim){dim=this.getDimension(dim),this._approximateExtent[dim]=extent.slice()},SeriesData.prototype.getCalculationInfo=function(key){return this._calculationInfo[key]},SeriesData.prototype.setCalculationInfo=function(key,value){isObject(key)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(this._calculationInfo,key):this._calculationInfo[key]=value},SeriesData.prototype.getName=function(idx){var rawIndex=this.getRawIndex(idx),name=this._nameList[rawIndex];return null==name&&null!=this._nameDimIdx&&(name=getIdNameFromStore(this,this._nameDimIdx,rawIndex)),null==name&&(name=""),name},SeriesData.prototype._getCategory=function(dimIdx,idx){var ordinal=this._store.get(dimIdx,idx),ordinalMeta=this._store.getOrdinalMeta(dimIdx);return ordinalMeta?ordinalMeta.categories[ordinal]:ordinal},SeriesData.prototype.getId=function(idx){return getId(this,this.getRawIndex(idx))},SeriesData.prototype.count=function(){return this._store.count()},SeriesData.prototype.get=function(dim,idx){var store=this._store,dimInfo=this._dimInfos[dim];if(dimInfo)return store.get(dimInfo.storeDimIndex,idx)},SeriesData.prototype.getByRawIndex=function(dim,rawIdx){var store=this._store,dimInfo=this._dimInfos[dim];if(dimInfo)return store.getByRawIndex(dimInfo.storeDimIndex,rawIdx)},SeriesData.prototype.getIndices=function(){return this._store.getIndices()},SeriesData.prototype.getDataExtent=function(dim){return this._store.getDataExtent(this._getStoreDimIndex(dim))},SeriesData.prototype.getSum=function(dim){return this._store.getSum(this._getStoreDimIndex(dim))},SeriesData.prototype.getMedian=function(dim){return this._store.getMedian(this._getStoreDimIndex(dim))},SeriesData.prototype.getValues=function(dimensions,idx){var _this=this,store=this._store;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(dimensions)?store.getValues(map(dimensions,(function(dim){return _this._getStoreDimIndex(dim)})),idx):store.getValues(dimensions)},SeriesData.prototype.hasValue=function(idx){for(var dataDimIndicesOnCoord=this._dimSummary.dataDimIndicesOnCoord,i=0,len=dataDimIndicesOnCoord.length;i<len;i++)if(isNaN(this._store.get(dataDimIndicesOnCoord[i],idx)))return!1;return!0},SeriesData.prototype.indexOfName=function(name){for(var i=0,len=this._store.count();i<len;i++)if(this.getName(i)===name)return i;return-1},SeriesData.prototype.getRawIndex=function(idx){return this._store.getRawIndex(idx)},SeriesData.prototype.indexOfRawIndex=function(rawIndex){return this._store.indexOfRawIndex(rawIndex)},SeriesData.prototype.rawIndexOf=function(dim,value){var rawIndex=(dim&&this._invertedIndicesMap[dim])[value];return null==rawIndex||isNaN(rawIndex)?-1:rawIndex},SeriesData.prototype.indicesOfNearest=function(dim,value,maxDistance){return this._store.indicesOfNearest(this._getStoreDimIndex(dim),value,maxDistance)},SeriesData.prototype.each=function(dims,cb,ctx){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(dims)&&(ctx=cb,cb=dims,dims=[]);var fCtx=ctx||this,dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this);this._store.each(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.bind(cb,fCtx):cb)},SeriesData.prototype.filterSelf=function(dims,cb,ctx){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(dims)&&(ctx=cb,cb=dims,dims=[]);var fCtx=ctx||this,dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this);return this._store=this._store.filter(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.bind(cb,fCtx):cb),this},SeriesData.prototype.selectRange=function(range){var _this=this,innerRange={},dims=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.keys(range),dimIndices=[];return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(dims,(function(dim){var dimIdx=_this._getStoreDimIndex(dim);innerRange[dimIdx]=range[dim],dimIndices.push(dimIdx)})),this._store=this._store.selectRange(innerRange),this},SeriesData.prototype.mapArray=function(dims,cb,ctx){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(dims)&&(ctx=cb,cb=dims,dims=[]),ctx=ctx||this;var result=[];return this.each(dims,(function(){result.push(cb&&cb.apply(this,arguments))}),ctx),result},SeriesData.prototype.map=function(dims,cb,ctx,ctxCompat){var fCtx=ctx||ctxCompat||this,dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this),list=cloneListForMapAndSample(this);return list._store=this._store.map(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.bind(cb,fCtx):cb),list},SeriesData.prototype.modify=function(dims,cb,ctx,ctxCompat){var fCtx=ctx||ctxCompat||this;var dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this);this._store.modify(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.bind(cb,fCtx):cb)},SeriesData.prototype.downSample=function(dimension,rate,sampleValue,sampleIndex){var list=cloneListForMapAndSample(this);return list._store=this._store.downSample(this._getStoreDimIndex(dimension),rate,sampleValue,sampleIndex),list},SeriesData.prototype.lttbDownSample=function(valueDimension,rate){var list=cloneListForMapAndSample(this);return list._store=this._store.lttbDownSample(this._getStoreDimIndex(valueDimension),rate),list},SeriesData.prototype.getRawDataItem=function(idx){return this._store.getRawDataItem(idx)},SeriesData.prototype.getItemModel=function(idx){var hostModel=this.hostModel,dataItem=this.getRawDataItem(idx);return new _model_Model_js__WEBPACK_IMPORTED_MODULE_9__.Z(dataItem,hostModel,hostModel&&hostModel.ecModel)},SeriesData.prototype.diff=function(otherList){var thisList=this;return new _DataDiffer_js__WEBPACK_IMPORTED_MODULE_10__.Z(otherList?otherList.getStore().getIndices():[],this.getStore().getIndices(),(function(idx){return getId(otherList,idx)}),(function(idx){return getId(thisList,idx)}))},SeriesData.prototype.getVisual=function(key){var visual=this._visual;return visual&&visual[key]},SeriesData.prototype.setVisual=function(kvObj,val){this._visual=this._visual||{},isObject(kvObj)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(this._visual,kvObj):this._visual[kvObj]=val},SeriesData.prototype.getItemVisual=function(idx,key){var itemVisual=this._itemVisuals[idx],val=itemVisual&&itemVisual[key];return null==val?this.getVisual(key):val},SeriesData.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},SeriesData.prototype.ensureUniqueItemVisual=function(idx,key){var itemVisuals=this._itemVisuals,itemVisual=itemVisuals[idx];itemVisual||(itemVisual=itemVisuals[idx]={});var val=itemVisual[key];return null==val&&(val=this.getVisual(key),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(val)?val=val.slice():isObject(val)&&(val=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend({},val)),itemVisual[key]=val),val},SeriesData.prototype.setItemVisual=function(idx,key,value){var itemVisual=this._itemVisuals[idx]||{};this._itemVisuals[idx]=itemVisual,isObject(key)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(itemVisual,key):itemVisual[key]=value},SeriesData.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},SeriesData.prototype.setLayout=function(key,val){isObject(key)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(this._layout,key):this._layout[key]=val},SeriesData.prototype.getLayout=function(key){return this._layout[key]},SeriesData.prototype.getItemLayout=function(idx){return this._itemLayouts[idx]},SeriesData.prototype.setItemLayout=function(idx,layout,merge){this._itemLayouts[idx]=merge?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(this._itemLayouts[idx]||{},layout):layout},SeriesData.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},SeriesData.prototype.setItemGraphicEl=function(idx,el){var seriesIndex=this.hostModel&&this.hostModel.seriesIndex;(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_11__.Q)(seriesIndex,this.dataType,idx,el),this._graphicEls[idx]=el},SeriesData.prototype.getItemGraphicEl=function(idx){return this._graphicEls[idx]},SeriesData.prototype.eachItemGraphicEl=function(cb,context){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(this._graphicEls,(function(el,idx){el&&cb&&cb.call(context,el,idx)}))},SeriesData.prototype.cloneShallow=function(list){return list||(list=new SeriesData(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(list,this),list._store=this._store,list},SeriesData.prototype.wrapMethod=function(methodName,injectFunction){var originalMethod=this[methodName];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(originalMethod)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(methodName),this[methodName]=function(){var res=originalMethod.apply(this,arguments);return injectFunction.apply(this,[res].concat(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.slice(arguments)))})},SeriesData.internalField=(prepareInvertedIndex=function(data){var invertedIndicesMap=data._invertedIndicesMap;zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(invertedIndicesMap,(function(invertedIndices,dim){var dimInfo=data._dimInfos[dim],ordinalMeta=dimInfo.ordinalMeta,store=data._store;if(ordinalMeta){invertedIndices=invertedIndicesMap[dim]=new CtorInt32Array(ordinalMeta.categories.length);for(var i=0;i<invertedIndices.length;i++)invertedIndices[i]=-1;for(i=0;i<store.count();i++)invertedIndices[store.get(dimInfo.storeDimIndex,i)]=i}}))},getIdNameFromStore=function(data,dimIdx,idx){return(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__.U5)(data._getCategory(dimIdx,idx),null)},getId=function(data,rawIndex){var id=data._idList[rawIndex];return null==id&&null!=data._idDimIdx&&(id=getIdNameFromStore(data,data._idDimIdx,rawIndex)),null==id&&(id="e\0\0"+rawIndex),id},normalizeDimensions=function(dimensions){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(dimensions)||(dimensions=null!=dimensions?[dimensions]:[]),dimensions},cloneListForMapAndSample=function(original){var list=new SeriesData(original._schema?original._schema:map(original.dimensions,original._getDimInfo,original),original.hostModel);return transferProperties(list,original),list},transferProperties=function(target,source){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods||[]),(function(propName){source.hasOwnProperty(propName)&&(target[propName]=source[propName])})),target.__wrappedMethods=source.__wrappedMethods,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(CLONE_PROPERTIES,(function(propName){target[propName]=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.clone(source[propName])})),target._calculationInfo=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend({},source._calculationInfo)},void(makeIdFromName=function(data,idx){var nameList=data._nameList,idList=data._idList,nameDimIdx=data._nameDimIdx,idDimIdx=data._idDimIdx,name=nameList[idx],id=idList[idx];if(null==name&&null!=nameDimIdx&&(nameList[idx]=name=getIdNameFromStore(data,nameDimIdx,idx)),null==id&&null!=idDimIdx&&(idList[idx]=id=getIdNameFromStore(data,idDimIdx,idx)),null==id&&null!=name){var nameRepeatCount=data._nameRepeatCount,nmCnt=nameRepeatCount[name]=(nameRepeatCount[name]||0)+1;id=name,nmCnt>1&&(id+="__ec__"+nmCnt),idList[idx]=id}})),SeriesData}()},"./node_modules/echarts/lib/data/SeriesDimensionDefine.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");const __WEBPACK_DEFAULT_EXPORT__=function SeriesDimensionDefine(opt){this.otherDims={},null!=opt&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(this,opt)}},"./node_modules/echarts/lib/data/Source.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kp:()=>detectSourceFormat,Ld:()=>isSourceInstance,ML:()=>cloneSourceShallow,QY:()=>shouldRetrieveDataByName,_P:()=>createSource,nx:()=>createSourceFromSeriesDataOption});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),SourceImpl=function SourceImpl(fields){this.data=fields.data||(fields.sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.hL?{}:[]),this.sourceFormat=fields.sourceFormat||_util_types_js__WEBPACK_IMPORTED_MODULE_0__.RA,this.seriesLayoutBy=fields.seriesLayoutBy||_util_types_js__WEBPACK_IMPORTED_MODULE_0__.fY,this.startIndex=fields.startIndex||0,this.dimensionsDetectedCount=fields.dimensionsDetectedCount,this.metaRawOption=fields.metaRawOption;var dimensionsDefine=this.dimensionsDefine=fields.dimensionsDefine;if(dimensionsDefine)for(var i=0;i<dimensionsDefine.length;i++){var dim=dimensionsDefine[i];null==dim.type&&(0,_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_1__.u7)(this,i)===_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_1__.Dq.Must&&(dim.type="ordinal")}};function isSourceInstance(val){return val instanceof SourceImpl}function createSource(sourceData,thisMetaRawOption,sourceFormat){sourceFormat=sourceFormat||detectSourceFormat(sourceData);var seriesLayoutBy=thisMetaRawOption.seriesLayoutBy,determined=function determineSourceDimensions(data,sourceFormat,seriesLayoutBy,sourceHeader,dimensionsDefine){var dimensionsDetectedCount,startIndex;if(!data)return{dimensionsDefine:normalizeDimensionsOption(dimensionsDefine),startIndex,dimensionsDetectedCount};if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.XD){var dataArrayRows=data;"auto"===sourceHeader||null==sourceHeader?arrayRowsTravelFirst((function(val){null!=val&&"-"!==val&&((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isString)(val)?null==startIndex&&(startIndex=1):startIndex=0)}),seriesLayoutBy,dataArrayRows,10):startIndex=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(sourceHeader)?sourceHeader:sourceHeader?1:0,dimensionsDefine||1!==startIndex||(dimensionsDefine=[],arrayRowsTravelFirst((function(val,index){dimensionsDefine[index]=null!=val?val+"":""}),seriesLayoutBy,dataArrayRows,1/0)),dimensionsDetectedCount=dimensionsDefine?dimensionsDefine.length:seriesLayoutBy===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.Wc?dataArrayRows.length:dataArrayRows[0]?dataArrayRows[0].length:null}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.qb)dimensionsDefine||(dimensionsDefine=function objectRowsCollectDimensions(data){var obj,firstIndex=0;for(;firstIndex<data.length&&!(obj=data[firstIndex++]););if(obj)return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.keys)(obj)}(data));else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.hL)dimensionsDefine||(dimensionsDefine=[],(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(data,(function(colArr,key){dimensionsDefine.push(key)})));else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.cy){var value0=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__.C4)(data[0]);dimensionsDetectedCount=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(value0)&&value0.length||1}else _util_types_js__WEBPACK_IMPORTED_MODULE_0__.J5;return{startIndex,dimensionsDefine:normalizeDimensionsOption(dimensionsDefine),dimensionsDetectedCount}}(sourceData,sourceFormat,seriesLayoutBy,thisMetaRawOption.sourceHeader,thisMetaRawOption.dimensions);return new SourceImpl({data:sourceData,sourceFormat,seriesLayoutBy,dimensionsDefine:determined.dimensionsDefine,startIndex:determined.startIndex,dimensionsDetectedCount:determined.dimensionsDetectedCount,metaRawOption:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.clone)(thisMetaRawOption)})}function createSourceFromSeriesDataOption(data){return new SourceImpl({data,sourceFormat:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isTypedArray)(data)?_util_types_js__WEBPACK_IMPORTED_MODULE_0__.J5:_util_types_js__WEBPACK_IMPORTED_MODULE_0__.cy})}function cloneSourceShallow(source){return new SourceImpl({data:source.data,sourceFormat:source.sourceFormat,seriesLayoutBy:source.seriesLayoutBy,dimensionsDefine:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.clone)(source.dimensionsDefine),startIndex:source.startIndex,dimensionsDetectedCount:source.dimensionsDetectedCount})}function detectSourceFormat(data){var sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__.RA;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isTypedArray)(data))sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__.J5;else if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(data)){0===data.length&&(sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__.XD);for(var i=0,len=data.length;i<len;i++){var item=data[i];if(null!=item){if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(item)){sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__.XD;break}if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(item)){sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__.qb;break}}}}else if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(data))for(var key in data)if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.hasOwn)(data,key)&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArrayLike)(data[key])){sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__.hL;break}return sourceFormat}function normalizeDimensionsOption(dimensionsDefine){if(dimensionsDefine){var nameMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.createHashMap)();return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.map)(dimensionsDefine,(function(rawItem,index){var item={name:(rawItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(rawItem)?rawItem:{name:rawItem}).name,displayName:rawItem.displayName,type:rawItem.type};if(null==item.name)return item;item.name+="",null==item.displayName&&(item.displayName=item.name);var exist=nameMap.get(item.name);return exist?item.name+="-"+exist.count++:nameMap.set(item.name,{count:1}),item}))}}function arrayRowsTravelFirst(cb,seriesLayoutBy,data,maxLoop){if(seriesLayoutBy===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.Wc)for(var i=0;i<data.length&&i<maxLoop;i++)cb(data[i]?data[i][0]:null,i);else{var value0=data[0]||[];for(i=0;i<value0.length&&i<maxLoop;i++)cb(value0[i],i)}}function shouldRetrieveDataByName(source){var sourceFormat=source.sourceFormat;return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.qb||sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__.hL}},"./node_modules/echarts/lib/data/Tree.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_helper_linkSeriesData_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/data/helper/linkSeriesData.js"),_SeriesData_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/data/SeriesData.js"),_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/helper/createDimensions.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),TreeNode=function(){function TreeNode(name,hostTree){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=name||"",this.hostTree=hostTree}return TreeNode.prototype.isRemoved=function(){return this.dataIndex<0},TreeNode.prototype.eachNode=function(options,cb,context){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(options)&&(context=cb,cb=options,options=null),options=options||{},zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(options)&&(options={order:options});var suppressVisitSub,order=options.order||"preorder",children=this[options.attr||"children"];"preorder"===order&&(suppressVisitSub=cb.call(context,this));for(var i=0;!suppressVisitSub&&i<children.length;i++)children[i].eachNode(options,cb,context);"postorder"===order&&cb.call(context,this)},TreeNode.prototype.updateDepthAndHeight=function(depth){var height=0;this.depth=depth;for(var i=0;i<this.children.length;i++){var child=this.children[i];child.updateDepthAndHeight(depth+1),child.height>height&&(height=child.height)}this.height=height+1},TreeNode.prototype.getNodeById=function(id){if(this.getId()===id)return this;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].getNodeById(id);if(res)return res}},TreeNode.prototype.contains=function(node){if(node===this)return!0;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].contains(node);if(res)return res}},TreeNode.prototype.getAncestors=function(includeSelf){for(var ancestors=[],node=includeSelf?this:this.parentNode;node;)ancestors.push(node),node=node.parentNode;return ancestors.reverse(),ancestors},TreeNode.prototype.getAncestorsIndices=function(){for(var indices=[],currNode=this;currNode;)indices.push(currNode.dataIndex),currNode=currNode.parentNode;return indices.reverse(),indices},TreeNode.prototype.getDescendantIndices=function(){var indices=[];return this.eachNode((function(childNode){indices.push(childNode.dataIndex)})),indices},TreeNode.prototype.getValue=function(dimension){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},TreeNode.prototype.setLayout=function(layout,merge){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,layout,merge)},TreeNode.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},TreeNode.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},TreeNode.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},TreeNode.prototype.setVisual=function(key,value){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,key,value)},TreeNode.prototype.getVisual=function(key){return this.hostTree.data.getItemVisual(this.dataIndex,key)},TreeNode.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},TreeNode.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},TreeNode.prototype.getChildIndex=function(){if(this.parentNode){for(var children=this.parentNode.children,i=0;i<children.length;++i)if(children[i]===this)return i;return-1}return-1},TreeNode.prototype.isAncestorOf=function(node){for(var parent=node.parentNode;parent;){if(parent===this)return!0;parent=parent.parentNode}return!1},TreeNode.prototype.isDescendantOf=function(node){return node!==this&&node.isAncestorOf(this)},TreeNode}();const __WEBPACK_DEFAULT_EXPORT__=function(){function Tree(hostModel){this.type="tree",this._nodes=[],this.hostModel=hostModel}return Tree.prototype.eachNode=function(options,cb,context){this.root.eachNode(options,cb,context)},Tree.prototype.getNodeByDataIndex=function(dataIndex){var rawIndex=this.data.getRawIndex(dataIndex);return this._nodes[rawIndex]},Tree.prototype.getNodeById=function(name){return this.root.getNodeById(name)},Tree.prototype.update=function(){for(var data=this.data,nodes=this._nodes,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i},Tree.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Tree.createTree=function(dataRoot,hostModel,beforeLink){var tree=new Tree(hostModel),listData=[],dimMax=1;!function buildHierarchy(dataNode,parentNode){var value=dataNode.value;dimMax=Math.max(dimMax,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(value)?value.length:1),listData.push(dataNode);var node=new TreeNode((0,_util_model_js__WEBPACK_IMPORTED_MODULE_1__.U5)(dataNode.name,""),tree);parentNode?function addChild(child,node){var children=node.children;if(child.parentNode===node)return;children.push(child),child.parentNode=node}(node,parentNode):tree.root=node,tree._nodes.push(node);var children=dataNode.children;if(children)for(var i=0;i<children.length;i++)buildHierarchy(children[i],node)}(dataRoot),tree.root.updateDepthAndHeight(0);var dimensions=(0,_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_2__.Z)(listData,{coordDimensions:["value"],dimensionsCount:dimMax}).dimensions,list=new _SeriesData_js__WEBPACK_IMPORTED_MODULE_3__.Z(dimensions,hostModel);return list.initData(listData),beforeLink&&beforeLink(list),(0,_helper_linkSeriesData_js__WEBPACK_IMPORTED_MODULE_4__.Z)({mainData:list,struct:tree,structAttr:"tree"}),tree.update(),tree},Tree}()},"./node_modules/echarts/lib/data/helper/SeriesDataSchema.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Eo:()=>SeriesDataSchema,Jj:()=>ensureSourceDimNameMap,Jl:()=>shouldOmitUnusedDimensions,bB:()=>isSeriesDataSchema,v5:()=>createDimNameMap});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_Source_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),inner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function SeriesDataSchema(opt){this.dimensions=opt.dimensions,this._dimOmitted=opt.dimensionOmitted,this.source=opt.source,this._fullDimCount=opt.fullDimensionCount,this._updateDimOmitted(opt.dimensionOmitted)}return SeriesDataSchema.prototype.isDimensionOmitted=function(){return this._dimOmitted},SeriesDataSchema.prototype._updateDimOmitted=function(dimensionOmitted){this._dimOmitted=dimensionOmitted,dimensionOmitted&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},SeriesDataSchema.prototype.getSourceDimensionIndex=function(dimName){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(this._dimNameMap.get(dimName),-1)},SeriesDataSchema.prototype.getSourceDimension=function(dimIndex){var dimensionsDefine=this.source.dimensionsDefine;if(dimensionsDefine)return dimensionsDefine[dimIndex]},SeriesDataSchema.prototype.makeStoreSchema=function(){for(var dimCount=this._fullDimCount,willRetrieveDataByName=(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__.QY)(this.source),makeHashStrict=!shouldOmitUnusedDimensions(dimCount),dimHash="",dims=[],fullDimIdx=0,seriesDimIdx=0;fullDimIdx<dimCount;fullDimIdx++){var property=void 0,type=void 0,ordinalMeta=void 0,seriesDimDef=this.dimensions[seriesDimIdx];if(seriesDimDef&&seriesDimDef.storeDimIndex===fullDimIdx)property=willRetrieveDataByName?seriesDimDef.name:null,type=seriesDimDef.type,ordinalMeta=seriesDimDef.ordinalMeta,seriesDimIdx++;else{var sourceDimDef=this.getSourceDimension(fullDimIdx);sourceDimDef&&(property=willRetrieveDataByName?sourceDimDef.name:null,type=sourceDimDef.type)}dims.push({property,type,ordinalMeta}),!willRetrieveDataByName||null==property||seriesDimDef&&seriesDimDef.isCalculationCoord||(dimHash+=makeHashStrict?property.replace(/\`/g,"`1").replace(/\$/g,"`2"):property),dimHash+="$",dimHash+=dimTypeShort[type]||"f",ordinalMeta&&(dimHash+=ordinalMeta.uid),dimHash+="$"}var source=this.source;return{dimensions:dims,hash:[source.seriesLayoutBy,source.startIndex,dimHash].join("$$")}},SeriesDataSchema.prototype.makeOutputDimensionNames=function(){for(var result=[],fullDimIdx=0,seriesDimIdx=0;fullDimIdx<this._fullDimCount;fullDimIdx++){var name_1=void 0,seriesDimDef=this.dimensions[seriesDimIdx];if(seriesDimDef&&seriesDimDef.storeDimIndex===fullDimIdx)seriesDimDef.isCalculationCoord||(name_1=seriesDimDef.name),seriesDimIdx++;else{var sourceDimDef=this.getSourceDimension(fullDimIdx);sourceDimDef&&(name_1=sourceDimDef.name)}result.push(name_1)}return result},SeriesDataSchema.prototype.appendCalculationDimension=function(dimDef){this.dimensions.push(dimDef),dimDef.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},SeriesDataSchema}();function isSeriesDataSchema(schema){return schema instanceof SeriesDataSchema}function createDimNameMap(dimsDef){for(var dataDimNameMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.createHashMap)(),i=0;i<(dimsDef||[]).length;i++){var dimDefItemRaw=dimsDef[i],userDimName=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(dimDefItemRaw)?dimDefItemRaw.name:dimDefItemRaw;null!=userDimName&&null==dataDimNameMap.get(userDimName)&&dataDimNameMap.set(userDimName,i)}return dataDimNameMap}function ensureSourceDimNameMap(source){var innerSource=inner(source);return innerSource.dimNameMap||(innerSource.dimNameMap=createDimNameMap(source.dimensionsDefine))}function shouldOmitUnusedDimensions(dimCount){return dimCount>30}},"./node_modules/echarts/lib/data/helper/createDimensions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>prepareSeriesDataSchema,q:()=>createDimensions});var _util_types_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),_SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/data/SeriesDimensionDefine.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_Source_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),_DataStore_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/data/DataStore.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_sourceHelper_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/helper/SeriesDataSchema.js");function createDimensions(source,opt){return prepareSeriesDataSchema(source,opt).dimensions}function prepareSeriesDataSchema(source,opt){(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__.Ld)(source)||(source=(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__.nx)(source));var sysDims=(opt=opt||{}).coordDimensions||[],dimsDef=opt.dimensionsDefine||source.dimensionsDefine||[],coordDimNameMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.createHashMap)(),resultList=[],dimCount=function getDimCount(source,sysDims,dimsDef,optDimCount){var dimCount=Math.max(source.dimensionsDetectedCount||1,sysDims.length,dimsDef.length,optDimCount||0);return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(sysDims,(function(sysDimItem){var sysDimItemDimsDef;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(sysDimItem)&&(sysDimItemDimsDef=sysDimItem.dimsDef)&&(dimCount=Math.max(dimCount,sysDimItemDimsDef.length))})),dimCount}(source,sysDims,dimsDef,opt.dimensionsCount),omitUnusedDimensions=opt.canOmitUnusedDimensions&&(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__.Jl)(dimCount),isUsingSourceDimensionsDef=dimsDef===source.dimensionsDefine,dataDimNameMap=isUsingSourceDimensionsDef?(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__.Jj)(source):(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__.v5)(dimsDef),encodeDef=opt.encodeDefine;!encodeDef&&opt.encodeDefaulter&&(encodeDef=opt.encodeDefaulter(source,dimCount));for(var encodeDefMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.createHashMap)(encodeDef),indicesMap=new _DataStore_js__WEBPACK_IMPORTED_MODULE_3__.hG(dimCount),i=0;i<indicesMap.length;i++)indicesMap[i]=-1;function getResultItem(dimIdx){var idx=indicesMap[dimIdx];if(idx<0){var dimDefItemRaw=dimsDef[dimIdx],dimDefItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(dimDefItemRaw)?dimDefItemRaw:{name:dimDefItemRaw},resultItem=new _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_4__.Z,userDimName=dimDefItem.name;null!=userDimName&&null!=dataDimNameMap.get(userDimName)&&(resultItem.name=resultItem.displayName=userDimName),null!=dimDefItem.type&&(resultItem.type=dimDefItem.type),null!=dimDefItem.displayName&&(resultItem.displayName=dimDefItem.displayName);var newIdx=resultList.length;return indicesMap[dimIdx]=newIdx,resultItem.storeDimIndex=dimIdx,resultList.push(resultItem),resultItem}return resultList[idx]}if(!omitUnusedDimensions)for(i=0;i<dimCount;i++)getResultItem(i);encodeDefMap.each((function(dataDimsRaw,coordDim){var dataDims=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__.kF)(dataDimsRaw).slice();if(1===dataDims.length&&!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(dataDims[0])&&dataDims[0]<0)encodeDefMap.set(coordDim,!1);else{var validDataDims=encodeDefMap.set(coordDim,[]);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(dataDims,(function(resultDimIdxOrName,idx){var resultDimIdx=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(resultDimIdxOrName)?dataDimNameMap.get(resultDimIdxOrName):resultDimIdxOrName;null!=resultDimIdx&&resultDimIdx<dimCount&&(validDataDims[idx]=resultDimIdx,applyDim(getResultItem(resultDimIdx),coordDim,idx))}))}}));var availDimIdx=0;function applyDim(resultItem,coordDim,coordDimIndex){null!=_util_types_js__WEBPACK_IMPORTED_MODULE_6__.f7.get(coordDim)?resultItem.otherDims[coordDim]=coordDimIndex:(resultItem.coordDim=coordDim,resultItem.coordDimIndex=coordDimIndex,coordDimNameMap.set(coordDim,!0))}(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(sysDims,(function(sysDimItemRaw){var coordDim,sysDimItemDimsDef,sysDimItemOtherDims,sysDimItem;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(sysDimItemRaw))coordDim=sysDimItemRaw,sysDimItem={};else{coordDim=(sysDimItem=sysDimItemRaw).name;var ordinalMeta=sysDimItem.ordinalMeta;sysDimItem.ordinalMeta=null,(sysDimItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)({},sysDimItem)).ordinalMeta=ordinalMeta,sysDimItemDimsDef=sysDimItem.dimsDef,sysDimItemOtherDims=sysDimItem.otherDims,sysDimItem.name=sysDimItem.coordDim=sysDimItem.coordDimIndex=sysDimItem.dimsDef=sysDimItem.otherDims=null}var dataDims=encodeDefMap.get(coordDim);if(!1!==dataDims){if(!(dataDims=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__.kF)(dataDims)).length)for(var i=0;i<(sysDimItemDimsDef&&sysDimItemDimsDef.length||1);i++){for(;availDimIdx<dimCount&&null!=getResultItem(availDimIdx).coordDim;)availDimIdx++;availDimIdx<dimCount&&dataDims.push(availDimIdx++)}(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(dataDims,(function(resultDimIdx,coordDimIndex){var resultItem=getResultItem(resultDimIdx);if(isUsingSourceDimensionsDef&&null!=sysDimItem.type&&(resultItem.type=sysDimItem.type),applyDim((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.defaults)(resultItem,sysDimItem),coordDim,coordDimIndex),null==resultItem.name&&sysDimItemDimsDef){var sysDimItemDimsDefItem=sysDimItemDimsDef[coordDimIndex];!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(sysDimItemDimsDefItem)&&(sysDimItemDimsDefItem={name:sysDimItemDimsDefItem}),resultItem.name=resultItem.displayName=sysDimItemDimsDefItem.name,resultItem.defaultTooltip=sysDimItemDimsDefItem.defaultTooltip}sysDimItemOtherDims&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.defaults)(resultItem.otherDims,sysDimItemOtherDims)}))}}));var generateCoord=opt.generateCoord,generateCoordCount=opt.generateCoordCount,fromZero=null!=generateCoordCount;generateCoordCount=generateCoord?generateCoordCount||1:0;var extra=generateCoord||"value";function ifNoNameFillWithCoordName(resultItem){null==resultItem.name&&(resultItem.name=resultItem.coordDim)}if(omitUnusedDimensions)(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(resultList,(function(resultItem){ifNoNameFillWithCoordName(resultItem)})),resultList.sort((function(item0,item1){return item0.storeDimIndex-item1.storeDimIndex}));else for(var resultDimIdx=0;resultDimIdx<dimCount;resultDimIdx++){var resultItem=getResultItem(resultDimIdx);null==resultItem.coordDim&&(resultItem.coordDim=genCoordDimName(extra,coordDimNameMap,fromZero),resultItem.coordDimIndex=0,(!generateCoord||generateCoordCount<=0)&&(resultItem.isExtraCoord=!0),generateCoordCount--),ifNoNameFillWithCoordName(resultItem),null!=resultItem.type||(0,_sourceHelper_js__WEBPACK_IMPORTED_MODULE_7__.u7)(source,resultDimIdx)!==_sourceHelper_js__WEBPACK_IMPORTED_MODULE_7__.Dq.Must&&(!resultItem.isExtraCoord||null==resultItem.otherDims.itemName&&null==resultItem.otherDims.seriesName)||(resultItem.type="ordinal")}return function removeDuplication(result){for(var duplicationMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.createHashMap)(),i=0;i<result.length;i++){var dim=result[i],dimOriginalName=dim.name,count=duplicationMap.get(dimOriginalName)||0;count>0&&(dim.name=dimOriginalName+(count-1)),count++,duplicationMap.set(dimOriginalName,count)}}(resultList),new _SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__.Eo({source,dimensions:resultList,fullDimensionCount:dimCount,dimensionOmitted:omitUnusedDimensions})}function genCoordDimName(name,map,fromZero){if(fromZero||map.hasKey(name)){for(var i=0;map.hasKey(name+i);)i++;name+=i}return map.set(name,!0),name}},"./node_modules/echarts/lib/data/helper/dataProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Pl:()=>DefaultDataProvider,_j:()=>getRawSourceItemGetter,a:()=>getRawSourceDataCounter,hk:()=>retrieveRawValue,tB:()=>getRawSourceValueGetter});var _a,_b,_c,providerMethods,mountMethods,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_Source_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),DefaultDataProvider=function(){function DefaultDataProvider(sourceParam,dimSize){var source=(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__.Ld)(sourceParam)?sourceParam:(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__.nx)(sourceParam);this._source=source;var data=this._data=source.data;source.sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.J5&&(this._offset=0,this._dimSize=dimSize,this._data=data),mountMethods(this,data,source)}var proto;return DefaultDataProvider.prototype.getSource=function(){return this._source},DefaultDataProvider.prototype.count=function(){return 0},DefaultDataProvider.prototype.getItem=function(idx,out){},DefaultDataProvider.prototype.appendData=function(newData){},DefaultDataProvider.prototype.clean=function(){},DefaultDataProvider.protoInitialize=((proto=DefaultDataProvider.prototype).pure=!1,void(proto.persistent=!0)),DefaultDataProvider.internalField=function(){var _a;mountMethods=function(provider,data,source){var sourceFormat=source.sourceFormat,seriesLayoutBy=source.seriesLayoutBy,startIndex=source.startIndex,dimsDef=source.dimensionsDefine,methods=providerMethods[getMethodMapKey(sourceFormat,seriesLayoutBy)];if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)(provider,methods),sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.J5)provider.getItem=getItemForTypedArray,provider.count=countForTypedArray,provider.fillStorage=fillStorageForTypedArray;else{var rawItemGetter=getRawSourceItemGetter(sourceFormat,seriesLayoutBy);provider.getItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.bind)(rawItemGetter,null,data,startIndex,dimsDef);var rawCounter=getRawSourceDataCounter(sourceFormat,seriesLayoutBy);provider.count=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.bind)(rawCounter,null,data,startIndex,dimsDef)}};var getItemForTypedArray=function(idx,out){idx-=this._offset,out=out||[];for(var data=this._data,dimSize=this._dimSize,offset=dimSize*idx,i=0;i<dimSize;i++)out[i]=data[offset+i];return out},fillStorageForTypedArray=function(start,end,storage,extent){for(var data=this._data,dimSize=this._dimSize,dim=0;dim<dimSize;dim++){for(var dimExtent=extent[dim],min=null==dimExtent[0]?1/0:dimExtent[0],max=null==dimExtent[1]?-1/0:dimExtent[1],count=end-start,arr=storage[dim],i=0;i<count;i++){var val=data[i*dimSize+dim];arr[start+i]=val,val<min&&(min=val),val>max&&(max=val)}dimExtent[0]=min,dimExtent[1]=max}},countForTypedArray=function(){return this._data?this._data.length/this._dimSize:0};function appendDataSimply(newData){for(var i=0;i<newData.length;i++)this._data.push(newData[i])}(_a={})[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY]={pure:!0,appendData:appendDataSimply},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.qb]={pure:!0,appendData:appendDataSimply},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.hL]={pure:!0,appendData:function(newData){var data=this._data;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(newData,(function(newCol,key){for(var oldCol=data[key]||(data[key]=[]),i=0;i<(newCol||[]).length;i++)oldCol.push(newCol[i])}))}},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.cy]={appendData:appendDataSimply},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.J5]={persistent:!1,pure:!0,appendData:function(newData){this._data=newData},clean:function(){this._offset+=this.count(),this._data=null}},providerMethods=_a}(),DefaultDataProvider}(),getItemSimply=function(rawData,startIndex,dimsDef,idx){return rawData[idx]},rawSourceItemGetterMap=((_a={})[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY]=function(rawData,startIndex,dimsDef,idx){return rawData[idx+startIndex]},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__.Wc]=function(rawData,startIndex,dimsDef,idx,out){idx+=startIndex;for(var item=out||[],data=rawData,i=0;i<data.length;i++){var row=data[i];item[i]=row?row[idx]:null}return item},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.qb]=getItemSimply,_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.hL]=function(rawData,startIndex,dimsDef,idx,out){for(var item=out||[],i=0;i<dimsDef.length;i++){0;var col=rawData[dimsDef[i].name];item[i]=col?col[idx]:null}return item},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.cy]=getItemSimply,_a);function getRawSourceItemGetter(sourceFormat,seriesLayoutBy){return rawSourceItemGetterMap[getMethodMapKey(sourceFormat,seriesLayoutBy)]}var countSimply=function(rawData,startIndex,dimsDef){return rawData.length},rawSourceDataCounterMap=((_b={})[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY]=function(rawData,startIndex,dimsDef){return Math.max(0,rawData.length-startIndex)},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__.Wc]=function(rawData,startIndex,dimsDef){var row=rawData[0];return row?Math.max(0,row.length-startIndex):0},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.qb]=countSimply,_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.hL]=function(rawData,startIndex,dimsDef){var col=rawData[dimsDef[0].name];return col?col.length:0},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.cy]=countSimply,_b);function getRawSourceDataCounter(sourceFormat,seriesLayoutBy){return rawSourceDataCounterMap[getMethodMapKey(sourceFormat,seriesLayoutBy)]}var getRawValueSimply=function(dataItem,dimIndex,property){return dataItem[dimIndex]},rawSourceValueGetterMap=((_c={})[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD]=getRawValueSimply,_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.qb]=function(dataItem,dimIndex,property){return dataItem[property]},_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.hL]=getRawValueSimply,_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.cy]=function(dataItem,dimIndex,property){var value=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__.C4)(dataItem);return value instanceof Array?value[dimIndex]:value},_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__.J5]=getRawValueSimply,_c);function getRawSourceValueGetter(sourceFormat){return rawSourceValueGetterMap[sourceFormat]}function getMethodMapKey(sourceFormat,seriesLayoutBy){return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD?sourceFormat+"_"+seriesLayoutBy:sourceFormat}function retrieveRawValue(data,dataIndex,dim){if(data){var dataItem=data.getRawDataItem(dataIndex);if(null!=dataItem){var store=data.getStore(),sourceFormat=store.getSource().sourceFormat;if(null!=dim){var dimIndex=data.getDimensionIndex(dim),property=store.getDimensionProperty(dimIndex);return getRawSourceValueGetter(sourceFormat)(dataItem,dimIndex,property)}var result=dataItem;return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.cy&&(result=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__.C4)(dataItem)),result}}}},"./node_modules/echarts/lib/data/helper/dataStackHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BM:()=>enableDataStack,IR:()=>getStackedDimension,M:()=>isDimensionStacked});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/helper/SeriesDataSchema.js");function enableDataStack(seriesModel,dimensionsInput,opt){var dimensionDefineList,schema,store,byIndex=(opt=opt||{}).byIndex,stackedCoordDimension=opt.stackedCoordDimension;!function isLegacyDimensionsInput(dimensionsInput){return!(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__.bB)(dimensionsInput.schema)}(dimensionsInput)?(schema=dimensionsInput.schema,dimensionDefineList=schema.dimensions,store=dimensionsInput.store):dimensionDefineList=dimensionsInput;var stackedByDimInfo,stackedDimInfo,stackResultDimension,stackedOverDimension,mayStack=!(!seriesModel||!seriesModel.get("stack"));if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(dimensionDefineList,(function(dimensionInfo,index){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(dimensionInfo)&&(dimensionDefineList[index]=dimensionInfo={name:dimensionInfo}),mayStack&&!dimensionInfo.isExtraCoord&&(byIndex||stackedByDimInfo||!dimensionInfo.ordinalMeta||(stackedByDimInfo=dimensionInfo),stackedDimInfo||"ordinal"===dimensionInfo.type||"time"===dimensionInfo.type||stackedCoordDimension&&stackedCoordDimension!==dimensionInfo.coordDim||(stackedDimInfo=dimensionInfo))})),!stackedDimInfo||byIndex||stackedByDimInfo||(byIndex=!0),stackedDimInfo){stackResultDimension="__\0ecstackresult_"+seriesModel.id,stackedOverDimension="__\0ecstackedover_"+seriesModel.id,stackedByDimInfo&&(stackedByDimInfo.createInvertedIndices=!0);var stackedDimCoordDim_1=stackedDimInfo.coordDim,stackedDimType=stackedDimInfo.type,stackedDimCoordIndex_1=0;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(dimensionDefineList,(function(dimensionInfo){dimensionInfo.coordDim===stackedDimCoordDim_1&&stackedDimCoordIndex_1++}));var stackedOverDimensionDefine={name:stackResultDimension,coordDim:stackedDimCoordDim_1,coordDimIndex:stackedDimCoordIndex_1,type:stackedDimType,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:dimensionDefineList.length},stackResultDimensionDefine={name:stackedOverDimension,coordDim:stackedOverDimension,coordDimIndex:stackedDimCoordIndex_1+1,type:stackedDimType,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:dimensionDefineList.length+1};schema?(store&&(stackedOverDimensionDefine.storeDimIndex=store.ensureCalculationDimension(stackedOverDimension,stackedDimType),stackResultDimensionDefine.storeDimIndex=store.ensureCalculationDimension(stackResultDimension,stackedDimType)),schema.appendCalculationDimension(stackedOverDimensionDefine),schema.appendCalculationDimension(stackResultDimensionDefine)):(dimensionDefineList.push(stackedOverDimensionDefine),dimensionDefineList.push(stackResultDimensionDefine))}return{stackedDimension:stackedDimInfo&&stackedDimInfo.name,stackedByDimension:stackedByDimInfo&&stackedByDimInfo.name,isStackedByIndex:byIndex,stackedOverDimension,stackResultDimension}}function isDimensionStacked(data,stackedDim){return!!stackedDim&&stackedDim===data.getCalculationInfo("stackedDimension")}function getStackedDimension(data,targetDim){return isDimensionStacked(data,targetDim)?data.getCalculationInfo("stackResultDimension"):targetDim}},"./node_modules/echarts/lib/data/helper/dataValueHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ID:()=>SortOrderComparator,o2:()=>getRawValueParser,tR:()=>createFilterComparator,yQ:()=>parseDataValue});var _util_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_log_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/log.js");function parseDataValue(value,opt){var dimType=opt&&opt.type;return"ordinal"===dimType?value:("time"!==dimType||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(value)||null==value||"-"===value||(value=+(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.sG)(value)),null==value||""===value?NaN:+value)}var valueParserMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)({number:function(val){return parseFloat(val)},time:function(val){return+(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.sG)(val)},trim:function(val){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(val)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(val):val}});function getRawValueParser(type){return valueParserMap.get(type)}var ORDER_COMPARISON_OP_MAP={lt:function(lval,rval){return lval<rval},lte:function(lval,rval){return lval<=rval},gt:function(lval,rval){return lval>rval},gte:function(lval,rval){return lval>=rval}},FilterOrderComparator=function(){function FilterOrderComparator(op,rval){if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(rval)){0,(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("")}this._opFn=ORDER_COMPARISON_OP_MAP[op],this._rvalFloat=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.FK)(rval)}return FilterOrderComparator.prototype.evaluate=function(lval){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(lval)?this._opFn(lval,this._rvalFloat):this._opFn((0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.FK)(lval),this._rvalFloat)},FilterOrderComparator}(),SortOrderComparator=function(){function SortOrderComparator(order,incomparable){var isDesc="desc"===order;this._resultLT=isDesc?1:-1,null==incomparable&&(incomparable=isDesc?"min":"max"),this._incomparable="min"===incomparable?-1/0:1/0}return SortOrderComparator.prototype.evaluate=function(lval,rval){var lvalFloat=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(lval)?lval:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.FK)(lval),rvalFloat=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(rval)?rval:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.FK)(rval),lvalNotNumeric=isNaN(lvalFloat),rvalNotNumeric=isNaN(rvalFloat);if(lvalNotNumeric&&(lvalFloat=this._incomparable),rvalNotNumeric&&(rvalFloat=this._incomparable),lvalNotNumeric&&rvalNotNumeric){var lvalIsStr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(lval),rvalIsStr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(rval);lvalIsStr&&(lvalFloat=rvalIsStr?lval:0),rvalIsStr&&(rvalFloat=lvalIsStr?rval:0)}return lvalFloat<rvalFloat?this._resultLT:lvalFloat>rvalFloat?-this._resultLT:0},SortOrderComparator}(),FilterEqualityComparator=function(){function FilterEqualityComparator(isEq,rval){this._rval=rval,this._isEQ=isEq,this._rvalTypeof=typeof rval,this._rvalFloat=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.FK)(rval)}return FilterEqualityComparator.prototype.evaluate=function(lval){var eqResult=lval===this._rval;if(!eqResult){var lvalTypeof=typeof lval;lvalTypeof===this._rvalTypeof||"number"!==lvalTypeof&&"number"!==this._rvalTypeof||(eqResult=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.FK)(lval)===this._rvalFloat)}return this._isEQ?eqResult:!eqResult},FilterEqualityComparator}();function createFilterComparator(op,rval){return"eq"===op||"ne"===op?new FilterEqualityComparator("eq"===op,rval):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.hasOwn)(ORDER_COMPARISON_OP_MAP,op)?new FilterOrderComparator(op,rval):null}},"./node_modules/echarts/lib/data/helper/dimensionHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>getDimensionTypeByAxis,y:()=>summarizeDimensions});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),DimensionUserOuput=function(){function DimensionUserOuput(encode,dimRequest){this._encode=encode,this._schema=dimRequest}return DimensionUserOuput.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},DimensionUserOuput.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},DimensionUserOuput}();function summarizeDimensions(data,schema){var summary={},encode=summary.encode={},notExtraCoordDimMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)(),defaultedLabel=[],defaultedTooltip=[],userOutputEncode={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(data.dimensions,(function(dimName){var dimItem=data.getDimensionInfo(dimName),coordDim=dimItem.coordDim;if(coordDim){0;var coordDimIndex=dimItem.coordDimIndex;getOrCreateEncodeArr(encode,coordDim)[coordDimIndex]=dimName,dimItem.isExtraCoord||(notExtraCoordDimMap.set(coordDim,1),function mayLabelDimType(dimType){return!("ordinal"===dimType||"time"===dimType)}(dimItem.type)&&(defaultedLabel[0]=dimName),getOrCreateEncodeArr(userOutputEncode,coordDim)[coordDimIndex]=data.getDimensionIndex(dimItem.name)),dimItem.defaultTooltip&&defaultedTooltip.push(dimName)}_util_types_js__WEBPACK_IMPORTED_MODULE_1__.f7.each((function(v,otherDim){var encodeArr=getOrCreateEncodeArr(encode,otherDim),dimIndex=dimItem.otherDims[otherDim];null!=dimIndex&&!1!==dimIndex&&(encodeArr[dimIndex]=dimItem.name)}))}));var dataDimsOnCoord=[],encodeFirstDimNotExtra={};notExtraCoordDimMap.each((function(v,coordDim){var dimArr=encode[coordDim];encodeFirstDimNotExtra[coordDim]=dimArr[0],dataDimsOnCoord=dataDimsOnCoord.concat(dimArr)})),summary.dataDimsOnCoord=dataDimsOnCoord,summary.dataDimIndicesOnCoord=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(dataDimsOnCoord,(function(dimName){return data.getDimensionInfo(dimName).storeDimIndex})),summary.encodeFirstDimNotExtra=encodeFirstDimNotExtra;var encodeLabel=encode.label;encodeLabel&&encodeLabel.length&&(defaultedLabel=encodeLabel.slice());var encodeTooltip=encode.tooltip;return encodeTooltip&&encodeTooltip.length?defaultedTooltip=encodeTooltip.slice():defaultedTooltip.length||(defaultedTooltip=defaultedLabel.slice()),encode.defaultedLabel=defaultedLabel,encode.defaultedTooltip=defaultedTooltip,summary.userOutput=new DimensionUserOuput(userOutputEncode,schema),summary}function getOrCreateEncodeArr(encode,dim){return encode.hasOwnProperty(dim)||(encode[dim]=[]),encode[dim]}function getDimensionTypeByAxis(axisType){return"category"===axisType?"ordinal":"time"===axisType?"time":"float"}},"./node_modules/echarts/lib/data/helper/linkSeriesData.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),inner=(0,__webpack_require__("./node_modules/echarts/lib/util/model.js").Yf)();function transferInjection(opt,res){if(function isMainData(data){return inner(data).mainData===data}(this)){var datas=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)({},inner(this).datas);datas[this.dataType]=res,linkAll(res,datas,opt)}else linkSingle(res,this.dataType,inner(this).mainData,opt);return res}function changeInjection(opt,res){return opt.struct&&opt.struct.update(),res}function cloneShallowInjection(opt,res){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(inner(res).datas,(function(data,dataType){data!==res&&linkSingle(data.cloneShallow(),dataType,res,opt)})),res}function getLinkedData(dataType){var mainData=inner(this).mainData;return null==dataType||null==mainData?mainData:inner(mainData).datas[dataType]}function getLinkedDataAll(){var mainData=inner(this).mainData;return null==mainData?[{data:mainData}]:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.map)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(inner(mainData).datas),(function(type){return{type,data:inner(mainData).datas[type]}}))}function linkAll(mainData,datas,opt){inner(mainData).datas={},(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(datas,(function(data,dataType){linkSingle(data,dataType,mainData,opt)}))}function linkSingle(data,dataType,mainData,opt){inner(mainData).datas[dataType]=data,inner(data).mainData=mainData,data.dataType=dataType,opt.struct&&(data[opt.structAttr]=opt.struct,opt.struct[opt.datasAttr[dataType]]=data),data.getLinkedData=getLinkedData,data.getLinkedDataAll=getLinkedDataAll}const __WEBPACK_DEFAULT_EXPORT__=function linkSeriesData(opt){var mainData=opt.mainData,datas=opt.datas;datas||(datas={main:mainData},opt.datasAttr={main:"data"}),opt.datas=opt.mainData=null,linkAll(mainData,datas,opt),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(datas,(function(data){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(mainData.TRANSFERABLE_METHODS,(function(methodName){data.wrapMethod(methodName,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.curry)(transferInjection,opt))}))})),mainData.wrapMethod("cloneShallow",(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.curry)(cloneShallowInjection,opt)),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(mainData.CHANGABLE_METHODS,(function(methodName){mainData.wrapMethod(methodName,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.curry)(changeInjection,opt))})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.assert)(datas[mainData.dataType]===mainData)}},"./node_modules/echarts/lib/data/helper/sourceHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dq:()=>BE_ORDINAL,JT:()=>queryDatasetUpstreamDatasetModels,Ss:()=>makeSeriesEncodeForNameBased,Wd:()=>querySeriesUpstreamDatasetModel,md:()=>resetSourceDefaulter,pY:()=>makeSeriesEncodeForAxisCoordSys,u7:()=>guessOrdinal});var _util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)();function resetSourceDefaulter(ecModel){innerGlobalModel(ecModel).datasetMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.createHashMap)()}function makeSeriesEncodeForAxisCoordSys(coordDimensions,seriesModel,source){var encode={},datasetModel=querySeriesUpstreamDatasetModel(seriesModel);if(!datasetModel||!coordDimensions)return encode;var baseCategoryDimIndex,categoryWayValueDimStart,encodeItemName=[],encodeSeriesName=[],ecModel=seriesModel.ecModel,datasetMap=innerGlobalModel(ecModel).datasetMap,key=datasetModel.uid+"_"+source.seriesLayoutBy;coordDimensions=coordDimensions.slice(),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(coordDimensions,(function(coordDimInfoLoose,coordDimIdx){var coordDimInfo=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(coordDimInfoLoose)?coordDimInfoLoose:coordDimensions[coordDimIdx]={name:coordDimInfoLoose};"ordinal"===coordDimInfo.type&&null==baseCategoryDimIndex&&(baseCategoryDimIndex=coordDimIdx,categoryWayValueDimStart=getDataDimCountOnCoordDim(coordDimInfo)),encode[coordDimInfo.name]=[]}));var datasetRecord=datasetMap.get(key)||datasetMap.set(key,{categoryWayDim:categoryWayValueDimStart,valueWayDim:0});function pushDim(dimIdxArr,idxFrom,idxCount){for(var i=0;i<idxCount;i++)dimIdxArr.push(idxFrom+i)}function getDataDimCountOnCoordDim(coordDimInfo){var dimsDef=coordDimInfo.dimsDef;return dimsDef?dimsDef.length:1}return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(coordDimensions,(function(coordDimInfo,coordDimIdx){var coordDimName=coordDimInfo.name,count=getDataDimCountOnCoordDim(coordDimInfo);if(null==baseCategoryDimIndex){var start=datasetRecord.valueWayDim;pushDim(encode[coordDimName],start,count),pushDim(encodeSeriesName,start,count),datasetRecord.valueWayDim+=count}else if(baseCategoryDimIndex===coordDimIdx)pushDim(encode[coordDimName],0,count),pushDim(encodeItemName,0,count);else{start=datasetRecord.categoryWayDim;pushDim(encode[coordDimName],start,count),pushDim(encodeSeriesName,start,count),datasetRecord.categoryWayDim+=count}})),encodeItemName.length&&(encode.itemName=encodeItemName),encodeSeriesName.length&&(encode.seriesName=encodeSeriesName),encode}function makeSeriesEncodeForNameBased(seriesModel,source,dimCount){var encode={};if(!querySeriesUpstreamDatasetModel(seriesModel))return encode;var potentialNameDimIndex,sourceFormat=source.sourceFormat,dimensionsDefine=source.dimensionsDefine;sourceFormat!==_util_types_js__WEBPACK_IMPORTED_MODULE_2__.qb&&sourceFormat!==_util_types_js__WEBPACK_IMPORTED_MODULE_2__.hL||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each)(dimensionsDefine,(function(dim,idx){"name"===((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(dim)?dim.name:dim)&&(potentialNameDimIndex=idx)}));var idxResult=function(){for(var idxRes0={},idxRes1={},guessRecords=[],i=0,len=Math.min(5,dimCount);i<len;i++){var guessResult=doGuessOrdinal(source.data,sourceFormat,source.seriesLayoutBy,dimensionsDefine,source.startIndex,i);guessRecords.push(guessResult);var isPureNumber=guessResult===BE_ORDINAL.Not;if(isPureNumber&&null==idxRes0.v&&i!==potentialNameDimIndex&&(idxRes0.v=i),(null==idxRes0.n||idxRes0.n===idxRes0.v||!isPureNumber&&guessRecords[idxRes0.n]===BE_ORDINAL.Not)&&(idxRes0.n=i),fulfilled(idxRes0)&&guessRecords[idxRes0.n]!==BE_ORDINAL.Not)return idxRes0;isPureNumber||(guessResult===BE_ORDINAL.Might&&null==idxRes1.v&&i!==potentialNameDimIndex&&(idxRes1.v=i),null!=idxRes1.n&&idxRes1.n!==idxRes1.v||(idxRes1.n=i))}function fulfilled(idxResult){return null!=idxResult.v&&null!=idxResult.n}return fulfilled(idxRes0)?idxRes0:fulfilled(idxRes1)?idxRes1:null}();if(idxResult){encode.value=[idxResult.v];var nameDimIndex=null!=potentialNameDimIndex?potentialNameDimIndex:idxResult.n;encode.itemName=[nameDimIndex],encode.seriesName=[nameDimIndex]}return encode}function querySeriesUpstreamDatasetModel(seriesModel){if(!seriesModel.get("data",!0))return(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.HZ)(seriesModel.ecModel,"dataset",{index:seriesModel.get("datasetIndex",!0),id:seriesModel.get("datasetId",!0)},_util_model_js__WEBPACK_IMPORTED_MODULE_0__.C6).models[0]}function queryDatasetUpstreamDatasetModels(datasetModel){return datasetModel.get("transform",!0)||datasetModel.get("fromTransformResult",!0)?(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.HZ)(datasetModel.ecModel,"dataset",{index:datasetModel.get("fromDatasetIndex",!0),id:datasetModel.get("fromDatasetId",!0)},_util_model_js__WEBPACK_IMPORTED_MODULE_0__.C6).models:[]}function guessOrdinal(source,dimIndex){return doGuessOrdinal(source.data,source.sourceFormat,source.seriesLayoutBy,source.dimensionsDefine,source.startIndex,dimIndex)}function doGuessOrdinal(data,sourceFormat,seriesLayoutBy,dimensionsDefine,startIndex,dimIndex){var result,dimName,dimType;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isTypedArray)(data))return BE_ORDINAL.Not;if(dimensionsDefine){var dimDefItem=dimensionsDefine[dimIndex];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(dimDefItem)?(dimName=dimDefItem.name,dimType=dimDefItem.type):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(dimDefItem)&&(dimName=dimDefItem)}if(null!=dimType)return"ordinal"===dimType?BE_ORDINAL.Must:BE_ORDINAL.Not;if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__.XD){var dataArrayRows=data;if(seriesLayoutBy===_util_types_js__WEBPACK_IMPORTED_MODULE_2__.Wc){for(var sample=dataArrayRows[dimIndex],i=0;i<(sample||[]).length&&i<5;i++)if(null!=(result=detectValue(sample[startIndex+i])))return result}else for(i=0;i<dataArrayRows.length&&i<5;i++){var row=dataArrayRows[startIndex+i];if(row&&null!=(result=detectValue(row[dimIndex])))return result}}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__.qb){var dataObjectRows=data;if(!dimName)return BE_ORDINAL.Not;for(i=0;i<dataObjectRows.length&&i<5;i++){if((item=dataObjectRows[i])&&null!=(result=detectValue(item[dimName])))return result}}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__.hL){var dataKeyedColumns=data;if(!dimName)return BE_ORDINAL.Not;if(!(sample=dataKeyedColumns[dimName])||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isTypedArray)(sample))return BE_ORDINAL.Not;for(i=0;i<sample.length&&i<5;i++)if(null!=(result=detectValue(sample[i])))return result}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__.cy){var dataOriginal=data;for(i=0;i<dataOriginal.length&&i<5;i++){var item=dataOriginal[i],val=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.C4)(item);if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray)(val))return BE_ORDINAL.Not;if(null!=(result=detectValue(val[dimIndex])))return result}}function detectValue(val){var beStr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString)(val);return null!=val&&isFinite(val)&&""!==val?beStr?BE_ORDINAL.Might:BE_ORDINAL.Not:beStr&&"-"!==val?BE_ORDINAL.Must:void 0}return BE_ORDINAL.Not}},"./node_modules/echarts/lib/data/helper/sourceManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>SourceManager,t:()=>disableTransformOptionMerge});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_Source_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),_util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),_transform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/data/helper/transform.js"),_DataStore_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/data/DataStore.js"),_dataProvider_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataProvider.js"),SourceManager=function(){function SourceManager(sourceHost){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=sourceHost}return SourceManager.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},SourceManager.prototype._setLocalSource=function(sourceList,upstreamSignList){this._sourceList=sourceList,this._upstreamSignList=upstreamSignList,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},SourceManager.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},SourceManager.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},SourceManager.prototype._createSource=function(){this._setLocalSource([],[]);var resultSourceList,upstreamSignList,sourceHost=this._sourceHost,upSourceMgrList=this._getUpstreamSourceManagers(),hasUpstream=!!upSourceMgrList.length;if(isSeries(sourceHost)){var seriesModel=sourceHost,data=void 0,sourceFormat=void 0,upSource=void 0;if(hasUpstream){var upSourceMgr=upSourceMgrList[0];upSourceMgr.prepareSource(),data=(upSource=upSourceMgr.getSource()).data,sourceFormat=upSource.sourceFormat,upstreamSignList=[upSourceMgr._getVersionSign()]}else data=seriesModel.get("data",!0),sourceFormat=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isTypedArray)(data)?_util_types_js__WEBPACK_IMPORTED_MODULE_1__.J5:_util_types_js__WEBPACK_IMPORTED_MODULE_1__.cy,upstreamSignList=[];var newMetaRawOption=this._getSourceMetaRawOption()||{},upMetaRawOption=upSource&&upSource.metaRawOption||{},seriesLayoutBy=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(newMetaRawOption.seriesLayoutBy,upMetaRawOption.seriesLayoutBy)||null,sourceHeader=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(newMetaRawOption.sourceHeader,upMetaRawOption.sourceHeader),dimensions=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(newMetaRawOption.dimensions,upMetaRawOption.dimensions);resultSourceList=seriesLayoutBy!==upMetaRawOption.seriesLayoutBy||!!sourceHeader!=!!upMetaRawOption.sourceHeader||dimensions?[(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__._P)(data,{seriesLayoutBy,sourceHeader,dimensions},sourceFormat)]:[]}else{var datasetModel=sourceHost;if(hasUpstream){var result=this._applyTransform(upSourceMgrList);resultSourceList=result.sourceList,upstreamSignList=result.upstreamSignList}else{var sourceData=datasetModel.get("source",!0);resultSourceList=[(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__._P)(sourceData,this._getSourceMetaRawOption(),null)],upstreamSignList=[]}}this._setLocalSource(resultSourceList,upstreamSignList)},SourceManager.prototype._applyTransform=function(upMgrList){var sourceList,datasetModel=this._sourceHost,transformOption=datasetModel.get("transform",!0),fromTransformResult=datasetModel.get("fromTransformResult",!0);if(null!=fromTransformResult){1!==upMgrList.length&&doThrow("")}var upSourceList=[],upstreamSignList=[];return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(upMgrList,(function(upMgr){upMgr.prepareSource();var upSource=upMgr.getSource(fromTransformResult||0);null==fromTransformResult||upSource||doThrow(""),upSourceList.push(upSource),upstreamSignList.push(upMgr._getVersionSign())})),transformOption?sourceList=(0,_transform_js__WEBPACK_IMPORTED_MODULE_3__.vK)(transformOption,upSourceList,{datasetIndex:datasetModel.componentIndex}):null!=fromTransformResult&&(sourceList=[(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__.ML)(upSourceList[0])]),{sourceList,upstreamSignList}},SourceManager.prototype._isDirty=function(){if(this._dirty)return!0;for(var upSourceMgrList=this._getUpstreamSourceManagers(),i=0;i<upSourceMgrList.length;i++){var upSrcMgr=upSourceMgrList[i];if(upSrcMgr._isDirty()||this._upstreamSignList[i]!==upSrcMgr._getVersionSign())return!0}},SourceManager.prototype.getSource=function(sourceIndex){sourceIndex=sourceIndex||0;var source=this._sourceList[sourceIndex];if(!source){var upSourceMgrList=this._getUpstreamSourceManagers();return upSourceMgrList[0]&&upSourceMgrList[0].getSource(sourceIndex)}return source},SourceManager.prototype.getSharedDataStore=function(seriesDimRequest){var schema=seriesDimRequest.makeStoreSchema();return this._innerGetDataStore(schema.dimensions,seriesDimRequest.source,schema.hash)},SourceManager.prototype._innerGetDataStore=function(storeDims,seriesSource,sourceReadKey){var storeList=this._storeList,cachedStoreMap=storeList[0];cachedStoreMap||(cachedStoreMap=storeList[0]={});var cachedStore=cachedStoreMap[sourceReadKey];if(!cachedStore){var upSourceMgr=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&upSourceMgr?cachedStore=upSourceMgr._innerGetDataStore(storeDims,seriesSource,sourceReadKey):(cachedStore=new _DataStore_js__WEBPACK_IMPORTED_MODULE_4__.ZP).initData(new _dataProvider_js__WEBPACK_IMPORTED_MODULE_5__.Pl(seriesSource,storeDims.length),storeDims),cachedStoreMap[sourceReadKey]=cachedStore}return cachedStore},SourceManager.prototype._getUpstreamSourceManagers=function(){var sourceHost=this._sourceHost;if(isSeries(sourceHost)){var datasetModel=(0,_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__.Wd)(sourceHost);return datasetModel?[datasetModel.getSourceManager()]:[]}return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)((0,_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__.JT)(sourceHost),(function(datasetModel){return datasetModel.getSourceManager()}))},SourceManager.prototype._getSourceMetaRawOption=function(){var seriesLayoutBy,sourceHeader,dimensions,sourceHost=this._sourceHost;if(isSeries(sourceHost))seriesLayoutBy=sourceHost.get("seriesLayoutBy",!0),sourceHeader=sourceHost.get("sourceHeader",!0),dimensions=sourceHost.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var model=sourceHost;seriesLayoutBy=model.get("seriesLayoutBy",!0),sourceHeader=model.get("sourceHeader",!0),dimensions=model.get("dimensions",!0)}return{seriesLayoutBy,sourceHeader,dimensions}},SourceManager}();function disableTransformOptionMerge(datasetModel){datasetModel.option.transform&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.setAsPrimitive)(datasetModel.option.transform)}function isSeries(sourceHost){return"series"===sourceHost.mainType}function doThrow(errMsg){throw new Error(errMsg)}},"./node_modules/echarts/lib/data/helper/transform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DA:()=>registerExternalTransform,vK:()=>applyDataTransform});var _util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/types.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataProvider.js"),_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataValueHelper.js"),_util_log_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/log.js"),_Source_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/data/Source.js"),ExternalSource=function(){function ExternalSource(){}return ExternalSource.prototype.getRawData=function(){throw new Error("not supported")},ExternalSource.prototype.getRawDataItem=function(dataIndex){throw new Error("not supported")},ExternalSource.prototype.cloneRawData=function(){},ExternalSource.prototype.getDimensionInfo=function(dim){},ExternalSource.prototype.cloneAllDimensionInfo=function(){},ExternalSource.prototype.count=function(){},ExternalSource.prototype.retrieveValue=function(dataIndex,dimIndex){},ExternalSource.prototype.retrieveValueFromItem=function(dataItem,dimIndex){},ExternalSource.prototype.convertValue=function(rawVal,dimInfo){return(0,_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_0__.yQ)(rawVal,dimInfo)},ExternalSource}();function getRawData(upstream){if(!isSupportedSourceFormat(upstream.sourceFormat)){0,(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("")}return upstream.data}function cloneRawData(upstream){var sourceFormat=upstream.sourceFormat,data=upstream.data;if(!isSupportedSourceFormat(sourceFormat)){0,(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("")}if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD){for(var result=[],i=0,len=data.length;i<len;i++)result.push(data[i].slice());return result}if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.qb){for(result=[],i=0,len=data.length;i<len;i++)result.push((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.extend)({},data[i]));return result}}function getDimensionInfo(dimensions,dimsByName,dim){if(null!=dim)return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isNumber)(dim)||!isNaN(dim)&&!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.hasOwn)(dimsByName,dim)?dimensions[dim]:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.hasOwn)(dimsByName,dim)?dimsByName[dim]:void 0}function cloneAllDimensionInfo(dimensions){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.clone)(dimensions)}var externalTransformMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.createHashMap)();function registerExternalTransform(externalTransform){var type=(externalTransform=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.clone)(externalTransform)).type;type||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");var typeParsed=type.split(":");2!==typeParsed.length&&(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");var isBuiltIn=!1;"echarts"===typeParsed[0]&&(type=typeParsed[1],isBuiltIn=!0),externalTransform.__isBuiltIn=isBuiltIn,externalTransformMap.set(type,externalTransform)}function applyDataTransform(rawTransOption,sourceList,infoForPrint){var pipedTransOption=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__.kF)(rawTransOption),pipeLen=pipedTransOption.length;pipeLen||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");for(var i=0,len=pipeLen;i<len;i++){sourceList=applySingleDataTransform(pipedTransOption[i],sourceList,infoForPrint,1===pipeLen?null:i),i!==len-1&&(sourceList.length=Math.max(sourceList.length,1))}return sourceList}function applySingleDataTransform(transOption,upSourceList,infoForPrint,pipeIndex){upSourceList.length||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)(""),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isObject)(transOption)||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");var transType=transOption.type,externalTransform=externalTransformMap.get(transType);externalTransform||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");var extUpSourceList=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.map)(upSourceList,(function(upSource){return function createExternalSource(internalSource,externalTransform){var extSource=new ExternalSource,data=internalSource.data,sourceFormat=extSource.sourceFormat=internalSource.sourceFormat,sourceHeaderCount=internalSource.startIndex;internalSource.seriesLayoutBy!==_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY&&(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");var dimensions=[],dimsByName={},dimsDef=internalSource.dimensionsDefine;if(dimsDef)(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.each)(dimsDef,(function(dimDef,idx){var name=dimDef.name,dimDefExt={index:idx,name,displayName:dimDef.displayName};dimensions.push(dimDefExt),null!=name&&((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.hasOwn)(dimsByName,name)&&(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)(""),dimsByName[name]=dimDefExt)}));else for(var i=0;i<internalSource.dimensionsDetectedCount;i++)dimensions.push({index:i});var rawItemGetter=(0,_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__._j)(sourceFormat,_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY);externalTransform.__isBuiltIn&&(extSource.getRawDataItem=function(dataIndex){return rawItemGetter(data,sourceHeaderCount,dimensions,dataIndex)},extSource.getRawData=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.bind)(getRawData,null,internalSource)),extSource.cloneRawData=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.bind)(cloneRawData,null,internalSource);var rawCounter=(0,_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__.a)(sourceFormat,_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY);extSource.count=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.bind)(rawCounter,null,data,sourceHeaderCount,dimensions);var rawValueGetter=(0,_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__.tB)(sourceFormat);extSource.retrieveValue=function(dataIndex,dimIndex){var rawItem=rawItemGetter(data,sourceHeaderCount,dimensions,dataIndex);return retrieveValueFromItem(rawItem,dimIndex)};var retrieveValueFromItem=extSource.retrieveValueFromItem=function(dataItem,dimIndex){if(null!=dataItem){var dimDef=dimensions[dimIndex];return dimDef?rawValueGetter(dataItem,dimIndex,dimDef.name):void 0}};return extSource.getDimensionInfo=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.bind)(getDimensionInfo,null,dimensions,dimsByName),extSource.cloneAllDimensionInfo=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.bind)(cloneAllDimensionInfo,null,dimensions),extSource}(upSource,externalTransform)})),resultList=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__.kF)(externalTransform.transform({upstream:extUpSourceList[0],upstreamList:extUpSourceList,config:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.clone)(transOption.config)}));return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.map)(resultList,(function(result,resultIndex){var resultMetaRawOption;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isObject)(result)||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)(""),result.data||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)(""),isSupportedSourceFormat((0,_Source_js__WEBPACK_IMPORTED_MODULE_6__.Kp)(result.data))||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__._y)("");var firstUpSource=upSourceList[0];if(firstUpSource&&0===resultIndex&&!result.dimensions){var startIndex=firstUpSource.startIndex;startIndex&&(result.data=firstUpSource.data.slice(0,startIndex).concat(result.data)),resultMetaRawOption={seriesLayoutBy:_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY,sourceHeader:startIndex,dimensions:firstUpSource.metaRawOption.dimensions}}else resultMetaRawOption={seriesLayoutBy:_util_types_js__WEBPACK_IMPORTED_MODULE_1__.fY,sourceHeader:0,dimensions:result.dimensions};return(0,_Source_js__WEBPACK_IMPORTED_MODULE_6__._P)(result.data,resultMetaRawOption,null)}))}function isSupportedSourceFormat(sourceFormat){return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.XD||sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__.qb}},"./node_modules/echarts/lib/echarts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$_:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.$_,Br:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Br,D5:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.D5,FU:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.FU,Hn:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Hn,Ir:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Ir,Nu:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Nu,Q:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Q,RD:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.RD,Rx:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Rx,TA:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.TA,WU:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.WU,_y:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__._y,aV:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.aV,ds:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.ds,pQ:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.pQ,sq:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.sq,tF:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.tF,wJ:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.wJ,wL:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.wL,x_:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.x_,z$:()=>_export_core_js__WEBPACK_IMPORTED_MODULE_0__.z$});var _export_core_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/export/core.js"),_extension_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/extension.js"),_renderer_installCanvasRenderer_js__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/echarts/lib/core/echarts.js"),__webpack_require__("./node_modules/echarts/lib/renderer/installCanvasRenderer.js")),_component_dataset_install_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/component/dataset/install.js"),_label_installLabelLayout_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/label/installLabelLayout.js");(0,_extension_js__WEBPACK_IMPORTED_MODULE_1__.D)([_renderer_installCanvasRenderer_js__WEBPACK_IMPORTED_MODULE_2__.N,_component_dataset_install_js__WEBPACK_IMPORTED_MODULE_3__.N]);(0,_extension_js__WEBPACK_IMPORTED_MODULE_1__.D)(_label_installLabelLayout_js__WEBPACK_IMPORTED_MODULE_5__.T)},"./node_modules/echarts/lib/export/api/format.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{addCommas:()=>format.OD,capitalFirst:()=>format.ew,encodeHTML:()=>dom.F1,formatTime:()=>format.mr,formatTpl:()=>format.kF,getTextRect:()=>getTextRect,getTooltipMarker:()=>format.A0,normalizeCssArray:()=>format.MY,toCamelCase:()=>format.zW,truncateText:()=>parseText.aF});var Text=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js");function getTextRect(text,font,align,verticalAlign,padding,rich,truncate,lineHeight){return new Text.ZP({style:{text,font,align,verticalAlign,padding,rich,overflow:truncate?"truncate":null,lineHeight}}).getBoundingRect()}var format=__webpack_require__("./node_modules/echarts/lib/util/format.js"),dom=__webpack_require__("./node_modules/zrender/lib/core/dom.js"),parseText=__webpack_require__("./node_modules/zrender/lib/graphic/helper/parseText.js")},"./node_modules/echarts/lib/export/api/graphic.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Arc:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_14__.Z,BezierCurve:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_13__.Z,BoundingRect:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_19__.Z,Circle:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.Z,CompoundPath:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_16__.Z,Ellipse:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_6__.Z,Group:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z,Image:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.ZP,IncrementalDisplayable:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_15__.Z,Line:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_12__.Z,LinearGradient:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_17__.Z,Polygon:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_9__.Z,Polyline:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_10__.Z,RadialGradient:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_18__.Z,Rect:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_11__.Z,Ring:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_8__.Z,Sector:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_7__.C,Text:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__.ZP,clipPointsByRect:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.clipPointsByRect,clipRectByRect:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.clipRectByRect,createIcon:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.createIcon,extendPath:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.extendPath,extendShape:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.extendShape,getShapeClass:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.getShapeClass,getTransform:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.getTransform,initProps:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_1__.KZ,makeImage:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.makeImage,makePath:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.makePath,mergePath:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.mergePath,registerShape:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.registerShape,resizePath:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.resizePath,updateProps:()=>_util_graphic_js__WEBPACK_IMPORTED_MODULE_1__.D});var _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Sector.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ring.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Line.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/BezierCurve.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Arc.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/zrender/lib/graphic/IncrementalDisplayable.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/zrender/lib/graphic/CompoundPath.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/zrender/lib/graphic/LinearGradient.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/zrender/lib/graphic/RadialGradient.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js")},"./node_modules/echarts/lib/export/api/time.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{format:()=>_util_time_js__WEBPACK_IMPORTED_MODULE_1__.WU,parse:()=>_util_number_js__WEBPACK_IMPORTED_MODULE_0__.sG});var _util_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_util_time_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/time.js")},"./node_modules/echarts/lib/export/core.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RD:()=>Axis.Z,TA:()=>Chart.Z,tF:()=>Component.Z,Ir:()=>view_Component.Z,aV:()=>SeriesData.Z,Hn:()=>Model.Z,Hr:()=>echarts.Hr,wJ:()=>Series.Z,$_:()=>color,$j:()=>echarts.$j,Ok:()=>echarts.Ok,HO:()=>echarts.HO,eU:()=>echarts.eU,zP:()=>echarts.zP,B9:()=>echarts.B9,OB:()=>env.Z,Zy:()=>extendChartView,tv:()=>extendComponentModel,Sp:()=>extendComponentView,Zr:()=>extendSeriesModel,WU:()=>format,wL:()=>echarts.wL,JE:()=>echarts.JE,rp:()=>echarts.rp,FU:()=>echarts.FU,Q:()=>graphic,_y:()=>helper_namespaceObject,S1:()=>echarts.S1,z$:()=>canvas_graphic.RV,pI:()=>matrix,Rx:()=>number_namespaceObject,Nu:()=>parseGeoJson.Z,pQ:()=>parseGeoJson.Z,zl:()=>echarts.zl,RS:()=>echarts.RS,qR:()=>echarts.qR,yn:()=>echarts.yn,I2:()=>echarts.I2,je:()=>echarts.je,sq:()=>echarts.sq,Br:()=>echarts.Br,ds:()=>echarts.ds,Pu:()=>echarts.Pu,aW:()=>echarts.aW,rV:()=>echarts.OB,YK:()=>echarts.YK,Og:()=>echarts.Og,jQ:()=>echarts.jQ,g2:()=>platform.g2,P2:()=>throttle.P2,XV:()=>time,D$:()=>extension.D,D5:()=>util_namespaceObject,xr:()=>vector,i8:()=>echarts.i8,gf:()=>util,x_:()=>zrender});var helper_namespaceObject={};__webpack_require__.r(helper_namespaceObject),__webpack_require__.d(helper_namespaceObject,{createDimensions:()=>createDimensions.q,createList:()=>createList,createScale:()=>createScale,createSymbol:()=>symbol.th,createTextStyle:()=>createTextStyle,dataStack:()=>dataStack,enableHoverEmphasis:()=>states.vF,getECData:()=>innerStore.A,getLayoutRect:()=>layout.ME,mixinAxisModelCommonMethods:()=>mixinAxisModelCommonMethods});var number_namespaceObject={};__webpack_require__.r(number_namespaceObject),__webpack_require__.d(number_namespaceObject,{MAX_SAFE_INTEGER:()=>number.YM,asc:()=>number.dt,getPercentWithPrecision:()=>number.eJ,getPixelPrecision:()=>number.M9,getPrecision:()=>number.p8,getPrecisionSafe:()=>number.ZB,isNumeric:()=>number.kE,isRadianAroundZero:()=>number.mW,linearMap:()=>number.NU,nice:()=>number.kx,numericToNumber:()=>number.FK,parseDate:()=>number.sG,quantile:()=>number.VR,quantity:()=>number.Xd,quantityExponent:()=>number.xW,reformIntervals:()=>number.nR,remRadian:()=>number.wW,round:()=>number.NM});var util_namespaceObject={};__webpack_require__.r(util_namespaceObject),__webpack_require__.d(util_namespaceObject,{bind:()=>util.bind,clone:()=>util.clone,curry:()=>util.curry,defaults:()=>util.defaults,each:()=>util.each,extend:()=>util.extend,filter:()=>util.filter,indexOf:()=>util.indexOf,inherits:()=>util.inherits,isArray:()=>util.isArray,isFunction:()=>util.isFunction,isObject:()=>util.isObject,isString:()=>util.isString,map:()=>util.map,merge:()=>util.merge,reduce:()=>util.reduce});var echarts=__webpack_require__("./node_modules/echarts/lib/core/echarts.js"),Component=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),view_Component=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),SeriesData=__webpack_require__("./node_modules/echarts/lib/data/SeriesData.js"),zrender=__webpack_require__("./node_modules/zrender/lib/zrender.js"),matrix=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),throttle=__webpack_require__("./node_modules/echarts/lib/util/throttle.js"),createSeriesData=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),axisHelper=__webpack_require__("./node_modules/echarts/lib/coord/axisHelper.js"),axisModelCommonMixin=__webpack_require__("./node_modules/echarts/lib/coord/axisModelCommonMixin.js"),Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),dataStackHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),createDimensions=__webpack_require__("./node_modules/echarts/lib/data/helper/createDimensions.js"),symbol=__webpack_require__("./node_modules/echarts/lib/util/symbol.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js");function createList(seriesModel){return(0,createSeriesData.Z)(null,seriesModel)}var dataStack={isDimensionStacked:dataStackHelper.M,enableDataStack:dataStackHelper.BM,getStackedDimension:dataStackHelper.IR};function createScale(dataExtent,option){var axisModel=option;option instanceof Model.Z||(axisModel=new Model.Z(option));var scale=axisHelper.aG(axisModel);return scale.setExtent(dataExtent[0],dataExtent[1]),axisHelper.Jk(scale,axisModel),scale}function mixinAxisModelCommonMethods(Model){util.mixin(Model,axisModelCommonMixin.W)}function createTextStyle(textStyleModel,opts){return opts=opts||{},(0,labelStyle.Lr)(textStyleModel,null,null,"normal"!==opts.state)}var extension=__webpack_require__("./node_modules/echarts/lib/extension.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),parseGeoJson=__webpack_require__("./node_modules/echarts/lib/coord/geo/parseGeoJson.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),time=__webpack_require__("./node_modules/echarts/lib/export/api/time.js"),graphic=__webpack_require__("./node_modules/echarts/lib/export/api/graphic.js"),format=__webpack_require__("./node_modules/echarts/lib/export/api/format.js"),env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),Axis=__webpack_require__("./node_modules/echarts/lib/coord/Axis.js"),canvas_graphic=__webpack_require__("./node_modules/zrender/lib/canvas/graphic.js");function extendComponentModel(proto){var Model=Component.Z.extend(proto);return Component.Z.registerClass(Model),Model}function extendComponentView(proto){var View=view_Component.Z.extend(proto);return view_Component.Z.registerClass(View),View}function extendSeriesModel(proto){var Model=Series.Z.extend(proto);return Series.Z.registerClass(Model),Model}function extendChartView(proto){var View=Chart.Z.extend(proto);return Chart.Z.registerClass(View),View}var installLabelLayout=__webpack_require__("./node_modules/echarts/lib/label/installLabelLayout.js");(0,extension.D)(installLabelLayout.T)},"./node_modules/echarts/lib/extension.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>use});var _core_echarts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/core/echarts.js"),_view_Component_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),_view_Chart_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),_model_Component_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),_model_Series_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_core_impl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/core/impl.js"),zrender_lib_zrender_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/zrender.js"),extensions=[],extensionRegisters={registerPreprocessor:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.ds,registerProcessor:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.Pu,registerPostInit:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.sq,registerPostUpdate:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.Br,registerUpdateLifecycle:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.YK,registerAction:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.zl,registerCoordinateSystem:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.RS,registerLayout:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.qR,registerVisual:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.Og,registerTransform:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.OB,registerLoading:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.yn,registerMap:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.je,registerImpl:_core_impl_js__WEBPACK_IMPORTED_MODULE_1__.M,PRIORITY:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__.Hr,ComponentModel:_model_Component_js__WEBPACK_IMPORTED_MODULE_2__.Z,ComponentView:_view_Component_js__WEBPACK_IMPORTED_MODULE_3__.Z,SeriesModel:_model_Series_js__WEBPACK_IMPORTED_MODULE_4__.Z,ChartView:_view_Chart_js__WEBPACK_IMPORTED_MODULE_5__.Z,registerComponentModel:function(ComponentModelClass){_model_Component_js__WEBPACK_IMPORTED_MODULE_2__.Z.registerClass(ComponentModelClass)},registerComponentView:function(ComponentViewClass){_view_Component_js__WEBPACK_IMPORTED_MODULE_3__.Z.registerClass(ComponentViewClass)},registerSeriesModel:function(SeriesModelClass){_model_Series_js__WEBPACK_IMPORTED_MODULE_4__.Z.registerClass(SeriesModelClass)},registerChartView:function(ChartViewClass){_view_Chart_js__WEBPACK_IMPORTED_MODULE_5__.Z.registerClass(ChartViewClass)},registerSubTypeDefaulter:function(componentType,defaulter){_model_Component_js__WEBPACK_IMPORTED_MODULE_2__.Z.registerSubTypeDefaulter(componentType,defaulter)},registerPainter:function(painterType,PainterCtor){(0,zrender_lib_zrender_js__WEBPACK_IMPORTED_MODULE_6__.registerPainter)(painterType,PainterCtor)}};function use(ext){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__.isArray)(ext)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__.each)(ext,(function(singleExt){use(singleExt)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__.indexOf)(extensions,ext)>=0||(extensions.push(ext),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__.isFunction)(ext)&&(ext={install:ext}),ext.install(extensionRegisters))}},"./node_modules/echarts/lib/label/installLabelLayout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>installLabelLayout});var model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),basicTransition=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),Transformable=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),labelGuideHelper=__webpack_require__("./node_modules/echarts/lib/label/labelGuideHelper.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),labelLayoutHelper=__webpack_require__("./node_modules/echarts/lib/label/labelLayoutHelper.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),contain_util=__webpack_require__("./node_modules/zrender/lib/contain/util.js");function cloneArr(points){if(points){for(var newPoints=[],i=0;i<points.length;i++)newPoints.push(points[i].slice());return newPoints}}function prepareLayoutCallbackParams(labelItem,hostEl){var label=labelItem.label,labelLine=hostEl&&hostEl.getTextGuideLine();return{dataIndex:labelItem.dataIndex,dataType:labelItem.dataType,seriesIndex:labelItem.seriesModel.seriesIndex,text:labelItem.label.style.text,rect:labelItem.hostRect,labelRect:labelItem.rect,align:label.style.align,verticalAlign:label.style.verticalAlign,labelLinePoints:cloneArr(labelLine&&labelLine.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable.ZP,labelLayoutInnerStore=(0,model.Yf)(),labelLineAnimationStore=(0,model.Yf)();function extendWithKeys(target,source,keys){for(var i=0;i<keys.length;i++){var key=keys[i];null!=source[key]&&(target[key]=source[key])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"];const label_LabelManager=function(){function LabelManager(){this._labelList=[],this._chartViewList=[]}return LabelManager.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},LabelManager.prototype._addLabel=function(dataIndex,dataType,seriesModel,label,layoutOption){var labelStyle=label.style,textConfig=label.__hostTarget.textConfig||{},labelTransform=label.getComputedTransform(),labelRect=label.getBoundingRect().plain();BoundingRect.Z.applyTransform(labelRect,labelRect,labelTransform),labelTransform?dummyTransformable.setLocalTransform(labelTransform):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=(0,contain_util.m)(dummyTransformable.rotation);var hostRect,host=label.__hostTarget;if(host){hostRect=host.getBoundingRect().plain();var transform=host.getComputedTransform();BoundingRect.Z.applyTransform(hostRect,hostRect,transform)}var labelGuide=hostRect&&host.getTextGuideLine();this._labelList.push({label,labelLine:labelGuide,seriesModel,dataIndex,dataType,layoutOption,computedLayoutOption:null,rect:labelRect,hostRect,priority:hostRect?hostRect.width*hostRect.height:0,defaultAttr:{ignore:label.ignore,labelGuideIgnore:labelGuide&&labelGuide.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:labelStyle.x,y:labelStyle.y,align:labelStyle.align,verticalAlign:labelStyle.verticalAlign,width:labelStyle.width,height:labelStyle.height,fontSize:labelStyle.fontSize},cursor:label.cursor,attachedPos:textConfig.position,attachedRot:textConfig.rotation}})},LabelManager.prototype.addLabelsOfSeries=function(chartView){var _this=this;this._chartViewList.push(chartView);var seriesModel=chartView.__model,layoutOption=seriesModel.get("labelLayout");((0,util.isFunction)(layoutOption)||(0,util.keys)(layoutOption).length)&&chartView.group.traverse((function(child){if(child.ignore)return!0;var textEl=child.getTextContent(),ecData=(0,innerStore.A)(child);textEl&&!textEl.disableLabelLayout&&_this._addLabel(ecData.dataIndex,ecData.dataType,seriesModel,textEl,layoutOption)}))},LabelManager.prototype.updateLayoutConfig=function(api){var width=api.getWidth(),height=api.getHeight();function createDragHandler(el,labelLineModel){return function(){(0,labelGuideHelper.d)(el,labelLineModel)}}for(var i=0;i<this._labelList.length;i++){var labelItem=this._labelList[i],label=labelItem.label,hostEl=label.__hostTarget,defaultLabelAttr=labelItem.defaultAttr,layoutOption=void 0;layoutOption=(layoutOption=(0,util.isFunction)(labelItem.layoutOption)?labelItem.layoutOption(prepareLayoutCallbackParams(labelItem,hostEl)):labelItem.layoutOption)||{},labelItem.computedLayoutOption=layoutOption;var degreeToRadian=Math.PI/180;hostEl&&hostEl.setTextConfig({local:!1,position:null!=layoutOption.x||null!=layoutOption.y?null:defaultLabelAttr.attachedPos,rotation:null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.attachedRot,offset:[layoutOption.dx||0,layoutOption.dy||0]});var needsUpdateLabelLine=!1;if(null!=layoutOption.x?(label.x=(0,number.GM)(layoutOption.x,width),label.setStyle("x",0),needsUpdateLabelLine=!0):(label.x=defaultLabelAttr.x,label.setStyle("x",defaultLabelAttr.style.x)),null!=layoutOption.y?(label.y=(0,number.GM)(layoutOption.y,height),label.setStyle("y",0),needsUpdateLabelLine=!0):(label.y=defaultLabelAttr.y,label.setStyle("y",defaultLabelAttr.style.y)),layoutOption.labelLinePoints){var guideLine=hostEl.getTextGuideLine();guideLine&&(guideLine.setShape({points:layoutOption.labelLinePoints}),needsUpdateLabelLine=!1)}labelLayoutInnerStore(label).needsUpdateLabelLine=needsUpdateLabelLine,label.rotation=null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.rotation,label.scaleX=defaultLabelAttr.scaleX,label.scaleY=defaultLabelAttr.scaleY;for(var k=0;k<LABEL_OPTION_TO_STYLE_KEYS.length;k++){var key=LABEL_OPTION_TO_STYLE_KEYS[k];label.setStyle(key,null!=layoutOption[key]?layoutOption[key]:defaultLabelAttr.style[key])}if(layoutOption.draggable){if(label.draggable=!0,label.cursor="move",hostEl){var hostModel=labelItem.seriesModel;if(null!=labelItem.dataIndex)hostModel=labelItem.seriesModel.getData(labelItem.dataType).getItemModel(labelItem.dataIndex);label.on("drag",createDragHandler(hostEl,hostModel.getModel("labelLine")))}}else label.off("drag"),label.cursor=defaultLabelAttr.cursor}},LabelManager.prototype.layout=function(api){var width=api.getWidth(),height=api.getHeight(),labelList=(0,labelLayoutHelper.VT)(this._labelList),labelsNeedsAdjustOnX=(0,util.filter)(labelList,(function(item){return"shiftX"===item.layoutOption.moveOverlap})),labelsNeedsAdjustOnY=(0,util.filter)(labelList,(function(item){return"shiftY"===item.layoutOption.moveOverlap}));(0,labelLayoutHelper.WE)(labelsNeedsAdjustOnX,0,width),(0,labelLayoutHelper.GI)(labelsNeedsAdjustOnY,0,height);var labelsNeedsHideOverlap=(0,util.filter)(labelList,(function(item){return item.layoutOption.hideOverlap}));(0,labelLayoutHelper.yl)(labelsNeedsHideOverlap)},LabelManager.prototype.processLabelsOverall=function(){var _this=this;(0,util.each)(this._chartViewList,(function(chartView){var seriesModel=chartView.__model,ignoreLabelLineUpdate=chartView.ignoreLabelLineUpdate,animationEnabled=seriesModel.isAnimationEnabled();chartView.group.traverse((function(child){if(child.ignore&&!child.forceLabelAnimation)return!0;var needsUpdateLabelLine=!ignoreLabelLineUpdate,label=child.getTextContent();!needsUpdateLabelLine&&label&&(needsUpdateLabelLine=labelLayoutInnerStore(label).needsUpdateLabelLine),needsUpdateLabelLine&&_this._updateLabelLine(child,seriesModel),animationEnabled&&_this._animateLabels(child,seriesModel)}))}))},LabelManager.prototype._updateLabelLine=function(el,seriesModel){var textEl=el.getTextContent(),ecData=(0,innerStore.A)(el),dataIndex=ecData.dataIndex;if(textEl&&null!=dataIndex){var data=seriesModel.getData(ecData.dataType),itemModel=data.getItemModel(dataIndex),defaultStyle={},visualStyle=data.getItemVisual(dataIndex,"style");if(visualStyle){var visualType=data.getVisual("drawType");defaultStyle.stroke=visualStyle[visualType]}var labelLineModel=itemModel.getModel("labelLine");(0,labelGuideHelper.Iu)(el,(0,labelGuideHelper.$x)(itemModel),defaultStyle),(0,labelGuideHelper.d)(el,labelLineModel)}},LabelManager.prototype._animateLabels=function(el,seriesModel){var textEl=el.getTextContent(),guideLine=el.getTextGuideLine();if(textEl&&(el.forceLabelAnimation||!textEl.ignore&&!textEl.invisible&&!el.disableLabelAnimation&&!(0,basicTransition.eq)(el))){var oldLayout=(layoutStore=labelLayoutInnerStore(textEl)).oldLayout,ecData=(0,innerStore.A)(el),dataIndex=ecData.dataIndex,newProps={x:textEl.x,y:textEl.y,rotation:textEl.rotation},data=seriesModel.getData(ecData.dataType);if(oldLayout){textEl.attr(oldLayout);var prevStates=el.prevStates;prevStates&&((0,util.indexOf)(prevStates,"select")>=0&&textEl.attr(layoutStore.oldLayoutSelect),(0,util.indexOf)(prevStates,"emphasis")>=0&&textEl.attr(layoutStore.oldLayoutEmphasis)),(0,basicTransition.D)(textEl,newProps,seriesModel,dataIndex)}else if(textEl.attr(newProps),!(0,labelStyle.qA)(textEl).valueAnimation){var oldOpacity=(0,util.retrieve2)(textEl.style.opacity,1);textEl.style.opacity=0,(0,basicTransition.KZ)(textEl,{style:{opacity:oldOpacity}},seriesModel,dataIndex)}if(layoutStore.oldLayout=newProps,textEl.states.select){var layoutSelect=layoutStore.oldLayoutSelect={};extendWithKeys(layoutSelect,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutSelect,textEl.states.select,LABEL_LAYOUT_PROPS)}if(textEl.states.emphasis){var layoutEmphasis=layoutStore.oldLayoutEmphasis={};extendWithKeys(layoutEmphasis,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutEmphasis,textEl.states.emphasis,LABEL_LAYOUT_PROPS)}(0,labelStyle.tD)(textEl,dataIndex,data,seriesModel,seriesModel)}if(guideLine&&!guideLine.ignore&&!guideLine.invisible){oldLayout=(layoutStore=labelLineAnimationStore(guideLine)).oldLayout;var layoutStore,newLayout={points:guideLine.shape.points};oldLayout?(guideLine.attr({shape:oldLayout}),(0,basicTransition.D)(guideLine,{shape:newLayout},seriesModel)):(guideLine.setShape(newLayout),guideLine.style.strokePercent=0,(0,basicTransition.KZ)(guideLine,{style:{strokePercent:1}},seriesModel)),layoutStore.oldLayout=newLayout}},LabelManager}();var getLabelManager=(0,model.Yf)();function installLabelLayout(registers){registers.registerUpdateLifecycle("series:beforeupdate",(function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;labelManager||(labelManager=getLabelManager(api).labelManager=new label_LabelManager),labelManager.clearLabels()})),registers.registerUpdateLifecycle("series:layoutlabels",(function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;params.updatedSeries.forEach((function(series){labelManager.addLabelsOfSeries(api.getViewOfSeriesModel(series))})),labelManager.updateLayoutConfig(api),labelManager.layout(api),labelManager.processLabelsOverall()}))}},"./node_modules/echarts/lib/label/labelGuideHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$x:()=>getLabelLineStatesModels,Iu:()=>setLabelLineStyle,_A:()=>limitSurfaceAngle,d:()=>updateLabelLinePoints,qK:()=>limitTurnAngle});var _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/Point.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),zrender_lib_core_PathProxy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/PathProxy.js"),zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/contain/util.js"),zrender_lib_core_curve_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/curve.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),_util_states_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/echarts/lib/util/states.js"),PI2=2*Math.PI,CMD=zrender_lib_core_PathProxy_js__WEBPACK_IMPORTED_MODULE_0__.Z.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(pos,distance,rect,outPt,outDir){var width=rect.width,height=rect.height;switch(pos){case"top":outPt.set(rect.x+width/2,rect.y-distance),outDir.set(0,-1);break;case"bottom":outPt.set(rect.x+width/2,rect.y+height+distance),outDir.set(0,1);break;case"left":outPt.set(rect.x-distance,rect.y+height/2),outDir.set(-1,0);break;case"right":outPt.set(rect.x+width+distance,rect.y+height/2),outDir.set(1,0)}}function projectPointToArc(cx,cy,r,startAngle,endAngle,anticlockwise,x,y,out){x-=cx,y-=cy;var d=Math.sqrt(x*x+y*y),ox=(x/=d)*r+cx,oy=(y/=d)*r+cy;if(Math.abs(startAngle-endAngle)%PI2<1e-4)return out[0]=ox,out[1]=oy,d-r;if(anticlockwise){var tmp=startAngle;startAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__.m)(endAngle),endAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__.m)(tmp)}else startAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__.m)(startAngle),endAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__.m)(endAngle);startAngle>endAngle&&(endAngle+=PI2);var angle=Math.atan2(y,x);if(angle<0&&(angle+=PI2),angle>=startAngle&&angle<=endAngle||angle+PI2>=startAngle&&angle+PI2<=endAngle)return out[0]=ox,out[1]=oy,d-r;var x1=r*Math.cos(startAngle)+cx,y1=r*Math.sin(startAngle)+cy,x2=r*Math.cos(endAngle)+cx,y2=r*Math.sin(endAngle)+cy,d1=(x1-x)*(x1-x)+(y1-y)*(y1-y),d2=(x2-x)*(x2-x)+(y2-y)*(y2-y);return d1<d2?(out[0]=x1,out[1]=y1,Math.sqrt(d1)):(out[0]=x2,out[1]=y2,Math.sqrt(d2))}function projectPointToLine(x1,y1,x2,y2,x,y,out,limitToEnds){var dx=x-x1,dy=y-y1,dx1=x2-x1,dy1=y2-y1,lineLen=Math.sqrt(dx1*dx1+dy1*dy1),t=(dx*(dx1/=lineLen)+dy*(dy1/=lineLen))/lineLen;limitToEnds&&(t=Math.min(Math.max(t,0),1)),t*=lineLen;var ox=out[0]=x1+t*dx1,oy=out[1]=y1+t*dy1;return Math.sqrt((ox-x)*(ox-x)+(oy-y)*(oy-y))}function projectPointToRect(x1,y1,width,height,x,y,out){width<0&&(x1+=width,width=-width),height<0&&(y1+=height,height=-height);var x2=x1+width,y2=y1+height,ox=out[0]=Math.min(Math.max(x,x1),x2),oy=out[1]=Math.min(Math.max(y,y1),y2);return Math.sqrt((ox-x)*(ox-x)+(oy-y)*(oy-y))}var tmpPt=[];function nearestPointOnRect(pt,rect,out){var dist=projectPointToRect(rect.x,rect.y,rect.width,rect.height,pt.x,pt.y,tmpPt);return out.set(tmpPt[0],tmpPt[1]),dist}function nearestPointOnPath(pt,path,out){for(var x1,y1,xi=0,yi=0,x0=0,y0=0,minDist=1/0,data=path.data,x=pt.x,y=pt.y,i=0;i<data.length;){var cmd=data[i++];1===i&&(x0=xi=data[i],y0=yi=data[i+1]);var d=minDist;switch(cmd){case CMD.M:xi=x0=data[i++],yi=y0=data[i++];break;case CMD.L:d=projectPointToLine(xi,yi,data[i],data[i+1],x,y,tmpPt,!0),xi=data[i++],yi=data[i++];break;case CMD.C:d=(0,zrender_lib_core_curve_js__WEBPACK_IMPORTED_MODULE_2__.t1)(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],x,y,tmpPt),xi=data[i++],yi=data[i++];break;case CMD.Q:d=(0,zrender_lib_core_curve_js__WEBPACK_IMPORTED_MODULE_2__.Wr)(xi,yi,data[i++],data[i++],data[i],data[i+1],x,y,tmpPt),xi=data[i++],yi=data[i++];break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++];i+=1;var anticlockwise=!!(1-data[i++]);x1=Math.cos(theta)*rx+cx,y1=Math.sin(theta)*ry+cy,i<=1&&(x0=x1,y0=y1),d=projectPointToArc(cx,cy,ry,theta,theta+dTheta,anticlockwise,(x-cx)*ry/rx+cx,y,tmpPt),xi=Math.cos(theta+dTheta)*rx+cx,yi=Math.sin(theta+dTheta)*ry+cy;break;case CMD.R:d=projectPointToRect(x0=xi=data[i++],y0=yi=data[i++],data[i++],data[i++],x,y,tmpPt);break;case CMD.Z:d=projectPointToLine(xi,yi,x0,y0,x,y,tmpPt,!0),xi=x0,yi=y0}d<minDist&&(minDist=d,out.set(tmpPt[0],tmpPt[1]))}return minDist}var pt0=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z,pt1=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z,pt2=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z,dir=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z,dir2=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z;function updateLabelLinePoints(target,labelLineModel){if(target){var labelLine=target.getTextGuideLine(),label=target.getTextContent();if(label&&labelLine){var labelGuideConfig=target.textGuideLineConfig||{},points=[[0,0],[0,0],[0,0]],searchSpace=labelGuideConfig.candidates||DEFAULT_SEARCH_SPACE,labelRect=label.getBoundingRect().clone();labelRect.applyTransform(label.getComputedTransform());var minDist=1/0,anchorPoint=labelGuideConfig.anchor,targetTransform=target.getComputedTransform(),targetInversedTransform=targetTransform&&(0,zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__.invert)([],targetTransform),len=labelLineModel.get("length2")||0;anchorPoint&&pt2.copy(anchorPoint);for(var i=0;i<searchSpace.length;i++){getCandidateAnchor(searchSpace[i],0,labelRect,pt0,dir),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.scaleAndAdd(pt1,pt0,dir,len),pt1.transform(targetInversedTransform);var boundingRect=target.getBoundingRect(),dist=anchorPoint?anchorPoint.distance(pt1):target instanceof _util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.ZP?nearestPointOnPath(pt1,target.path,pt2):nearestPointOnRect(pt1,boundingRect,pt2);dist<minDist&&(minDist=dist,pt1.transform(targetTransform),pt2.transform(targetTransform),pt2.toArray(points[0]),pt1.toArray(points[1]),pt0.toArray(points[2]))}limitTurnAngle(points,labelLineModel.get("minTurnAngle")),labelLine.setShape({points})}}}var tmpArr=[],tmpProjPoint=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z;function limitTurnAngle(linePoints,minTurnAngle){if(minTurnAngle<=180&&minTurnAngle>0){minTurnAngle=minTurnAngle/180*Math.PI,pt0.fromArray(linePoints[0]),pt1.fromArray(linePoints[1]),pt2.fromArray(linePoints[2]),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.sub(dir,pt0,pt1),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.sub(dir2,pt2,pt1);var len1=dir.len(),len2=dir2.len();if(!(len1<.001||len2<.001)){dir.scale(1/len1),dir2.scale(1/len2);var angleCos=dir.dot(dir2);if(Math.cos(minTurnAngle)<angleCos){var d=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,d/Math.tan(Math.PI-minTurnAngle));var t=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(t))return;t<0?_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.copy(tmpProjPoint,pt1):t>1&&_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(linePoints[1])}}}}function limitSurfaceAngle(linePoints,surfaceNormal,maxSurfaceAngle){if(maxSurfaceAngle<=180&&maxSurfaceAngle>0){maxSurfaceAngle=maxSurfaceAngle/180*Math.PI,pt0.fromArray(linePoints[0]),pt1.fromArray(linePoints[1]),pt2.fromArray(linePoints[2]),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.sub(dir,pt1,pt0),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.sub(dir2,pt2,pt1);var len1=dir.len(),len2=dir2.len();if(!(len1<.001||len2<.001))if(dir.scale(1/len1),dir2.scale(1/len2),dir.dot(surfaceNormal)<Math.cos(maxSurfaceAngle)){var d=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var HALF_PI=Math.PI/2,newAngle=HALF_PI+Math.acos(dir2.dot(surfaceNormal))-maxSurfaceAngle;if(newAngle>=HALF_PI)_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,d/Math.tan(Math.PI/2-newAngle));var t=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(t))return;t<0?_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.copy(tmpProjPoint,pt1):t>1&&_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(linePoints[1])}}}function setLabelLineState(labelLine,ignore,stateName,stateModel){var isNormal="normal"===stateName,stateObj=isNormal?labelLine:labelLine.ensureState(stateName);stateObj.ignore=ignore;var smooth=stateModel.get("smooth");smooth&&!0===smooth&&(smooth=.3),stateObj.shape=stateObj.shape||{},smooth>0&&(stateObj.shape.smooth=smooth);var styleObj=stateModel.getModel("lineStyle").getLineStyle();isNormal?labelLine.useStyle(styleObj):stateObj.style=styleObj}function buildLabelLinePath(path,shape){var smooth=shape.smooth,points=shape.points;if(points)if(path.moveTo(points[0][0],points[0][1]),smooth>0&&points.length>=3){var len1=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__.dist(points[0],points[1]),len2=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__.dist(points[1],points[2]);if(!len1||!len2)return path.lineTo(points[1][0],points[1][1]),void path.lineTo(points[2][0],points[2][1]);var moveLen=Math.min(len1,len2)*smooth,midPoint0=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__.lerp([],points[1],points[0],moveLen/len1),midPoint2=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__.lerp([],points[1],points[2],moveLen/len2),midPoint1=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__.lerp([],midPoint0,midPoint2,.5);path.bezierCurveTo(midPoint0[0],midPoint0[1],midPoint0[0],midPoint0[1],midPoint1[0],midPoint1[1]),path.bezierCurveTo(midPoint2[0],midPoint2[1],midPoint2[0],midPoint2[1],points[2][0],points[2][1])}else for(var i=1;i<points.length;i++)path.lineTo(points[i][0],points[i][1])}function setLabelLineStyle(targetEl,statesModels,defaultStyle){var labelLine=targetEl.getTextGuideLine(),label=targetEl.getTextContent();if(label){for(var normalModel=statesModels.normal,showNormal=normalModel.get("show"),labelIgnoreNormal=label.ignore,i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_7__.qc.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_7__.qc[i],stateModel=statesModels[stateName],isNormal="normal"===stateName;if(stateModel){var stateShow=stateModel.get("show");if((isNormal?labelIgnoreNormal:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__.retrieve2)(label.states[stateName]&&label.states[stateName].ignore,labelIgnoreNormal))||!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__.retrieve2)(stateShow,showNormal)){var stateObj=isNormal?labelLine:labelLine&&labelLine.states[stateName];stateObj&&(stateObj.ignore=!0);continue}labelLine||(labelLine=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_9__.Z,targetEl.setTextGuideLine(labelLine),isNormal||!labelIgnoreNormal&&showNormal||setLabelLineState(labelLine,!0,"normal",statesModels.normal),targetEl.stateProxy&&(labelLine.stateProxy=targetEl.stateProxy)),setLabelLineState(labelLine,!1,stateName,stateModel)}}if(labelLine){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__.defaults)(labelLine.style,defaultStyle),labelLine.style.fill=null;var showAbove=normalModel.get("showAbove");(targetEl.textGuideLineConfig=targetEl.textGuideLineConfig||{}).showAbove=showAbove||!1,labelLine.buildPath=buildLabelLinePath}}else labelLine&&targetEl.removeTextGuideLine()}function getLabelLineStatesModels(itemModel,labelLineName){labelLineName=labelLineName||"labelLine";for(var statesModels={normal:itemModel.getModel(labelLineName)},i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_7__.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_7__.L1[i];statesModels[stateName]=itemModel.getModel([stateName,labelLineName])}return statesModels}},"./node_modules/echarts/lib/label/labelLayoutHelper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GI:()=>shiftLayoutOnY,VT:()=>prepareLayoutList,WE:()=>shiftLayoutOnX,yl:()=>hideOverlap});var _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/OrientedBoundingRect.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js");function prepareLayoutList(input){for(var list=[],i=0;i<input.length;i++){var rawItem=input[i];if(!rawItem.defaultAttr.ignore){var label=rawItem.label,transform=label.getComputedTransform(),localRect=label.getBoundingRect(),isAxisAligned=!transform||transform[1]<1e-5&&transform[2]<1e-5,minMargin=label.style.margin||0,globalRect=localRect.clone();globalRect.applyTransform(transform),globalRect.x-=minMargin/2,globalRect.y-=minMargin/2,globalRect.width+=minMargin,globalRect.height+=minMargin;var obb=isAxisAligned?new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.Z(localRect,transform):null;list.push({label,labelLine:rawItem.labelLine,rect:globalRect,localRect,obb,priority:rawItem.priority,defaultAttr:rawItem.defaultAttr,layoutOption:rawItem.computedLayoutOption,axisAligned:isAxisAligned,transform})}}return list}function shiftLayout(list,xyDim,sizeDim,minBound,maxBound,balanceShift){var len=list.length;if(!(len<2)){list.sort((function(a,b){return a.rect[xyDim]-b.rect[xyDim]}));for(var delta,lastPos=0,adjusted=!1,shifts=[],totalShifts=0,i=0;i<len;i++){var item=list[i],rect=item.rect;(delta=rect[xyDim]-lastPos)<0&&(rect[xyDim]-=delta,item.label[xyDim]-=delta,adjusted=!0);var shift=Math.max(-delta,0);shifts.push(shift),totalShifts+=shift,lastPos=rect[xyDim]+rect[sizeDim]}totalShifts>0&&balanceShift&&shiftList(-totalShifts/len,0,len);var minGap,maxGap,first=list[0],last=list[len-1];return updateMinMaxGap(),minGap<0&&squeezeGaps(-minGap,.8),maxGap<0&&squeezeGaps(maxGap,.8),updateMinMaxGap(),takeBoundsGap(minGap,maxGap,1),takeBoundsGap(maxGap,minGap,-1),updateMinMaxGap(),minGap<0&&squeezeWhenBailout(-minGap),maxGap<0&&squeezeWhenBailout(maxGap),adjusted}function updateMinMaxGap(){minGap=first.rect[xyDim]-minBound,maxGap=maxBound-last.rect[xyDim]-last.rect[sizeDim]}function takeBoundsGap(gapThisBound,gapOtherBound,moveDir){if(gapThisBound<0){var moveFromMaxGap=Math.min(gapOtherBound,-gapThisBound);if(moveFromMaxGap>0){shiftList(moveFromMaxGap*moveDir,0,len);var remained=moveFromMaxGap+gapThisBound;remained<0&&squeezeGaps(-remained*moveDir,1)}else squeezeGaps(-gapThisBound*moveDir,1)}}function shiftList(delta,start,end){0!==delta&&(adjusted=!0);for(var i=start;i<end;i++){var item=list[i];item.rect[xyDim]+=delta,item.label[xyDim]+=delta}}function squeezeGaps(delta,maxSqeezePercent){for(var gaps=[],totalGaps=0,i=1;i<len;i++){var prevItemRect=list[i-1].rect,gap=Math.max(list[i].rect[xyDim]-prevItemRect[xyDim]-prevItemRect[sizeDim],0);gaps.push(gap),totalGaps+=gap}if(totalGaps){var squeezePercent=Math.min(Math.abs(delta)/totalGaps,maxSqeezePercent);if(delta>0)for(i=0;i<len-1;i++){shiftList(gaps[i]*squeezePercent,0,i+1)}else for(i=len-1;i>0;i--){shiftList(-(gaps[i-1]*squeezePercent),i,len)}}}function squeezeWhenBailout(delta){var dir=delta<0?-1:1;delta=Math.abs(delta);for(var moveForEachLabel=Math.ceil(delta/(len-1)),i=0;i<len-1;i++)if(dir>0?shiftList(moveForEachLabel,0,i+1):shiftList(-moveForEachLabel,len-i-1,len),(delta-=moveForEachLabel)<=0)return}}function shiftLayoutOnX(list,leftBound,rightBound,balanceShift){return shiftLayout(list,"x","width",leftBound,rightBound,balanceShift)}function shiftLayoutOnY(list,topBound,bottomBound,balanceShift){return shiftLayout(list,"y","height",topBound,bottomBound,balanceShift)}function hideOverlap(labelList){var displayedLabels=[];labelList.sort((function(a,b){return b.priority-a.priority}));var globalRect=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_1__.Z(0,0,0,0);function hideEl(el){if(!el.ignore){var emphasisState=el.ensureState("emphasis");null==emphasisState.ignore&&(emphasisState.ignore=!1)}el.ignore=!0}for(var i=0;i<labelList.length;i++){var labelItem=labelList[i],isAxisAligned=labelItem.axisAligned,localRect=labelItem.localRect,transform=labelItem.transform,label=labelItem.label,labelLine=labelItem.labelLine;globalRect.copy(labelItem.rect),globalRect.width-=.1,globalRect.height-=.1,globalRect.x+=.05,globalRect.y+=.05;for(var obb=labelItem.obb,overlapped=!1,j=0;j<displayedLabels.length;j++){var existsTextCfg=displayedLabels[j];if(globalRect.intersect(existsTextCfg.rect)){if(isAxisAligned&&existsTextCfg.axisAligned){overlapped=!0;break}if(existsTextCfg.obb||(existsTextCfg.obb=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.Z(existsTextCfg.localRect,existsTextCfg.transform)),obb||(obb=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__.Z(localRect,transform)),obb.intersect(existsTextCfg.obb)){overlapped=!0;break}}}overlapped?(hideEl(label),labelLine&&hideEl(labelLine)):(label.attr("ignore",labelItem.defaultAttr.ignore),labelLine&&labelLine.attr("ignore",labelItem.defaultAttr.labelGuideIgnore),displayedLabels.push(labelItem))}}},"./node_modules/echarts/lib/label/labelStyle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lr:()=>createTextStyle,k3:()=>getLabelStatesModels,nC:()=>createTextConfig,ni:()=>setLabelStyle,pe:()=>setLabelValueAnimation,qA:()=>labelInner,qT:()=>getFont,tD:()=>animateLabelValue});var zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_states_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/states.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),EMPTY_OBJ={};function setLabelText(label,labelTexts){for(var i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1[i],text=labelTexts[stateName],state=label.ensureState(stateName);state.style=state.style||{},state.style.text=text}var oldStates=label.currentStates.slice();label.clearStates(!0),label.setStyle({text:labelTexts.normal}),label.useStates(oldStates,!0)}function getLabelText(opt,stateModels,interpolatedValue){var baseText,labelFetcher=opt.labelFetcher,labelDataIndex=opt.labelDataIndex,labelDimIndex=opt.labelDimIndex,normalModel=stateModels.normal;labelFetcher&&(baseText=labelFetcher.getFormattedLabel(labelDataIndex,"normal",null,labelDimIndex,normalModel&&normalModel.get("formatter"),null!=interpolatedValue?{interpolatedValue}:null)),null==baseText&&(baseText=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(opt.defaultText)?opt.defaultText(labelDataIndex,opt,interpolatedValue):opt.defaultText);for(var statesText={normal:baseText},i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1[i],stateModel=stateModels[stateName];statesText[stateName]=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(labelFetcher?labelFetcher.getFormattedLabel(labelDataIndex,stateName,null,labelDimIndex,stateModel&&stateModel.get("formatter")):null,baseText)}return statesText}function setLabelStyle(targetEl,labelStatesModels,opt,stateSpecified){opt=opt||EMPTY_OBJ;for(var isSetOnText=targetEl instanceof zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_2__.ZP,needsCreateText=!1,i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__.qc.length;i++){if((stateModel=labelStatesModels[_util_states_js__WEBPACK_IMPORTED_MODULE_0__.qc[i]])&&stateModel.getShallow("show")){needsCreateText=!0;break}}var textContent=isSetOnText?targetEl:targetEl.getTextContent();if(needsCreateText){isSetOnText||(textContent||(textContent=new zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_2__.ZP,targetEl.setTextContent(textContent)),targetEl.stateProxy&&(textContent.stateProxy=targetEl.stateProxy));var labelStatesTexts=getLabelText(opt,labelStatesModels),normalModel=labelStatesModels.normal,showNormal=!!normalModel.getShallow("show"),normalStyle=createTextStyle(normalModel,stateSpecified&&stateSpecified.normal,opt,!1,!isSetOnText);normalStyle.text=labelStatesTexts.normal,isSetOnText||targetEl.setTextConfig(createTextConfig(normalModel,opt,!1));for(i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1.length;i++){var stateModel,stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1[i];if(stateModel=labelStatesModels[stateName]){var stateObj=textContent.ensureState(stateName),stateShow=!!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(stateModel.getShallow("show"),showNormal);if(stateShow!==showNormal&&(stateObj.ignore=!stateShow),stateObj.style=createTextStyle(stateModel,stateSpecified&&stateSpecified[stateName],opt,!0,!isSetOnText),stateObj.style.text=labelStatesTexts[stateName],!isSetOnText)targetEl.ensureState(stateName).textConfig=createTextConfig(stateModel,opt,!0)}}textContent.silent=!!normalModel.getShallow("silent"),null!=textContent.style.x&&(normalStyle.x=textContent.style.x),null!=textContent.style.y&&(normalStyle.y=textContent.style.y),textContent.ignore=!showNormal,textContent.useStyle(normalStyle),textContent.dirty(),opt.enableTextSetter&&(labelInner(textContent).setLabelText=function(interpolatedValue){var labelStatesTexts=getLabelText(opt,labelStatesModels,interpolatedValue);setLabelText(textContent,labelStatesTexts)})}else textContent&&(textContent.ignore=!0);targetEl.dirty()}function getLabelStatesModels(itemModel,labelName){labelName=labelName||"label";for(var statesModels={normal:itemModel.getModel(labelName)},i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__.L1[i];statesModels[stateName]=itemModel.getModel([stateName,labelName])}return statesModels}function createTextStyle(textStyleModel,specifiedTextStyle,opt,isNotNormal,isAttached){var textStyle={};return function setTextStyleCommon(textStyle,textStyleModel,opt,isNotNormal,isAttached){opt=opt||EMPTY_OBJ;var richResult,ecModel=textStyleModel.ecModel,globalTextStyle=ecModel&&ecModel.option.textStyle,richItemNames=function getRichItemNames(textStyleModel){var richItemNameMap;for(;textStyleModel&&textStyleModel!==textStyleModel.ecModel;){var rich=(textStyleModel.option||EMPTY_OBJ).rich;if(rich){richItemNameMap=richItemNameMap||{};for(var richKeys=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(rich),i=0;i<richKeys.length;i++){richItemNameMap[richKeys[i]]=1}}textStyleModel=textStyleModel.parentModel}return richItemNameMap}(textStyleModel);if(richItemNames)for(var name_1 in richResult={},richItemNames)if(richItemNames.hasOwnProperty(name_1)){var richTextStyle=textStyleModel.getModel(["rich",name_1]);setTokenTextStyle(richResult[name_1]={},richTextStyle,globalTextStyle,opt,isNotNormal,isAttached,!1,!0)}richResult&&(textStyle.rich=richResult);var overflow=textStyleModel.get("overflow");overflow&&(textStyle.overflow=overflow);var margin=textStyleModel.get("minMargin");null!=margin&&(textStyle.margin=margin);setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isNotNormal,isAttached,!0,!1)}(textStyle,textStyleModel,opt,isNotNormal,isAttached),specifiedTextStyle&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(textStyle,specifiedTextStyle),textStyle}function createTextConfig(textStyleModel,opt,isNotNormal){opt=opt||{};var labelPosition,textConfig={},labelRotate=textStyleModel.getShallow("rotate"),labelDistance=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(textStyleModel.getShallow("distance"),isNotNormal?null:5),labelOffset=textStyleModel.getShallow("offset");return"outside"===(labelPosition=textStyleModel.getShallow("position")||(isNotNormal?null:"inside"))&&(labelPosition=opt.defaultOutsidePosition||"top"),null!=labelPosition&&(textConfig.position=labelPosition),null!=labelOffset&&(textConfig.offset=labelOffset),null!=labelRotate&&(labelRotate*=Math.PI/180,textConfig.rotation=labelRotate),null!=labelDistance&&(textConfig.distance=labelDistance),textConfig.outsideFill="inherit"===textStyleModel.get("color")?opt.inheritColor||null:"auto",textConfig}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isNotNormal,isAttached,isBlock,inRich){globalTextStyle=!isNotNormal&&globalTextStyle||EMPTY_OBJ;var inheritColor=opt&&opt.inheritColor,fillColor=textStyleModel.getShallow("color"),strokeColor=textStyleModel.getShallow("textBorderColor"),opacity=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(textStyleModel.getShallow("opacity"),globalTextStyle.opacity);"inherit"!==fillColor&&"auto"!==fillColor||(fillColor=inheritColor||null),"inherit"!==strokeColor&&"auto"!==strokeColor||(strokeColor=inheritColor||null),isAttached||(fillColor=fillColor||globalTextStyle.color,strokeColor=strokeColor||globalTextStyle.textBorderColor),null!=fillColor&&(textStyle.fill=fillColor),null!=strokeColor&&(textStyle.stroke=strokeColor);var textBorderWidth=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(textStyleModel.getShallow("textBorderWidth"),globalTextStyle.textBorderWidth);null!=textBorderWidth&&(textStyle.lineWidth=textBorderWidth);var textBorderType=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(textStyleModel.getShallow("textBorderType"),globalTextStyle.textBorderType);null!=textBorderType&&(textStyle.lineDash=textBorderType);var textBorderDashOffset=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(textStyleModel.getShallow("textBorderDashOffset"),globalTextStyle.textBorderDashOffset);null!=textBorderDashOffset&&(textStyle.lineDashOffset=textBorderDashOffset),isNotNormal||null!=opacity||inRich||(opacity=opt&&opt.defaultOpacity),null!=opacity&&(textStyle.opacity=opacity),isNotNormal||isAttached||null==textStyle.fill&&opt.inheritColor&&(textStyle.fill=opt.inheritColor);for(var i=0;i<TEXT_PROPS_WITH_GLOBAL.length;i++){var key=TEXT_PROPS_WITH_GLOBAL[i];null!=(val=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(textStyleModel.getShallow(key),globalTextStyle[key]))&&(textStyle[key]=val)}for(i=0;i<TEXT_PROPS_SELF.length;i++){key=TEXT_PROPS_SELF[i];null!=(val=textStyleModel.getShallow(key))&&(textStyle[key]=val)}if(null==textStyle.verticalAlign){var baseline=textStyleModel.getShallow("baseline");null!=baseline&&(textStyle.verticalAlign=baseline)}if(!isBlock||!opt.disableBox){for(i=0;i<TEXT_PROPS_BOX.length;i++){var val;key=TEXT_PROPS_BOX[i];null!=(val=textStyleModel.getShallow(key))&&(textStyle[key]=val)}var borderType=textStyleModel.getShallow("borderType");null!=borderType&&(textStyle.borderDash=borderType),"auto"!==textStyle.backgroundColor&&"inherit"!==textStyle.backgroundColor||!inheritColor||(textStyle.backgroundColor=inheritColor),"auto"!==textStyle.borderColor&&"inherit"!==textStyle.borderColor||!inheritColor||(textStyle.borderColor=inheritColor)}}function getFont(opt,ecModel){var gTextStyleModel=ecModel&&ecModel.getModel("textStyle");return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.trim)([opt.fontStyle||gTextStyleModel&&gTextStyleModel.getShallow("fontStyle")||"",opt.fontWeight||gTextStyleModel&&gTextStyleModel.getShallow("fontWeight")||"",(opt.fontSize||gTextStyleModel&&gTextStyleModel.getShallow("fontSize")||12)+"px",opt.fontFamily||gTextStyleModel&&gTextStyleModel.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__.Yf)();function setLabelValueAnimation(label,labelStatesModels,value,getDefaultText){if(label){var obj=labelInner(label);obj.prevValue=obj.value,obj.value=value;var normalLabelModel=labelStatesModels.normal;obj.valueAnimation=normalLabelModel.get("valueAnimation"),obj.valueAnimation&&(obj.precision=normalLabelModel.get("precision"),obj.defaultInterpolatedText=getDefaultText,obj.statesModels=labelStatesModels)}}function animateLabelValue(textEl,dataIndex,data,animatableModel,labelFetcher){var labelInnerStore=labelInner(textEl);if(labelInnerStore.valueAnimation&&labelInnerStore.prevValue!==labelInnerStore.value){var defaultInterpolatedText=labelInnerStore.defaultInterpolatedText,currValue=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(labelInnerStore.interpolatedValue,labelInnerStore.prevValue),targetValue=labelInnerStore.value;textEl.percent=0,(null==labelInnerStore.prevValue?_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__.KZ:_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__.D)(textEl,{percent:1},animatableModel,dataIndex,null,(function during(percent){var interpolated=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__.pk)(data,labelInnerStore.precision,currValue,targetValue,percent);labelInnerStore.interpolatedValue=1===percent?null:interpolated;var labelText=getLabelText({labelDataIndex:dataIndex,labelFetcher,defaultText:defaultInterpolatedText?defaultInterpolatedText(interpolated):interpolated+""},labelInnerStore.statesModels,interpolated);setLabelText(textEl,labelText)}))}}},"./node_modules/echarts/lib/layout/barGrid.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bk:()=>createProgressiveLayout,G_:()=>retrieveColumnLayout,Ge:()=>prepareLayoutBarSeries,Gk:()=>getLayoutOnAxis,My:()=>makeColumnLayout,bK:()=>layout});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/chart/helper/createRenderPlanner.js"),_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/util/vendor.js"),STACK_PREFIX="__ec_stack_";function getSeriesStackId(seriesModel){return seriesModel.get("stack")||STACK_PREFIX+seriesModel.seriesIndex}function getAxisKey(axis){return axis.dim+axis.index}function getLayoutOnAxis(opt){var params=[],baseAxis=opt.axis;if("category"===baseAxis.type){for(var bandWidth=baseAxis.getBandWidth(),i=0;i<opt.count;i++)params.push((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.defaults)({bandWidth,axisKey:"axis0",stackId:STACK_PREFIX+i},opt));var widthAndOffsets=doCalBarWidthAndOffset(params),result=[];for(i=0;i<opt.count;i++){var item=widthAndOffsets.axis0[STACK_PREFIX+i];item.offsetCenter=item.offset+item.width/2,result.push(item)}return result}}function prepareLayoutBarSeries(seriesType,ecModel){var seriesModels=[];return ecModel.eachSeriesByType(seriesType,(function(seriesModel){isOnCartesian(seriesModel)&&seriesModels.push(seriesModel)})),seriesModels}function makeColumnLayout(barSeries){var axisMinGaps=function getValueAxesMinGaps(barSeries){var axisValues={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(barSeries,(function(seriesModel){var baseAxis=seriesModel.coordinateSystem.getBaseAxis();if("time"===baseAxis.type||"value"===baseAxis.type)for(var data=seriesModel.getData(),key=baseAxis.dim+"_"+baseAxis.index,dimIdx=data.getDimensionIndex(data.mapDimension(baseAxis.dim)),store=data.getStore(),i=0,cnt=store.count();i<cnt;++i){var value=store.get(dimIdx,i);axisValues[key]?axisValues[key].push(value):axisValues[key]=[value]}}));var axisMinGaps={};for(var key in axisValues)if(axisValues.hasOwnProperty(key)){var valuesInAxis=axisValues[key];if(valuesInAxis){valuesInAxis.sort((function(a,b){return a-b}));for(var min=null,j=1;j<valuesInAxis.length;++j){var delta=valuesInAxis[j]-valuesInAxis[j-1];delta>0&&(min=null===min?delta:Math.min(min,delta))}axisMinGaps[key]=min}}return axisMinGaps}(barSeries),seriesInfoList=[];return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(barSeries,(function(seriesModel){var bandWidth,baseAxis=seriesModel.coordinateSystem.getBaseAxis(),axisExtent=baseAxis.getExtent();if("category"===baseAxis.type)bandWidth=baseAxis.getBandWidth();else if("value"===baseAxis.type||"time"===baseAxis.type){var key=baseAxis.dim+"_"+baseAxis.index,minGap=axisMinGaps[key],extentSpan=Math.abs(axisExtent[1]-axisExtent[0]),scale=baseAxis.scale.getExtent(),scaleSpan=Math.abs(scale[1]-scale[0]);bandWidth=minGap?extentSpan/scaleSpan*minGap:extentSpan}else{var data=seriesModel.getData();bandWidth=Math.abs(axisExtent[1]-axisExtent[0])/data.count()}var barWidth=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(seriesModel.get("barWidth"),bandWidth),barMaxWidth=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(seriesModel.get("barMaxWidth"),bandWidth),barMinWidth=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(seriesModel.get("barMinWidth")||(isInLargeMode(seriesModel)?.5:1),bandWidth),barGap=seriesModel.get("barGap"),barCategoryGap=seriesModel.get("barCategoryGap");seriesInfoList.push({bandWidth,barWidth,barMaxWidth,barMinWidth,barGap,barCategoryGap,axisKey:getAxisKey(baseAxis),stackId:getSeriesStackId(seriesModel)})})),doCalBarWidthAndOffset(seriesInfoList)}function doCalBarWidthAndOffset(seriesInfoList){var columnsMap={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(seriesInfoList,(function(seriesInfo,idx){var axisKey=seriesInfo.axisKey,bandWidth=seriesInfo.bandWidth,columnsOnAxis=columnsMap[axisKey]||{bandWidth,remainedWidth:bandWidth,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},stacks=columnsOnAxis.stacks;columnsMap[axisKey]=columnsOnAxis;var stackId=seriesInfo.stackId;stacks[stackId]||columnsOnAxis.autoWidthCount++,stacks[stackId]=stacks[stackId]||{width:0,maxWidth:0};var barWidth=seriesInfo.barWidth;barWidth&&!stacks[stackId].width&&(stacks[stackId].width=barWidth,barWidth=Math.min(columnsOnAxis.remainedWidth,barWidth),columnsOnAxis.remainedWidth-=barWidth);var barMaxWidth=seriesInfo.barMaxWidth;barMaxWidth&&(stacks[stackId].maxWidth=barMaxWidth);var barMinWidth=seriesInfo.barMinWidth;barMinWidth&&(stacks[stackId].minWidth=barMinWidth);var barGap=seriesInfo.barGap;null!=barGap&&(columnsOnAxis.gap=barGap);var barCategoryGap=seriesInfo.barCategoryGap;null!=barCategoryGap&&(columnsOnAxis.categoryGap=barCategoryGap)}));var result={};return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(columnsMap,(function(columnsOnAxis,coordSysName){result[coordSysName]={};var stacks=columnsOnAxis.stacks,bandWidth=columnsOnAxis.bandWidth,categoryGapPercent=columnsOnAxis.categoryGap;if(null==categoryGapPercent){var columnCount=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.keys)(stacks).length;categoryGapPercent=Math.max(35-4*columnCount,15)+"%"}var categoryGap=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(categoryGapPercent,bandWidth),barGapPercent=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(columnsOnAxis.gap,1),remainedWidth=columnsOnAxis.remainedWidth,autoWidthCount=columnsOnAxis.autoWidthCount,autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent);autoWidth=Math.max(autoWidth,0),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(stacks,(function(column){var maxWidth=column.maxWidth,minWidth=column.minWidth;if(column.width){finalWidth=column.width;maxWidth&&(finalWidth=Math.min(finalWidth,maxWidth)),minWidth&&(finalWidth=Math.max(finalWidth,minWidth)),column.width=finalWidth,remainedWidth-=finalWidth+barGapPercent*finalWidth,autoWidthCount--}else{var finalWidth=autoWidth;maxWidth&&maxWidth<finalWidth&&(finalWidth=Math.min(maxWidth,remainedWidth)),minWidth&&minWidth>finalWidth&&(finalWidth=minWidth),finalWidth!==autoWidth&&(column.width=finalWidth,remainedWidth-=finalWidth+barGapPercent*finalWidth,autoWidthCount--)}})),autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent),autoWidth=Math.max(autoWidth,0);var lastColumn,widthSum=0;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(stacks,(function(column,idx){column.width||(column.width=autoWidth),lastColumn=column,widthSum+=column.width*(1+barGapPercent)})),lastColumn&&(widthSum-=lastColumn.width*barGapPercent);var offset=-widthSum/2;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(stacks,(function(column,stackId){result[coordSysName][stackId]=result[coordSysName][stackId]||{bandWidth,offset,width:column.width},offset+=column.width*(1+barGapPercent)}))})),result}function retrieveColumnLayout(barWidthAndOffset,axis,seriesModel){if(barWidthAndOffset&&axis){var result=barWidthAndOffset[getAxisKey(axis)];return null!=result&&null!=seriesModel?result[getSeriesStackId(seriesModel)]:result}}function layout(seriesType,ecModel){var seriesModels=prepareLayoutBarSeries(seriesType,ecModel),barWidthAndOffset=makeColumnLayout(seriesModels);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(seriesModels,(function(seriesModel){var data=seriesModel.getData(),baseAxis=seriesModel.coordinateSystem.getBaseAxis(),stackId=getSeriesStackId(seriesModel),columnLayoutInfo=barWidthAndOffset[getAxisKey(baseAxis)][stackId],columnOffset=columnLayoutInfo.offset,columnWidth=columnLayoutInfo.width;data.setLayout({bandWidth:columnLayoutInfo.bandWidth,offset:columnOffset,size:columnWidth})}))}function createProgressiveLayout(seriesType){return{seriesType,plan:(0,_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_2__.Z)(),reset:function(seriesModel){if(isOnCartesian(seriesModel)){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),valueAxis=cartesian.getOtherAxis(baseAxis),valueDimIdx=data.getDimensionIndex(data.mapDimension(valueAxis.dim)),baseDimIdx=data.getDimensionIndex(data.mapDimension(baseAxis.dim)),drawBackground=seriesModel.get("showBackground",!0),valueDim=data.mapDimension(valueAxis.dim),stackResultDim=data.getCalculationInfo("stackResultDimension"),stacked=(0,_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_3__.M)(data,valueDim)&&!!data.getCalculationInfo("stackedOnSeries"),isValueAxisH=valueAxis.isHorizontal(),valueAxisStart=function getValueAxisStart(baseAxis,valueAxis){return valueAxis.toGlobalCoord(valueAxis.dataToCoord("log"===valueAxis.type?1:0))}(0,valueAxis),isLarge=isInLargeMode(seriesModel),barMinHeight=seriesModel.get("barMinHeight")||0,stackedDimIdx=stackResultDim&&data.getDimensionIndex(stackResultDim),columnWidth=data.getLayout("size"),columnOffset=data.getLayout("offset");return{progress:function(params,data){for(var dataIndex,count=params.count,largePoints=isLarge&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__.o)(3*count),largeBackgroundPoints=isLarge&&drawBackground&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__.o)(3*count),largeDataIndices=isLarge&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__.o)(count),coordLayout=cartesian.master.getRect(),bgSize=isValueAxisH?coordLayout.width:coordLayout.height,store=data.getStore(),idxOffset=0;null!=(dataIndex=params.next());){var value=store.get(stacked?stackedDimIdx:valueDimIdx,dataIndex),baseValue=store.get(baseDimIdx,dataIndex),baseCoord=valueAxisStart,startValue=void 0;stacked&&(startValue=+value-store.get(valueDimIdx,dataIndex));var x=void 0,y=void 0,width=void 0,height=void 0;if(isValueAxisH){var coord=cartesian.dataToPoint([value,baseValue]);if(stacked)baseCoord=cartesian.dataToPoint([startValue,baseValue])[0];x=baseCoord,y=coord[1]+columnOffset,width=coord[0]-baseCoord,height=columnWidth,Math.abs(width)<barMinHeight&&(width=(width<0?-1:1)*barMinHeight)}else{coord=cartesian.dataToPoint([baseValue,value]);if(stacked)baseCoord=cartesian.dataToPoint([baseValue,startValue])[1];x=coord[0]+columnOffset,y=baseCoord,width=columnWidth,height=coord[1]-baseCoord,Math.abs(height)<barMinHeight&&(height=(height<=0?-1:1)*barMinHeight)}isLarge?(largePoints[idxOffset]=x,largePoints[idxOffset+1]=y,largePoints[idxOffset+2]=isValueAxisH?width:height,largeBackgroundPoints&&(largeBackgroundPoints[idxOffset]=isValueAxisH?coordLayout.x:x,largeBackgroundPoints[idxOffset+1]=isValueAxisH?y:coordLayout.y,largeBackgroundPoints[idxOffset+2]=bgSize),largeDataIndices[dataIndex]=dataIndex):data.setItemLayout(dataIndex,{x,y,width,height}),idxOffset+=3}isLarge&&data.setLayout({largePoints,largeDataIndices,largeBackgroundPoints,valueAxisHorizontal:isValueAxisH})}}}}}}function isOnCartesian(seriesModel){return seriesModel.coordinateSystem&&"cartesian2d"===seriesModel.coordinateSystem.type}function isInLargeMode(seriesModel){return seriesModel.pipelineContext&&seriesModel.pipelineContext.large}},"./node_modules/echarts/lib/legacy/dataSelectAction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>handleLegacySelectEvents,y:()=>createLegacyDataSelectAction});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/model.js");function createLegacyDataSelectAction(seriesType,ecRegisterAction){function getSeriesIndices(ecModel,payload){var seriesIndices=[];return ecModel.eachComponent({mainType:"series",subType:seriesType,query:payload},(function(seriesModel){seriesIndices.push(seriesModel.seriesIndex)})),seriesIndices}(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)([[seriesType+"ToggleSelect","toggleSelect"],[seriesType+"Select","select"],[seriesType+"UnSelect","unselect"]],(function(eventsMap){ecRegisterAction(eventsMap[0],(function(payload,ecModel,api){payload=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)({},payload),api.dispatchAction((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)(payload,{type:eventsMap[1],seriesIndex:getSeriesIndices(ecModel,payload)}))}))}))}function handleSeriesLegacySelectEvents(type,eventPostfix,ecIns,ecModel,payload){var legacyEventName=type+eventPostfix;ecIns.isSilent(legacyEventName)||ecModel.eachComponent({mainType:"series",subType:"pie"},(function(seriesModel){for(var seriesIndex=seriesModel.seriesIndex,selectedMap=seriesModel.option.selectedMap,selected=payload.selected,i=0;i<selected.length;i++)if(selected[i].seriesIndex===seriesIndex){var data=seriesModel.getData(),dataIndex=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_1__.gO)(data,payload.fromActionPayload);ecIns.trigger(legacyEventName,{type:legacyEventName,seriesId:seriesModel.id,name:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(dataIndex)?data.getName(dataIndex[0]):data.getName(dataIndex),selected:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(selectedMap)?selectedMap:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)({},selectedMap)})}}))}function handleLegacySelectEvents(messageCenter,ecIns,api){messageCenter.on("selectchanged",(function(params){var ecModel=api.getModel();params.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",ecIns,ecModel,params),handleSeriesLegacySelectEvents("pie","selectchanged",ecIns,ecModel,params)):"select"===params.fromAction?(handleSeriesLegacySelectEvents("map","selected",ecIns,ecModel,params),handleSeriesLegacySelectEvents("pie","selected",ecIns,ecModel,params)):"unselect"===params.fromAction&&(handleSeriesLegacySelectEvents("map","unselected",ecIns,ecModel,params),handleSeriesLegacySelectEvents("pie","unselected",ecIns,ecModel,params))}))}},"./node_modules/echarts/lib/model/Component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_Model_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),_util_component_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/component.js"),_util_clazz_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_util_layout_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),inner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)(),ComponentModel=function(_super){function ComponentModel(option,parentModel,ecModel){var _this=_super.call(this,option,parentModel,ecModel)||this;return _this.uid=_util_component_js__WEBPACK_IMPORTED_MODULE_2__.Kr("ec_cpt_model"),_this}var proto;return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(ComponentModel,_super),ComponentModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel)},ComponentModel.prototype.mergeDefaultAndTheme=function(option,ecModel){var layoutMode=_util_layout_js__WEBPACK_IMPORTED_MODULE_3__.YD(this),inputPositionParams=layoutMode?_util_layout_js__WEBPACK_IMPORTED_MODULE_3__.tE(option):{},themeModel=ecModel.getTheme();zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.merge(option,themeModel.get(this.mainType)),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.merge(option,this.getDefaultOption()),layoutMode&&_util_layout_js__WEBPACK_IMPORTED_MODULE_3__.dt(option,inputPositionParams,layoutMode)},ComponentModel.prototype.mergeOption=function(option,ecModel){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.merge(this.option,option,!0);var layoutMode=_util_layout_js__WEBPACK_IMPORTED_MODULE_3__.YD(this);layoutMode&&_util_layout_js__WEBPACK_IMPORTED_MODULE_3__.dt(this.option,option,layoutMode)},ComponentModel.prototype.optionUpdated=function(newCptOption,isInit){},ComponentModel.prototype.getDefaultOption=function(){var ctor=this.constructor;if(!(0,_util_clazz_js__WEBPACK_IMPORTED_MODULE_5__.PT)(ctor))return ctor.defaultOption;var fields=inner(this);if(!fields.defaultOption){for(var optList=[],clz=ctor;clz;){var opt=clz.prototype.defaultOption;opt&&optList.push(opt),clz=clz.superClass}for(var defaultOption={},i=optList.length-1;i>=0;i--)defaultOption=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.merge(defaultOption,optList[i],!0);fields.defaultOption=defaultOption}return fields.defaultOption},ComponentModel.prototype.getReferringComponents=function(mainType,opt){var indexKey=mainType+"Index",idKey=mainType+"Id";return(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.HZ)(this.ecModel,mainType,{index:this.get(indexKey,!0),id:this.get(idKey,!0)},opt)},ComponentModel.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},ComponentModel.prototype.getZLevelKey=function(){return""},ComponentModel.prototype.setZLevel=function(zlevel){this.option.zlevel=zlevel},ComponentModel.protoInitialize=((proto=ComponentModel.prototype).type="component",proto.id="",proto.name="",proto.mainType="",proto.subType="",void(proto.componentIndex=0)),ComponentModel}(_Model_js__WEBPACK_IMPORTED_MODULE_6__.Z);(0,_util_clazz_js__WEBPACK_IMPORTED_MODULE_5__.pw)(ComponentModel,_Model_js__WEBPACK_IMPORTED_MODULE_6__.Z),(0,_util_clazz_js__WEBPACK_IMPORTED_MODULE_5__.au)(ComponentModel),_util_component_js__WEBPACK_IMPORTED_MODULE_2__.cj(ComponentModel),_util_component_js__WEBPACK_IMPORTED_MODULE_2__.jS(ComponentModel,(function getDependencies(componentType){var deps=[];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.each(ComponentModel.getClassesByMainType(componentType),(function(clz){deps=deps.concat(clz.dependencies||clz.prototype.dependencies||[])})),deps=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.map(deps,(function(type){return(0,_util_clazz_js__WEBPACK_IMPORTED_MODULE_5__.u9)(type).main})),"dataset"!==componentType&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.indexOf(deps,"dataset")<=0&&deps.unshift("dataset");return deps}));const __WEBPACK_DEFAULT_EXPORT__=ComponentModel},"./node_modules/echarts/lib/model/Model.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>model_Model});var env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),clazz=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),getAreaStyle=(0,__webpack_require__("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js").Z)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),AreaStyleMixin=function(){function AreaStyleMixin(){}return AreaStyleMixin.prototype.getAreaStyle=function(excludes,includes){return getAreaStyle(this,excludes,includes)},AreaStyleMixin}(),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),Text=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new Text.ZP;const textStyle=function(){function TextStyleMixin(){}return TextStyleMixin.prototype.getTextColor=function(isEmphasis){var ecModel=this.ecModel;return this.getShallow("color")||(!isEmphasis&&ecModel?ecModel.get(PATH_COLOR):null)},TextStyleMixin.prototype.getFont=function(){return(0,labelStyle.qT)({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},TextStyleMixin.prototype.getTextRect=function(text){for(var style={text,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<textStyleParams.length;i++)style[textStyleParams[i]]=this.getShallow(textStyleParams[i]);return tmpText.useStyle(style),tmpText.update(),tmpText.getBoundingRect()},TextStyleMixin}();var lineStyle=__webpack_require__("./node_modules/echarts/lib/model/mixin/lineStyle.js"),itemStyle=__webpack_require__("./node_modules/echarts/lib/model/mixin/itemStyle.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),Model=function(){function Model(option,parentModel,ecModel){this.parentModel=parentModel,this.ecModel=ecModel,this.option=option}return Model.prototype.init=function(option,parentModel,ecModel){for(var rest=[],_i=3;_i<arguments.length;_i++)rest[_i-3]=arguments[_i]},Model.prototype.mergeOption=function(option,ecModel){(0,util.merge)(this.option,option,!0)},Model.prototype.get=function(path,ignoreParent){return null==path?this.option:this._doGet(this.parsePath(path),!ignoreParent&&this.parentModel)},Model.prototype.getShallow=function(key,ignoreParent){var option=this.option,val=null==option?option:option[key];if(null==val&&!ignoreParent){var parentModel=this.parentModel;parentModel&&(val=parentModel.getShallow(key))}return val},Model.prototype.getModel=function(path,parentModel){var hasPath=null!=path,pathFinal=hasPath?this.parsePath(path):null;return new Model(hasPath?this._doGet(pathFinal):this.option,parentModel=parentModel||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(pathFinal)),this.ecModel)},Model.prototype.isEmpty=function(){return null==this.option},Model.prototype.restoreData=function(){},Model.prototype.clone=function(){return new(0,this.constructor)((0,util.clone)(this.option))},Model.prototype.parsePath=function(path){return"string"==typeof path?path.split("."):path},Model.prototype.resolveParentPath=function(path){return path},Model.prototype.isAnimationEnabled=function(){if(!env.Z.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Model.prototype._doGet=function(pathArr,parentModel){var obj=this.option;if(!pathArr)return obj;for(var i=0;i<pathArr.length&&(!pathArr[i]||null!=(obj=obj&&"object"==typeof obj?obj[pathArr[i]]:null));i++);return null==obj&&parentModel&&(obj=parentModel._doGet(this.resolveParentPath(pathArr),parentModel.parentModel)),obj},Model}();(0,clazz.dm)(Model),(0,clazz.Qj)(Model),(0,util.mixin)(Model,lineStyle.K),(0,util.mixin)(Model,itemStyle.D),(0,util.mixin)(Model,AreaStyleMixin),(0,util.mixin)(Model,textStyle);const model_Model=Model},"./node_modules/echarts/lib/model/Series.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>SERIES_UNIVERSAL_TRANSITION_PROP,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/core/env.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_Component_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),_mixin_palette_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/echarts/lib/model/mixin/palette.js"),_model_mixin_dataFormat_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/echarts/lib/model/mixin/dataFormat.js"),_util_layout_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),_core_task_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/core/task.js"),_util_clazz_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceManager.js"),_component_tooltip_seriesFormatTooltip_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js"),inner=_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf();function getSelectionKey(data,dataIndex){return data.getName(dataIndex)||data.getId(dataIndex)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(_super){function SeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._selectedDataIndicesMap={},_this}var proto;return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(SeriesModel,_super),SeriesModel.prototype.init=function(option,parentModel,ecModel){this.seriesIndex=this.componentIndex,this.dataTask=(0,_core_task_js__WEBPACK_IMPORTED_MODULE_2__.v)({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(option,ecModel),(inner(this).sourceManager=new _data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_3__.U(this)).prepareSource();var data=this.getInitialData(option,ecModel);wrapData(data,this),this.dataTask.context.data=data,inner(this).dataBeforeProcessed=data,autoSeriesName(this),this._initSelectedMapFromData(data)},SeriesModel.prototype.mergeDefaultAndTheme=function(option,ecModel){var layoutMode=(0,_util_layout_js__WEBPACK_IMPORTED_MODULE_4__.YD)(this),inputPositionParams=layoutMode?(0,_util_layout_js__WEBPACK_IMPORTED_MODULE_4__.tE)(option):{},themeSubType=this.subType;_Component_js__WEBPACK_IMPORTED_MODULE_5__.Z.hasClass(themeSubType)&&(themeSubType+="Series"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.merge(option,ecModel.getTheme().get(this.subType)),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.merge(option,this.getDefaultOption()),_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Cc(option,"label",["show"]),this.fillDataTextStyle(option.data),layoutMode&&(0,_util_layout_js__WEBPACK_IMPORTED_MODULE_4__.dt)(option,inputPositionParams,layoutMode)},SeriesModel.prototype.mergeOption=function(newSeriesOption,ecModel){newSeriesOption=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.merge(this.option,newSeriesOption,!0),this.fillDataTextStyle(newSeriesOption.data);var layoutMode=(0,_util_layout_js__WEBPACK_IMPORTED_MODULE_4__.YD)(this);layoutMode&&(0,_util_layout_js__WEBPACK_IMPORTED_MODULE_4__.dt)(this.option,newSeriesOption,layoutMode);var sourceManager=inner(this).sourceManager;sourceManager.dirty(),sourceManager.prepareSource();var data=this.getInitialData(newSeriesOption,ecModel);wrapData(data,this),this.dataTask.dirty(),this.dataTask.context.data=data,inner(this).dataBeforeProcessed=data,autoSeriesName(this),this._initSelectedMapFromData(data)},SeriesModel.prototype.fillDataTextStyle=function(data){if(data&&!zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.isTypedArray(data))for(var props=["show"],i=0;i<data.length;i++)data[i]&&data[i].label&&_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Cc(data[i],"label",props)},SeriesModel.prototype.getInitialData=function(option,ecModel){},SeriesModel.prototype.appendData=function(params){this.getRawData().appendData(params.data)},SeriesModel.prototype.getData=function(dataType){var task=getCurrentTask(this);if(task){var data=task.context.data;return null==dataType?data:data.getLinkedData(dataType)}return inner(this).data},SeriesModel.prototype.getAllData=function(){var mainData=this.getData();return mainData&&mainData.getLinkedDataAll?mainData.getLinkedDataAll():[{data:mainData}]},SeriesModel.prototype.setData=function(data){var task=getCurrentTask(this);if(task){var context=task.context;context.outputData=data,task!==this.dataTask&&(context.data=data)}inner(this).data=data},SeriesModel.prototype.getEncode=function(){var encode=this.get("encode",!0);if(encode)return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.createHashMap(encode)},SeriesModel.prototype.getSourceManager=function(){return inner(this).sourceManager},SeriesModel.prototype.getSource=function(){return this.getSourceManager().getSource()},SeriesModel.prototype.getRawData=function(){return inner(this).dataBeforeProcessed},SeriesModel.prototype.getColorBy=function(){return this.get("colorBy")||"series"},SeriesModel.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},SeriesModel.prototype.getBaseAxis=function(){var coordSys=this.coordinateSystem;return coordSys&&coordSys.getBaseAxis&&coordSys.getBaseAxis()},SeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){return(0,_component_tooltip_seriesFormatTooltip_js__WEBPACK_IMPORTED_MODULE_7__.w)({series:this,dataIndex,multipleSeries})},SeriesModel.prototype.isAnimationEnabled=function(){var ecModel=this.ecModel;if(zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_8__.Z.node&&(!ecModel||!ecModel.ssr))return!1;var animationEnabled=this.getShallow("animation");return animationEnabled&&this.getData().count()>this.getShallow("animationThreshold")&&(animationEnabled=!1),!!animationEnabled},SeriesModel.prototype.restoreData=function(){this.dataTask.dirty()},SeriesModel.prototype.getColorFromPalette=function(name,scope,requestColorNum){var ecModel=this.ecModel,color=_mixin_palette_js__WEBPACK_IMPORTED_MODULE_9__._.prototype.getColorFromPalette.call(this,name,scope,requestColorNum);return color||(color=ecModel.getColorFromPalette(name,scope,requestColorNum)),color},SeriesModel.prototype.coordDimToDataDim=function(coordDim){return this.getRawData().mapDimensionsAll(coordDim)},SeriesModel.prototype.getProgressive=function(){return this.get("progressive")},SeriesModel.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},SeriesModel.prototype.select=function(innerDataIndices,dataType){this._innerSelect(this.getData(dataType),innerDataIndices)},SeriesModel.prototype.unselect=function(innerDataIndices,dataType){var selectedMap=this.option.selectedMap;if(selectedMap){var selectedMode=this.option.selectedMode,data=this.getData(dataType);if("series"===selectedMode||"all"===selectedMap)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var i=0;i<innerDataIndices.length;i++){var nameOrId=getSelectionKey(data,innerDataIndices[i]);selectedMap[nameOrId]=!1,this._selectedDataIndicesMap[nameOrId]=-1}}},SeriesModel.prototype.toggleSelect=function(innerDataIndices,dataType){for(var tmpArr=[],i=0;i<innerDataIndices.length;i++)tmpArr[0]=innerDataIndices[i],this.isSelected(innerDataIndices[i],dataType)?this.unselect(tmpArr,dataType):this.select(tmpArr,dataType)},SeriesModel.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var selectedDataIndicesMap=this._selectedDataIndicesMap,nameOrIds=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.keys(selectedDataIndicesMap),dataIndices=[],i=0;i<nameOrIds.length;i++){var dataIndex=selectedDataIndicesMap[nameOrIds[i]];dataIndex>=0&&dataIndices.push(dataIndex)}return dataIndices},SeriesModel.prototype.isSelected=function(dataIndex,dataType){var selectedMap=this.option.selectedMap;if(!selectedMap)return!1;var data=this.getData(dataType);return("all"===selectedMap||selectedMap[getSelectionKey(data,dataIndex)])&&!data.getItemModel(dataIndex).get(["select","disabled"])},SeriesModel.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var universalTransitionOpt=this.option.universalTransition;return!!universalTransitionOpt&&(!0===universalTransitionOpt||universalTransitionOpt&&universalTransitionOpt.enabled)},SeriesModel.prototype._innerSelect=function(data,innerDataIndices){var _a,_b,option=this.option,selectedMode=option.selectedMode,len=innerDataIndices.length;if(selectedMode&&len)if("series"===selectedMode)option.selectedMap="all";else if("multiple"===selectedMode){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.isObject(option.selectedMap)||(option.selectedMap={});for(var selectedMap=option.selectedMap,i=0;i<len;i++){var dataIndex=innerDataIndices[i];selectedMap[nameOrId=getSelectionKey(data,dataIndex)]=!0,this._selectedDataIndicesMap[nameOrId]=data.getRawIndex(dataIndex)}}else if("single"===selectedMode||!0===selectedMode){var lastDataIndex=innerDataIndices[len-1],nameOrId=getSelectionKey(data,lastDataIndex);option.selectedMap=((_a={})[nameOrId]=!0,_a),this._selectedDataIndicesMap=((_b={})[nameOrId]=data.getRawIndex(lastDataIndex),_b)}},SeriesModel.prototype._initSelectedMapFromData=function(data){if(!this.option.selectedMap){var dataIndices=[];data.hasItemOption&&data.each((function(idx){var rawItem=data.getRawDataItem(idx);rawItem&&rawItem.selected&&dataIndices.push(idx)})),dataIndices.length>0&&this._innerSelect(data,dataIndices)}},SeriesModel.registerClass=function(clz){return _Component_js__WEBPACK_IMPORTED_MODULE_5__.Z.registerClass(clz)},SeriesModel.protoInitialize=((proto=SeriesModel.prototype).type="series.__base__",proto.seriesIndex=0,proto.ignoreStyleOnData=!1,proto.hasSymbolVisual=!1,proto.defaultSymbol="circle",proto.visualStyleAccessPath="itemStyle",void(proto.visualDrawType="fill")),SeriesModel}(_Component_js__WEBPACK_IMPORTED_MODULE_5__.Z);function autoSeriesName(seriesModel){var name=seriesModel.name;_util_model_js__WEBPACK_IMPORTED_MODULE_0__.yu(seriesModel)||(seriesModel.name=function getSeriesAutoName(seriesModel){var data=seriesModel.getRawData(),dataDims=data.mapDimensionsAll("seriesName"),nameArr=[];return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.each(dataDims,(function(dataDim){var dimInfo=data.getDimensionInfo(dataDim);dimInfo.displayName&&nameArr.push(dimInfo.displayName)})),nameArr.join(" ")}(seriesModel)||name)}function dataTaskCount(context){return context.model.getRawData().count()}function dataTaskReset(context){var seriesModel=context.model;return seriesModel.setData(seriesModel.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(param,context){context.outputData&&param.end>context.outputData.count()&&context.model.getRawData().cloneShallow(context.outputData)}function wrapData(data,seriesModel){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.each(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.concatArray(data.CHANGABLE_METHODS,data.DOWNSAMPLE_METHODS),(function(methodName){data.wrapMethod(methodName,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.curry(onDataChange,seriesModel))}))}function onDataChange(seriesModel,newList){var task=getCurrentTask(seriesModel);return task&&task.setOutputEnd((newList||this).count()),newList}function getCurrentTask(seriesModel){var scheduler=(seriesModel.ecModel||{}).scheduler,pipeline=scheduler&&scheduler.getPipeline(seriesModel.uid);if(pipeline){var task=pipeline.currentTask;if(task){var agentStubMap=task.agentStubMap;agentStubMap&&(task=agentStubMap.get(seriesModel.uid))}return task}}zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.mixin(SeriesModel,_model_mixin_dataFormat_js__WEBPACK_IMPORTED_MODULE_10__.X),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.mixin(SeriesModel,_mixin_palette_js__WEBPACK_IMPORTED_MODULE_9__._),(0,_util_clazz_js__WEBPACK_IMPORTED_MODULE_11__.pw)(SeriesModel,_Component_js__WEBPACK_IMPORTED_MODULE_5__.Z);const __WEBPACK_DEFAULT_EXPORT__=SeriesModel},"./node_modules/echarts/lib/model/internalComponentCreator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>concatInternalOptions,f:()=>registerInternalOptionCreator});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),internalOptionCreatorMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)();function registerInternalOptionCreator(mainType,creator){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(null==internalOptionCreatorMap.get(mainType)&&creator),internalOptionCreatorMap.set(mainType,creator)}function concatInternalOptions(ecModel,mainType,newCmptOptionList){var internalOptionCreator=internalOptionCreatorMap.get(mainType);if(!internalOptionCreator)return newCmptOptionList;var internalOptions=internalOptionCreator(ecModel);return internalOptions?newCmptOptionList.concat(internalOptions):newCmptOptionList}},"./node_modules/echarts/lib/model/mixin/dataFormat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>DataFormatMixin,f:()=>normalizeTooltipFormatResult});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/data/helper/dataProvider.js"),_util_format_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/format.js"),DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function DataFormatMixin(){}return DataFormatMixin.prototype.getDataParams=function(dataIndex,dataType){var data=this.getData(dataType),rawValue=this.getRawValue(dataIndex,dataType),rawDataIndex=data.getRawIndex(dataIndex),name=data.getName(dataIndex),itemOpt=data.getRawDataItem(dataIndex),style=data.getItemVisual(dataIndex,"style"),color=style&&style[data.getItemVisual(dataIndex,"drawType")||"fill"],borderColor=style&&style.stroke,mainType=this.mainType,isSeries="series"===mainType,userOutput=data.userOutput&&data.userOutput.get();return{componentType:mainType,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:isSeries?this.subType:null,seriesIndex:this.seriesIndex,seriesId:isSeries?this.id:null,seriesName:isSeries?this.name:null,name,dataIndex:rawDataIndex,data:itemOpt,dataType,value:rawValue,color,borderColor,dimensionNames:userOutput?userOutput.fullDimensions:null,encode:userOutput?userOutput.encode:null,$vars:["seriesName","name","value"]}},DataFormatMixin.prototype.getFormattedLabel=function(dataIndex,status,dataType,labelDimIndex,formatter,extendParams){status=status||"normal";var data=this.getData(dataType),params=this.getDataParams(dataIndex,dataType);(extendParams&&(params.value=extendParams.interpolatedValue),null!=labelDimIndex&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(params.value)&&(params.value=params.value[labelDimIndex]),formatter)||(formatter=data.getItemModel(dataIndex).get("normal"===status?["label","formatter"]:[status,"label","formatter"]));return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(formatter)?(params.status=status,params.dimensionIndex=labelDimIndex,formatter(params)):zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(formatter)?(0,_util_format_js__WEBPACK_IMPORTED_MODULE_1__.kF)(formatter,params).replace(DIMENSION_LABEL_REG,(function(origin,dimStr){var len=dimStr.length,dimLoose=dimStr;"["===dimLoose.charAt(0)&&"]"===dimLoose.charAt(len-1)&&(dimLoose=+dimLoose.slice(1,len-1));var val=(0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__.hk)(data,dataIndex,dimLoose);if(extendParams&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(extendParams.interpolatedValue)){var dimIndex=data.getDimensionIndex(dimLoose);dimIndex>=0&&(val=extendParams.interpolatedValue[dimIndex])}return null!=val?val+"":""})):void 0},DataFormatMixin.prototype.getRawValue=function(idx,dataType){return(0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__.hk)(this.getData(dataType),idx)},DataFormatMixin.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){},DataFormatMixin}();function normalizeTooltipFormatResult(result){var markupText,markupFragment;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject(result)?result.type&&(markupFragment=result):markupText=result,{text:markupText,frag:markupFragment}}},"./node_modules/echarts/lib/model/mixin/itemStyle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ItemStyleMixin,t:()=>ITEM_STYLE_KEY_MAP});var _makeStyleMapper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=(0,_makeStyleMapper_js__WEBPACK_IMPORTED_MODULE_0__.Z)(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function ItemStyleMixin(){}return ItemStyleMixin.prototype.getItemStyle=function(excludes,includes){return getItemStyle(this,excludes,includes)},ItemStyleMixin}()},"./node_modules/echarts/lib/model/mixin/lineStyle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>LineStyleMixin,v:()=>LINE_STYLE_KEY_MAP});var _makeStyleMapper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=(0,_makeStyleMapper_js__WEBPACK_IMPORTED_MODULE_0__.Z)(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function LineStyleMixin(){}return LineStyleMixin.prototype.getLineStyle=function(excludes){return getLineStyle(this,excludes)},LineStyleMixin}()},"./node_modules/echarts/lib/model/mixin/makeStyleMapper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>makeStyleMapper});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function makeStyleMapper(properties,ignoreParent){for(var i=0;i<properties.length;i++)properties[i][1]||(properties[i][1]=properties[i][0]);return ignoreParent=ignoreParent||!1,function(model,excludes,includes){for(var style={},i=0;i<properties.length;i++){var propName=properties[i][1];if(!(excludes&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.indexOf(excludes,propName)>=0||includes&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.indexOf(includes,propName)<0)){var val=model.getShallow(propName,ignoreParent);null!=val&&(style[properties[i][0]]=val)}}return style}}},"./node_modules/echarts/lib/model/mixin/palette.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>PaletteMixin,i:()=>getDecalFromPalette});var _util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),innerColor=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)(),innerDecal=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)(),PaletteMixin=function(){function PaletteMixin(){}return PaletteMixin.prototype.getColorFromPalette=function(name,scope,requestNum){var defaultPalette=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.kF)(this.get("color",!0)),layeredPalette=this.get("colorLayer",!0);return getFromPalette(this,innerColor,defaultPalette,layeredPalette,name,scope,requestNum)},PaletteMixin.prototype.clearColorPalette=function(){!function clearPalette(that,inner){inner(that).paletteIdx=0,inner(that).paletteNameMap={}}(this,innerColor)},PaletteMixin}();function getDecalFromPalette(ecModel,name,scope,requestNum){var defaultDecals=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__.kF)(ecModel.get(["aria","decal","decals"]));return getFromPalette(ecModel,innerDecal,defaultDecals,null,name,scope,requestNum)}function getFromPalette(that,inner,defaultPalette,layeredPalette,name,scope,requestNum){var scopeFields=inner(scope=scope||that),paletteIdx=scopeFields.paletteIdx||0,paletteNameMap=scopeFields.paletteNameMap=scopeFields.paletteNameMap||{};if(paletteNameMap.hasOwnProperty(name))return paletteNameMap[name];var palette=null!=requestNum&&layeredPalette?function getNearestPalette(palettes,requestColorNum){for(var paletteNum=palettes.length,i=0;i<paletteNum;i++)if(palettes[i].length>requestColorNum)return palettes[i];return palettes[paletteNum-1]}(layeredPalette,requestNum):defaultPalette;if((palette=palette||defaultPalette)&&palette.length){var pickedPaletteItem=palette[paletteIdx];return name&&(paletteNameMap[name]=pickedPaletteItem),scopeFields.paletteIdx=(paletteIdx+1)%palette.length,pickedPaletteItem}}},"./node_modules/echarts/lib/processor/dataSample.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>dataSample});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),samplers={average:function(frame){for(var sum=0,count=0,i=0;i<frame.length;i++)isNaN(frame[i])||(sum+=frame[i],count++);return 0===count?NaN:sum/count},sum:function(frame){for(var sum=0,i=0;i<frame.length;i++)sum+=frame[i]||0;return sum},max:function(frame){for(var max=-1/0,i=0;i<frame.length;i++)frame[i]>max&&(max=frame[i]);return isFinite(max)?max:NaN},min:function(frame){for(var min=1/0,i=0;i<frame.length;i++)frame[i]<min&&(min=frame[i]);return isFinite(min)?min:NaN},nearest:function(frame){return frame[0]}},indexSampler=function(frame){return Math.round(frame.length/2)};function dataSample(seriesType){return{seriesType,reset:function(seriesModel,ecModel,api){var data=seriesModel.getData(),sampling=seriesModel.get("sampling"),coordSys=seriesModel.coordinateSystem,count=data.count();if(count>10&&"cartesian2d"===coordSys.type&&sampling){var baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),extent=baseAxis.getExtent(),dpr=api.getDevicePixelRatio(),size=Math.abs(extent[1]-extent[0])*(dpr||1),rate=Math.round(count/size);if(isFinite(rate)&&rate>1){"lttb"===sampling&&seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim),1/rate));var sampler=void 0;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(sampling)?sampler=samplers[sampling]:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction)(sampling)&&(sampler=sampling),sampler&&seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim),1/rate,sampler,indexSampler))}}}}}},"./node_modules/echarts/lib/renderer/installCanvasRenderer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>install});var config=__webpack_require__("./node_modules/zrender/lib/config.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),tslib=__webpack_require__("tslib"),Eventful=__webpack_require__("./node_modules/zrender/lib/core/Eventful.js"),helper=__webpack_require__("./node_modules/zrender/lib/canvas/helper.js"),graphic=__webpack_require__("./node_modules/zrender/lib/canvas/graphic.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),constants=__webpack_require__("./node_modules/zrender/lib/graphic/constants.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js");function createDom(id,painter,dpr){var newDom=platform.qW.createCanvas(),width=painter.getWidth(),height=painter.getHeight(),newDomStyle=newDom.style;return newDomStyle&&(newDomStyle.position="absolute",newDomStyle.left="0",newDomStyle.top="0",newDomStyle.width=width+"px",newDomStyle.height=height+"px",newDom.setAttribute("data-zr-dom-id",id)),newDom.width=width*dpr,newDom.height=height*dpr,newDom}const canvas_Layer=function(_super){function Layer(id,painter,dpr){var dom,_this=_super.call(this)||this;_this.motionBlur=!1,_this.lastFrameAlpha=.7,_this.dpr=1,_this.virtual=!1,_this.config={},_this.incremental=!1,_this.zlevel=0,_this.maxRepaintRectCount=5,_this.__dirty=!0,_this.__firstTimePaint=!0,_this.__used=!1,_this.__drawIndex=0,_this.__startIndex=0,_this.__endIndex=0,_this.__prevStartIndex=null,_this.__prevEndIndex=null,dpr=dpr||config.KL,"string"==typeof id?dom=createDom(id,painter,dpr):util.isObject(id)&&(id=(dom=id).id),_this.id=id,_this.dom=dom;var domStyle=dom.style;return domStyle&&(util.disableUserSelect(dom),dom.onselectstart=function(){return!1},domStyle.padding="0",domStyle.margin="0",domStyle.borderWidth="0"),_this.painter=painter,_this.dpr=dpr,_this}return(0,tslib.ZT)(Layer,_super),Layer.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Layer.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Layer.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Layer.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Layer.prototype.createBackBuffer=function(){var dpr=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,dpr),this.ctxBack=this.domBack.getContext("2d"),1!==dpr&&this.ctxBack.scale(dpr,dpr)},Layer.prototype.createRepaintRects=function(displayList,prevList,viewWidth,viewHeight){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var hasIntersections,mergedRepaintRects=[],maxRepaintRectCount=this.maxRepaintRectCount,full=!1,pendingRect=new BoundingRect.Z(0,0,0,0);function addRectToMergePool(rect){if(rect.isFinite()&&!rect.isZero())if(0===mergedRepaintRects.length){(boundingRect=new BoundingRect.Z(0,0,0,0)).copy(rect),mergedRepaintRects.push(boundingRect)}else{for(var boundingRect,isMerged=!1,minDeltaArea=1/0,bestRectToMergeIdx=0,i=0;i<mergedRepaintRects.length;++i){var mergedRect=mergedRepaintRects[i];if(mergedRect.intersect(rect)){var pendingRect_1=new BoundingRect.Z(0,0,0,0);pendingRect_1.copy(mergedRect),pendingRect_1.union(rect),mergedRepaintRects[i]=pendingRect_1,isMerged=!0;break}if(full){pendingRect.copy(rect),pendingRect.union(mergedRect);var aArea=rect.width*rect.height,bArea=mergedRect.width*mergedRect.height,deltaArea=pendingRect.width*pendingRect.height-aArea-bArea;deltaArea<minDeltaArea&&(minDeltaArea=deltaArea,bestRectToMergeIdx=i)}}if(full&&(mergedRepaintRects[bestRectToMergeIdx].union(rect),isMerged=!0),!isMerged)(boundingRect=new BoundingRect.Z(0,0,0,0)).copy(rect),mergedRepaintRects.push(boundingRect);full||(full=mergedRepaintRects.length>=maxRepaintRectCount)}}for(var i=this.__startIndex;i<this.__endIndex;++i){if(el=displayList[i]){var shouldPaint=el.shouldBePainted(viewWidth,viewHeight,!0,!0);(prevRect=el.__isRendered&&(el.__dirty&constants.YV||!shouldPaint)?el.getPrevPaintRect():null)&&addRectToMergePool(prevRect);var curRect=shouldPaint&&(el.__dirty&constants.YV||!el.__isRendered)?el.getPaintRect():null;curRect&&addRectToMergePool(curRect)}}for(i=this.__prevStartIndex;i<this.__prevEndIndex;++i){var el,prevRect;shouldPaint=(el=prevList[i]).shouldBePainted(viewWidth,viewHeight,!0,!0);if(el&&(!shouldPaint||!el.__zr)&&el.__isRendered)(prevRect=el.getPrevPaintRect())&&addRectToMergePool(prevRect)}do{hasIntersections=!1;for(i=0;i<mergedRepaintRects.length;)if(mergedRepaintRects[i].isZero())mergedRepaintRects.splice(i,1);else{for(var j=i+1;j<mergedRepaintRects.length;)mergedRepaintRects[i].intersect(mergedRepaintRects[j])?(hasIntersections=!0,mergedRepaintRects[i].union(mergedRepaintRects[j]),mergedRepaintRects.splice(j,1)):j++;i++}}while(hasIntersections);return this._paintRects=mergedRepaintRects,mergedRepaintRects},Layer.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Layer.prototype.resize=function(width,height){var dpr=this.dpr,dom=this.dom,domStyle=dom.style,domBack=this.domBack;domStyle&&(domStyle.width=width+"px",domStyle.height=height+"px"),dom.width=width*dpr,dom.height=height*dpr,domBack&&(domBack.width=width*dpr,domBack.height=height*dpr,1!==dpr&&this.ctxBack.scale(dpr,dpr))},Layer.prototype.clear=function(clearAll,clearColor,repaintRects){var dom=this.dom,ctx=this.ctx,width=dom.width,height=dom.height;clearColor=clearColor||this.clearColor;var haveMotionBLur=this.motionBlur&&!clearAll,lastFrameAlpha=this.lastFrameAlpha,dpr=this.dpr,self=this;haveMotionBLur&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(dom,0,0,width/dpr,height/dpr));var domBack=this.domBack;function doClear(x,y,width,height){if(ctx.clearRect(x,y,width,height),clearColor&&"transparent"!==clearColor){var clearColorGradientOrPattern=void 0;if(util.isGradientObject(clearColor))clearColorGradientOrPattern=(clearColor.global||clearColor.__width===width&&clearColor.__height===height)&&clearColor.__canvasGradient||(0,helper.ZF)(ctx,clearColor,{x:0,y:0,width,height}),clearColor.__canvasGradient=clearColorGradientOrPattern,clearColor.__width=width,clearColor.__height=height;else util.isImagePatternObject(clearColor)&&(clearColor.scaleX=clearColor.scaleX||dpr,clearColor.scaleY=clearColor.scaleY||dpr,clearColorGradientOrPattern=(0,graphic.RZ)(ctx,clearColor,{dirty:function(){self.setUnpainted(),self.__painter.refresh()}}));ctx.save(),ctx.fillStyle=clearColorGradientOrPattern||clearColor,ctx.fillRect(x,y,width,height),ctx.restore()}haveMotionBLur&&(ctx.save(),ctx.globalAlpha=lastFrameAlpha,ctx.drawImage(domBack,x,y,width,height),ctx.restore())}!repaintRects||haveMotionBLur?doClear(0,0,width,height):repaintRects.length&&util.each(repaintRects,(function(rect){doClear(rect.x*dpr,rect.y*dpr,rect.width*dpr,rect.height*dpr)}))},Layer}(Eventful.Z);var requestAnimationFrame=__webpack_require__("./node_modules/zrender/lib/animation/requestAnimationFrame.js"),env=__webpack_require__("./node_modules/zrender/lib/core/env.js");var CanvasPainter=function(){function CanvasPainter(root,storage,opts,id){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var singleCanvas=!root.nodeName||"CANVAS"===root.nodeName.toUpperCase();this._opts=opts=util.extend({},opts||{}),this.dpr=opts.devicePixelRatio||config.KL,this._singleCanvas=singleCanvas,this.root=root,root.style&&(util.disableUserSelect(root),root.innerHTML=""),this.storage=storage;var zlevelList=this._zlevelList;this._prevDisplayList=[];var layers=this._layers;if(singleCanvas){var rootCanvas=root,width=rootCanvas.width,height=rootCanvas.height;null!=opts.width&&(width=opts.width),null!=opts.height&&(height=opts.height),this.dpr=opts.devicePixelRatio||1,rootCanvas.width=width*this.dpr,rootCanvas.height=height*this.dpr,this._width=width,this._height=height;var mainLayer=new canvas_Layer(rootCanvas,this,this.dpr);mainLayer.__builtin__=!0,mainLayer.initContext(),layers[314159]=mainLayer,mainLayer.zlevel=314159,zlevelList.push(314159),this._domRoot=root}else{this._width=(0,helper.ap)(root,0,opts),this._height=(0,helper.ap)(root,1,opts);var domRoot=this._domRoot=function createRoot(width,height){var domRoot=document.createElement("div");return domRoot.style.cssText=["position:relative","width:"+width+"px","height:"+height+"px","padding:0","margin:0","border-width:0"].join(";")+";",domRoot}(this._width,this._height);root.appendChild(domRoot)}}return CanvasPainter.prototype.getType=function(){return"canvas"},CanvasPainter.prototype.isSingleCanvas=function(){return this._singleCanvas},CanvasPainter.prototype.getViewportRoot=function(){return this._domRoot},CanvasPainter.prototype.getViewportRootOffset=function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{offsetLeft:viewportRoot.offsetLeft||0,offsetTop:viewportRoot.offsetTop||0}},CanvasPainter.prototype.refresh=function(paintAll){var list=this.storage.getDisplayList(!0),prevList=this._prevDisplayList,zlevelList=this._zlevelList;this._redrawId=Math.random(),this._paintList(list,prevList,paintAll,this._redrawId);for(var i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];if(!layer.__builtin__&&layer.refresh){var clearColor=0===i?this._backgroundColor:null;layer.refresh(clearColor)}}return this._opts.useDirtyRect&&(this._prevDisplayList=list.slice()),this},CanvasPainter.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},CanvasPainter.prototype._paintHoverList=function(list){var len=list.length,hoverLayer=this._hoverlayer;if(hoverLayer&&hoverLayer.clear(),len){for(var ctx,scope={inHover:!0,viewWidth:this._width,viewHeight:this._height},i=0;i<len;i++){var el=list[i];el.__inHover&&(hoverLayer||(hoverLayer=this._hoverlayer=this.getLayer(1e5)),ctx||(ctx=hoverLayer.ctx).save(),(0,graphic.Dm)(ctx,el,scope,i===len-1))}ctx&&ctx.restore()}},CanvasPainter.prototype.getHoverLayer=function(){return this.getLayer(1e5)},CanvasPainter.prototype.paintOne=function(ctx,el){(0,graphic.RV)(ctx,el)},CanvasPainter.prototype._paintList=function(list,prevList,paintAll,redrawId){if(this._redrawId===redrawId){paintAll=paintAll||!1,this._updateLayerStatus(list);var _a=this._doPaintList(list,prevList,paintAll),finished=_a.finished,needsRefreshHover=_a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),needsRefreshHover&&this._paintHoverList(list),finished)this.eachLayer((function(layer){layer.afterBrush&&layer.afterBrush()}));else{var self_1=this;(0,requestAnimationFrame.Z)((function(){self_1._paintList(list,prevList,paintAll,redrawId)}))}}},CanvasPainter.prototype._compositeManually=function(){var ctx=this.getLayer(314159).ctx,width=this._domRoot.width,height=this._domRoot.height;ctx.clearRect(0,0,width,height),this.eachBuiltinLayer((function(layer){layer.virtual&&ctx.drawImage(layer.dom,0,0,width,height)}))},CanvasPainter.prototype._doPaintList=function(list,prevList,paintAll){for(var _this=this,layerList=[],useDirtyRect=this._opts.useDirtyRect,zi=0;zi<this._zlevelList.length;zi++){var zlevel=this._zlevelList[zi],layer=this._layers[zlevel];layer.__builtin__&&layer!==this._hoverlayer&&(layer.__dirty||paintAll)&&layerList.push(layer)}for(var finished=!0,needsRefreshHover=!1,_loop_1=function(k){var i,layer=layerList[k],ctx=layer.ctx,repaintRects=useDirtyRect&&layer.createRepaintRects(list,prevList,this_1._width,this_1._height),start=paintAll?layer.__startIndex:layer.__drawIndex,useTimer=!paintAll&&layer.incremental&&Date.now,startTime=useTimer&&Date.now(),clearColor=layer.zlevel===this_1._zlevelList[0]?this_1._backgroundColor:null;if(layer.__startIndex===layer.__endIndex)layer.clear(!1,clearColor,repaintRects);else if(start===layer.__startIndex){var firstEl=list[start];firstEl.incremental&&firstEl.notClear&&!paintAll||layer.clear(!1,clearColor,repaintRects)}-1===start&&(console.error("For some unknown reason. drawIndex is -1"),start=layer.__startIndex);var repaint=function(repaintRect){var scope={inHover:!1,allClipped:!1,prevEl:null,viewWidth:_this._width,viewHeight:_this._height};for(i=start;i<layer.__endIndex;i++){var el=list[i];if(el.__inHover&&(needsRefreshHover=!0),_this._doPaintEl(el,layer,useDirtyRect,repaintRect,scope,i===layer.__endIndex-1),useTimer)if(Date.now()-startTime>15)break}scope.prevElClipPaths&&ctx.restore()};if(repaintRects)if(0===repaintRects.length)i=layer.__endIndex;else for(var dpr=this_1.dpr,r=0;r<repaintRects.length;++r){var rect=repaintRects[r];ctx.save(),ctx.beginPath(),ctx.rect(rect.x*dpr,rect.y*dpr,rect.width*dpr,rect.height*dpr),ctx.clip(),repaint(rect),ctx.restore()}else ctx.save(),repaint(),ctx.restore();layer.__drawIndex=i,layer.__drawIndex<layer.__endIndex&&(finished=!1)},this_1=this,k=0;k<layerList.length;k++)_loop_1(k);return env.Z.wxa&&util.each(this._layers,(function(layer){layer&&layer.ctx&&layer.ctx.draw&&layer.ctx.draw()})),{finished,needsRefreshHover}},CanvasPainter.prototype._doPaintEl=function(el,currentLayer,useDirtyRect,repaintRect,scope,isLast){var ctx=currentLayer.ctx;if(useDirtyRect){var paintRect=el.getPaintRect();(!repaintRect||paintRect&&paintRect.intersect(repaintRect))&&((0,graphic.Dm)(ctx,el,scope,isLast),el.setPrevPaintRect(paintRect))}else(0,graphic.Dm)(ctx,el,scope,isLast)},CanvasPainter.prototype.getLayer=function(zlevel,virtual){this._singleCanvas&&!this._needsManuallyCompositing&&(zlevel=314159);var layer=this._layers[zlevel];return layer||((layer=new canvas_Layer("zr_"+zlevel,this,this.dpr)).zlevel=zlevel,layer.__builtin__=!0,this._layerConfig[zlevel]?util.merge(layer,this._layerConfig[zlevel],!0):this._layerConfig[zlevel-.01]&&util.merge(layer,this._layerConfig[zlevel-.01],!0),virtual&&(layer.virtual=virtual),this.insertLayer(zlevel,layer),layer.initContext()),layer},CanvasPainter.prototype.insertLayer=function(zlevel,layer){var layersMap=this._layers,zlevelList=this._zlevelList,len=zlevelList.length,domRoot=this._domRoot,prevLayer=null,i=-1;if(!layersMap[zlevel]&&function isLayerValid(layer){return!!layer&&(!!layer.__builtin__||"function"==typeof layer.resize&&"function"==typeof layer.refresh)}(layer)){if(len>0&&zlevel>zlevelList[0]){for(i=0;i<len-1&&!(zlevelList[i]<zlevel&&zlevelList[i+1]>zlevel);i++);prevLayer=layersMap[zlevelList[i]]}if(zlevelList.splice(i+1,0,zlevel),layersMap[zlevel]=layer,!layer.virtual)if(prevLayer){var prevDom=prevLayer.dom;prevDom.nextSibling?domRoot.insertBefore(layer.dom,prevDom.nextSibling):domRoot.appendChild(layer.dom)}else domRoot.firstChild?domRoot.insertBefore(layer.dom,domRoot.firstChild):domRoot.appendChild(layer.dom);layer.__painter=this}},CanvasPainter.prototype.eachLayer=function(cb,context){for(var zlevelList=this._zlevelList,i=0;i<zlevelList.length;i++){var z=zlevelList[i];cb.call(context,this._layers[z],z)}},CanvasPainter.prototype.eachBuiltinLayer=function(cb,context){for(var zlevelList=this._zlevelList,i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];layer.__builtin__&&cb.call(context,layer,z)}},CanvasPainter.prototype.eachOtherLayer=function(cb,context){for(var zlevelList=this._zlevelList,i=0;i<zlevelList.length;i++){var z=zlevelList[i],layer=this._layers[z];layer.__builtin__||cb.call(context,layer,z)}},CanvasPainter.prototype.getLayers=function(){return this._layers},CanvasPainter.prototype._updateLayerStatus=function(list){function updatePrevLayer(idx){prevLayer&&(prevLayer.__endIndex!==idx&&(prevLayer.__dirty=!0),prevLayer.__endIndex=idx)}if(this.eachBuiltinLayer((function(layer,z){layer.__dirty=layer.__used=!1})),this._singleCanvas)for(var i_1=1;i_1<list.length;i_1++){if((el=list[i_1]).zlevel!==list[i_1-1].zlevel||el.incremental){this._needsManuallyCompositing=!0;break}}var prevZlevel,i,prevLayer=null,incrementalLayerCount=0;for(i=0;i<list.length;i++){var el,zlevel=(el=list[i]).zlevel,layer=void 0;prevZlevel!==zlevel&&(prevZlevel=zlevel,incrementalLayerCount=0),el.incremental?((layer=this.getLayer(zlevel+.001,this._needsManuallyCompositing)).incremental=!0,incrementalLayerCount=1):layer=this.getLayer(zlevel+(incrementalLayerCount>0?.01:0),this._needsManuallyCompositing),layer.__builtin__||util.logError("ZLevel "+zlevel+" has been used by unkown layer "+layer.id),layer!==prevLayer&&(layer.__used=!0,layer.__startIndex!==i&&(layer.__dirty=!0),layer.__startIndex=i,layer.incremental?layer.__drawIndex=-1:layer.__drawIndex=i,updatePrevLayer(i),prevLayer=layer),el.__dirty&constants.YV&&!el.__inHover&&(layer.__dirty=!0,layer.incremental&&layer.__drawIndex<0&&(layer.__drawIndex=i))}updatePrevLayer(i),this.eachBuiltinLayer((function(layer,z){!layer.__used&&layer.getElementCount()>0&&(layer.__dirty=!0,layer.__startIndex=layer.__endIndex=layer.__drawIndex=0),layer.__dirty&&layer.__drawIndex<0&&(layer.__drawIndex=layer.__startIndex)}))},CanvasPainter.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},CanvasPainter.prototype._clearLayer=function(layer){layer.clear()},CanvasPainter.prototype.setBackgroundColor=function(backgroundColor){this._backgroundColor=backgroundColor,util.each(this._layers,(function(layer){layer.setUnpainted()}))},CanvasPainter.prototype.configLayer=function(zlevel,config){if(config){var layerConfig=this._layerConfig;layerConfig[zlevel]?util.merge(layerConfig[zlevel],config,!0):layerConfig[zlevel]=config;for(var i=0;i<this._zlevelList.length;i++){var _zlevel=this._zlevelList[i];if(_zlevel===zlevel||_zlevel===zlevel+.01){var layer=this._layers[_zlevel];util.merge(layer,layerConfig[zlevel],!0)}}}},CanvasPainter.prototype.delLayer=function(zlevel){var layers=this._layers,zlevelList=this._zlevelList,layer=layers[zlevel];layer&&(layer.dom.parentNode.removeChild(layer.dom),delete layers[zlevel],zlevelList.splice(util.indexOf(zlevelList,zlevel),1))},CanvasPainter.prototype.resize=function(width,height){if(this._domRoot.style){var domRoot=this._domRoot;domRoot.style.display="none";var opts=this._opts,root=this.root;if(null!=width&&(opts.width=width),null!=height&&(opts.height=height),width=(0,helper.ap)(root,0,opts),height=(0,helper.ap)(root,1,opts),domRoot.style.display="",this._width!==width||height!==this._height){for(var id in domRoot.style.width=width+"px",domRoot.style.height=height+"px",this._layers)this._layers.hasOwnProperty(id)&&this._layers[id].resize(width,height);this.refresh(!0)}this._width=width,this._height=height}else{if(null==width||null==height)return;this._width=width,this._height=height,this.getLayer(314159).resize(width,height)}return this},CanvasPainter.prototype.clearLayer=function(zlevel){var layer=this._layers[zlevel];layer&&layer.clear()},CanvasPainter.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},CanvasPainter.prototype.getRenderedCanvas=function(opts){if(opts=opts||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var imageLayer=new canvas_Layer("image",this,opts.pixelRatio||this.dpr);imageLayer.initContext(),imageLayer.clear(!1,opts.backgroundColor||this._backgroundColor);var ctx=imageLayer.ctx;if(opts.pixelRatio<=this.dpr){this.refresh();var width_1=imageLayer.dom.width,height_1=imageLayer.dom.height;this.eachLayer((function(layer){layer.__builtin__?ctx.drawImage(layer.dom,0,0,width_1,height_1):layer.renderToCanvas&&(ctx.save(),layer.renderToCanvas(ctx),ctx.restore())}))}else for(var scope={inHover:!1,viewWidth:this._width,viewHeight:this._height},displayList=this.storage.getDisplayList(!0),i=0,len=displayList.length;i<len;i++){var el=displayList[i];(0,graphic.Dm)(ctx,el,scope,i===len-1)}return imageLayer.dom},CanvasPainter.prototype.getWidth=function(){return this._width},CanvasPainter.prototype.getHeight=function(){return this._height},CanvasPainter}();const Painter=CanvasPainter;function install(registers){registers.registerPainter("canvas",Painter)}},"./node_modules/echarts/lib/scale/Interval.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_util_format_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/format.js"),_Scale_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/scale/Scale.js"),_helper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/scale/helper.js"),roundNumber=_util_number_js__WEBPACK_IMPORTED_MODULE_0__.NM,IntervalScale=function(_super){function IntervalScale(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="interval",_this._interval=0,_this._intervalPrecision=2,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(IntervalScale,_super),IntervalScale.prototype.parse=function(val){return val},IntervalScale.prototype.contain=function(val){return _helper_js__WEBPACK_IMPORTED_MODULE_2__.XS(val,this._extent)},IntervalScale.prototype.normalize=function(val){return _helper_js__WEBPACK_IMPORTED_MODULE_2__.Fv(val,this._extent)},IntervalScale.prototype.scale=function(val){return _helper_js__WEBPACK_IMPORTED_MODULE_2__.bA(val,this._extent)},IntervalScale.prototype.setExtent=function(start,end){var thisExtent=this._extent;isNaN(start)||(thisExtent[0]=parseFloat(start)),isNaN(end)||(thisExtent[1]=parseFloat(end))},IntervalScale.prototype.unionExtent=function(other){var extent=this._extent;other[0]<extent[0]&&(extent[0]=other[0]),other[1]>extent[1]&&(extent[1]=other[1]),this.setExtent(extent[0],extent[1])},IntervalScale.prototype.getInterval=function(){return this._interval},IntervalScale.prototype.setInterval=function(interval){this._interval=interval,this._niceExtent=this._extent.slice(),this._intervalPrecision=_helper_js__WEBPACK_IMPORTED_MODULE_2__.lb(interval)},IntervalScale.prototype.getTicks=function(expandToNicedExtent){var interval=this._interval,extent=this._extent,niceTickExtent=this._niceExtent,intervalPrecision=this._intervalPrecision,ticks=[];if(!interval)return ticks;extent[0]<niceTickExtent[0]&&(expandToNicedExtent?ticks.push({value:roundNumber(niceTickExtent[0]-interval,intervalPrecision)}):ticks.push({value:extent[0]}));for(var tick=niceTickExtent[0];tick<=niceTickExtent[1]&&(ticks.push({value:tick}),(tick=roundNumber(tick+interval,intervalPrecision))!==ticks[ticks.length-1].value);)if(ticks.length>1e4)return[];var lastNiceTick=ticks.length?ticks[ticks.length-1].value:niceTickExtent[1];return extent[1]>lastNiceTick&&(expandToNicedExtent?ticks.push({value:roundNumber(lastNiceTick+interval,intervalPrecision)}):ticks.push({value:extent[1]})),ticks},IntervalScale.prototype.getMinorTicks=function(splitNumber){for(var ticks=this.getTicks(!0),minorTicks=[],extent=this.getExtent(),i=1;i<ticks.length;i++){for(var nextTick=ticks[i],prevTick=ticks[i-1],count=0,minorTicksGroup=[],minorInterval=(nextTick.value-prevTick.value)/splitNumber;count<splitNumber-1;){var minorTick=roundNumber(prevTick.value+(count+1)*minorInterval);minorTick>extent[0]&&minorTick<extent[1]&&minorTicksGroup.push(minorTick),count++}minorTicks.push(minorTicksGroup)}return minorTicks},IntervalScale.prototype.getLabel=function(data,opt){if(null==data)return"";var precision=opt&&opt.precision;null==precision?precision=_util_number_js__WEBPACK_IMPORTED_MODULE_0__.p8(data.value)||0:"auto"===precision&&(precision=this._intervalPrecision);var dataNum=roundNumber(data.value,precision,!0);return _util_format_js__WEBPACK_IMPORTED_MODULE_3__.OD(dataNum)},IntervalScale.prototype.calcNiceTicks=function(splitNumber,minInterval,maxInterval){splitNumber=splitNumber||5;var extent=this._extent,span=extent[1]-extent[0];if(isFinite(span)){span<0&&(span=-span,extent.reverse());var result=_helper_js__WEBPACK_IMPORTED_MODULE_2__.Qf(extent,splitNumber,minInterval,maxInterval);this._intervalPrecision=result.intervalPrecision,this._interval=result.interval,this._niceExtent=result.niceTickExtent}},IntervalScale.prototype.calcNiceExtent=function(opt){var extent=this._extent;if(extent[0]===extent[1])if(0!==extent[0]){var expandSize=Math.abs(extent[0]);opt.fixMax||(extent[1]+=expandSize/2),extent[0]-=expandSize/2}else extent[1]=1;var span=extent[1]-extent[0];isFinite(span)||(extent[0]=0,extent[1]=1),this.calcNiceTicks(opt.splitNumber,opt.minInterval,opt.maxInterval);var interval=this._interval;opt.fixMin||(extent[0]=roundNumber(Math.floor(extent[0]/interval)*interval)),opt.fixMax||(extent[1]=roundNumber(Math.ceil(extent[1]/interval)*interval))},IntervalScale.prototype.setNiceExtent=function(min,max){this._niceExtent=[min,max]},IntervalScale.type="interval",IntervalScale}(_Scale_js__WEBPACK_IMPORTED_MODULE_4__.Z);_Scale_js__WEBPACK_IMPORTED_MODULE_4__.Z.registerClass(IntervalScale);const __WEBPACK_DEFAULT_EXPORT__=IntervalScale},"./node_modules/echarts/lib/scale/Ordinal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),_Scale_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/scale/Scale.js"),_data_OrdinalMeta_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/data/OrdinalMeta.js"),_helper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/scale/helper.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),OrdinalScale=function(_super){function OrdinalScale(setting){var _this=_super.call(this,setting)||this;_this.type="ordinal";var ordinalMeta=_this.getSetting("ordinalMeta");return ordinalMeta||(ordinalMeta=new _data_OrdinalMeta_js__WEBPACK_IMPORTED_MODULE_1__.Z({})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(ordinalMeta)&&(ordinalMeta=new _data_OrdinalMeta_js__WEBPACK_IMPORTED_MODULE_1__.Z({categories:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.map)(ordinalMeta,(function(item){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(item)?item.value:item}))})),_this._ordinalMeta=ordinalMeta,_this._extent=_this.getSetting("extent")||[0,ordinalMeta.categories.length-1],_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(OrdinalScale,_super),OrdinalScale.prototype.parse=function(val){return null==val?NaN:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isString)(val)?this._ordinalMeta.getOrdinal(val):Math.round(val)},OrdinalScale.prototype.contain=function(rank){return rank=this.parse(rank),_helper_js__WEBPACK_IMPORTED_MODULE_3__.XS(rank,this._extent)&&null!=this._ordinalMeta.categories[rank]},OrdinalScale.prototype.normalize=function(val){return val=this._getTickNumber(this.parse(val)),_helper_js__WEBPACK_IMPORTED_MODULE_3__.Fv(val,this._extent)},OrdinalScale.prototype.scale=function(val){return val=Math.round(_helper_js__WEBPACK_IMPORTED_MODULE_3__.bA(val,this._extent)),this.getRawOrdinalNumber(val)},OrdinalScale.prototype.getTicks=function(){for(var ticks=[],extent=this._extent,rank=extent[0];rank<=extent[1];)ticks.push({value:rank}),rank++;return ticks},OrdinalScale.prototype.getMinorTicks=function(splitNumber){},OrdinalScale.prototype.setSortInfo=function(info){if(null!=info){for(var infoOrdinalNumbers=info.ordinalNumbers,ordinalsByTick=this._ordinalNumbersByTick=[],ticksByOrdinal=this._ticksByOrdinalNumber=[],tickNum=0,allCategoryLen=this._ordinalMeta.categories.length,len=Math.min(allCategoryLen,infoOrdinalNumbers.length);tickNum<len;++tickNum){var ordinalNumber=infoOrdinalNumbers[tickNum];ordinalsByTick[tickNum]=ordinalNumber,ticksByOrdinal[ordinalNumber]=tickNum}for(var unusedOrdinal=0;tickNum<allCategoryLen;++tickNum){for(;null!=ticksByOrdinal[unusedOrdinal];)unusedOrdinal++;ordinalsByTick.push(unusedOrdinal),ticksByOrdinal[unusedOrdinal]=tickNum}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},OrdinalScale.prototype._getTickNumber=function(ordinal){var ticksByOrdinalNumber=this._ticksByOrdinalNumber;return ticksByOrdinalNumber&&ordinal>=0&&ordinal<ticksByOrdinalNumber.length?ticksByOrdinalNumber[ordinal]:ordinal},OrdinalScale.prototype.getRawOrdinalNumber=function(tickNumber){var ordinalNumbersByTick=this._ordinalNumbersByTick;return ordinalNumbersByTick&&tickNumber>=0&&tickNumber<ordinalNumbersByTick.length?ordinalNumbersByTick[tickNumber]:tickNumber},OrdinalScale.prototype.getLabel=function(tick){if(!this.isBlank()){var ordinalNumber=this.getRawOrdinalNumber(tick.value),cateogry=this._ordinalMeta.categories[ordinalNumber];return null==cateogry?"":cateogry+""}},OrdinalScale.prototype.count=function(){return this._extent[1]-this._extent[0]+1},OrdinalScale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},OrdinalScale.prototype.isInExtentRange=function(value){return value=this._getTickNumber(value),this._extent[0]<=value&&this._extent[1]>=value},OrdinalScale.prototype.getOrdinalMeta=function(){return this._ordinalMeta},OrdinalScale.prototype.calcNiceTicks=function(){},OrdinalScale.prototype.calcNiceExtent=function(){},OrdinalScale.type="ordinal",OrdinalScale}(_Scale_js__WEBPACK_IMPORTED_MODULE_4__.Z);_Scale_js__WEBPACK_IMPORTED_MODULE_4__.Z.registerClass(OrdinalScale);const __WEBPACK_DEFAULT_EXPORT__=OrdinalScale},"./node_modules/echarts/lib/scale/Scale.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _util_clazz_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),Scale=function(){function Scale(setting){this._setting=setting||{},this._extent=[1/0,-1/0]}return Scale.prototype.getSetting=function(name){return this._setting[name]},Scale.prototype.unionExtent=function(other){var extent=this._extent;other[0]<extent[0]&&(extent[0]=other[0]),other[1]>extent[1]&&(extent[1]=other[1])},Scale.prototype.unionExtentFromData=function(data,dim){this.unionExtent(data.getApproximateExtent(dim))},Scale.prototype.getExtent=function(){return this._extent.slice()},Scale.prototype.setExtent=function(start,end){var thisExtent=this._extent;isNaN(start)||(thisExtent[0]=start),isNaN(end)||(thisExtent[1]=end)},Scale.prototype.isInExtentRange=function(value){return this._extent[0]<=value&&this._extent[1]>=value},Scale.prototype.isBlank=function(){return this._isBlank},Scale.prototype.setBlank=function(isBlank){this._isBlank=isBlank},Scale}();_util_clazz_js__WEBPACK_IMPORTED_MODULE_0__.au(Scale);const __WEBPACK_DEFAULT_EXPORT__=Scale},"./node_modules/echarts/lib/scale/Time.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_util_time_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/time.js"),_helper_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/scale/helper.js"),_Interval_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/scale/Interval.js"),_Scale_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/scale/Scale.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),TimeScale=function(_super){function TimeScale(settings){var _this=_super.call(this,settings)||this;return _this.type="time",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(TimeScale,_super),TimeScale.prototype.getLabel=function(tick){var useUTC=this.getSetting("useUTC");return(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.WU)(tick.value,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.V8[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.xC)((0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.Tj)(this._minLevelUnit))]||_util_time_js__WEBPACK_IMPORTED_MODULE_1__.V8.second,useUTC,this.getSetting("locale"))},TimeScale.prototype.getFormattedLabel=function(tick,idx,labelFormatter){var isUTC=this.getSetting("useUTC"),lang=this.getSetting("locale");return(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.k7)(tick,idx,labelFormatter,lang,isUTC)},TimeScale.prototype.getTicks=function(){var interval=this._interval,extent=this._extent,ticks=[];if(!interval)return ticks;ticks.push({value:extent[0],level:0});var useUTC=this.getSetting("useUTC"),innerTicks=function getIntervalTicks(bottomUnitName,approxInterval,isUTC,extent){var safeLimit=1e4,unitNames=_util_time_js__WEBPACK_IMPORTED_MODULE_1__.FW,iter=0;function addTicksInSpan(interval,minTimestamp,maxTimestamp,getMethodName,setMethodName,isDate,out){for(var date=new Date(minTimestamp),dateTime=minTimestamp,d=date[getMethodName]();dateTime<maxTimestamp&&dateTime<=extent[1];)out.push({value:dateTime}),d+=interval,date[setMethodName](d),dateTime=date.getTime();out.push({value:dateTime,notAdd:!0})}function addLevelTicks(unitName,lastLevelTicks,levelTicks){var newAddedTicks=[],isFirstLevel=!lastLevelTicks.length;if(!function isUnitValueSame(unit,valueA,valueB,isUTC){var dateA=_util_number_js__WEBPACK_IMPORTED_MODULE_3__.sG(valueA),dateB=_util_number_js__WEBPACK_IMPORTED_MODULE_3__.sG(valueB),isSame=function(unit){return(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.q5)(dateA,unit,isUTC)===(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.q5)(dateB,unit,isUTC)},isSameYear=function(){return isSame("year")},isSameMonth=function(){return isSameYear()&&isSame("month")},isSameDay=function(){return isSameMonth()&&isSame("day")},isSameHour=function(){return isSameDay()&&isSame("hour")},isSameMinute=function(){return isSameHour()&&isSame("minute")},isSameSecond=function(){return isSameMinute()&&isSame("second")},isSameMilliSecond=function(){return isSameSecond()&&isSame("millisecond")};switch(unit){case"year":return isSameYear();case"month":return isSameMonth();case"day":return isSameDay();case"hour":return isSameHour();case"minute":return isSameMinute();case"second":return isSameSecond();case"millisecond":return isSameMilliSecond()}}((0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.Tj)(unitName),extent[0],extent[1],isUTC)){isFirstLevel&&(lastLevelTicks=[{value:getFirstTimestampOfUnit(new Date(extent[0]),unitName,isUTC)},{value:extent[1]}]);for(var i=0;i<lastLevelTicks.length-1;i++){var startTick=lastLevelTicks[i].value,endTick=lastLevelTicks[i+1].value;if(startTick!==endTick){var interval=void 0,getterName=void 0,setterName=void 0,isDate=!1;switch(unitName){case"year":interval=Math.max(1,Math.round(approxInterval/_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2/365)),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.sx)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.xL)(isUTC);break;case"half-year":case"quarter":case"month":interval=getMonthInterval(approxInterval),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.CW)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.vh)(isUTC);break;case"week":case"half-week":case"day":interval=getDateInterval(approxInterval,31),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.xz)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.f5)(isUTC),isDate=!0;break;case"half-day":case"quarter-day":case"hour":interval=getHourInterval(approxInterval),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.Wp)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.En)(isUTC);break;case"minute":interval=getMinutesAndSecondsInterval(approxInterval,!0),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.fn)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.eN)(isUTC);break;case"second":interval=getMinutesAndSecondsInterval(approxInterval,!1),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.MV)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.rM)(isUTC);break;case"millisecond":interval=getMillisecondsInterval(approxInterval),getterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.RZ)(isUTC),setterName=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.cb)(isUTC)}addTicksInSpan(interval,startTick,endTick,getterName,setterName,isDate,newAddedTicks),"year"===unitName&&levelTicks.length>1&&0===i&&levelTicks.unshift({value:levelTicks[0].value-interval})}}for(i=0;i<newAddedTicks.length;i++)levelTicks.push(newAddedTicks[i]);return newAddedTicks}}for(var levelsTicks=[],currentLevelTicks=[],tickCount=0,lastLevelTickCount=0,i=0;i<unitNames.length&&iter++<safeLimit;++i){var primaryTimeUnit=(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.Tj)(unitNames[i]);if((0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.$K)(unitNames[i]))if(addLevelTicks(unitNames[i],levelsTicks[levelsTicks.length-1]||[],currentLevelTicks),primaryTimeUnit!==(unitNames[i+1]?(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.Tj)(unitNames[i+1]):null)){if(currentLevelTicks.length){lastLevelTickCount=tickCount,currentLevelTicks.sort((function(a,b){return a.value-b.value}));for(var levelTicksRemoveDuplicated=[],i_1=0;i_1<currentLevelTicks.length;++i_1){var tickValue=currentLevelTicks[i_1].value;0!==i_1&&currentLevelTicks[i_1-1].value===tickValue||(levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]),tickValue>=extent[0]&&tickValue<=extent[1]&&tickCount++)}var targetTickNum=(extent[1]-extent[0])/approxInterval;if(tickCount>1.5*targetTickNum&&lastLevelTickCount>targetTickNum/1.5)break;if(levelsTicks.push(levelTicksRemoveDuplicated),tickCount>targetTickNum||bottomUnitName===unitNames[i])break}currentLevelTicks=[]}}0;var levelsTicksInExtent=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.filter)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.map)(levelsTicks,(function(levelTicks){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.filter)(levelTicks,(function(tick){return tick.value>=extent[0]&&tick.value<=extent[1]&&!tick.notAdd}))})),(function(levelTicks){return levelTicks.length>0})),ticks=[],maxLevel=levelsTicksInExtent.length-1;for(i=0;i<levelsTicksInExtent.length;++i)for(var levelTicks=levelsTicksInExtent[i],k=0;k<levelTicks.length;++k)ticks.push({value:levelTicks[k].value,level:maxLevel-i});ticks.sort((function(a,b){return a.value-b.value}));var result=[];for(i=0;i<ticks.length;++i)0!==i&&ticks[i].value===ticks[i-1].value||result.push(ticks[i]);return result}(this._minLevelUnit,this._approxInterval,useUTC,extent);return(ticks=ticks.concat(innerTicks)).push({value:extent[1],level:0}),ticks},TimeScale.prototype.calcNiceExtent=function(opt){var extent=this._extent;if(extent[0]===extent[1]&&(extent[0]-=_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2,extent[1]+=_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2),extent[1]===-1/0&&extent[0]===1/0){var d=new Date;extent[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),extent[0]=extent[1]-_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2}this.calcNiceTicks(opt.splitNumber,opt.minInterval,opt.maxInterval)},TimeScale.prototype.calcNiceTicks=function(approxTickNum,minInterval,maxInterval){approxTickNum=approxTickNum||10;var extent=this._extent,span=extent[1]-extent[0];this._approxInterval=span/approxTickNum,null!=minInterval&&this._approxInterval<minInterval&&(this._approxInterval=minInterval),null!=maxInterval&&this._approxInterval>maxInterval&&(this._approxInterval=maxInterval);var scaleIntervalsLen=scaleIntervals.length,idx=Math.min(function(a,x,lo,hi){for(;lo<hi;){var mid=lo+hi>>>1;a[mid][1]<x?lo=mid+1:hi=mid}return lo}(scaleIntervals,this._approxInterval,0,scaleIntervalsLen),scaleIntervalsLen-1);this._interval=scaleIntervals[idx][1],this._minLevelUnit=scaleIntervals[Math.max(idx-1,0)][0]},TimeScale.prototype.parse=function(val){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isNumber)(val)?val:+_util_number_js__WEBPACK_IMPORTED_MODULE_3__.sG(val)},TimeScale.prototype.contain=function(val){return _helper_js__WEBPACK_IMPORTED_MODULE_4__.XS(this.parse(val),this._extent)},TimeScale.prototype.normalize=function(val){return _helper_js__WEBPACK_IMPORTED_MODULE_4__.Fv(this.parse(val),this._extent)},TimeScale.prototype.scale=function(val){return _helper_js__WEBPACK_IMPORTED_MODULE_4__.bA(val,this._extent)},TimeScale.type="time",TimeScale}(_Interval_js__WEBPACK_IMPORTED_MODULE_5__.Z),scaleIntervals=[["second",_util_time_js__WEBPACK_IMPORTED_MODULE_1__.WT],["minute",_util_time_js__WEBPACK_IMPORTED_MODULE_1__.yR],["hour",_util_time_js__WEBPACK_IMPORTED_MODULE_1__.dV],["quarter-day",6*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.dV],["half-day",12*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.dV],["day",1.2*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2],["half-week",3.5*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2],["week",7*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2],["month",31*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2],["quarter",95*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2],["half-year",_util_time_js__WEBPACK_IMPORTED_MODULE_1__.P5/2],["year",_util_time_js__WEBPACK_IMPORTED_MODULE_1__.P5]];function getDateInterval(approxInterval,daysInMonth){return(approxInterval/=_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2)>16?16:approxInterval>7.5?7:approxInterval>3.5?4:approxInterval>1.5?2:1}function getMonthInterval(approxInterval){return(approxInterval/=30*_util_time_js__WEBPACK_IMPORTED_MODULE_1__.s2)>6?6:approxInterval>3?3:approxInterval>2?2:1}function getHourInterval(approxInterval){return(approxInterval/=_util_time_js__WEBPACK_IMPORTED_MODULE_1__.dV)>12?12:approxInterval>6?6:approxInterval>3.5?4:approxInterval>2?2:1}function getMinutesAndSecondsInterval(approxInterval,isMinutes){return(approxInterval/=isMinutes?_util_time_js__WEBPACK_IMPORTED_MODULE_1__.yR:_util_time_js__WEBPACK_IMPORTED_MODULE_1__.WT)>30?30:approxInterval>20?20:approxInterval>15?15:approxInterval>10?10:approxInterval>5?5:approxInterval>2?2:1}function getMillisecondsInterval(approxInterval){return _util_number_js__WEBPACK_IMPORTED_MODULE_3__.kx(approxInterval,!0)}function getFirstTimestampOfUnit(date,unitName,isUTC){var outDate=new Date(date);switch((0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.Tj)(unitName)){case"year":case"month":outDate[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.vh)(isUTC)](0);case"day":outDate[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.f5)(isUTC)](1);case"hour":outDate[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.En)(isUTC)](0);case"minute":outDate[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.eN)(isUTC)](0);case"second":outDate[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.rM)(isUTC)](0),outDate[(0,_util_time_js__WEBPACK_IMPORTED_MODULE_1__.cb)(isUTC)](0)}return outDate.getTime()}_Scale_js__WEBPACK_IMPORTED_MODULE_6__.Z.registerClass(TimeScale);const __WEBPACK_DEFAULT_EXPORT__=TimeScale},"./node_modules/echarts/lib/scale/helper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fv:()=>normalize,Qf:()=>intervalScaleNiceTicks,XS:()=>contain,bA:()=>scale,lM:()=>isIntervalOrLogScale,lb:()=>getIntervalPrecision,r1:()=>increaseInterval});var _util_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/number.js");function isIntervalOrLogScale(scale){return"interval"===scale.type||"log"===scale.type}function intervalScaleNiceTicks(extent,splitNumber,minInterval,maxInterval){var result={},span=extent[1]-extent[0],interval=result.interval=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_0__.kx)(span/splitNumber,!0);null!=minInterval&&interval<minInterval&&(interval=result.interval=minInterval),null!=maxInterval&&interval>maxInterval&&(interval=result.interval=maxInterval);var precision=result.intervalPrecision=getIntervalPrecision(interval);return function fixExtent(niceTickExtent,extent){!isFinite(niceTickExtent[0])&&(niceTickExtent[0]=extent[0]),!isFinite(niceTickExtent[1])&&(niceTickExtent[1]=extent[1]),clamp(niceTickExtent,0,extent),clamp(niceTickExtent,1,extent),niceTickExtent[0]>niceTickExtent[1]&&(niceTickExtent[0]=niceTickExtent[1])}(result.niceTickExtent=[(0,_util_number_js__WEBPACK_IMPORTED_MODULE_0__.NM)(Math.ceil(extent[0]/interval)*interval,precision),(0,_util_number_js__WEBPACK_IMPORTED_MODULE_0__.NM)(Math.floor(extent[1]/interval)*interval,precision)],extent),result}function increaseInterval(interval){var exp10=Math.pow(10,(0,_util_number_js__WEBPACK_IMPORTED_MODULE_0__.xW)(interval)),f=interval/exp10;return f?2===f?f=3:3===f?f=5:f*=2:f=1,(0,_util_number_js__WEBPACK_IMPORTED_MODULE_0__.NM)(f*exp10)}function getIntervalPrecision(interval){return(0,_util_number_js__WEBPACK_IMPORTED_MODULE_0__.p8)(interval)+2}function clamp(niceTickExtent,idx,extent){niceTickExtent[idx]=Math.max(Math.min(niceTickExtent[idx],extent[1]),extent[0])}function contain(val,extent){return val>=extent[0]&&val<=extent[1]}function normalize(val,extent){return extent[1]===extent[0]?.5:(val-extent[0])/(extent[1]-extent[0])}function scale(val,extent){return val*(extent[1]-extent[0])+extent[0]}},"./node_modules/echarts/lib/util/clazz.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PT:()=>isExtendedClass,Qj:()=>enableClassCheck,au:()=>enableClassManagement,dm:()=>enableClassExtend,pw:()=>mountExtend,u9:()=>parseClassType});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(componentType){var ret={main:"",sub:""};if(componentType){var typeArr=componentType.split(TYPE_DELIMITER);ret.main=typeArr[0]||"",ret.sub=typeArr[1]||""}return ret}function isExtendedClass(clz){return!(!clz||!clz[IS_EXTENDED_CLASS])}function enableClassExtend(rootClz,mandatoryMethods){rootClz.$constructor=rootClz,rootClz.extend=function(proto){var ExtendedClass,superClass=this;return!function isESClass(fn){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isFunction(fn)&&/^class\s/.test(Function.prototype.toString.call(fn))}(superClass)?(ExtendedClass=function(){(proto.$constructor||superClass).apply(this,arguments)},zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.inherits(ExtendedClass,this)):ExtendedClass=function(_super){function class_1(){return _super.apply(this,arguments)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(class_1,_super),class_1}(superClass),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend(ExtendedClass.prototype,proto),ExtendedClass[IS_EXTENDED_CLASS]=!0,ExtendedClass.extend=this.extend,ExtendedClass.superCall=superCall,ExtendedClass.superApply=superApply,ExtendedClass.superClass=superClass,ExtendedClass}}function mountExtend(SubClz,SupperClz){SubClz.extend=SupperClz.extend}var classBase=Math.round(10*Math.random());function enableClassCheck(target){var classAttr=["__\0is_clz",classBase++].join("_");target.prototype[classAttr]=!0,target.isInstance=function(obj){return!(!obj||!obj[classAttr])}}function superCall(context,methodName){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return this.superClass.prototype[methodName].apply(context,args)}function superApply(context,methodName,args){return this.superClass.prototype[methodName].apply(context,args)}function enableClassManagement(target){var storage={};target.registerClass=function(clz){var componentFullType=clz.type||clz.prototype.type;if(componentFullType){!function checkClassType(componentType){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType),'componentType "'+componentType+'" illegal')}(componentFullType),clz.prototype.type=componentFullType;var componentTypeInfo=parseClassType(componentFullType);if(componentTypeInfo.sub){if(componentTypeInfo.sub!==IS_CONTAINER){var container=function makeContainer(componentTypeInfo){var container=storage[componentTypeInfo.main];container&&container[IS_CONTAINER]||((container=storage[componentTypeInfo.main]={})[IS_CONTAINER]=!0);return container}(componentTypeInfo);container[componentTypeInfo.sub]=clz}}else storage[componentTypeInfo.main]=clz}return clz},target.getClass=function(mainType,subType,throwWhenNotFound){var clz=storage[mainType];if(clz&&clz[IS_CONTAINER]&&(clz=subType?clz[subType]:null),throwWhenNotFound&&!clz)throw new Error(subType?"Component "+mainType+"."+(subType||"")+" is used but not imported.":mainType+".type should be specified.");return clz},target.getClassesByMainType=function(componentType){var componentTypeInfo=parseClassType(componentType),result=[],obj=storage[componentTypeInfo.main];return obj&&obj[IS_CONTAINER]?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(obj,(function(o,type){type!==IS_CONTAINER&&result.push(o)})):result.push(obj),result},target.hasClass=function(componentType){var componentTypeInfo=parseClassType(componentType);return!!storage[componentTypeInfo.main]},target.getAllClassMainTypes=function(){var types=[];return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(storage,(function(obj,type){types.push(type)})),types},target.hasSubTypes=function(componentType){var componentTypeInfo=parseClassType(componentType),obj=storage[componentTypeInfo.main];return obj&&obj[IS_CONTAINER]}}},"./node_modules/echarts/lib/util/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kr:()=>getUID,ZL:()=>inheritDefaultOption,cj:()=>enableSubTypeDefaulter,jS:()=>enableTopologicalTravel});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_clazz_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),base=Math.round(10*Math.random());function getUID(type){return[type||"",base++].join("_")}function enableSubTypeDefaulter(target){var subTypeDefaulters={};target.registerSubTypeDefaulter=function(componentType,defaulter){var componentTypeInfo=(0,_clazz_js__WEBPACK_IMPORTED_MODULE_0__.u9)(componentType);subTypeDefaulters[componentTypeInfo.main]=defaulter},target.determineSubType=function(componentType,option){var type=option.type;if(!type){var componentTypeMain=(0,_clazz_js__WEBPACK_IMPORTED_MODULE_0__.u9)(componentType).main;target.hasSubTypes(componentType)&&subTypeDefaulters[componentTypeMain]&&(type=subTypeDefaulters[componentTypeMain](option))}return type}}function enableTopologicalTravel(entity,dependencyGetter){function createDependencyGraphItem(graph,name){return graph[name]||(graph[name]={predecessor:[],successor:[]}),graph[name]}entity.topologicalTravel=function(targetNameList,fullNameList,callback,context){if(targetNameList.length){var result=function makeDepndencyGraph(fullNameList){var graph={},noEntryList=[];return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(fullNameList,(function(name){var thisItem=createDependencyGraphItem(graph,name),availableDeps=function getAvailableDependencies(originalDeps,fullNameList){var availableDeps=[];return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(originalDeps,(function(dep){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf(fullNameList,dep)>=0&&availableDeps.push(dep)})),availableDeps}(thisItem.originalDeps=dependencyGetter(name),fullNameList);thisItem.entryCount=availableDeps.length,0===thisItem.entryCount&&noEntryList.push(name),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(availableDeps,(function(dependentName){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf(thisItem.predecessor,dependentName)<0&&thisItem.predecessor.push(dependentName);var thatItem=createDependencyGraphItem(graph,dependentName);zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf(thatItem.successor,dependentName)<0&&thatItem.successor.push(name)}))})),{graph,noEntryList}}(fullNameList),graph=result.graph,noEntryList=result.noEntryList,targetNameSet={};for(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(targetNameList,(function(name){targetNameSet[name]=!0}));noEntryList.length;){var currComponentType=noEntryList.pop(),currVertex=graph[currComponentType],isInTargetNameSet=!!targetNameSet[currComponentType];isInTargetNameSet&&(callback.call(context,currComponentType,currVertex.originalDeps.slice()),delete targetNameSet[currComponentType]),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(currVertex.successor,isInTargetNameSet?removeEdgeAndAdd:removeEdge)}zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(targetNameSet,(function(){throw new Error("")}))}function removeEdge(succComponentType){graph[succComponentType].entryCount--,0===graph[succComponentType].entryCount&&noEntryList.push(succComponentType)}function removeEdgeAndAdd(succComponentType){targetNameSet[succComponentType]=!0,removeEdge(succComponentType)}}}function inheritDefaultOption(superOption,subOption){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.merge(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.merge({},superOption,!0),subOption,!0)}},"./node_modules/echarts/lib/util/decal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>createOrUpdatePatternFromDecal});var wmUniqueIndex=Math.round(9*Math.random()),supportDefineProperty="function"==typeof Object.defineProperty;const core_WeakMap=function(){function WeakMap(){this._id="__ec_inner_"+wmUniqueIndex++}return WeakMap.prototype.get=function(key){return this._guard(key)[this._id]},WeakMap.prototype.set=function(key,value){var target=this._guard(key);return supportDefineProperty?Object.defineProperty(target,this._id,{value,enumerable:!1,configurable:!0}):target[this._id]=value,this},WeakMap.prototype.delete=function(key){return!!this.has(key)&&(delete this._guard(key)[this._id],!0)},WeakMap.prototype.has=function(key){return!!this._guard(key)[this._id]},WeakMap.prototype._guard=function(key){if(key!==Object(key))throw TypeError("Value of WeakMap is not a non-null object.");return key},WeakMap}();var LRU=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),util_symbol=__webpack_require__("./node_modules/echarts/lib/util/symbol.js"),graphic=__webpack_require__("./node_modules/zrender/lib/canvas/graphic.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),decalMap=new core_WeakMap,decalCache=new LRU.ZP(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(decalObject,api){if("none"===decalObject)return null;var dpr=api.getDevicePixelRatio(),zr=api.getZr(),isSVG="svg"===zr.painter.type;decalObject.dirty&&decalMap.delete(decalObject);var oldPattern=decalMap.get(decalObject);if(oldPattern)return oldPattern;var decalOpt=(0,util.defaults)(decalObject,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===decalOpt.backgroundColor&&(decalOpt.backgroundColor=null);var pattern={repeat:"repeat"};return function setPatternnSource(pattern){for(var cacheKey,keys=[dpr],isValidKey=!0,i=0;i<decalKeys.length;++i){var value=decalOpt[decalKeys[i]];if(null!=value&&!(0,util.isArray)(value)&&!(0,util.isString)(value)&&!(0,util.isNumber)(value)&&"boolean"!=typeof value){isValidKey=!1;break}keys.push(value)}if(isValidKey){cacheKey=keys.join(",")+(isSVG?"-svg":"");var cache=decalCache.get(cacheKey);cache&&(isSVG?pattern.svgElement=cache:pattern.image=cache)}var ctx,dashArrayX=normalizeDashArrayX(decalOpt.dashArrayX),dashArrayY=function normalizeDashArrayY(dash){if(!dash||"object"==typeof dash&&0===dash.length)return[0,0];if((0,util.isNumber)(dash)){var dashValue_1=Math.ceil(dash);return[dashValue_1,dashValue_1]}var dashValue=(0,util.map)(dash,(function(n){return Math.ceil(n)}));return dash.length%2?dashValue.concat(dashValue):dashValue}(decalOpt.dashArrayY),symbolArray=normalizeSymbolArray(decalOpt.symbol),lineBlockLengthsX=function getLineBlockLengthX(dash){return(0,util.map)(dash,(function(line){return getLineBlockLengthY(line)}))}(dashArrayX),lineBlockLengthY=getLineBlockLengthY(dashArrayY),canvas=!isSVG&&platform.qW.createCanvas(),svgRoot=isSVG&&{tag:"g",attrs:{},key:"dcl",children:[]},pSize=function getPatternSize(){for(var width=1,i=0,xlen=lineBlockLengthsX.length;i<xlen;++i)width=(0,number.nl)(width,lineBlockLengthsX[i]);var symbolRepeats=1;for(i=0,xlen=symbolArray.length;i<xlen;++i)symbolRepeats=(0,number.nl)(symbolRepeats,symbolArray[i].length);width*=symbolRepeats;var height=lineBlockLengthY*lineBlockLengthsX.length*symbolArray.length;0;return{width:Math.max(1,Math.min(width,decalOpt.maxTileWidth)),height:Math.max(1,Math.min(height,decalOpt.maxTileHeight))}}();canvas&&(canvas.width=pSize.width*dpr,canvas.height=pSize.height*dpr,ctx=canvas.getContext("2d"));(function brushDecal(){ctx&&(ctx.clearRect(0,0,canvas.width,canvas.height),decalOpt.backgroundColor&&(ctx.fillStyle=decalOpt.backgroundColor,ctx.fillRect(0,0,canvas.width,canvas.height)));for(var ySum=0,i=0;i<dashArrayY.length;++i)ySum+=dashArrayY[i];if(ySum<=0)return;var y=-lineBlockLengthY,yId=0,yIdTotal=0,xId0=0;for(;y<pSize.height;){if(yId%2==0){for(var symbolYId=yIdTotal/2%symbolArray.length,x=0,xId1=0,xId1Total=0;x<2*pSize.width;){var xSum=0;for(i=0;i<dashArrayX[xId0].length;++i)xSum+=dashArrayX[xId0][i];if(xSum<=0)break;if(xId1%2==0){var size=.5*(1-decalOpt.symbolSize),left=x+dashArrayX[xId0][xId1]*size,top_1=y+dashArrayY[yId]*size,width=dashArrayX[xId0][xId1]*decalOpt.symbolSize,height=dashArrayY[yId]*decalOpt.symbolSize,symbolXId=xId1Total/2%symbolArray[symbolYId].length;brushSymbol(left,top_1,width,height,symbolArray[symbolYId][symbolXId])}x+=dashArrayX[xId0][xId1],++xId1Total,++xId1===dashArrayX[xId0].length&&(xId1=0)}++xId0===dashArrayX.length&&(xId0=0)}y+=dashArrayY[yId],++yIdTotal,++yId===dashArrayY.length&&(yId=0)}function brushSymbol(x,y,width,height,symbolType){var scale=isSVG?1:dpr,symbol=(0,util_symbol.th)(symbolType,x*scale,y*scale,width*scale,height*scale,decalOpt.color,decalOpt.symbolKeepAspect);if(isSVG){var symbolVNode=zr.painter.renderOneToVNode(symbol);symbolVNode&&svgRoot.children.push(symbolVNode)}else(0,graphic.RV)(ctx,symbol)}})(),isValidKey&&decalCache.put(cacheKey,canvas||svgRoot);pattern.image=canvas,pattern.svgElement=svgRoot,pattern.svgWidth=pSize.width,pattern.svgHeight=pSize.height}(pattern),pattern.rotation=decalOpt.rotation,pattern.scaleX=pattern.scaleY=isSVG?1:1/dpr,decalMap.set(decalObject,pattern),decalObject.dirty=!1,pattern}function normalizeSymbolArray(symbol){if(!symbol||0===symbol.length)return[["rect"]];if((0,util.isString)(symbol))return[[symbol]];for(var isAllString=!0,i=0;i<symbol.length;++i)if(!(0,util.isString)(symbol[i])){isAllString=!1;break}if(isAllString)return normalizeSymbolArray([symbol]);var result=[];for(i=0;i<symbol.length;++i)(0,util.isString)(symbol[i])?result.push([symbol[i]]):result.push(symbol[i]);return result}function normalizeDashArrayX(dash){if(!dash||0===dash.length)return[[0,0]];if((0,util.isNumber)(dash))return[[dashValue=Math.ceil(dash),dashValue]];for(var isAllNumber=!0,i=0;i<dash.length;++i)if(!(0,util.isNumber)(dash[i])){isAllNumber=!1;break}if(isAllNumber)return normalizeDashArrayX([dash]);var result=[];for(i=0;i<dash.length;++i)if((0,util.isNumber)(dash[i])){var dashValue=Math.ceil(dash[i]);result.push([dashValue,dashValue])}else{(dashValue=(0,util.map)(dash[i],(function(n){return Math.ceil(n)}))).length%2==1?result.push(dashValue.concat(dashValue)):result.push(dashValue)}return result}function getLineBlockLengthY(dash){for(var blockLength=0,i=0;i<dash.length;++i)blockLength+=dash[i];return dash.length%2==1?2*blockLength:blockLength}},"./node_modules/echarts/lib/util/event.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function findEventDispatcher(target,det,returnFirstMatch){for(var found;target&&(!det(target)||(found=target,!returnFirstMatch));)target=target.__hostTarget||target.parent;return found}__webpack_require__.d(__webpack_exports__,{o:()=>findEventDispatcher})},"./node_modules/echarts/lib/util/format.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A0:()=>getTooltipMarker,Lz:()=>convertToColorString,MI:()=>windowOpen,MY:()=>normalizeCssArray,OD:()=>addCommas,ew:()=>capitalFirst,kF:()=>formatTpl,mr:()=>formatTime,uX:()=>makeValueReadable,wx:()=>formatTplSimple,zW:()=>toCamelCase});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_core_dom_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/dom.js"),_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_time_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/time.js");function addCommas(x){if(!(0,_number_js__WEBPACK_IMPORTED_MODULE_0__.kE)(x))return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString(x)?x:"-";var parts=(x+"").split(".");return parts[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(parts.length>1?"."+parts[1]:"")}function toCamelCase(str,upperCaseFirst){return str=(str||"").toLowerCase().replace(/-(.)/g,(function(match,group1){return group1.toUpperCase()})),upperCaseFirst&&str&&(str=str.charAt(0).toUpperCase()+str.slice(1)),str}var normalizeCssArray=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.normalizeCssArray;function makeValueReadable(value,valueType,useUTC){function stringToUserReadable(str){return str&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.trim(str)?str:"-"}function isNumberUserReadable(num){return!(null==num||isNaN(num)||!isFinite(num))}var isTypeTime="time"===valueType,isValueDate=value instanceof Date;if(isTypeTime||isValueDate){var date=isTypeTime?(0,_number_js__WEBPACK_IMPORTED_MODULE_0__.sG)(value):value;if(!isNaN(+date))return(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.WU)(date,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",useUTC);if(isValueDate)return"-"}if("ordinal"===valueType)return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isStringSafe(value)?stringToUserReadable(value):zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isNumber(value)&&isNumberUserReadable(value)?value+"":"-";var numericResult=(0,_number_js__WEBPACK_IMPORTED_MODULE_0__.FK)(value);return isNumberUserReadable(numericResult)?addCommas(numericResult):zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isStringSafe(value)?stringToUserReadable(value):"boolean"==typeof value?value+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(varName,seriesIdx){return"{"+varName+(null==seriesIdx?"":seriesIdx)+"}"};function formatTpl(tpl,paramsList,encode){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArray(paramsList)||(paramsList=[paramsList]);var seriesLen=paramsList.length;if(!seriesLen)return"";for(var $vars=paramsList[0].$vars||[],i=0;i<$vars.length;i++){var alias=TPL_VAR_ALIAS[i];tpl=tpl.replace(wrapVar(alias),wrapVar(alias,0))}for(var seriesIdx=0;seriesIdx<seriesLen;seriesIdx++)for(var k=0;k<$vars.length;k++){var val=paramsList[seriesIdx][$vars[k]];tpl=tpl.replace(wrapVar(TPL_VAR_ALIAS[k],seriesIdx),encode?(0,zrender_lib_core_dom_js__WEBPACK_IMPORTED_MODULE_3__.F1)(val):val)}return tpl}function formatTplSimple(tpl,param,encode){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.each(param,(function(value,key){tpl=tpl.replace("{"+key+"}",encode?(0,zrender_lib_core_dom_js__WEBPACK_IMPORTED_MODULE_3__.F1)(value):value)})),tpl}function getTooltipMarker(inOpt,extraCssText){var opt=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString(inOpt)?{color:inOpt,extraCssText}:inOpt||{},color=opt.color,type=opt.type;extraCssText=opt.extraCssText;var renderMode=opt.renderMode||"html";return color?"html"===renderMode?"subItem"===type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+(0,zrender_lib_core_dom_js__WEBPACK_IMPORTED_MODULE_3__.F1)(color)+";"+(extraCssText||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+(0,zrender_lib_core_dom_js__WEBPACK_IMPORTED_MODULE_3__.F1)(color)+";"+(extraCssText||"")+'"></span>':{renderMode,content:"{"+(opt.markerId||"markerX")+"|}  ",style:"subItem"===type?{width:4,height:4,borderRadius:2,backgroundColor:color}:{width:10,height:10,borderRadius:5,backgroundColor:color}}:""}function formatTime(tpl,value,isUTC){"week"!==tpl&&"month"!==tpl&&"quarter"!==tpl&&"half-year"!==tpl&&"year"!==tpl||(tpl="MM-dd\nyyyy");var date=(0,_number_js__WEBPACK_IMPORTED_MODULE_0__.sG)(value),getUTC=isUTC?"getUTC":"get",y=date[getUTC+"FullYear"](),M=date[getUTC+"Month"]()+1,d=date[getUTC+"Date"](),h=date[getUTC+"Hours"](),m=date[getUTC+"Minutes"](),s=date[getUTC+"Seconds"](),S=date[getUTC+"Milliseconds"]();return tpl=tpl.replace("MM",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(M,2)).replace("M",M).replace("yyyy",y).replace("yy",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(y%100+"",2)).replace("dd",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(d,2)).replace("d",d).replace("hh",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(h,2)).replace("h",h).replace("mm",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(m,2)).replace("m",m).replace("ss",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(s,2)).replace("s",s).replace("SSS",(0,_time_js__WEBPACK_IMPORTED_MODULE_2__.vk)(S,3))}function capitalFirst(str){return str?str.charAt(0).toUpperCase()+str.substr(1):str}function convertToColorString(color,defaultColor){return defaultColor=defaultColor||"transparent",zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isString(color)?color:zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject(color)&&color.colorStops&&(color.colorStops[0]||{}).color||defaultColor}function windowOpen(link,target){if("_blank"===target||"blank"===target){var blank=window.open();blank.opener=null,blank.location.href=link}else window.open(link,target)}},"./node_modules/echarts/lib/util/graphic.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Arc:()=>zrender_lib_graphic_shape_Arc_js__WEBPACK_IMPORTED_MODULE_19__.Z,BezierCurve:()=>zrender_lib_graphic_shape_BezierCurve_js__WEBPACK_IMPORTED_MODULE_18__.Z,BoundingRect:()=>zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_26__.Z,Circle:()=>zrender_lib_graphic_shape_Circle_js__WEBPACK_IMPORTED_MODULE_10__.Z,CompoundPath:()=>zrender_lib_graphic_CompoundPath_js__WEBPACK_IMPORTED_MODULE_23__.Z,Ellipse:()=>zrender_lib_graphic_shape_Ellipse_js__WEBPACK_IMPORTED_MODULE_11__.Z,Group:()=>zrender_lib_graphic_Group_js__WEBPACK_IMPORTED_MODULE_20__.Z,Image:()=>zrender_lib_graphic_Image_js__WEBPACK_IMPORTED_MODULE_3__.ZP,IncrementalDisplayable:()=>zrender_lib_graphic_IncrementalDisplayable_js__WEBPACK_IMPORTED_MODULE_22__.Z,Line:()=>zrender_lib_graphic_shape_Line_js__WEBPACK_IMPORTED_MODULE_17__.Z,LinearGradient:()=>zrender_lib_graphic_LinearGradient_js__WEBPACK_IMPORTED_MODULE_24__.Z,OrientedBoundingRect:()=>zrender_lib_core_OrientedBoundingRect_js__WEBPACK_IMPORTED_MODULE_27__.Z,Path:()=>zrender_lib_graphic_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP,Point:()=>zrender_lib_core_Point_js__WEBPACK_IMPORTED_MODULE_28__.Z,Polygon:()=>zrender_lib_graphic_shape_Polygon_js__WEBPACK_IMPORTED_MODULE_14__.Z,Polyline:()=>zrender_lib_graphic_shape_Polyline_js__WEBPACK_IMPORTED_MODULE_15__.Z,RadialGradient:()=>zrender_lib_graphic_RadialGradient_js__WEBPACK_IMPORTED_MODULE_25__.Z,Rect:()=>zrender_lib_graphic_shape_Rect_js__WEBPACK_IMPORTED_MODULE_16__.Z,Ring:()=>zrender_lib_graphic_shape_Ring_js__WEBPACK_IMPORTED_MODULE_13__.Z,Sector:()=>zrender_lib_graphic_shape_Sector_js__WEBPACK_IMPORTED_MODULE_12__.C,Text:()=>zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_21__.ZP,applyTransform:()=>applyTransform,clipPointsByRect:()=>clipPointsByRect,clipRectByRect:()=>clipRectByRect,createIcon:()=>createIcon,extendPath:()=>extendPath,extendShape:()=>extendShape,getShapeClass:()=>getShapeClass,getTransform:()=>getTransform,groupTransition:()=>groupTransition,initProps:()=>_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__.KZ,isElementRemoved:()=>_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__.eq,lineLineIntersect:()=>lineLineIntersect,linePolygonIntersect:()=>linePolygonIntersect,makeImage:()=>makeImage,makePath:()=>makePath,mergePath:()=>mergePath,registerShape:()=>registerShape,removeElement:()=>_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__.bX,removeElementWithFadeOut:()=>_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__.XD,resizePath:()=>resizePath,setTooltipConfig:()=>setTooltipConfig,subPixelOptimize:()=>subPixelOptimize,subPixelOptimizeLine:()=>subPixelOptimizeLine,subPixelOptimizeRect:()=>subPixelOptimizeRect,transformDirection:()=>transformDirection,traverseElements:()=>traverseElements,updateProps:()=>_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__.D});var zrender_lib_tool_path_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/tool/path.js"),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),zrender_lib_graphic_Path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),zrender_lib_graphic_Image_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),zrender_lib_graphic_Group_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),zrender_lib_graphic_shape_Circle_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),zrender_lib_graphic_shape_Ellipse_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),zrender_lib_graphic_shape_Sector_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Sector.js"),zrender_lib_graphic_shape_Ring_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ring.js"),zrender_lib_graphic_shape_Polygon_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),zrender_lib_graphic_shape_Polyline_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),zrender_lib_graphic_shape_Rect_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),zrender_lib_graphic_shape_Line_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Line.js"),zrender_lib_graphic_shape_BezierCurve_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/BezierCurve.js"),zrender_lib_graphic_shape_Arc_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Arc.js"),zrender_lib_graphic_CompoundPath_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/zrender/lib/graphic/CompoundPath.js"),zrender_lib_graphic_LinearGradient_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/zrender/lib/graphic/LinearGradient.js"),zrender_lib_graphic_RadialGradient_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/zrender/lib/graphic/RadialGradient.js"),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),zrender_lib_core_OrientedBoundingRect_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./node_modules/zrender/lib/core/OrientedBoundingRect.js"),zrender_lib_core_Point_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./node_modules/zrender/lib/core/Point.js"),zrender_lib_graphic_IncrementalDisplayable_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/zrender/lib/graphic/IncrementalDisplayable.js"),zrender_lib_graphic_helper_subPixelOptimize_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_innerStore_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),mathMax=Math.max,mathMin=Math.min,_customShapeMap={};function extendShape(opts){return zrender_lib_graphic_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP.extend(opts)}var extendPathFromString=zrender_lib_tool_path_js__WEBPACK_IMPORTED_MODULE_2__.Pc;function extendPath(pathData,opts){return extendPathFromString(pathData,opts)}function registerShape(name,ShapeClass){_customShapeMap[name]=ShapeClass}function getShapeClass(name){if(_customShapeMap.hasOwnProperty(name))return _customShapeMap[name]}function makePath(pathData,opts,rect,layout){var path=zrender_lib_tool_path_js__WEBPACK_IMPORTED_MODULE_2__.iR(pathData,opts);return rect&&("center"===layout&&(rect=centerGraphic(rect,path.getBoundingRect())),resizePath(path,rect)),path}function makeImage(imageUrl,rect,layout){var zrImg=new zrender_lib_graphic_Image_js__WEBPACK_IMPORTED_MODULE_3__.ZP({style:{image:imageUrl,x:rect.x,y:rect.y,width:rect.width,height:rect.height},onload:function(img){if("center"===layout){var boundingRect={width:img.width,height:img.height};zrImg.setStyle(centerGraphic(rect,boundingRect))}}});return zrImg}function centerGraphic(rect,boundingRect){var height,aspect=boundingRect.width/boundingRect.height,width=rect.height*aspect;return height=width<=rect.width?rect.height:(width=rect.width)/aspect,{x:rect.x+rect.width/2-width/2,y:rect.y+rect.height/2-height/2,width,height}}var mergePath=zrender_lib_tool_path_js__WEBPACK_IMPORTED_MODULE_2__.AA;function resizePath(path,rect){if(path.applyTransform){var m=path.getBoundingRect().calculateTransform(rect);path.applyTransform(m)}}function subPixelOptimizeLine(shape,lineWidth){return zrender_lib_graphic_helper_subPixelOptimize_js__WEBPACK_IMPORTED_MODULE_4__._3(shape,shape,{lineWidth}),shape}function subPixelOptimizeRect(param){return zrender_lib_graphic_helper_subPixelOptimize_js__WEBPACK_IMPORTED_MODULE_4__.Pw(param.shape,param.shape,param.style),param}var subPixelOptimize=zrender_lib_graphic_helper_subPixelOptimize_js__WEBPACK_IMPORTED_MODULE_4__.vu;function getTransform(target,ancestor){for(var mat=zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.identity([]);target&&target!==ancestor;)zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.mul(mat,target.getLocalTransform(),mat),target=target.parent;return mat}function applyTransform(target,transform,invert){return transform&&!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.isArrayLike)(transform)&&(transform=zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_7__.ZP.getLocalTransform(transform)),invert&&(transform=zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__.invert([],transform)),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_8__.applyTransform([],target,transform)}function transformDirection(direction,transform,invert){var hBase=0===transform[4]||0===transform[5]||0===transform[0]?1:Math.abs(2*transform[4]/transform[0]),vBase=0===transform[4]||0===transform[5]||0===transform[2]?1:Math.abs(2*transform[4]/transform[2]),vertex=["left"===direction?-hBase:"right"===direction?hBase:0,"top"===direction?-vBase:"bottom"===direction?vBase:0];return vertex=applyTransform(vertex,transform,invert),Math.abs(vertex[0])>Math.abs(vertex[1])?vertex[0]>0?"right":"left":vertex[1]>0?"bottom":"top"}function isNotGroup(el){return!el.isGroup}function groupTransition(g1,g2,animatableModel){if(g1&&g2){var elMap1=function getElMap(g){var elMap={};return g.traverse((function(el){isNotGroup(el)&&el.anid&&(elMap[el.anid]=el)})),elMap}(g1);g2.traverse((function(el){if(isNotGroup(el)&&el.anid){var oldEl=elMap1[el.anid];if(oldEl){var newProp=getAnimatableProps(el);el.attr(getAnimatableProps(oldEl)),(0,_animation_basicTransition_js__WEBPACK_IMPORTED_MODULE_0__.D)(el,newProp,animatableModel,(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_9__.A)(el).dataIndex)}}}))}function getAnimatableProps(el){var obj={x:el.x,y:el.y,rotation:el.rotation};return function isPath(el){return null!=el.shape}(el)&&(obj.shape=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.extend)({},el.shape)),obj}}function clipPointsByRect(points,rect){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.map)(points,(function(point){var x=point[0];x=mathMax(x,rect.x),x=mathMin(x,rect.x+rect.width);var y=point[1];return y=mathMax(y,rect.y),[x,y=mathMin(y,rect.y+rect.height)]}))}function clipRectByRect(targetRect,rect){var x=mathMax(targetRect.x,rect.x),x2=mathMin(targetRect.x+targetRect.width,rect.x+rect.width),y=mathMax(targetRect.y,rect.y),y2=mathMin(targetRect.y+targetRect.height,rect.y+rect.height);if(x2>=x&&y2>=y)return{x,y,width:x2-x,height:y2-y}}function createIcon(iconStr,opt,rect){var innerOpts=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.extend)({rectHover:!0},opt),style=innerOpts.style={strokeNoScale:!0};if(rect=rect||{x:-1,y:-1,width:2,height:2},iconStr)return 0===iconStr.indexOf("image://")?(style.image=iconStr.slice(8),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.defaults)(style,rect),new zrender_lib_graphic_Image_js__WEBPACK_IMPORTED_MODULE_3__.ZP(innerOpts)):makePath(iconStr.replace("path://",""),innerOpts,rect,"center")}function linePolygonIntersect(a1x,a1y,a2x,a2y,points){for(var i=0,p2=points[points.length-1];i<points.length;i++){var p=points[i];if(lineLineIntersect(a1x,a1y,a2x,a2y,p[0],p[1],p2[0],p2[1]))return!0;p2=p}}function lineLineIntersect(a1x,a1y,a2x,a2y,b1x,b1y,b2x,b2y){var mx=a2x-a1x,my=a2y-a1y,nx=b2x-b1x,ny=b2y-b1y,nmCrossProduct=crossProduct2d(nx,ny,mx,my);if(function nearZero(val){return val<=1e-6&&val>=-1e-6}(nmCrossProduct))return!1;var b1a1x=a1x-b1x,b1a1y=a1y-b1y,q=crossProduct2d(b1a1x,b1a1y,mx,my)/nmCrossProduct;if(q<0||q>1)return!1;var p=crossProduct2d(b1a1x,b1a1y,nx,ny)/nmCrossProduct;return!(p<0||p>1)}function crossProduct2d(x1,y1,x2,y2){return x1*y2-x2*y1}function setTooltipConfig(opt){var itemTooltipOption=opt.itemTooltipOption,componentModel=opt.componentModel,itemName=opt.itemName,itemTooltipOptionObj=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.isString)(itemTooltipOption)?{formatter:itemTooltipOption}:itemTooltipOption,mainType=componentModel.mainType,componentIndex=componentModel.componentIndex,formatterParams={componentType:mainType,name:itemName,$vars:["name"]};formatterParams[mainType+"Index"]=componentIndex;var formatterParamsExtra=opt.formatterParamsExtra;formatterParamsExtra&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.each)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.keys)(formatterParamsExtra),(function(key){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.hasOwn)(formatterParams,key)||(formatterParams[key]=formatterParamsExtra[key],formatterParams.$vars.push(key))}));var ecData=(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_9__.A)(opt.el);ecData.componentMainType=mainType,ecData.componentIndex=componentIndex,ecData.tooltipConfig={name:itemName,option:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.defaults)({content:itemName,formatterParams},itemTooltipOptionObj)}}function traverseElement(el,cb){var stopped;el.isGroup&&(stopped=cb(el)),stopped||el.traverse(cb)}function traverseElements(els,cb){if(els)if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__.isArray)(els))for(var i=0;i<els.length;i++)traverseElement(els[i],cb);else traverseElement(els,cb)}registerShape("circle",zrender_lib_graphic_shape_Circle_js__WEBPACK_IMPORTED_MODULE_10__.Z),registerShape("ellipse",zrender_lib_graphic_shape_Ellipse_js__WEBPACK_IMPORTED_MODULE_11__.Z),registerShape("sector",zrender_lib_graphic_shape_Sector_js__WEBPACK_IMPORTED_MODULE_12__.C),registerShape("ring",zrender_lib_graphic_shape_Ring_js__WEBPACK_IMPORTED_MODULE_13__.Z),registerShape("polygon",zrender_lib_graphic_shape_Polygon_js__WEBPACK_IMPORTED_MODULE_14__.Z),registerShape("polyline",zrender_lib_graphic_shape_Polyline_js__WEBPACK_IMPORTED_MODULE_15__.Z),registerShape("rect",zrender_lib_graphic_shape_Rect_js__WEBPACK_IMPORTED_MODULE_16__.Z),registerShape("line",zrender_lib_graphic_shape_Line_js__WEBPACK_IMPORTED_MODULE_17__.Z),registerShape("bezierCurve",zrender_lib_graphic_shape_BezierCurve_js__WEBPACK_IMPORTED_MODULE_18__.Z),registerShape("arc",zrender_lib_graphic_shape_Arc_js__WEBPACK_IMPORTED_MODULE_19__.Z)},"./node_modules/echarts/lib/util/innerStore.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>getECData,Q:()=>setCommonECData});var getECData=(0,__webpack_require__("./node_modules/echarts/lib/util/model.js").Yf)(),setCommonECData=function(seriesIndex,dataType,dataIdx,el){if(el){var ecData=getECData(el);ecData.dataIndex=dataIdx,ecData.dataType=dataType,ecData.seriesIndex=seriesIndex,"group"===el.type&&el.traverse((function(child){var childECData=getECData(child);childECData.seriesIndex=seriesIndex,childECData.dataIndex=dataIdx,childECData.dataType=dataType}))}}},"./node_modules/echarts/lib/util/layout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BZ:()=>box,ME:()=>getLayoutRect,QM:()=>sizeCalculable,QT:()=>copyLayoutParams,YD:()=>fetchLayoutMode,dt:()=>mergeLayoutParam,gN:()=>LOCATION_PARAMS,lq:()=>getAvailableSize,p$:()=>positionElement,tE:()=>getLayoutParams});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_format_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/format.js"),each=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(orient,group,gap,maxWidth,maxHeight){var x=0,y=0;null==maxWidth&&(maxWidth=1/0),null==maxHeight&&(maxHeight=1/0);var currentLineMaxSize=0;group.eachChild((function(child,idx){var nextX,nextY,rect=child.getBoundingRect(),nextChild=group.childAt(idx+1),nextChildRect=nextChild&&nextChild.getBoundingRect();if("horizontal"===orient){var moveX=rect.width+(nextChildRect?-nextChildRect.x+rect.x:0);(nextX=x+moveX)>maxWidth||child.newline?(x=0,nextX=moveX,y+=currentLineMaxSize+gap,currentLineMaxSize=rect.height):currentLineMaxSize=Math.max(currentLineMaxSize,rect.height)}else{var moveY=rect.height+(nextChildRect?-nextChildRect.y+rect.y:0);(nextY=y+moveY)>maxHeight||child.newline?(x+=currentLineMaxSize+gap,y=0,nextY=moveY,currentLineMaxSize=rect.width):currentLineMaxSize=Math.max(currentLineMaxSize,rect.width)}child.newline||(child.x=x,child.y=y,child.markRedraw(),"horizontal"===orient?x=nextX+gap:y=nextY+gap)}))}var box=boxLayout;zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.curry(boxLayout,"vertical"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.curry(boxLayout,"horizontal");function getAvailableSize(positionInfo,containerRect,margin){var containerWidth=containerRect.width,containerHeight=containerRect.height,x=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.left,containerWidth),y=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.top,containerHeight),x2=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.right,containerWidth),y2=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.bottom,containerHeight);return(isNaN(x)||isNaN(parseFloat(positionInfo.left)))&&(x=0),(isNaN(x2)||isNaN(parseFloat(positionInfo.right)))&&(x2=containerWidth),(isNaN(y)||isNaN(parseFloat(positionInfo.top)))&&(y=0),(isNaN(y2)||isNaN(parseFloat(positionInfo.bottom)))&&(y2=containerHeight),margin=_format_js__WEBPACK_IMPORTED_MODULE_2__.MY(margin||0),{width:Math.max(x2-x-margin[1]-margin[3],0),height:Math.max(y2-y-margin[0]-margin[2],0)}}function getLayoutRect(positionInfo,containerRect,margin){margin=_format_js__WEBPACK_IMPORTED_MODULE_2__.MY(margin||0);var containerWidth=containerRect.width,containerHeight=containerRect.height,left=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.left,containerWidth),top=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.top,containerHeight),right=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.right,containerWidth),bottom=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.bottom,containerHeight),width=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.width,containerWidth),height=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.GM)(positionInfo.height,containerHeight),verticalMargin=margin[2]+margin[0],horizontalMargin=margin[1]+margin[3],aspect=positionInfo.aspect;switch(isNaN(width)&&(width=containerWidth-right-horizontalMargin-left),isNaN(height)&&(height=containerHeight-bottom-verticalMargin-top),null!=aspect&&(isNaN(width)&&isNaN(height)&&(aspect>containerWidth/containerHeight?width=.8*containerWidth:height=.8*containerHeight),isNaN(width)&&(width=aspect*height),isNaN(height)&&(height=width/aspect)),isNaN(left)&&(left=containerWidth-right-width-horizontalMargin),isNaN(top)&&(top=containerHeight-bottom-height-verticalMargin),positionInfo.left||positionInfo.right){case"center":left=containerWidth/2-width/2-margin[3];break;case"right":left=containerWidth-width-horizontalMargin}switch(positionInfo.top||positionInfo.bottom){case"middle":case"center":top=containerHeight/2-height/2-margin[0];break;case"bottom":top=containerHeight-height-verticalMargin}left=left||0,top=top||0,isNaN(width)&&(width=containerWidth-horizontalMargin-left-(right||0)),isNaN(height)&&(height=containerHeight-verticalMargin-top-(bottom||0));var rect=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(left+margin[3],top+margin[0],width,height);return rect.margin=margin,rect}function positionElement(el,positionInfo,containerRect,margin,opt,out){var rect,h=!opt||!opt.hv||opt.hv[0],v=!opt||!opt.hv||opt.hv[1],boundingMode=opt&&opt.boundingMode||"all";if((out=out||el).x=el.x,out.y=el.y,!h&&!v)return!1;if("raw"===boundingMode)rect="group"===el.type?new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(0,0,+positionInfo.width||0,+positionInfo.height||0):el.getBoundingRect();else if(rect=el.getBoundingRect(),el.needLocalTransform()){var transform=el.getLocalTransform();(rect=rect.clone()).applyTransform(transform)}var layoutRect=getLayoutRect(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.defaults({width:rect.width,height:rect.height},positionInfo),containerRect,margin),dx=h?layoutRect.x-rect.x:0,dy=v?layoutRect.y-rect.y:0;return"raw"===boundingMode?(out.x=dx,out.y=dy):(out.x+=dx,out.y+=dy),out===el&&el.markRedraw(),!0}function sizeCalculable(option,hvIdx){return null!=option[HV_NAMES[hvIdx][0]]||null!=option[HV_NAMES[hvIdx][1]]&&null!=option[HV_NAMES[hvIdx][2]]}function fetchLayoutMode(ins){var layoutMode=ins.layoutMode||ins.constructor.layoutMode;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject(layoutMode)?layoutMode:layoutMode?{type:layoutMode}:null}function mergeLayoutParam(targetOption,newOption,opt){var ignoreSize=opt&&opt.ignoreSize;!zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(ignoreSize)&&(ignoreSize=[ignoreSize,ignoreSize]);var hResult=merge(HV_NAMES[0],0),vResult=merge(HV_NAMES[1],1);function merge(names,hvIdx){var newParams={},newValueCount=0,merged={},mergedValueCount=0;if(each(names,(function(name){merged[name]=targetOption[name]})),each(names,(function(name){hasProp(newOption,name)&&(newParams[name]=merged[name]=newOption[name]),hasValue(newParams,name)&&newValueCount++,hasValue(merged,name)&&mergedValueCount++})),ignoreSize[hvIdx])return hasValue(newOption,names[1])?merged[names[2]]=null:hasValue(newOption,names[2])&&(merged[names[1]]=null),merged;if(2!==mergedValueCount&&newValueCount){if(newValueCount>=2)return newParams;for(var i=0;i<names.length;i++){var name_1=names[i];if(!hasProp(newParams,name_1)&&hasProp(targetOption,name_1)){newParams[name_1]=targetOption[name_1];break}}return newParams}return merged}function hasProp(obj,name){return obj.hasOwnProperty(name)}function hasValue(obj,name){return null!=obj[name]&&"auto"!==obj[name]}function copy(names,target,source){each(names,(function(name){target[name]=source[name]}))}copy(HV_NAMES[0],targetOption,hResult),copy(HV_NAMES[1],targetOption,vResult)}function getLayoutParams(source){return copyLayoutParams({},source)}function copyLayoutParams(target,source){return source&&target&&each(LOCATION_PARAMS,(function(name){source.hasOwnProperty(name)&&(target[name]=source[name])})),target}},"./node_modules/echarts/lib/util/log.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Sh:()=>deprecateLog,ZK:()=>warn,_y:()=>throwError});var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole="undefined"!=typeof console&&console.warn&&console.log;function outputLog(type,str,onlyOnce){if(hasConsole){if(onlyOnce){if(storedLogs[str])return;storedLogs[str]=!0}console[type](ECHARTS_PREFIX+str)}}function warn(str,onlyOnce){outputLog("warn",str,onlyOnce)}function deprecateLog(str){0}function throwError(msg){throw new Error(msg)}},"./node_modules/echarts/lib/util/model.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C4:()=>getDataItemValue,C6:()=>SINGLE_REFERRING,Cc:()=>defaultEmphasis,Co:()=>isDataItemOption,HZ:()=>queryReferringComponents,IL:()=>getAttribute,O0:()=>setComponentTypeToKeyInfo,P$:()=>setAttribute,Td:()=>TEXT_STYLE_OPTIONS,U5:()=>convertOptionIdName,U9:()=>getTooltipRenderMode,XI:()=>compressBatches,Yf:()=>makeInner,ab:()=>mappingToExists,g0:()=>makeInternalComponentId,gO:()=>queryDataIndex,iP:()=>MULTIPLE_REFERRING,kF:()=>normalizeToArray,lY:()=>isComponentIdInternal,pk:()=>interpolateRawValues,pm:()=>parseFinder,pv:()=>groupData,yu:()=>isNameSpecified,zH:()=>preParseFinder});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/env.js"),_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/number.js");function interpolateNumber(p0,p1,percent){return(p1-p0)*percent+p0}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(value){return value instanceof Array?value:null==value?[]:[value]}function defaultEmphasis(opt,key,subOpts){if(opt){opt[key]=opt[key]||{},opt.emphasis=opt.emphasis||{},opt.emphasis[key]=opt.emphasis[key]||{};for(var i=0,len=subOpts.length;i<len;i++){var subOptName=subOpts[i];!opt.emphasis[key].hasOwnProperty(subOptName)&&opt[key].hasOwnProperty(subOptName)&&(opt.emphasis[key][subOptName]=opt[key][subOptName])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(dataItem){return!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(dataItem)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(dataItem)||dataItem instanceof Date?dataItem:dataItem.value}function isDataItemOption(dataItem){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(dataItem)&&!(dataItem instanceof Array)}function mappingToExists(existings,newCmptOptions,mode){var isNormalMergeMode="normalMerge"===mode,isReplaceMergeMode="replaceMerge"===mode,isReplaceAllMode="replaceAll"===mode;existings=existings||[],newCmptOptions=(newCmptOptions||[]).slice();var existingIdIdxMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)();(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(newCmptOptions,(function(cmptOption,index){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(cmptOption)||(newCmptOptions[index]=null)}));var result=function prepareResult(existings,existingIdIdxMap,mode){var result=[];if("replaceAll"===mode)return result;for(var index=0;index<existings.length;index++){var existing=existings[index];existing&&null!=existing.id&&existingIdIdxMap.set(existing.id,index),result.push({existing:"replaceMerge"===mode||isComponentIdInternal(existing)?null:existing,newOption:null,keyInfo:null,brandNew:null})}return result}(existings,existingIdIdxMap,mode);return(isNormalMergeMode||isReplaceMergeMode)&&function mappingById(result,existings,existingIdIdxMap,newCmptOptions){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(newCmptOptions,(function(cmptOption,index){if(cmptOption&&null!=cmptOption.id){var optionId=makeComparableKey(cmptOption.id),existingIdx=existingIdIdxMap.get(optionId);if(null!=existingIdx){var resultItem=result[existingIdx];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!resultItem.newOption,'Duplicated option on id "'+optionId+'".'),resultItem.newOption=cmptOption,resultItem.existing=existings[existingIdx],newCmptOptions[index]=null}}}))}(result,existings,existingIdIdxMap,newCmptOptions),isNormalMergeMode&&function mappingByName(result,newCmptOptions){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(newCmptOptions,(function(cmptOption,index){if(cmptOption&&null!=cmptOption.name)for(var i=0;i<result.length;i++){var existing=result[i].existing;if(!result[i].newOption&&existing&&(null==existing.id||null==cmptOption.id)&&!isComponentIdInternal(cmptOption)&&!isComponentIdInternal(existing)&&keyExistAndEqual("name",existing,cmptOption))return result[i].newOption=cmptOption,void(newCmptOptions[index]=null)}}))}(result,newCmptOptions),isNormalMergeMode||isReplaceMergeMode?function mappingByIndex(result,newCmptOptions,brandNew){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(newCmptOptions,(function(cmptOption){if(cmptOption){for(var resultItem,nextIdx=0;(resultItem=result[nextIdx])&&(resultItem.newOption||isComponentIdInternal(resultItem.existing)||resultItem.existing&&null!=cmptOption.id&&!keyExistAndEqual("id",cmptOption,resultItem.existing));)nextIdx++;resultItem?(resultItem.newOption=cmptOption,resultItem.brandNew=brandNew):result.push({newOption:cmptOption,brandNew,existing:null,keyInfo:null}),nextIdx++}}))}(result,newCmptOptions,isReplaceMergeMode):isReplaceAllMode&&function mappingInReplaceAllMode(result,newCmptOptions){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(newCmptOptions,(function(cmptOption){result.push({newOption:cmptOption,brandNew:!0,existing:null,keyInfo:null})}))}(result,newCmptOptions),function makeIdAndName(mapResult){var idMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)();(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(mapResult,(function(item){var existing=item.existing;existing&&idMap.set(existing.id,item)})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(mapResult,(function(item){var opt=item.newOption;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!opt||null==opt.id||!idMap.get(opt.id)||idMap.get(opt.id)===item,"id duplicates: "+(opt&&opt.id)),opt&&null!=opt.id&&idMap.set(opt.id,item),!item.keyInfo&&(item.keyInfo={})})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(mapResult,(function(item,index){var existing=item.existing,opt=item.newOption,keyInfo=item.keyInfo;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(opt)){if(keyInfo.name=null!=opt.name?makeComparableKey(opt.name):existing?existing.name:DUMMY_COMPONENT_NAME_PREFIX+index,existing)keyInfo.id=makeComparableKey(existing.id);else if(null!=opt.id)keyInfo.id=makeComparableKey(opt.id);else{var idNum=0;do{keyInfo.id="\0"+keyInfo.name+"\0"+idNum++}while(idMap.get(keyInfo.id))}idMap.set(keyInfo.id,item)}}))}(result),result}function keyExistAndEqual(attr,obj1,obj2){var key1=convertOptionIdName(obj1[attr],null),key2=convertOptionIdName(obj2[attr],null);return null!=key1&&null!=key2&&key1===key2}function makeComparableKey(val){return convertOptionIdName(val,"")}function convertOptionIdName(idOrName,defaultValue){return null==idOrName?defaultValue:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(idOrName)?idOrName:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(idOrName)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isStringSafe)(idOrName)?idOrName+"":defaultValue}function isNameSpecified(componentModel){var name=componentModel.name;return!(!name||!name.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(cmptOption){return cmptOption&&null!=cmptOption.id&&0===makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)}function makeInternalComponentId(idSuffix){return INTERNAL_COMPONENT_ID_PREFIX+idSuffix}function setComponentTypeToKeyInfo(mappingResult,mainType,componentModelCtor){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(mappingResult,(function(item){var newOption=item.newOption;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject)(newOption)&&(item.keyInfo.mainType=mainType,item.keyInfo.subType=function determineSubType(mainType,newCmptOption,existComponent,componentModelCtor){var subType=newCmptOption.type?newCmptOption.type:existComponent?existComponent.subType:componentModelCtor.determineSubType(mainType,newCmptOption);return subType}(mainType,newOption,item.existing,componentModelCtor))}))}function compressBatches(batchA,batchB){var mapA={},mapB={};return makeMap(batchA||[],mapA),makeMap(batchB||[],mapB,mapA),[mapToArray(mapA),mapToArray(mapB)];function makeMap(sourceBatch,map,otherMap){for(var i=0,len=sourceBatch.length;i<len;i++){var seriesId=convertOptionIdName(sourceBatch[i].seriesId,null);if(null==seriesId)return;for(var dataIndices=normalizeToArray(sourceBatch[i].dataIndex),otherDataIndices=otherMap&&otherMap[seriesId],j=0,lenj=dataIndices.length;j<lenj;j++){var dataIndex=dataIndices[j];otherDataIndices&&otherDataIndices[dataIndex]?otherDataIndices[dataIndex]=null:(map[seriesId]||(map[seriesId]={}))[dataIndex]=1}}}function mapToArray(map,isData){var result=[];for(var i in map)if(map.hasOwnProperty(i)&&null!=map[i])if(isData)result.push(+i);else{var dataIndices=mapToArray(map[i],!0);dataIndices.length&&result.push({seriesId:i,dataIndex:dataIndices})}return result}}function queryDataIndex(data,payload){return null!=payload.dataIndexInside?payload.dataIndexInside:null!=payload.dataIndex?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(payload.dataIndex)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(payload.dataIndex,(function(value){return data.indexOfRawIndex(value)})):data.indexOfRawIndex(payload.dataIndex):null!=payload.name?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(payload.name)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(payload.name,(function(value){return data.indexOfName(value)})):data.indexOfName(payload.name):void 0}function makeInner(){var key="__ec_inner_"+innerUniqueIndex++;return function(hostObj){return hostObj[key]||(hostObj[key]={})}}var innerUniqueIndex=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.jj)();function parseFinder(ecModel,finderInput,opt){var _a=preParseFinder(finderInput,opt),mainTypeSpecified=_a.mainTypeSpecified,queryOptionMap=_a.queryOptionMap,result=_a.others,defaultMainType=opt?opt.defaultMainType:null;return!mainTypeSpecified&&defaultMainType&&queryOptionMap.set(defaultMainType,{}),queryOptionMap.each((function(queryOption,mainType){var queryResult=queryReferringComponents(ecModel,mainType,queryOption,{useDefault:defaultMainType===mainType,enableAll:!opt||null==opt.enableAll||opt.enableAll,enableNone:!opt||null==opt.enableNone||opt.enableNone});result[mainType+"Models"]=queryResult.models,result[mainType+"Model"]=queryResult.models[0]})),result}function preParseFinder(finderInput,opt){var finder;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(finderInput)){var obj={};obj[finderInput+"Index"]=0,finder=obj}else finder=finderInput;var queryOptionMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)(),others={},mainTypeSpecified=!1;return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(finder,(function(value,key){if("dataIndex"!==key&&"dataIndexInside"!==key){var parsedKey=key.match(/^(\w+)(Index|Id|Name)$/)||[],mainType=parsedKey[1],queryType=(parsedKey[2]||"").toLowerCase();if(mainType&&queryType&&!(opt&&opt.includeMainTypes&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.indexOf)(opt.includeMainTypes,mainType)<0))mainTypeSpecified=mainTypeSpecified||!!mainType,(queryOptionMap.get(mainType)||queryOptionMap.set(mainType,{}))[queryType]=value}else others[key]=value})),{mainTypeSpecified,queryOptionMap,others}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(ecModel,mainType,userOption,opt){opt=opt||SINGLE_REFERRING;var indexOption=userOption.index,idOption=userOption.id,nameOption=userOption.name,result={models:null,specified:null!=indexOption||null!=idOption||null!=nameOption};if(!result.specified){var firstCmpt=void 0;return result.models=opt.useDefault&&(firstCmpt=ecModel.getComponent(mainType))?[firstCmpt]:[],result}return"none"===indexOption||!1===indexOption?((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(opt.enableNone,'`"none"` or `false` is not a valid value on index option.'),result.models=[],result):("all"===indexOption&&((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(opt.enableAll,'`"all"` is not a valid value on index option.'),indexOption=idOption=nameOption=null),result.models=ecModel.queryComponents({mainType,index:indexOption,id:idOption,name:nameOption}),result)}function setAttribute(dom,key,value){dom.setAttribute?dom.setAttribute(key,value):dom[key]=value}function getAttribute(dom,key){return dom.getAttribute?dom.getAttribute(key):dom[key]}function getTooltipRenderMode(renderModeOption){return"auto"===renderModeOption?zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_2__.Z.domSupported?"html":"richText":renderModeOption||"html"}function groupData(array,getKey){var buckets=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createHashMap)(),keys=[];return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(array,(function(item){var key=getKey(item);(buckets.get(key)||(keys.push(key),buckets.set(key,[]))).push(item)})),{keys,buckets}}function interpolateRawValues(data,precision,sourceValue,targetValue,percent){var isAutoPrecision=null==precision||"auto"===precision;if(null==targetValue)return targetValue;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(targetValue)){var value=interpolateNumber(sourceValue||0,targetValue,percent);return(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.NM)(value,isAutoPrecision?Math.max((0,_number_js__WEBPACK_IMPORTED_MODULE_1__.p8)(sourceValue||0),(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.p8)(targetValue)):precision)}if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString)(targetValue))return percent<1?sourceValue:targetValue;for(var interpolated=[],leftArr=sourceValue,rightArr=targetValue,length_1=Math.max(leftArr?leftArr.length:0,rightArr.length),i=0;i<length_1;++i){var info=data.getDimensionInfo(i);if(info&&"ordinal"===info.type)interpolated[i]=(percent<1&&leftArr?leftArr:rightArr)[i];else{var leftVal=leftArr&&leftArr[i]?leftArr[i]:0,rightVal=rightArr[i];value=interpolateNumber(leftVal,rightVal,percent);interpolated[i]=(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.NM)(value,isAutoPrecision?Math.max((0,_number_js__WEBPACK_IMPORTED_MODULE_1__.p8)(leftVal),(0,_number_js__WEBPACK_IMPORTED_MODULE_1__.p8)(rightVal)):precision)}}return interpolated}},"./node_modules/echarts/lib/util/number.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FK:()=>numericToNumber,GM:()=>parsePercent,HD:()=>getPercentSeats,M9:()=>getPixelPrecision,NM:()=>round,NU:()=>linearMap,S$:()=>addSafe,VR:()=>quantile,Xd:()=>quantity,YM:()=>MAX_SAFE_INTEGER,ZB:()=>getPrecisionSafe,dt:()=>asc,eJ:()=>getPercentWithPrecision,jj:()=>getRandomIdBase,kE:()=>isNumeric,kx:()=>nice,mW:()=>isRadianAroundZero,nR:()=>reformIntervals,nl:()=>getLeastCommonMultiple,p8:()=>getPrecision,sG:()=>parseDate,wW:()=>remRadian,xW:()=>quantityExponent});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function linearMap(val,domain,range,clamp){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1],subDomain=d1-d0,subRange=r1-r0;if(0===subDomain)return 0===subRange?r0:(r0+r1)/2;if(clamp)if(subDomain>0){if(val<=d0)return r0;if(val>=d1)return r1}else{if(val>=d0)return r0;if(val<=d1)return r1}else{if(val===d0)return r0;if(val===d1)return r1}return(val-d0)/subDomain*subRange+r0}function parsePercent(percent,all){switch(percent){case"center":case"middle":percent="50%";break;case"left":case"top":percent="0%";break;case"right":case"bottom":percent="100%"}return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(percent)?function _trim(str){return str.replace(/^\s+|\s+$/g,"")}(percent).match(/%$/)?parseFloat(percent)/100*all:parseFloat(percent):null==percent?NaN:+percent}function round(x,precision,returnStr){return null==precision&&(precision=10),precision=Math.min(Math.max(0,precision),ROUND_SUPPORTED_PRECISION_MAX),x=(+x).toFixed(precision),returnStr?x:+x}function asc(arr){return arr.sort((function(a,b){return a-b})),arr}function getPrecision(val){if(val=+val,isNaN(val))return 0;if(val>1e-14)for(var e=1,i=0;i<15;i++,e*=10)if(Math.round(val*e)/e===val)return i;return getPrecisionSafe(val)}function getPrecisionSafe(val){var str=val.toString().toLowerCase(),eIndex=str.indexOf("e"),exp=eIndex>0?+str.slice(eIndex+1):0,significandPartLen=eIndex>0?eIndex:str.length,dotIndex=str.indexOf("."),decimalPartLen=dotIndex<0?0:significandPartLen-1-dotIndex;return Math.max(0,decimalPartLen-exp)}function getPixelPrecision(dataExtent,pixelExtent){var log=Math.log,LN10=Math.LN10,dataQuantity=Math.floor(log(dataExtent[1]-dataExtent[0])/LN10),sizeQuantity=Math.round(log(Math.abs(pixelExtent[1]-pixelExtent[0]))/LN10),precision=Math.min(Math.max(-dataQuantity+sizeQuantity,0),20);return isFinite(precision)?precision:20}function getPercentWithPrecision(valueList,idx,precision){return valueList[idx]&&getPercentSeats(valueList,precision)[idx]||0}function getPercentSeats(valueList,precision){var sum=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.reduce(valueList,(function(acc,val){return acc+(isNaN(val)?0:val)}),0);if(0===sum)return[];for(var digits=Math.pow(10,precision),votesPerQuota=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(valueList,(function(val){return(isNaN(val)?0:val)/sum*digits*100})),targetSeats=100*digits,seats=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(votesPerQuota,(function(votes){return Math.floor(votes)})),currentSum=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.reduce(seats,(function(acc,val){return acc+val}),0),remainder=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(votesPerQuota,(function(votes,idx){return votes-seats[idx]}));currentSum<targetSeats;){for(var max=Number.NEGATIVE_INFINITY,maxId=null,i=0,len=remainder.length;i<len;++i)remainder[i]>max&&(max=remainder[i],maxId=i);++seats[maxId],remainder[maxId]=0,++currentSum}return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(seats,(function(seat){return seat/digits}))}function addSafe(val0,val1){var maxPrecision=Math.max(getPrecision(val0),getPrecision(val1)),sum=val0+val1;return maxPrecision>ROUND_SUPPORTED_PRECISION_MAX?sum:round(sum,maxPrecision)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(radian){var pi2=2*Math.PI;return(radian%pi2+pi2)%pi2}function isRadianAroundZero(val){return val>-RADIAN_EPSILON&&val<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(value){if(value instanceof Date)return value;if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(value)){var match=TIME_REG.exec(value);if(!match)return new Date(NaN);if(match[8]){var hour=+match[4]||0;return"Z"!==match[8].toUpperCase()&&(hour-=+match[8].slice(0,3)),new Date(Date.UTC(+match[1],+(match[2]||1)-1,+match[3]||1,hour,+(match[5]||0),+match[6]||0,match[7]?+match[7].substring(0,3):0))}return new Date(+match[1],+(match[2]||1)-1,+match[3]||1,+match[4]||0,+(match[5]||0),+match[6]||0,match[7]?+match[7].substring(0,3):0)}return null==value?new Date(NaN):new Date(Math.round(value))}function quantity(val){return Math.pow(10,quantityExponent(val))}function quantityExponent(val){if(0===val)return 0;var exp=Math.floor(Math.log(val)/Math.LN10);return val/Math.pow(10,exp)>=10&&exp++,exp}function nice(val,round){var exponent=quantityExponent(val),exp10=Math.pow(10,exponent),f=val/exp10;return val=(round?f<1.5?1:f<2.5?2:f<4?3:f<7?5:10:f<1?1:f<2?2:f<3?3:f<5?5:10)*exp10,exponent>=-20?+val.toFixed(exponent<0?-exponent:0):val}function quantile(ascArr,p){var H=(ascArr.length-1)*p+1,h=Math.floor(H),v=+ascArr[h-1],e=H-h;return e?v+e*(ascArr[h]-v):v}function reformIntervals(list){list.sort((function(a,b){return littleThan(a,b,0)?-1:1}));for(var curr=-1/0,currClose=1,i=0;i<list.length;){for(var interval=list[i].interval,close_1=list[i].close,lg=0;lg<2;lg++)interval[lg]<=curr&&(interval[lg]=curr,close_1[lg]=lg?1:1-currClose),curr=interval[lg],currClose=close_1[lg];interval[0]===interval[1]&&close_1[0]*close_1[1]!=1?list.splice(i,1):i++}return list;function littleThan(a,b,lg){return a.interval[lg]<b.interval[lg]||a.interval[lg]===b.interval[lg]&&(a.close[lg]-b.close[lg]==(lg?-1:1)||!lg&&littleThan(a,b,1))}}function numericToNumber(val){var valFloat=parseFloat(val);return valFloat==val&&(0!==valFloat||!zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(val)||val.indexOf("x")<=0)?valFloat:NaN}function isNumeric(val){return!isNaN(numericToNumber(val))}function getRandomIdBase(){return Math.round(9*Math.random())}function getGreatestCommonDividor(a,b){return 0===b?a:getGreatestCommonDividor(b,a%b)}function getLeastCommonMultiple(a,b){return null==a?b:null==b?a:a*b/getGreatestCommonDividor(a,b)}},"./node_modules/echarts/lib/util/shape/sausage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/node_modules/tslib/tslib.es6.js"),_graphic_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),SausageShape=function SausageShape(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};const __WEBPACK_DEFAULT_EXPORT__=function(_super){function SausagePath(opts){var _this=_super.call(this,opts)||this;return _this.type="sausage",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(SausagePath,_super),SausagePath.prototype.getDefaultShape=function(){return new SausageShape},SausagePath.prototype.buildPath=function(ctx,shape){var cx=shape.cx,cy=shape.cy,r0=Math.max(shape.r0||0,0),r=Math.max(shape.r,0),dr=.5*(r-r0),rCenter=r0+dr,startAngle=shape.startAngle,endAngle=shape.endAngle,clockwise=shape.clockwise,PI2=2*Math.PI,lessThanCircle=clockwise?endAngle-startAngle<PI2:startAngle-endAngle<PI2;lessThanCircle||(startAngle=endAngle-(clockwise?PI2:-PI2));var unitStartX=Math.cos(startAngle),unitStartY=Math.sin(startAngle),unitEndX=Math.cos(endAngle),unitEndY=Math.sin(endAngle);lessThanCircle?(ctx.moveTo(unitStartX*r0+cx,unitStartY*r0+cy),ctx.arc(unitStartX*rCenter+cx,unitStartY*rCenter+cy,dr,-Math.PI+startAngle,startAngle,!clockwise)):ctx.moveTo(unitStartX*r+cx,unitStartY*r+cy),ctx.arc(cx,cy,r,startAngle,endAngle,!clockwise),ctx.arc(unitEndX*rCenter+cx,unitEndY*rCenter+cy,dr,endAngle-2*Math.PI,endAngle-Math.PI,!clockwise),0!==r0&&ctx.arc(cx,cy,r0,endAngle,startAngle,clockwise)},SausagePath}(_graphic_js__WEBPACK_IMPORTED_MODULE_1__.ZP)},"./node_modules/echarts/lib/util/states.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$l:()=>handleGlobalMouseOverForHighDown,Av:()=>isHighDownDispatcher,C5:()=>getAllSelectedIndices,CX:()=>HOVER_STATE_BLUR,Gl:()=>setStatesFlag,Hg:()=>SELECT_ACTION_TYPE,Ib:()=>enableHoverFocus,JQ:()=>UNSELECT_ACTION_TYPE,Ki:()=>HIGHLIGHT_ACTION_TYPE,L1:()=>SPECIAL_STATES,MA:()=>setDefaultStateProxy,Mh:()=>leaveEmphasis,Nj:()=>setAsHighDownDispatcher,RW:()=>getHighlightDigit,SJ:()=>leaveSelect,SX:()=>enterBlur,T5:()=>allLeaveBlur,UL:()=>blurSeriesFromHighlightPayload,VP:()=>leaveBlur,WO:()=>setStatesStylesFromModel,XX:()=>enterSelect,aG:()=>isSelectChangePayload,ci:()=>updateSeriesElementSelection,e9:()=>savePathStates,fD:()=>enterEmphasis,iK:()=>TOGGLE_SELECT_ACTION_TYPE,k5:()=>toggleHoverEmphasis,oJ:()=>findComponentHighDownDispatchers,og:()=>toggleSelectionFromPayload,qc:()=>DISPLAY_STATES,th:()=>enableComponentHighDownFeatures,vF:()=>enableHoverEmphasis,wU:()=>HOVER_STATE_EMPHASIS,xp:()=>isHighDownPayload,xr:()=>handleGlobalMouseOutForHighDown,yx:()=>DOWNPLAY_ACTION_TYPE,zI:()=>blurComponent,zr:()=>Z2_EMPHASIS_LIFT});var zrender_lib_core_LRU_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_innerStore_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),zrender_lib_graphic_Path_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=(0,_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)(),getComponentStates=(0,_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf)(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(fillOrStroke){return null!=fillOrStroke&&"none"!==fillOrStroke}var liftedColorCache=new zrender_lib_core_LRU_js__WEBPACK_IMPORTED_MODULE_1__.ZP(100);function liftColor(color){if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isString)(color)){var liftedColor=liftedColorCache.get(color);return liftedColor||(liftedColor=zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_3__.lift(color,-.1),liftedColorCache.put(color,liftedColor)),liftedColor}if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isGradientObject)(color)){var ret=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},color);return ret.colorStops=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.map)(color.colorStops,(function(stop){return{offset:stop.offset,color:zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_3__.lift(stop.color,-.1)}})),ret}return color}function doChangeHoverState(el,stateName,hoverStateEnum){el.onHoverStateChange&&(el.hoverState||0)!==hoverStateEnum&&el.onHoverStateChange(stateName),el.hoverState=hoverStateEnum}function singleEnterEmphasis(el){doChangeHoverState(el,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(el){el.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(el,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(el){doChangeHoverState(el,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(el){el.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(el,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(el){el.selected=!0}function singleLeaveSelect(el){el.selected=!1}function updateElementState(el,updater,commonParam){updater(el,commonParam)}function traverseUpdateState(el,updater,commonParam){updateElementState(el,updater,commonParam),el.isGroup&&el.traverse((function(child){updateElementState(child,updater,commonParam)}))}function setStatesFlag(el,stateName){switch(stateName){case"emphasis":el.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":el.hoverState=HOVER_STATE_NORMAL;break;case"blur":el.hoverState=HOVER_STATE_BLUR;break;case"select":el.selected=!0}}function elementStateProxy(stateName,targetStates){var state=this.states[stateName];if(this.style){if("emphasis"===stateName)return function createEmphasisDefaultState(el,stateName,targetStates,state){var hasSelect=targetStates&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.indexOf)(targetStates,"select")>=0,cloned=!1;if(el instanceof zrender_lib_graphic_Path_js__WEBPACK_IMPORTED_MODULE_4__.ZP){var store=getSavedStates(el),fromFill=hasSelect&&store.selectFill||store.normalFill,fromStroke=hasSelect&&store.selectStroke||store.normalStroke;if(hasFillOrStroke(fromFill)||hasFillOrStroke(fromStroke)){var emphasisStyle=(state=state||{}).style||{};"inherit"===emphasisStyle.fill?(cloned=!0,state=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},state),(emphasisStyle=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},emphasisStyle)).fill=fromFill):!hasFillOrStroke(emphasisStyle.fill)&&hasFillOrStroke(fromFill)?(cloned=!0,state=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},state),(emphasisStyle=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},emphasisStyle)).fill=liftColor(fromFill)):!hasFillOrStroke(emphasisStyle.stroke)&&hasFillOrStroke(fromStroke)&&(cloned||(state=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},state),emphasisStyle=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},emphasisStyle)),emphasisStyle.stroke=liftColor(fromStroke)),state.style=emphasisStyle}}if(state&&null==state.z2){cloned||(state=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},state));var z2EmphasisLift=el.z2EmphasisLift;state.z2=el.z2+(null!=z2EmphasisLift?z2EmphasisLift:Z2_EMPHASIS_LIFT)}return state}(this,0,targetStates,state);if("blur"===stateName)return function createBlurDefaultState(el,stateName,state){var hasBlur=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.indexOf)(el.currentStates,stateName)>=0,currentOpacity=el.style.opacity,fromState=hasBlur?null:function getFromStateStyle(el,props,toStateName,defaultValue){for(var style=el.style,fromState={},i=0;i<props.length;i++){var propName=props[i],val=style[propName];fromState[propName]=null==val?defaultValue&&defaultValue[propName]:val}for(i=0;i<el.animators.length;i++){var animator=el.animators[i];animator.__fromStateTransition&&animator.__fromStateTransition.indexOf(toStateName)<0&&"style"===animator.targetName&&animator.saveTo(fromState,props)}return fromState}(el,["opacity"],stateName,{opacity:1}),blurStyle=(state=state||{}).style||{};return null==blurStyle.opacity&&(state=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},state),blurStyle=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({opacity:hasBlur?currentOpacity:.1*fromState.opacity},blurStyle),state.style=blurStyle),state}(this,stateName,state);if("select"===stateName)return function createSelectDefaultState(el,stateName,state){if(state&&null==state.z2){state=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.extend)({},state);var z2SelectLift=el.z2SelectLift;state.z2=el.z2+(null!=z2SelectLift?z2SelectLift:Z2_SELECT_LIFT)}return state}(this,0,state)}return state}function setDefaultStateProxy(el){el.stateProxy=elementStateProxy;var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();textContent&&(textContent.stateProxy=elementStateProxy),textGuide&&(textGuide.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(el,e){!shouldSilent(el,e)&&!el.__highByOuter&&traverseUpdateState(el,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(el,e){!shouldSilent(el,e)&&!el.__highByOuter&&traverseUpdateState(el,singleLeaveEmphasis)}function enterEmphasis(el,highlightDigit){el.__highByOuter|=1<<(highlightDigit||0),traverseUpdateState(el,singleEnterEmphasis)}function leaveEmphasis(el,highlightDigit){!(el.__highByOuter&=~(1<<(highlightDigit||0)))&&traverseUpdateState(el,singleLeaveEmphasis)}function enterBlur(el){traverseUpdateState(el,singleEnterBlur)}function leaveBlur(el){traverseUpdateState(el,singleLeaveBlur)}function enterSelect(el){traverseUpdateState(el,singleEnterSelect)}function leaveSelect(el){traverseUpdateState(el,singleLeaveSelect)}function shouldSilent(el,e){return el.__highDownSilentOnTouch&&e.zrByTouch}function allLeaveBlur(api){var model=api.getModel(),leaveBlurredSeries=[],allComponentViews=[];model.eachComponent((function(componentType,componentModel){var componentStates=getComponentStates(componentModel),isSeries="series"===componentType,view=isSeries?api.getViewOfSeriesModel(componentModel):api.getViewOfComponentModel(componentModel);!isSeries&&allComponentViews.push(view),componentStates.isBlured&&(view.group.traverse((function(child){singleLeaveBlur(child)})),isSeries&&leaveBlurredSeries.push(componentModel)),componentStates.isBlured=!1})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(allComponentViews,(function(view){view&&view.toggleBlurSeries&&view.toggleBlurSeries(leaveBlurredSeries,!1,model)}))}function blurSeries(targetSeriesIndex,focus,blurScope,api){var ecModel=api.getModel();function leaveBlurOfIndices(data,dataIndices){for(var i=0;i<dataIndices.length;i++){var itemEl=data.getItemGraphicEl(dataIndices[i]);itemEl&&leaveBlur(itemEl)}}if(blurScope=blurScope||"coordinateSystem",null!=targetSeriesIndex&&focus&&"none"!==focus){var targetSeriesModel=ecModel.getSeriesByIndex(targetSeriesIndex),targetCoordSys=targetSeriesModel.coordinateSystem;targetCoordSys&&targetCoordSys.master&&(targetCoordSys=targetCoordSys.master);var blurredSeries=[];ecModel.eachSeries((function(seriesModel){var sameSeries=targetSeriesModel===seriesModel,coordSys=seriesModel.coordinateSystem;if(coordSys&&coordSys.master&&(coordSys=coordSys.master),!("series"===blurScope&&!sameSeries||"coordinateSystem"===blurScope&&!(coordSys&&targetCoordSys?coordSys===targetCoordSys:sameSeries)||"series"===focus&&sameSeries)){if(api.getViewOfSeriesModel(seriesModel).group.traverse((function(child){child.__highByOuter&&sameSeries&&"self"===focus||singleEnterBlur(child)})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArrayLike)(focus))leaveBlurOfIndices(seriesModel.getData(),focus);else if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(focus))for(var dataTypes=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.keys)(focus),d=0;d<dataTypes.length;d++)leaveBlurOfIndices(seriesModel.getData(dataTypes[d]),focus[dataTypes[d]]);blurredSeries.push(seriesModel),getComponentStates(seriesModel).isBlured=!0}})),ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var view=api.getViewOfComponentModel(componentModel);view&&view.toggleBlurSeries&&view.toggleBlurSeries(blurredSeries,!0,ecModel)}}))}}function blurComponent(componentMainType,componentIndex,api){if(null!=componentMainType&&null!=componentIndex){var componentModel=api.getModel().getComponent(componentMainType,componentIndex);if(componentModel){getComponentStates(componentModel).isBlured=!0;var view=api.getViewOfComponentModel(componentModel);view&&view.focusBlurEnabled&&view.group.traverse((function(child){singleEnterBlur(child)}))}}}function blurSeriesFromHighlightPayload(seriesModel,payload,api){var seriesIndex=seriesModel.seriesIndex,data=seriesModel.getData(payload.dataType);if(data){var dataIndex=(0,_model_js__WEBPACK_IMPORTED_MODULE_0__.gO)(data,payload);dataIndex=((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(dataIndex)?dataIndex[0]:dataIndex)||0;var el=data.getItemGraphicEl(dataIndex);if(!el)for(var count=data.count(),current=0;!el&&current<count;)el=data.getItemGraphicEl(current++);if(el){var ecData=(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_5__.A)(el);blurSeries(seriesIndex,ecData.focus,ecData.blurScope,api)}else{var focus_1=seriesModel.get(["emphasis","focus"]),blurScope=seriesModel.get(["emphasis","blurScope"]);null!=focus_1&&blurSeries(seriesIndex,focus_1,blurScope,api)}}}function findComponentHighDownDispatchers(componentMainType,componentIndex,name,api){var ret={focusSelf:!1,dispatchers:null};if(null==componentMainType||"series"===componentMainType||null==componentIndex||null==name)return ret;var componentModel=api.getModel().getComponent(componentMainType,componentIndex);if(!componentModel)return ret;var view=api.getViewOfComponentModel(componentModel);if(!view||!view.findHighDownDispatchers)return ret;for(var focusSelf,dispatchers=view.findHighDownDispatchers(name),i=0;i<dispatchers.length;i++)if("self"===(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_5__.A)(dispatchers[i]).focus){focusSelf=!0;break}return{focusSelf,dispatchers}}function handleGlobalMouseOverForHighDown(dispatcher,e,api){var ecData=(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_5__.A)(dispatcher),_a=findComponentHighDownDispatchers(ecData.componentMainType,ecData.componentIndex,ecData.componentHighDownName,api),dispatchers=_a.dispatchers,focusSelf=_a.focusSelf;dispatchers?(focusSelf&&blurComponent(ecData.componentMainType,ecData.componentIndex,api),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(dispatchers,(function(dispatcher){return enterEmphasisWhenMouseOver(dispatcher,e)}))):(blurSeries(ecData.seriesIndex,ecData.focus,ecData.blurScope,api),"self"===ecData.focus&&blurComponent(ecData.componentMainType,ecData.componentIndex,api),enterEmphasisWhenMouseOver(dispatcher,e))}function handleGlobalMouseOutForHighDown(dispatcher,e,api){allLeaveBlur(api);var ecData=(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_5__.A)(dispatcher),dispatchers=findComponentHighDownDispatchers(ecData.componentMainType,ecData.componentIndex,ecData.componentHighDownName,api).dispatchers;dispatchers?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(dispatchers,(function(dispatcher){return leaveEmphasisWhenMouseOut(dispatcher,e)})):leaveEmphasisWhenMouseOut(dispatcher,e)}function toggleSelectionFromPayload(seriesModel,payload,api){if(isSelectChangePayload(payload)){var dataType=payload.dataType,data=seriesModel.getData(dataType),dataIndex=(0,_model_js__WEBPACK_IMPORTED_MODULE_0__.gO)(data,payload);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(dataIndex)||(dataIndex=[dataIndex]),seriesModel[payload.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":payload.type===SELECT_ACTION_TYPE?"select":"unselect"](dataIndex,dataType)}}function updateSeriesElementSelection(seriesModel){var allData=seriesModel.getAllData();(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(allData,(function(_a){var data=_a.data,type=_a.type;data.eachItemGraphicEl((function(el,idx){seriesModel.isSelected(idx,type)?enterSelect(el):leaveSelect(el)}))}))}function getAllSelectedIndices(ecModel){var ret=[];return ecModel.eachSeries((function(seriesModel){var allData=seriesModel.getAllData();(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__.each)(allData,(function(_a){_a.data;var type=_a.type,dataIndices=seriesModel.getSelectedDataIndices();if(dataIndices.length>0){var item={dataIndex:dataIndices,seriesIndex:seriesModel.seriesIndex};null!=type&&(item.dataType=type),ret.push(item)}}))})),ret}function enableHoverEmphasis(el,focus,blurScope){setAsHighDownDispatcher(el,!0),traverseUpdateState(el,setDefaultStateProxy),enableHoverFocus(el,focus,blurScope)}function toggleHoverEmphasis(el,focus,blurScope,isDisabled){isDisabled?function disableHoverEmphasis(el){setAsHighDownDispatcher(el,!1)}(el):enableHoverEmphasis(el,focus,blurScope)}function enableHoverFocus(el,focus,blurScope){var ecData=(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_5__.A)(el);null!=focus?(ecData.focus=focus,ecData.blurScope=blurScope):ecData.focus&&(ecData.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(el,itemModel,styleType,getter){styleType=styleType||"itemStyle";for(var i=0;i<OTHER_STATES.length;i++){var stateName=OTHER_STATES[i],model=itemModel.getModel([stateName,styleType]);el.ensureState(stateName).style=getter?getter(model):model[defaultStyleGetterMap[styleType]]()}}function setAsHighDownDispatcher(el,asDispatcher){var disable=!1===asDispatcher,extendedEl=el;el.highDownSilentOnTouch&&(extendedEl.__highDownSilentOnTouch=el.highDownSilentOnTouch),disable&&!extendedEl.__highDownDispatcher||(extendedEl.__highByOuter=extendedEl.__highByOuter||0,extendedEl.__highDownDispatcher=!disable)}function isHighDownDispatcher(el){return!(!el||!el.__highDownDispatcher)}function enableComponentHighDownFeatures(el,componentModel,componentHighDownName){var ecData=(0,_innerStore_js__WEBPACK_IMPORTED_MODULE_5__.A)(el);ecData.componentMainType=componentModel.mainType,ecData.componentIndex=componentModel.componentIndex,ecData.componentHighDownName=componentHighDownName}function getHighlightDigit(highlightKey){var highlightDigit=_highlightKeyMap[highlightKey];return null==highlightDigit&&_highlightNextDigit<=32&&(highlightDigit=_highlightKeyMap[highlightKey]=_highlightNextDigit++),highlightDigit}function isSelectChangePayload(payload){var payloadType=payload.type;return payloadType===SELECT_ACTION_TYPE||payloadType===UNSELECT_ACTION_TYPE||payloadType===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(payload){var payloadType=payload.type;return payloadType===HIGHLIGHT_ACTION_TYPE||payloadType===DOWNPLAY_ACTION_TYPE}function savePathStates(el){var store=getSavedStates(el);store.normalFill=el.style.fill,store.normalStroke=el.style.stroke;var selectState=el.states.select||{};store.selectFill=selectState.style&&selectState.style.fill||null,store.selectStroke=selectState.style&&selectState.style.stroke||null}},"./node_modules/echarts/lib/util/symbol.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cq:()=>normalizeSymbolOffset,Pw:()=>symbolBuildProxies,th:()=>createSymbol,zp:()=>normalizeSymbolSize});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_graphic_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Line.js"),_graphic_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),_graphic_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),_graphic_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),_number_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),Triangle=_graphic_js__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,shape){var cx=shape.cx,cy=shape.cy,width=shape.width/2,height=shape.height/2;path.moveTo(cx,cy-height),path.lineTo(cx+width,cy+height),path.lineTo(cx-width,cy+height),path.closePath()}}),Diamond=_graphic_js__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,shape){var cx=shape.cx,cy=shape.cy,width=shape.width/2,height=shape.height/2;path.moveTo(cx,cy-height),path.lineTo(cx+width,cy),path.lineTo(cx,cy+height),path.lineTo(cx-width,cy),path.closePath()}}),Pin=_graphic_js__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(path,shape){var x=shape.x,y=shape.y,w=shape.width/5*3,h=Math.max(w,shape.height),r=w/2,dy=r*r/(h-r),cy=y-h+r+dy,angle=Math.asin(dy/r),dx=Math.cos(angle)*r,tanX=Math.sin(angle),tanY=Math.cos(angle),cpLen=.6*r,cpLen2=.7*r;path.moveTo(x-dx,cy+dy),path.arc(x,cy,r,Math.PI-angle,2*Math.PI+angle),path.bezierCurveTo(x+dx-tanX*cpLen,cy+dy+tanY*cpLen,x,y-cpLen2,x,y),path.bezierCurveTo(x,y-cpLen2,x-dx+tanX*cpLen,cy+dy+tanY*cpLen,x-dx,cy+dy),path.closePath()}}),Arrow=_graphic_js__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(ctx,shape){var height=shape.height,width=shape.width,x=shape.x,y=shape.y,dx=width/3*2;ctx.moveTo(x,y),ctx.lineTo(x+dx,y+height),ctx.lineTo(x,y+height/4*3),ctx.lineTo(x-dx,y+height),ctx.lineTo(x,y),ctx.closePath()}}),symbolCtors={line:_graphic_js__WEBPACK_IMPORTED_MODULE_1__.Z,rect:_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z,roundRect:_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z,square:_graphic_js__WEBPACK_IMPORTED_MODULE_2__.Z,circle:_graphic_js__WEBPACK_IMPORTED_MODULE_3__.Z,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(x,y,w,h,shape){shape.x1=x,shape.y1=y+h/2,shape.x2=x+w,shape.y2=y+h/2},rect:function(x,y,w,h,shape){shape.x=x,shape.y=y,shape.width=w,shape.height=h},roundRect:function(x,y,w,h,shape){shape.x=x,shape.y=y,shape.width=w,shape.height=h,shape.r=Math.min(w,h)/4},square:function(x,y,w,h,shape){var size=Math.min(w,h);shape.x=x,shape.y=y,shape.width=size,shape.height=size},circle:function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.r=Math.min(w,h)/2},diamond:function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.width=w,shape.height=h},pin:function(x,y,w,h,shape){shape.x=x+w/2,shape.y=y+h/2,shape.width=w,shape.height=h},arrow:function(x,y,w,h,shape){shape.x=x+w/2,shape.y=y+h/2,shape.width=w,shape.height=h},triangle:function(x,y,w,h,shape){shape.cx=x+w/2,shape.cy=y+h/2,shape.width=w,shape.height=h}},symbolBuildProxies={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.each)(symbolCtors,(function(Ctor,name){symbolBuildProxies[name]=new Ctor}));var SymbolClz=_graphic_js__WEBPACK_IMPORTED_MODULE_0__.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(out,config,rect){var res=(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_5__.wI)(out,config,rect),shape=this.shape;return shape&&"pin"===shape.symbolType&&"inside"===config.position&&(res.y=rect.y+.4*rect.height),res},buildPath:function(ctx,shape,inBundle){var symbolType=shape.symbolType;if("none"!==symbolType){var proxySymbol=symbolBuildProxies[symbolType];proxySymbol||(proxySymbol=symbolBuildProxies[symbolType="rect"]),symbolShapeMakers[symbolType](shape.x,shape.y,shape.width,shape.height,proxySymbol.shape),proxySymbol.buildPath(ctx,proxySymbol.shape,inBundle)}}});function symbolPathSetColor(color,innerColor){if("image"!==this.type){var symbolStyle=this.style;this.__isEmptyBrush?(symbolStyle.stroke=color,symbolStyle.fill=innerColor||"#fff",symbolStyle.lineWidth=2):"line"===this.shape.symbolType?symbolStyle.stroke=color:symbolStyle.fill=color,this.markRedraw()}}function createSymbol(symbolType,x,y,w,h,color,keepAspect){var symbolPath,isEmpty=0===symbolType.indexOf("empty");return isEmpty&&(symbolType=symbolType.substr(5,1).toLowerCase()+symbolType.substr(6)),(symbolPath=0===symbolType.indexOf("image://")?_graphic_js__WEBPACK_IMPORTED_MODULE_6__.makeImage(symbolType.slice(8),new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_7__.Z(x,y,w,h),keepAspect?"center":"cover"):0===symbolType.indexOf("path://")?_graphic_js__WEBPACK_IMPORTED_MODULE_6__.makePath(symbolType.slice(7),{},new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_7__.Z(x,y,w,h),keepAspect?"center":"cover"):new SymbolClz({shape:{symbolType,x,y,width:w,height:h}})).__isEmptyBrush=isEmpty,symbolPath.setColor=symbolPathSetColor,color&&symbolPath.setColor(color),symbolPath}function normalizeSymbolSize(symbolSize){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.isArray)(symbolSize)||(symbolSize=[+symbolSize,+symbolSize]),[symbolSize[0]||0,symbolSize[1]||0]}function normalizeSymbolOffset(symbolOffset,symbolSize){if(null!=symbolOffset)return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.isArray)(symbolOffset)||(symbolOffset=[symbolOffset,symbolOffset]),[(0,_number_js__WEBPACK_IMPORTED_MODULE_8__.GM)(symbolOffset[0],symbolSize[0])||0,(0,_number_js__WEBPACK_IMPORTED_MODULE_8__.GM)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__.retrieve2)(symbolOffset[1],symbolOffset[0]),symbolSize[1])||0]}},"./node_modules/echarts/lib/util/throttle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P2:()=>throttle,T9:()=>createOrUpdate,ZH:()=>clear});var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(fn,delay,debounce){var currCall,diff,scope,args,debounceNextCall,lastCall=0,lastExec=0,timer=null;function exec(){lastExec=(new Date).getTime(),timer=null,fn.apply(scope,args||[])}delay=delay||0;var cb=function(){for(var cbArgs=[],_i=0;_i<arguments.length;_i++)cbArgs[_i]=arguments[_i];currCall=(new Date).getTime(),scope=this,args=cbArgs;var thisDelay=debounceNextCall||delay,thisDebounce=debounceNextCall||debounce;debounceNextCall=null,diff=currCall-(thisDebounce?lastCall:lastExec)-thisDelay,clearTimeout(timer),thisDebounce?timer=setTimeout(exec,thisDelay):diff>=0?exec():timer=setTimeout(exec,-diff),lastCall=currCall};return cb.clear=function(){timer&&(clearTimeout(timer),timer=null)},cb.debounceNextCall=function(debounceDelay){debounceNextCall=debounceDelay},cb}function createOrUpdate(obj,fnAttr,rate,throttleType){var fn=obj[fnAttr];if(fn){var originFn=fn[ORIGIN_METHOD]||fn,lastThrottleType=fn[THROTTLE_TYPE];if(fn[RATE]!==rate||lastThrottleType!==throttleType){if(null==rate||!throttleType)return obj[fnAttr]=originFn;(fn=obj[fnAttr]=throttle(originFn,rate,"debounce"===throttleType))[ORIGIN_METHOD]=originFn,fn[THROTTLE_TYPE]=throttleType,fn[RATE]=rate}return fn}}function clear(obj,fnAttr){var fn=obj[fnAttr];fn&&fn[ORIGIN_METHOD]&&(fn.clear&&fn.clear(),obj[fnAttr]=fn[ORIGIN_METHOD])}},"./node_modules/echarts/lib/util/time.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$K:()=>isPrimaryTimeUnit,CW:()=>monthGetterName,En:()=>hoursSetterName,FW:()=>timeUnits,MV:()=>secondsGetterName,P5:()=>ONE_YEAR,RZ:()=>millisecondsGetterName,Tj:()=>getPrimaryTimeUnit,V8:()=>fullLeveledFormatter,WT:()=>ONE_SECOND,WU:()=>format,Wp:()=>hoursGetterName,cb:()=>millisecondsSetterName,dV:()=>ONE_HOUR,eN:()=>minutesSetterName,f5:()=>dateSetterName,fn:()=>minutesGetterName,k7:()=>leveledFormat,q5:()=>getUnitValue,rM:()=>secondsSetterName,s2:()=>ONE_DAY,sx:()=>fullYearGetterName,vh:()=>monthSetterName,vk:()=>pad,xC:()=>getDefaultFormatPrecisionOfInterval,xL:()=>fullYearSetterName,xz:()=>dateGetterName,yR:()=>ONE_MINUTE});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),_core_locale_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/core/locale.js"),_model_Model_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),ONE_SECOND=1e3,ONE_MINUTE=60*ONE_SECOND,ONE_HOUR=60*ONE_MINUTE,ONE_DAY=24*ONE_HOUR,ONE_YEAR=365*ONE_DAY,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+defaultLeveledFormatter.hour,minute:"{yyyy}-{MM}-{dd} "+defaultLeveledFormatter.minute,second:"{yyyy}-{MM}-{dd} "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(str,len){return"0000".substr(0,len-(str+="").length)+str}function getPrimaryTimeUnit(timeUnit){switch(timeUnit){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return timeUnit}}function isPrimaryTimeUnit(timeUnit){return timeUnit===getPrimaryTimeUnit(timeUnit)}function getDefaultFormatPrecisionOfInterval(timeUnit){switch(timeUnit){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(time,template,isUTC,lang){var date=_number_js__WEBPACK_IMPORTED_MODULE_0__.sG(time),y=date[fullYearGetterName(isUTC)](),M=date[monthGetterName(isUTC)]()+1,q=Math.floor((M-1)/3)+1,d=date[dateGetterName(isUTC)](),e=date["get"+(isUTC?"UTC":"")+"Day"](),H=date[hoursGetterName(isUTC)](),h=(H-1)%12+1,m=date[minutesGetterName(isUTC)](),s=date[secondsGetterName(isUTC)](),S=date[millisecondsGetterName(isUTC)](),timeModel=(lang instanceof _model_Model_js__WEBPACK_IMPORTED_MODULE_1__.Z?lang:(0,_core_locale_js__WEBPACK_IMPORTED_MODULE_2__.G8)(lang||_core_locale_js__WEBPACK_IMPORTED_MODULE_2__.sO)||(0,_core_locale_js__WEBPACK_IMPORTED_MODULE_2__.Li)()).getModel("time"),month=timeModel.get("month"),monthAbbr=timeModel.get("monthAbbr"),dayOfWeek=timeModel.get("dayOfWeek"),dayOfWeekAbbr=timeModel.get("dayOfWeekAbbr");return(template||"").replace(/{yyyy}/g,y+"").replace(/{yy}/g,pad(y%100+"",2)).replace(/{Q}/g,q+"").replace(/{MMMM}/g,month[M-1]).replace(/{MMM}/g,monthAbbr[M-1]).replace(/{MM}/g,pad(M,2)).replace(/{M}/g,M+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,dayOfWeek[e]).replace(/{ee}/g,dayOfWeekAbbr[e]).replace(/{e}/g,e+"").replace(/{HH}/g,pad(H,2)).replace(/{H}/g,H+"").replace(/{hh}/g,pad(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,pad(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,pad(s,2)).replace(/{s}/g,s+"").replace(/{SSS}/g,pad(S,3)).replace(/{S}/g,S+"")}function leveledFormat(tick,idx,formatter,lang,isUTC){var template=null;if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isString(formatter))template=formatter;else if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isFunction(formatter))template=formatter(tick.value,idx,{level:tick.level});else{var defaults=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.extend({},defaultLeveledFormatter);if(tick.level>0)for(var i=0;i<primaryTimeUnits.length;++i)defaults[primaryTimeUnits[i]]="{primary|"+defaults[primaryTimeUnits[i]]+"}";var mergedFormatter=formatter?!1===formatter.inherit?formatter:zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.defaults(formatter,defaults):defaults,unit=getUnitFromValue(tick.value,isUTC);if(mergedFormatter[unit])template=mergedFormatter[unit];else if(mergedFormatter.inherit){for(i=timeUnits.indexOf(unit)-1;i>=0;--i)if(mergedFormatter[unit]){template=mergedFormatter[unit];break}template=template||defaults.none}if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isArray(template)){var levelId=null==tick.level?0:tick.level>=0?tick.level:template.length+tick.level;template=template[levelId=Math.min(levelId,template.length-1)]}}return format(new Date(tick.value),template,isUTC,lang)}function getUnitFromValue(value,isUTC){var date=_number_js__WEBPACK_IMPORTED_MODULE_0__.sG(value),M=date[monthGetterName(isUTC)]()+1,d=date[dateGetterName(isUTC)](),h=date[hoursGetterName(isUTC)](),m=date[minutesGetterName(isUTC)](),s=date[secondsGetterName(isUTC)](),isSecond=0===date[millisecondsGetterName(isUTC)](),isMinute=isSecond&&0===s,isHour=isMinute&&0===m,isDay=isHour&&0===h,isMonth=isDay&&1===d;return isMonth&&1===M?"year":isMonth?"month":isDay?"day":isHour?"hour":isMinute?"minute":isSecond?"second":"millisecond"}function getUnitValue(value,unit,isUTC){var date=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__.isNumber(value)?_number_js__WEBPACK_IMPORTED_MODULE_0__.sG(value):value;switch(unit=unit||getUnitFromValue(value,isUTC)){case"year":return date[fullYearGetterName(isUTC)]();case"half-year":return date[monthGetterName(isUTC)]()>=6?1:0;case"quarter":return Math.floor((date[monthGetterName(isUTC)]()+1)/4);case"month":return date[monthGetterName(isUTC)]();case"day":return date[dateGetterName(isUTC)]();case"half-day":return date[hoursGetterName(isUTC)]()/24;case"hour":return date[hoursGetterName(isUTC)]();case"minute":return date[minutesGetterName(isUTC)]();case"second":return date[secondsGetterName(isUTC)]();case"millisecond":return date[millisecondsGetterName(isUTC)]()}}function fullYearGetterName(isUTC){return isUTC?"getUTCFullYear":"getFullYear"}function monthGetterName(isUTC){return isUTC?"getUTCMonth":"getMonth"}function dateGetterName(isUTC){return isUTC?"getUTCDate":"getDate"}function hoursGetterName(isUTC){return isUTC?"getUTCHours":"getHours"}function minutesGetterName(isUTC){return isUTC?"getUTCMinutes":"getMinutes"}function secondsGetterName(isUTC){return isUTC?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(isUTC){return isUTC?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(isUTC){return isUTC?"setUTCFullYear":"setFullYear"}function monthSetterName(isUTC){return isUTC?"setUTCMonth":"setMonth"}function dateSetterName(isUTC){return isUTC?"setUTCDate":"setDate"}function hoursSetterName(isUTC){return isUTC?"setUTCHours":"setHours"}function minutesSetterName(isUTC){return isUTC?"setUTCMinutes":"setMinutes"}function secondsSetterName(isUTC){return isUTC?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(isUTC){return isUTC?"setUTCMilliseconds":"setMilliseconds"}},"./node_modules/echarts/lib/util/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J5:()=>SOURCE_FORMAT_TYPED_ARRAY,RA:()=>SOURCE_FORMAT_UNKNOWN,Wc:()=>SERIES_LAYOUT_BY_ROW,XD:()=>SOURCE_FORMAT_ARRAY_ROWS,cy:()=>SOURCE_FORMAT_ORIGINAL,f7:()=>VISUAL_DIMENSIONS,fY:()=>SERIES_LAYOUT_BY_COLUMN,hL:()=>SOURCE_FORMAT_KEYED_COLUMNS,qb:()=>SOURCE_FORMAT_OBJECT_ROWS});var VISUAL_DIMENSIONS=(0,__webpack_require__("./node_modules/zrender/lib/core/util.js").createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row"},"./node_modules/echarts/lib/util/vendor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>createFloat32Array});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),supportFloat32Array="undefined"!=typeof Float32Array,Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(arg){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(arg)?supportFloat32Array?new Float32Array(arg):arg:new Float32ArrayCtor(arg)}},"./node_modules/echarts/lib/view/Chart.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_graphic_Group_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),_util_component_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/echarts/lib/util/component.js"),_util_clazz_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/util/model.js"),_util_states_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/echarts/lib/util/states.js"),_core_task_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/echarts/lib/core/task.js"),_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/chart/helper/createRenderPlanner.js"),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),inner=_util_model_js__WEBPACK_IMPORTED_MODULE_0__.Yf(),renderPlanner=(0,_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_1__.Z)(),ChartView=function(){function ChartView(){this.group=new zrender_lib_graphic_Group_js__WEBPACK_IMPORTED_MODULE_2__.Z,this.uid=_util_component_js__WEBPACK_IMPORTED_MODULE_3__.Kr("viewChart"),this.renderTask=(0,_core_task_js__WEBPACK_IMPORTED_MODULE_4__.v)({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return ChartView.prototype.init=function(ecModel,api){},ChartView.prototype.render=function(seriesModel,ecModel,api,payload){0},ChartView.prototype.highlight=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(payload&&payload.dataType);data&&toggleHighlight(data,payload,"emphasis")},ChartView.prototype.downplay=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(payload&&payload.dataType);data&&toggleHighlight(data,payload,"normal")},ChartView.prototype.remove=function(ecModel,api){this.group.removeAll()},ChartView.prototype.dispose=function(ecModel,api){},ChartView.prototype.updateView=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},ChartView.prototype.updateLayout=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},ChartView.prototype.updateVisual=function(seriesModel,ecModel,api,payload){this.render(seriesModel,ecModel,api,payload)},ChartView.prototype.eachRendered=function(cb){(0,_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.traverseElements)(this.group,cb)},ChartView.markUpdateMethod=function(payload,methodName){inner(payload).updateMethod=methodName},ChartView.protoInitialize=void(ChartView.prototype.type="chart"),ChartView}();function elSetState(el,state,highlightDigit){el&&(0,_util_states_js__WEBPACK_IMPORTED_MODULE_6__.Av)(el)&&("emphasis"===state?_util_states_js__WEBPACK_IMPORTED_MODULE_6__.fD:_util_states_js__WEBPACK_IMPORTED_MODULE_6__.Mh)(el,highlightDigit)}function toggleHighlight(data,payload,state){var dataIndex=_util_model_js__WEBPACK_IMPORTED_MODULE_0__.gO(data,payload),highlightDigit=payload&&null!=payload.highlightKey?(0,_util_states_js__WEBPACK_IMPORTED_MODULE_6__.RW)(payload.highlightKey):null;null!=dataIndex?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__.each)(_util_model_js__WEBPACK_IMPORTED_MODULE_0__.kF(dataIndex),(function(dataIdx){elSetState(data.getItemGraphicEl(dataIdx),state,highlightDigit)})):data.eachItemGraphicEl((function(el){elSetState(el,state,highlightDigit)}))}function renderTaskPlan(context){return renderPlanner(context.model)}function renderTaskReset(context){var seriesModel=context.model,ecModel=context.ecModel,api=context.api,payload=context.payload,progressiveRender=seriesModel.pipelineContext.progressiveRender,view=context.view,updateMethod=payload&&inner(payload).updateMethod,methodName=progressiveRender?"incrementalPrepareRender":updateMethod&&view[updateMethod]?updateMethod:"render";return"render"!==methodName&&view[methodName](seriesModel,ecModel,api,payload),progressMethodMap[methodName]}_util_clazz_js__WEBPACK_IMPORTED_MODULE_8__.dm(ChartView,["dispose"]),_util_clazz_js__WEBPACK_IMPORTED_MODULE_8__.au(ChartView);var progressMethodMap={incrementalPrepareRender:{progress:function(params,context){context.view.incrementalRender(params,context.model,context.ecModel,context.api,context.payload)}},render:{forceFirstProgress:!0,progress:function(params,context){context.view.render(context.model,context.ecModel,context.api,context.payload)}}};const __WEBPACK_DEFAULT_EXPORT__=ChartView},"./node_modules/echarts/lib/view/Component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_graphic_Group_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),_util_component_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/util/component.js"),_util_clazz_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/clazz.js"),ComponentView=function(){function ComponentView(){this.group=new zrender_lib_graphic_Group_js__WEBPACK_IMPORTED_MODULE_0__.Z,this.uid=_util_component_js__WEBPACK_IMPORTED_MODULE_1__.Kr("viewComponent")}return ComponentView.prototype.init=function(ecModel,api){},ComponentView.prototype.render=function(model,ecModel,api,payload){},ComponentView.prototype.dispose=function(ecModel,api){},ComponentView.prototype.updateView=function(model,ecModel,api,payload){},ComponentView.prototype.updateLayout=function(model,ecModel,api,payload){},ComponentView.prototype.updateVisual=function(model,ecModel,api,payload){},ComponentView.prototype.toggleBlurSeries=function(seriesModels,isBlur,ecModel){},ComponentView.prototype.eachRendered=function(cb){var group=this.group;group&&group.traverse(cb)},ComponentView}();_util_clazz_js__WEBPACK_IMPORTED_MODULE_2__.dm(ComponentView),_util_clazz_js__WEBPACK_IMPORTED_MODULE_2__.au(ComponentView);const __WEBPACK_DEFAULT_EXPORT__=ComponentView},"./node_modules/echarts/lib/visual/VisualMapping.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),_util_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/echarts/lib/util/number.js"),each=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each,isObject=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function VisualMapping(option){var mappingMethod=option.mappingMethod,visualType=option.type,thisOption=this.option=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.clone(option);this.type=visualType,this.mappingMethod=mappingMethod,this._normalizeData=normalizers[mappingMethod];var visualHandler=VisualMapping.visualHandlers[visualType];this.applyVisual=visualHandler.applyVisual,this.getColorMapper=visualHandler.getColorMapper,this._normalizedToVisual=visualHandler._normalizedToVisual[mappingMethod],"piecewise"===mappingMethod?(normalizeVisualRange(thisOption),function preprocessForPiecewise(thisOption){var pieceList=thisOption.pieceList;thisOption.hasSpecialVisual=!1,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(pieceList,(function(piece,index){piece.originIndex=index,null!=piece.visual&&(thisOption.hasSpecialVisual=!0)}))}(thisOption)):"category"===mappingMethod?thisOption.categories?function preprocessForSpecifiedCategory(thisOption){var categories=thisOption.categories,categoryMap=thisOption.categoryMap={},visual=thisOption.visual;if(each(categories,(function(cate,index){categoryMap[cate]=index})),!zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(visual)){var visualArr_1=[];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject(visual)?each(visual,(function(v,cate){var index=categoryMap[cate];visualArr_1[null!=index?index:CATEGORY_DEFAULT_VISUAL_INDEX]=v})):visualArr_1[CATEGORY_DEFAULT_VISUAL_INDEX]=visual,visual=setVisualToOption(thisOption,visualArr_1)}for(var i=categories.length-1;i>=0;i--)null==visual[i]&&(delete categoryMap[categories[i]],categories.pop())}(thisOption):normalizeVisualRange(thisOption,!0):(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.assert("linear"!==mappingMethod||thisOption.dataExtent),normalizeVisualRange(thisOption))}return VisualMapping.prototype.mapValueToVisual=function(value){var normalized=this._normalizeData(value);return this._normalizedToVisual(normalized,value)},VisualMapping.prototype.getNormalizer=function(){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.bind(this._normalizeData,this)},VisualMapping.listVisualTypes=function(){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.keys(VisualMapping.visualHandlers)},VisualMapping.isValidType=function(visualType){return VisualMapping.visualHandlers.hasOwnProperty(visualType)},VisualMapping.eachVisual=function(visual,callback,context){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject(visual)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(visual,callback,context):callback.call(context,visual)},VisualMapping.mapVisual=function(visual,callback,context){var isPrimary,newVisual=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(visual)?[]:zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject(visual)?{}:(isPrimary=!0,null);return VisualMapping.eachVisual(visual,(function(v,key){var newVal=callback.call(context,v,key);isPrimary?newVisual=newVal:newVisual[key]=newVal})),newVisual},VisualMapping.retrieveVisuals=function(obj){var hasVisual,ret={};return obj&&each(VisualMapping.visualHandlers,(function(h,visualType){obj.hasOwnProperty(visualType)&&(ret[visualType]=obj[visualType],hasVisual=!0)})),hasVisual?ret:null},VisualMapping.prepareVisualTypes=function(visualTypes){if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray(visualTypes))visualTypes=visualTypes.slice();else{if(!isObject(visualTypes))return[];var types_1=[];each(visualTypes,(function(item,type){types_1.push(type)})),visualTypes=types_1}return visualTypes.sort((function(type1,type2){return"color"===type2&&"color"!==type1&&0===type1.indexOf("color")?1:-1})),visualTypes},VisualMapping.dependsOn=function(visualType1,visualType2){return"color"===visualType2?!(!visualType1||0!==visualType1.indexOf(visualType2)):visualType1===visualType2},VisualMapping.findPieceIndex=function(value,pieceList,findClosestWhenOutside){for(var possibleI,abs=1/0,i=0,len=pieceList.length;i<len;i++){var pieceValue=pieceList[i].value;if(null!=pieceValue){if(pieceValue===value||zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isString(pieceValue)&&pieceValue===value+"")return i;findClosestWhenOutside&&updatePossible(pieceValue,i)}}for(i=0,len=pieceList.length;i<len;i++){var piece=pieceList[i],interval=piece.interval,close_1=piece.close;if(interval){if(interval[0]===-1/0){if(littleThan(close_1[1],value,interval[1]))return i}else if(interval[1]===1/0){if(littleThan(close_1[0],interval[0],value))return i}else if(littleThan(close_1[0],interval[0],value)&&littleThan(close_1[1],value,interval[1]))return i;findClosestWhenOutside&&updatePossible(interval[0],i),findClosestWhenOutside&&updatePossible(interval[1],i)}}if(findClosestWhenOutside)return value===1/0?pieceList.length-1:value===-1/0?0:possibleI;function updatePossible(val,index){var newAbs=Math.abs(val-value);newAbs<abs&&(abs=newAbs,possibleI=index)}},VisualMapping.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var thisOption=this.option;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.bind("category"===thisOption.mappingMethod?function(value,isNormalized){return!isNormalized&&(value=this._normalizeData(value)),doMapCategory.call(this,value)}:function(value,isNormalized,out){var returnRGBArray=!!out;return!isNormalized&&(value=this._normalizeData(value)),out=zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.fastLerp(value,thisOption.parsedVisual,out),returnRGBArray?out:zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.stringify(out,"rgba")},this)},_normalizedToVisual:{linear:function(normalized){return zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.stringify(zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.fastLerp(normalized,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.stringify(zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.fastLerp(normalized,this.option.parsedVisual),"rgba")),result},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler((function(color,value){return zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.modifyHSL(color,value)})),colorSaturation:makePartialColorVisualHandler((function(color,value){return zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.modifyHSL(color,null,value)})),colorLightness:makePartialColorVisualHandler((function(color,value){return zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.modifyHSL(color,null,null,value)})),colorAlpha:makePartialColorVisualHandler((function(color,value){return zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.modifyAlpha(color,value)})),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(value,getter,setter){setter("symbol",this.mapValueToVisual(value))},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=doMapToArray.call(this,normalized)),result},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},VisualMapping}();function normalizeVisualRange(thisOption,isCategory){var visual=thisOption.visual,visualArr=[];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isObject(visual)?each(visual,(function(v){visualArr.push(v)})):null!=visual&&visualArr.push(visual);isCategory||1!==visualArr.length||{color:1,symbol:1}.hasOwnProperty(thisOption.type)||(visualArr[1]=visualArr[0]),setVisualToOption(thisOption,visualArr)}function makePartialColorVisualHandler(applyValue){return{applyVisual:function(value,getter,setter){var colorChannel=this.mapValueToVisual(value);setter("color",applyValue(getter("color"),colorChannel))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(normalized){var visual=this.option.visual;return visual[Math.round((0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__.NU)(normalized,[0,1],[0,visual.length-1],!0))]||{}}function makeApplyVisual(visualType){return function(value,getter,setter){setter(visualType,this.mapValueToVisual(value))}}function doMapCategory(normalized){var visual=this.option.visual;return visual[this.option.loop&&normalized!==CATEGORY_DEFAULT_VISUAL_INDEX?normalized%visual.length:normalized]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(sourceExtent){return{linear:function(normalized){return(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__.NU)(normalized,sourceExtent,this.option.visual,!0)},category:doMapCategory,piecewise:function(normalized,value){var result=getSpecifiedVisual.call(this,value);return null==result&&(result=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__.NU)(normalized,sourceExtent,this.option.visual,!0)),result},fixed:doMapFixed}}function getSpecifiedVisual(value){var thisOption=this.option,pieceList=thisOption.pieceList;if(thisOption.hasSpecialVisual){var piece=pieceList[VisualMapping.findPieceIndex(value,pieceList)];if(piece&&piece.visual)return piece.visual[this.type]}}function setVisualToOption(thisOption,visualArr){return thisOption.visual=visualArr,"color"===thisOption.type&&(thisOption.parsedVisual=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(visualArr,(function(item){var color=zrender_lib_tool_color_js__WEBPACK_IMPORTED_MODULE_1__.parse(item);return color||[0,0,0,1]}))),visualArr}var normalizers={linear:function(value){return(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__.NU)(value,this.option.dataExtent,[0,1],!0)},piecewise:function(value){var pieceList=this.option.pieceList,pieceIndex=VisualMapping.findPieceIndex(value,pieceList,!0);if(null!=pieceIndex)return(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__.NU)(pieceIndex,[0,pieceList.length-1],[0,1],!0)},category:function(value){var index=this.option.categories?this.option.categoryMap[value]:value;return null==index?CATEGORY_DEFAULT_VISUAL_INDEX:index},fixed:zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.noop};function littleThan(close,a,b){return close?a<=b:a<b}const __WEBPACK_DEFAULT_EXPORT__=VisualMapping},"./node_modules/echarts/lib/visual/helper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getItemVisualFromData(data,dataIndex,key){switch(key){case"color":return data.getItemVisual(dataIndex,"style")[data.getVisual("drawType")];case"opacity":return data.getItemVisual(dataIndex,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return data.getItemVisual(dataIndex,key)}}function getVisualFromData(data,key){switch(key){case"color":return data.getVisual("style")[data.getVisual("drawType")];case"opacity":return data.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return data.getVisual(key)}}function setItemVisualFromData(data,dataIndex,key,value){switch(key){case"color":data.ensureUniqueItemVisual(dataIndex,"style")[data.getVisual("drawType")]=value,data.setItemVisual(dataIndex,"colorFromPalette",!1);break;case"opacity":data.ensureUniqueItemVisual(dataIndex,"style").opacity=value;break;case"symbol":case"symbolSize":case"liftZ":data.setItemVisual(dataIndex,key,value)}}__webpack_require__.d(__webpack_exports__,{LZ:()=>setItemVisualFromData,Or:()=>getItemVisualFromData,UL:()=>getVisualFromData})},"./node_modules/lodash-es/_assignValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseAssignValue_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseAssignValue.js"),_eq_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/eq.js"),hasOwnProperty=Object.prototype.hasOwnProperty;const __WEBPACK_DEFAULT_EXPORT__=function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&(0,_eq_js__WEBPACK_IMPORTED_MODULE_0__.Z)(objValue,value)&&(void 0!==value||key in object)||(0,_baseAssignValue_js__WEBPACK_IMPORTED_MODULE_1__.Z)(object,key,value)}},"./node_modules/lodash-es/_baseAssignValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_defineProperty.js");const __WEBPACK_DEFAULT_EXPORT__=function baseAssignValue(object,key,value){"__proto__"==key&&_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z?(0,_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(object,key,{configurable:!0,enumerable:!0,value,writable:!0}):object[key]=value}},"./node_modules/lodash-es/_baseFlatten.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_baseFlatten});var _arrayPush=__webpack_require__("./node_modules/lodash-es/_arrayPush.js"),_Symbol=__webpack_require__("./node_modules/lodash-es/_Symbol.js"),isArguments=__webpack_require__("./node_modules/lodash-es/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js"),spreadableSymbol=_Symbol.Z?_Symbol.Z.isConcatSpreadable:void 0;const _isFlattenable=function isFlattenable(value){return(0,isArray.Z)(value)||(0,isArguments.Z)(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])};const _baseFlatten=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=_isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):(0,_arrayPush.Z)(result,value):isStrict||(result[result.length]=value)}return result}},"./node_modules/lodash-es/_baseRest.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_baseRest});var identity=__webpack_require__("./node_modules/lodash-es/identity.js");const _apply=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)};var nativeMax=Math.max;const _overRest=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),_apply(func,this,otherArgs)}};const lodash_es_constant=function constant(value){return function(){return value}};var _defineProperty=__webpack_require__("./node_modules/lodash-es/_defineProperty.js");const _baseSetToString=_defineProperty.Z?function(func,string){return(0,_defineProperty.Z)(func,"toString",{configurable:!0,enumerable:!1,value:lodash_es_constant(string),writable:!0})}:identity.Z;var nativeNow=Date.now;const _setToString=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}(_baseSetToString);const _baseRest=function baseRest(func,start){return _setToString(_overRest(func,start,identity.Z),func+"")}},"./node_modules/lodash-es/_baseSum.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Uint8Array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_Uint8Array.js");const __WEBPACK_DEFAULT_EXPORT__=function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new _Uint8Array_js__WEBPACK_IMPORTED_MODULE_0__.Z(result).set(new _Uint8Array_js__WEBPACK_IMPORTED_MODULE_0__.Z(arrayBuffer)),result}},"./node_modules/lodash-es/_cloneBuffer.js":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _root_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_root.js");module=__webpack_require__.hmd(module);var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?_root_js__WEBPACK_IMPORTED_MODULE_0__.Z.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;const __WEBPACK_DEFAULT_EXPORT__=function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}},"./node_modules/lodash-es/_cloneTypedArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloneArrayBuffer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_cloneArrayBuffer.js");const __WEBPACK_DEFAULT_EXPORT__=function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?(0,_cloneArrayBuffer_js__WEBPACK_IMPORTED_MODULE_0__.Z)(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},"./node_modules/lodash-es/_copyArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},"./node_modules/lodash-es/_copyObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _assignValue_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_assignValue.js"),_baseAssignValue_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseAssignValue.js");const __WEBPACK_DEFAULT_EXPORT__=function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?(0,_baseAssignValue_js__WEBPACK_IMPORTED_MODULE_0__.Z)(object,key,newValue):(0,_assignValue_js__WEBPACK_IMPORTED_MODULE_1__.Z)(object,key,newValue)}return object}},"./node_modules/lodash-es/_createAssigner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseRest_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseRest.js"),_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_isIterateeCall.js");const __WEBPACK_DEFAULT_EXPORT__=function createAssigner(assigner){return(0,_baseRest_js__WEBPACK_IMPORTED_MODULE_0__.Z)((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&(0,_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__.Z)(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}},"./node_modules/lodash-es/_defineProperty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _getNative_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_getNative.js");const __WEBPACK_DEFAULT_EXPORT__=function(){try{var func=(0,_getNative_js__WEBPACK_IMPORTED_MODULE_0__.Z)(Object,"defineProperty");return func({},"",{}),func}catch(e){}}()},"./node_modules/lodash-es/_getPrototype.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/lodash-es/_overArg.js").Z)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_initCloneObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_initCloneObject});var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),objectCreate=Object.create;const _baseCreate=function(){function object(){}return function(proto){if(!(0,isObject.Z)(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();var _getPrototype=__webpack_require__("./node_modules/lodash-es/_getPrototype.js"),_isPrototype=__webpack_require__("./node_modules/lodash-es/_isPrototype.js");const _initCloneObject=function initCloneObject(object){return"function"!=typeof object.constructor||(0,_isPrototype.Z)(object)?{}:_baseCreate((0,_getPrototype.Z)(object))}},"./node_modules/lodash-es/_isIterateeCall.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _eq_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash-es/eq.js"),_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/isArrayLike.js"),_isIndex_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/_isIndex.js"),_isObject_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isObject.js");const __WEBPACK_DEFAULT_EXPORT__=function isIterateeCall(value,index,object){if(!(0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__.Z)(object))return!1;var type=typeof index;return!!("number"==type?(0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__.Z)(object)&&(0,_isIndex_js__WEBPACK_IMPORTED_MODULE_2__.Z)(index,object.length):"string"==type&&index in object)&&(0,_eq_js__WEBPACK_IMPORTED_MODULE_3__.Z)(object[index],value)}},"./node_modules/lodash-es/assign.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _assignValue_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lodash-es/_assignValue.js"),_copyObject_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash-es/_copyObject.js"),_createAssigner_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_createAssigner.js"),_isArrayLike_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/isArrayLike.js"),_isPrototype_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_isPrototype.js"),_keys_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lodash-es/keys.js"),hasOwnProperty=Object.prototype.hasOwnProperty;const __WEBPACK_DEFAULT_EXPORT__=(0,_createAssigner_js__WEBPACK_IMPORTED_MODULE_0__.Z)((function(object,source){if((0,_isPrototype_js__WEBPACK_IMPORTED_MODULE_1__.Z)(source)||(0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_2__.Z)(source))(0,_copyObject_js__WEBPACK_IMPORTED_MODULE_3__.Z)(source,(0,_keys_js__WEBPACK_IMPORTED_MODULE_4__.Z)(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&(0,_assignValue_js__WEBPACK_IMPORTED_MODULE_5__.Z)(object,key,source[key])}))},"./node_modules/lodash-es/chunk.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_chunk});const _baseSlice=function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result};var _isIterateeCall=__webpack_require__("./node_modules/lodash-es/_isIterateeCall.js"),toInteger=__webpack_require__("./node_modules/lodash-es/toInteger.js"),nativeCeil=Math.ceil,nativeMax=Math.max;const lodash_es_chunk=function chunk(array,size,guard){size=(guard?(0,_isIterateeCall.Z)(array,size,guard):void 0===size)?1:nativeMax((0,toInteger.Z)(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=_baseSlice(array,index,index+=size);return result}},"./node_modules/lodash-es/cloneDeep.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_cloneDeep});var _Stack=__webpack_require__("./node_modules/lodash-es/_Stack.js");const _arrayEach=function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array};var _assignValue=__webpack_require__("./node_modules/lodash-es/_assignValue.js"),_copyObject=__webpack_require__("./node_modules/lodash-es/_copyObject.js"),keys=__webpack_require__("./node_modules/lodash-es/keys.js");const _baseAssign=function baseAssign(object,source){return object&&(0,_copyObject.Z)(source,(0,keys.Z)(source),object)};var keysIn=__webpack_require__("./node_modules/lodash-es/keysIn.js");const _baseAssignIn=function baseAssignIn(object,source){return object&&(0,_copyObject.Z)(source,(0,keysIn.Z)(source),object)};var _cloneBuffer=__webpack_require__("./node_modules/lodash-es/_cloneBuffer.js"),_copyArray=__webpack_require__("./node_modules/lodash-es/_copyArray.js"),_getSymbols=__webpack_require__("./node_modules/lodash-es/_getSymbols.js");const _copySymbols=function copySymbols(source,object){return(0,_copyObject.Z)(source,(0,_getSymbols.Z)(source),object)};var _arrayPush=__webpack_require__("./node_modules/lodash-es/_arrayPush.js"),_getPrototype=__webpack_require__("./node_modules/lodash-es/_getPrototype.js"),stubArray=__webpack_require__("./node_modules/lodash-es/stubArray.js");const _getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)(0,_arrayPush.Z)(result,(0,_getSymbols.Z)(object)),object=(0,_getPrototype.Z)(object);return result}:stubArray.Z;const _copySymbolsIn=function copySymbolsIn(source,object){return(0,_copyObject.Z)(source,_getSymbolsIn(source),object)};var _getAllKeys=__webpack_require__("./node_modules/lodash-es/_getAllKeys.js"),_baseGetAllKeys=__webpack_require__("./node_modules/lodash-es/_baseGetAllKeys.js");const _getAllKeysIn=function getAllKeysIn(object){return(0,_baseGetAllKeys.Z)(object,keysIn.Z,_getSymbolsIn)};var _getTag=__webpack_require__("./node_modules/lodash-es/_getTag.js"),_initCloneArray_hasOwnProperty=Object.prototype.hasOwnProperty;const _initCloneArray=function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&_initCloneArray_hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result};var _cloneArrayBuffer=__webpack_require__("./node_modules/lodash-es/_cloneArrayBuffer.js");const _cloneDataView=function cloneDataView(dataView,isDeep){var buffer=isDeep?(0,_cloneArrayBuffer.Z)(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)};var reFlags=/\w*$/;const _cloneRegExp=function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result};var _Symbol=__webpack_require__("./node_modules/lodash-es/_Symbol.js"),symbolProto=_Symbol.Z?_Symbol.Z.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;const _cloneSymbol=function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}};var _cloneTypedArray=__webpack_require__("./node_modules/lodash-es/_cloneTypedArray.js");const _initCloneByTag=function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return(0,_cloneArrayBuffer.Z)(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return _cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,_cloneTypedArray.Z)(object,isDeep);case"[object Map]":case"[object Set]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return _cloneRegExp(object);case"[object Symbol]":return _cloneSymbol(object)}};var _initCloneObject=__webpack_require__("./node_modules/lodash-es/_initCloneObject.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash-es/isBuffer.js"),isObjectLike=__webpack_require__("./node_modules/lodash-es/isObjectLike.js");const _baseIsMap=function baseIsMap(value){return(0,isObjectLike.Z)(value)&&"[object Map]"==(0,_getTag.Z)(value)};var _baseUnary=__webpack_require__("./node_modules/lodash-es/_baseUnary.js"),_nodeUtil=__webpack_require__("./node_modules/lodash-es/_nodeUtil.js"),nodeIsMap=_nodeUtil.Z&&_nodeUtil.Z.isMap;const lodash_es_isMap=nodeIsMap?(0,_baseUnary.Z)(nodeIsMap):_baseIsMap;var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js");const _baseIsSet=function baseIsSet(value){return(0,isObjectLike.Z)(value)&&"[object Set]"==(0,_getTag.Z)(value)};var nodeIsSet=_nodeUtil.Z&&_nodeUtil.Z.isSet;const lodash_es_isSet=nodeIsSet?(0,_baseUnary.Z)(nodeIsSet):_baseIsSet;var cloneableTags={};cloneableTags["[object Arguments]"]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags["[object Function]"]=cloneableTags["[object WeakMap]"]=!1;const _baseClone=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!(0,isObject.Z)(value))return value;var isArr=(0,isArray.Z)(value);if(isArr){if(result=_initCloneArray(value),!isDeep)return(0,_copyArray.Z)(value,result)}else{var tag=(0,_getTag.Z)(value),isFunc="[object Function]"==tag||"[object GeneratorFunction]"==tag;if((0,isBuffer.Z)(value))return(0,_cloneBuffer.Z)(value,isDeep);if("[object Object]"==tag||"[object Arguments]"==tag||isFunc&&!object){if(result=isFlat||isFunc?{}:(0,_initCloneObject.Z)(value),!isDeep)return isFlat?_copySymbolsIn(value,_baseAssignIn(result,value)):_copySymbols(value,_baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=_initCloneByTag(value,tag,isDeep)}}stack||(stack=new _Stack.Z);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),lodash_es_isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):lodash_es_isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var keysFunc=isFull?isFlat?_getAllKeysIn:_getAllKeys.Z:isFlat?keysIn.Z:keys.Z,props=isArr?void 0:keysFunc(value);return _arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),(0,_assignValue.Z)(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result};const lodash_es_cloneDeep=function cloneDeep(value){return _baseClone(value,5)}},"./node_modules/lodash-es/find.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_find});var _baseIteratee=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js"),keys=__webpack_require__("./node_modules/lodash-es/keys.js");const lodash_es_find=function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!(0,isArrayLike.Z)(collection)){var iteratee=(0,_baseIteratee.Z)(predicate,3);collection=(0,keys.Z)(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}(__webpack_require__("./node_modules/lodash-es/findIndex.js").Z)},"./node_modules/lodash-es/findIndex.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseFindIndex_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseFindIndex.js"),_baseIteratee_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),_toInteger_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/toInteger.js"),nativeMax=Math.max;const __WEBPACK_DEFAULT_EXPORT__=function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:(0,_toInteger_js__WEBPACK_IMPORTED_MODULE_0__.Z)(fromIndex);return index<0&&(index=nativeMax(length+index,0)),(0,_baseFindIndex_js__WEBPACK_IMPORTED_MODULE_1__.Z)(array,(0,_baseIteratee_js__WEBPACK_IMPORTED_MODULE_2__.Z)(predicate,3),index)}},"./node_modules/lodash-es/groupBy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_groupBy});var _baseAssignValue=__webpack_require__("./node_modules/lodash-es/_baseAssignValue.js");const _arrayAggregator=function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator};var _baseEach=__webpack_require__("./node_modules/lodash-es/_baseEach.js");const _baseAggregator=function baseAggregator(collection,setter,iteratee,accumulator){return(0,_baseEach.Z)(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator};var _baseIteratee=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js");const _createAggregator=function createAggregator(setter,initializer){return function(collection,iteratee){var func=(0,isArray.Z)(collection)?_arrayAggregator:_baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,(0,_baseIteratee.Z)(iteratee,2),accumulator)}};var groupBy_hasOwnProperty=Object.prototype.hasOwnProperty;const lodash_es_groupBy=_createAggregator((function(result,value,key){groupBy_hasOwnProperty.call(result,key)?result[key].push(value):(0,_baseAssignValue.Z)(result,key,[value])}))},"./node_modules/lodash-es/indexOf.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseIndexOf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseIndexOf.js"),_toInteger_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/toInteger.js"),nativeMax=Math.max;const __WEBPACK_DEFAULT_EXPORT__=function indexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:(0,_toInteger_js__WEBPACK_IMPORTED_MODULE_0__.Z)(fromIndex);return index<0&&(index=nativeMax(length+index,0)),(0,_baseIndexOf_js__WEBPACK_IMPORTED_MODULE_1__.Z)(array,value,index)}},"./node_modules/lodash-es/isNumber.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseGetTag.js"),_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isObjectLike.js");const __WEBPACK_DEFAULT_EXPORT__=function isNumber(value){return"number"==typeof value||(0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__.Z)(value)&&"[object Number]"==(0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__.Z)(value)}},"./node_modules/lodash-es/keysIn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_keysIn});var _arrayLikeKeys=__webpack_require__("./node_modules/lodash-es/_arrayLikeKeys.js"),isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),_isPrototype=__webpack_require__("./node_modules/lodash-es/_isPrototype.js");const _nativeKeysIn=function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result};var _baseKeysIn_hasOwnProperty=Object.prototype.hasOwnProperty;const _baseKeysIn=function baseKeysIn(object){if(!(0,isObject.Z)(object))return _nativeKeysIn(object);var isProto=(0,_isPrototype.Z)(object),result=[];for(var key in object)("constructor"!=key||!isProto&&_baseKeysIn_hasOwnProperty.call(object,key))&&result.push(key);return result};var isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js");const lodash_es_keysIn=function keysIn(object){return(0,isArrayLike.Z)(object)?(0,_arrayLikeKeys.Z)(object,!0):_baseKeysIn(object)}},"./node_modules/lodash-es/lowerCase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_lowerCase});const _arrayReduce=function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator};const _deburrLetter=function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});var lodash_es_toString=__webpack_require__("./node_modules/lodash-es/toString.js"),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const lodash_es_deburr=function deburr(string){return(string=(0,lodash_es_toString.Z)(string))&&string.replace(reLatin,_deburrLetter).replace(reComboMark,"")};var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const _asciiWords=function asciiWords(string){return string.match(reAsciiWord)||[]};var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const _hasUnicodeWord=function hasUnicodeWord(string){return reHasUnicodeWord.test(string)};var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");const _unicodeWords=function unicodeWords(string){return string.match(reUnicodeWord)||[]};const lodash_es_words=function words(string,pattern,guard){return string=(0,lodash_es_toString.Z)(string),void 0===(pattern=guard?void 0:pattern)?_hasUnicodeWord(string)?_unicodeWords(string):_asciiWords(string):string.match(pattern)||[]};var reApos=RegExp("['’]","g");const lodash_es_lowerCase=function createCompounder(callback){return function(string){return _arrayReduce(lodash_es_words(lodash_es_deburr(string).replace(reApos,"")),callback,"")}}((function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}))},"./node_modules/lodash-es/range.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_range});var nativeCeil=Math.ceil,nativeMax=Math.max;const _baseRange=function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result};var _isIterateeCall=__webpack_require__("./node_modules/lodash-es/_isIterateeCall.js"),toFinite=__webpack_require__("./node_modules/lodash-es/toFinite.js");const lodash_es_range=function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&(0,_isIterateeCall.Z)(start,end,step)&&(end=step=void 0),start=(0,toFinite.Z)(start),void 0===end?(end=start,start=0):end=(0,toFinite.Z)(end),step=void 0===step?start<end?1:-1:(0,toFinite.Z)(step),_baseRange(start,end,step,fromRight)}}()},"./node_modules/lodash-es/sortBy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseFlatten_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash-es/_baseFlatten.js"),_baseOrderBy_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/_baseOrderBy.js"),_baseRest_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseRest.js"),_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_isIterateeCall.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_baseRest_js__WEBPACK_IMPORTED_MODULE_0__.Z)((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&(0,_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__.Z)(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&(0,_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__.Z)(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),(0,_baseOrderBy_js__WEBPACK_IMPORTED_MODULE_2__.Z)(collection,(0,_baseFlatten_js__WEBPACK_IMPORTED_MODULE_3__.Z)(iteratees,1),[])}))},"./node_modules/lodash-es/sum.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseSum_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseSum.js"),_identity_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/identity.js");const __WEBPACK_DEFAULT_EXPORT__=function sum(array){return array&&array.length?(0,_baseSum_js__WEBPACK_IMPORTED_MODULE_0__.Z)(array,_identity_js__WEBPACK_IMPORTED_MODULE_1__.Z):0}},"./node_modules/lodash-es/sumBy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseIteratee_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),_baseSum_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseSum.js");const __WEBPACK_DEFAULT_EXPORT__=function sumBy(array,iteratee){return array&&array.length?(0,_baseSum_js__WEBPACK_IMPORTED_MODULE_0__.Z)(array,(0,_baseIteratee_js__WEBPACK_IMPORTED_MODULE_1__.Z)(iteratee,2)):0}},"./node_modules/lodash-es/uniqBy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_uniqBy});var _baseIteratee=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),_SetCache=__webpack_require__("./node_modules/lodash-es/_SetCache.js"),_baseIndexOf=__webpack_require__("./node_modules/lodash-es/_baseIndexOf.js");const _arrayIncludes=function arrayIncludes(array,value){return!!(null==array?0:array.length)&&(0,_baseIndexOf.Z)(array,value,0)>-1};const _arrayIncludesWith=function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1};var _cacheHas=__webpack_require__("./node_modules/lodash-es/_cacheHas.js"),_Set=__webpack_require__("./node_modules/lodash-es/_Set.js");const lodash_es_noop=function noop(){};var _setToArray=__webpack_require__("./node_modules/lodash-es/_setToArray.js");const _createSet=_Set.Z&&1/(0,_setToArray.Z)(new _Set.Z([,-0]))[1]==1/0?function(values){return new _Set.Z(values)}:lodash_es_noop;const _baseUniq=function baseUniq(array,iteratee,comparator){var index=-1,includes=_arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=_arrayIncludesWith;else if(length>=200){var set=iteratee?null:_createSet(array);if(set)return(0,_setToArray.Z)(set);isCommon=!1,includes=_cacheHas.Z,seen=new _SetCache.Z}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result};const lodash_es_uniqBy=function uniqBy(array,iteratee){return array&&array.length?_baseUniq(array,(0,_baseIteratee.Z)(iteratee,2)):[]}},"./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>lastValueFrom});var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/EmptyError.js");function lastValueFrom(source,config){var hasConfig="object"==typeof config;return new Promise((function(resolve,reject){var _value,_hasValue=!1;source.subscribe({next:function(value){_value=value,_hasValue=!0},error:reject,complete:function(){_hasValue?resolve(_value):hasConfig?resolve(config.defaultValue):reject(new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__.K)}})}))}},"./node_modules/rxjs/dist/esm5/internal/observable/dom/fetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>fromFetch});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_operators_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_Observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function fromFetch(input,initWithSelector){void 0===initWithSelector&&(initWithSelector={});var selector=initWithSelector.selector,init=(0,tslib__WEBPACK_IMPORTED_MODULE_0__._T)(initWithSelector,["selector"]);return new _Observable__WEBPACK_IMPORTED_MODULE_1__.y((function(subscriber){var controller=new AbortController,signal=controller.signal,abortable=!0,outerSignal=init.signal;if(outerSignal)if(outerSignal.aborted)controller.abort();else{var outerSignalHandler_1=function(){signal.aborted||controller.abort()};outerSignal.addEventListener("abort",outerSignalHandler_1),subscriber.add((function(){return outerSignal.removeEventListener("abort",outerSignalHandler_1)}))}var perSubscriberInit=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.pi)({},init),{signal}),handleError=function(err){abortable=!1,subscriber.error(err)};return fetch(input,perSubscriberInit).then((function(response){selector?(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_2__.Xf)(selector(response)).subscribe((0,_operators_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_3__.x)(subscriber,void 0,(function(){abortable=!1,subscriber.complete()}),handleError)):(abortable=!1,subscriber.next(response),subscriber.complete())})).catch(handleError),function(){abortable&&controller.abort()}}))}},"./node_modules/rxjs/dist/esm5/internal/operators/throttleTime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>throttleTime});var scheduler_async=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");var timer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");function throttleTime(duration,scheduler,config){void 0===scheduler&&(scheduler=scheduler_async.z);var duration$=(0,timer.H)(duration,scheduler);return function throttle(durationSelector,config){return(0,lift.e)((function(source,subscriber){var _a=null!=config?config:{},_b=_a.leading,leading=void 0===_b||_b,_c=_a.trailing,trailing=void 0!==_c&&_c,hasValue=!1,sendValue=null,throttled=null,isComplete=!1,endThrottling=function(){null==throttled||throttled.unsubscribe(),throttled=null,trailing&&(send(),isComplete&&subscriber.complete())},cleanupThrottling=function(){throttled=null,isComplete&&subscriber.complete()},startThrottle=function(value){return throttled=(0,innerFrom.Xf)(durationSelector(value)).subscribe((0,OperatorSubscriber.x)(subscriber,endThrottling,cleanupThrottling))},send=function(){if(hasValue){hasValue=!1;var value=sendValue;sendValue=null,subscriber.next(value),!isComplete&&startThrottle(value)}};source.subscribe((0,OperatorSubscriber.x)(subscriber,(function(value){hasValue=!0,sendValue=value,(!throttled||throttled.closed)&&(leading?send():startThrottle(value))}),(function(){isComplete=!0,(!(trailing&&hasValue&&throttled)||throttled.closed)&&subscriber.complete()})))}))}((function(){return duration$}),config)}},"./node_modules/zrender/lib/Element.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _core_Transformable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),_animation_Animator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/animation/Animator.js"),_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_core_Eventful_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/core/Eventful.js"),_contain_text_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_config_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/config.js"),_tool_color_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),_graphic_constants_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/graphic/constants.js"),PRIMARY_STATES_KEYS=_core_Transformable_js__WEBPACK_IMPORTED_MODULE_0__.dN.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.reduce)(_core_Transformable_js__WEBPACK_IMPORTED_MODULE_0__.dN,(function(obj,key){return obj[key]=!0,obj}),{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0),Element=function(){function Element(props){this.id=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(props)}return Element.prototype._init=function(props){this.attr(props)},Element.prototype.drift=function(dx,dy,e){switch(this.draggable){case"horizontal":dy=0;break;case"vertical":dx=0}var m=this.transform;m||(m=this.transform=[1,0,0,1,0,0]),m[4]+=dx,m[5]+=dy,this.decomposeTransform(),this.markRedraw()},Element.prototype.beforeUpdate=function(){},Element.prototype.afterUpdate=function(){},Element.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Element.prototype.updateInnerText=function(forceUpdate){var textEl=this._textContent;if(textEl&&(!textEl.ignore||forceUpdate)){this.textConfig||(this.textConfig={});var textConfig=this.textConfig,isLocal=textConfig.local,innerTransformable=textEl.innerTransformable,textAlign=void 0,textVerticalAlign=void 0,textStyleChanged=!1;innerTransformable.parent=isLocal?this:null;var innerOrigin=!1;if(innerTransformable.copyTransform(textEl),null!=textConfig.position){var layoutRect=tmpBoundingRect;textConfig.layoutRect?layoutRect.copy(textConfig.layoutRect):layoutRect.copy(this.getBoundingRect()),isLocal||layoutRect.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,textConfig,layoutRect):(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_3__.wI)(tmpTextPosCalcRes,textConfig,layoutRect),innerTransformable.x=tmpTextPosCalcRes.x,innerTransformable.y=tmpTextPosCalcRes.y,textAlign=tmpTextPosCalcRes.align,textVerticalAlign=tmpTextPosCalcRes.verticalAlign;var textOrigin=textConfig.origin;if(textOrigin&&null!=textConfig.rotation){var relOriginX=void 0,relOriginY=void 0;"center"===textOrigin?(relOriginX=.5*layoutRect.width,relOriginY=.5*layoutRect.height):(relOriginX=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_3__.GM)(textOrigin[0],layoutRect.width),relOriginY=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_3__.GM)(textOrigin[1],layoutRect.height)),innerOrigin=!0,innerTransformable.originX=-innerTransformable.x+relOriginX+(isLocal?0:layoutRect.x),innerTransformable.originY=-innerTransformable.y+relOriginY+(isLocal?0:layoutRect.y)}}null!=textConfig.rotation&&(innerTransformable.rotation=textConfig.rotation);var textOffset=textConfig.offset;textOffset&&(innerTransformable.x+=textOffset[0],innerTransformable.y+=textOffset[1],innerOrigin||(innerTransformable.originX=-textOffset[0],innerTransformable.originY=-textOffset[1]));var isInside=null==textConfig.inside?"string"==typeof textConfig.position&&textConfig.position.indexOf("inside")>=0:textConfig.inside,innerTextDefaultStyle=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),textFill=void 0,textStroke=void 0,autoStroke=void 0;isInside&&this.canBeInsideText()?(textFill=textConfig.insideFill,textStroke=textConfig.insideStroke,null!=textFill&&"auto"!==textFill||(textFill=this.getInsideTextFill()),null!=textStroke&&"auto"!==textStroke||(textStroke=this.getInsideTextStroke(textFill),autoStroke=!0)):(textFill=textConfig.outsideFill,textStroke=textConfig.outsideStroke,null!=textFill&&"auto"!==textFill||(textFill=this.getOutsideFill()),null!=textStroke&&"auto"!==textStroke||(textStroke=this.getOutsideStroke(textFill),autoStroke=!0)),(textFill=textFill||"#000")===innerTextDefaultStyle.fill&&textStroke===innerTextDefaultStyle.stroke&&autoStroke===innerTextDefaultStyle.autoStroke&&textAlign===innerTextDefaultStyle.align&&textVerticalAlign===innerTextDefaultStyle.verticalAlign||(textStyleChanged=!0,innerTextDefaultStyle.fill=textFill,innerTextDefaultStyle.stroke=textStroke,innerTextDefaultStyle.autoStroke=autoStroke,innerTextDefaultStyle.align=textAlign,innerTextDefaultStyle.verticalAlign=textVerticalAlign,textEl.setDefaultTextStyle(innerTextDefaultStyle)),textEl.__dirty|=_graphic_constants_js__WEBPACK_IMPORTED_MODULE_4__.YV,textStyleChanged&&textEl.dirtyStyle(!0)}},Element.prototype.canBeInsideText=function(){return!0},Element.prototype.getInsideTextFill=function(){return"#fff"},Element.prototype.getInsideTextStroke=function(textFill){return"#000"},Element.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?_config_js__WEBPACK_IMPORTED_MODULE_5__.GD:_config_js__WEBPACK_IMPORTED_MODULE_5__.vU},Element.prototype.getOutsideStroke=function(textFill){var backgroundColor=this.__zr&&this.__zr.getBackgroundColor(),colorArr="string"==typeof backgroundColor&&(0,_tool_color_js__WEBPACK_IMPORTED_MODULE_6__.parse)(backgroundColor);colorArr||(colorArr=[255,255,255,1]);for(var alpha=colorArr[3],isDark=this.__zr.isDarkMode(),i=0;i<3;i++)colorArr[i]=colorArr[i]*alpha+(isDark?0:255)*(1-alpha);return colorArr[3]=1,(0,_tool_color_js__WEBPACK_IMPORTED_MODULE_6__.stringify)(colorArr,"rgba")},Element.prototype.traverse=function(cb,context){},Element.prototype.attrKV=function(key,value){"textConfig"===key?this.setTextConfig(value):"textContent"===key?this.setTextContent(value):"clipPath"===key?this.setClipPath(value):"extra"===key?(this.extra=this.extra||{},(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(this.extra,value)):this[key]=value},Element.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Element.prototype.show=function(){this.ignore=!1,this.markRedraw()},Element.prototype.attr=function(keyOrObj,value){if("string"==typeof keyOrObj)this.attrKV(keyOrObj,value);else if((0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(keyOrObj))for(var obj=keyOrObj,keysArr=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(obj),i=0;i<keysArr.length;i++){var key=keysArr[i];this.attrKV(key,keyOrObj[key])}return this.markRedraw(),this},Element.prototype.saveCurrentToNormalState=function(toState){this._innerSaveToNormal(toState);for(var normalState=this._normalState,i=0;i<this.animators.length;i++){var animator=this.animators[i],fromStateTransition=animator.__fromStateTransition;if(!(animator.getLoop()||fromStateTransition&&"__zr_normal__"!==fromStateTransition)){var targetName=animator.targetName,target=targetName?normalState[targetName]:normalState;animator.saveTo(target)}}},Element.prototype._innerSaveToNormal=function(toState){var normalState=this._normalState;normalState||(normalState=this._normalState={}),toState.textConfig&&!normalState.textConfig&&(normalState.textConfig=this.textConfig),this._savePrimaryToNormal(toState,normalState,PRIMARY_STATES_KEYS)},Element.prototype._savePrimaryToNormal=function(toState,normalState,primaryKeys){for(var i=0;i<primaryKeys.length;i++){var key=primaryKeys[i];null==toState[key]||key in normalState||(normalState[key]=this[key])}},Element.prototype.hasState=function(){return this.currentStates.length>0},Element.prototype.getState=function(name){return this.states[name]},Element.prototype.ensureState=function(name){var states=this.states;return states[name]||(states[name]={}),states[name]},Element.prototype.clearStates=function(noAnimation){this.useState("__zr_normal__",!1,noAnimation)},Element.prototype.useState=function(stateName,keepCurrentStates,noAnimation,forceUseHoverLayer){var toNormalState="__zr_normal__"===stateName;if(this.hasState()||!toNormalState){var currentStates=this.currentStates,animationCfg=this.stateTransition;if(!((0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf)(currentStates,stateName)>=0)||!keepCurrentStates&&1!==currentStates.length){var state;if(this.stateProxy&&!toNormalState&&(state=this.stateProxy(stateName)),state||(state=this.states&&this.states[stateName]),state||toNormalState){toNormalState||this.saveCurrentToNormalState(state);var useHoverLayer=!!(state&&state.hoverLayer||forceUseHoverLayer);useHoverLayer&&this._toggleHoverLayerFlag(!0),this._applyStateObj(stateName,state,this._normalState,keepCurrentStates,!noAnimation&&!this.__inHover&&animationCfg&&animationCfg.duration>0,animationCfg);var textContent=this._textContent,textGuide=this._textGuide;return textContent&&textContent.useState(stateName,keepCurrentStates,noAnimation,useHoverLayer),textGuide&&textGuide.useState(stateName,keepCurrentStates,noAnimation,useHoverLayer),toNormalState?(this.currentStates=[],this._normalState={}):keepCurrentStates?this.currentStates.push(stateName):this.currentStates=[stateName],this._updateAnimationTargets(),this.markRedraw(),!useHoverLayer&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~_graphic_constants_js__WEBPACK_IMPORTED_MODULE_4__.YV),state}(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.logError)("State "+stateName+" not exists.")}}},Element.prototype.useStates=function(states,noAnimation,forceUseHoverLayer){if(states.length){var stateObjects=[],currentStates=this.currentStates,len=states.length,notChange=len===currentStates.length;if(notChange)for(var i=0;i<len;i++)if(states[i]!==currentStates[i]){notChange=!1;break}if(notChange)return;for(i=0;i<len;i++){var stateName=states[i],stateObj=void 0;this.stateProxy&&(stateObj=this.stateProxy(stateName,states)),stateObj||(stateObj=this.states[stateName]),stateObj&&stateObjects.push(stateObj)}var lastStateObj=stateObjects[len-1],useHoverLayer=!!(lastStateObj&&lastStateObj.hoverLayer||forceUseHoverLayer);useHoverLayer&&this._toggleHoverLayerFlag(!0);var mergedState=this._mergeStates(stateObjects),animationCfg=this.stateTransition;this.saveCurrentToNormalState(mergedState),this._applyStateObj(states.join(","),mergedState,this._normalState,!1,!noAnimation&&!this.__inHover&&animationCfg&&animationCfg.duration>0,animationCfg);var textContent=this._textContent,textGuide=this._textGuide;textContent&&textContent.useStates(states,noAnimation,useHoverLayer),textGuide&&textGuide.useStates(states,noAnimation,useHoverLayer),this._updateAnimationTargets(),this.currentStates=states.slice(),this.markRedraw(),!useHoverLayer&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~_graphic_constants_js__WEBPACK_IMPORTED_MODULE_4__.YV)}else this.clearStates()},Element.prototype._updateAnimationTargets=function(){for(var i=0;i<this.animators.length;i++){var animator=this.animators[i];animator.targetName&&animator.changeTarget(this[animator.targetName])}},Element.prototype.removeState=function(state){var idx=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf)(this.currentStates,state);if(idx>=0){var currentStates=this.currentStates.slice();currentStates.splice(idx,1),this.useStates(currentStates)}},Element.prototype.replaceState=function(oldState,newState,forceAdd){var currentStates=this.currentStates.slice(),idx=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf)(currentStates,oldState),newStateExists=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf)(currentStates,newState)>=0;idx>=0?newStateExists?currentStates.splice(idx,1):currentStates[idx]=newState:forceAdd&&!newStateExists&&currentStates.push(newState),this.useStates(currentStates)},Element.prototype.toggleState=function(state,enable){enable?this.useState(state,!0):this.removeState(state)},Element.prototype._mergeStates=function(states){for(var mergedTextConfig,mergedState={},i=0;i<states.length;i++){var state=states[i];(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(mergedState,state),state.textConfig&&(mergedTextConfig=mergedTextConfig||{},(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(mergedTextConfig,state.textConfig))}return mergedTextConfig&&(mergedState.textConfig=mergedTextConfig),mergedState},Element.prototype._applyStateObj=function(stateName,state,normalState,keepCurrentStates,transition,animationCfg){var needsRestoreToNormal=!(state&&keepCurrentStates);state&&state.textConfig?(this.textConfig=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)({},keepCurrentStates?this.textConfig:normalState.textConfig),(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(this.textConfig,state.textConfig)):needsRestoreToNormal&&normalState.textConfig&&(this.textConfig=normalState.textConfig);for(var transitionTarget={},hasTransition=!1,i=0;i<PRIMARY_STATES_KEYS.length;i++){var key=PRIMARY_STATES_KEYS[i],propNeedsTransition=transition&&DEFAULT_ANIMATABLE_MAP[key];state&&null!=state[key]?propNeedsTransition?(hasTransition=!0,transitionTarget[key]=state[key]):this[key]=state[key]:needsRestoreToNormal&&null!=normalState[key]&&(propNeedsTransition?(hasTransition=!0,transitionTarget[key]=normalState[key]):this[key]=normalState[key])}if(!transition)for(i=0;i<this.animators.length;i++){var animator=this.animators[i],targetName=animator.targetName;animator.getLoop()||animator.__changeFinalValue(targetName?(state||normalState)[targetName]:state||normalState)}hasTransition&&this._transitionState(stateName,transitionTarget,animationCfg)},Element.prototype._attachComponent=function(componentEl){if((!componentEl.__zr||componentEl.__hostTarget)&&componentEl!==this){var zr=this.__zr;zr&&componentEl.addSelfToZr(zr),componentEl.__zr=zr,componentEl.__hostTarget=this}},Element.prototype._detachComponent=function(componentEl){componentEl.__zr&&componentEl.removeSelfFromZr(componentEl.__zr),componentEl.__zr=null,componentEl.__hostTarget=null},Element.prototype.getClipPath=function(){return this._clipPath},Element.prototype.setClipPath=function(clipPath){this._clipPath&&this._clipPath!==clipPath&&this.removeClipPath(),this._attachComponent(clipPath),this._clipPath=clipPath,this.markRedraw()},Element.prototype.removeClipPath=function(){var clipPath=this._clipPath;clipPath&&(this._detachComponent(clipPath),this._clipPath=null,this.markRedraw())},Element.prototype.getTextContent=function(){return this._textContent},Element.prototype.setTextContent=function(textEl){var previousTextContent=this._textContent;previousTextContent!==textEl&&(previousTextContent&&previousTextContent!==textEl&&this.removeTextContent(),textEl.innerTransformable=new _core_Transformable_js__WEBPACK_IMPORTED_MODULE_0__.ZP,this._attachComponent(textEl),this._textContent=textEl,this.markRedraw())},Element.prototype.setTextConfig=function(cfg){this.textConfig||(this.textConfig={}),(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(this.textConfig,cfg),this.markRedraw()},Element.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Element.prototype.removeTextContent=function(){var textEl=this._textContent;textEl&&(textEl.innerTransformable=null,this._detachComponent(textEl),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Element.prototype.getTextGuideLine=function(){return this._textGuide},Element.prototype.setTextGuideLine=function(guideLine){this._textGuide&&this._textGuide!==guideLine&&this.removeTextGuideLine(),this._attachComponent(guideLine),this._textGuide=guideLine,this.markRedraw()},Element.prototype.removeTextGuideLine=function(){var textGuide=this._textGuide;textGuide&&(this._detachComponent(textGuide),this._textGuide=null,this.markRedraw())},Element.prototype.markRedraw=function(){this.__dirty|=_graphic_constants_js__WEBPACK_IMPORTED_MODULE_4__.YV;var zr=this.__zr;zr&&(this.__inHover?zr.refreshHover():zr.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Element.prototype.dirty=function(){this.markRedraw()},Element.prototype._toggleHoverLayerFlag=function(inHover){this.__inHover=inHover;var textContent=this._textContent,textGuide=this._textGuide;textContent&&(textContent.__inHover=inHover),textGuide&&(textGuide.__inHover=inHover)},Element.prototype.addSelfToZr=function(zr){if(this.__zr!==zr){this.__zr=zr;var animators=this.animators;if(animators)for(var i=0;i<animators.length;i++)zr.animation.addAnimator(animators[i]);this._clipPath&&this._clipPath.addSelfToZr(zr),this._textContent&&this._textContent.addSelfToZr(zr),this._textGuide&&this._textGuide.addSelfToZr(zr)}},Element.prototype.removeSelfFromZr=function(zr){if(this.__zr){this.__zr=null;var animators=this.animators;if(animators)for(var i=0;i<animators.length;i++)zr.animation.removeAnimator(animators[i]);this._clipPath&&this._clipPath.removeSelfFromZr(zr),this._textContent&&this._textContent.removeSelfFromZr(zr),this._textGuide&&this._textGuide.removeSelfFromZr(zr)}},Element.prototype.animate=function(key,loop,allowDiscreteAnimation){var target=key?this[key]:this;var animator=new _animation_Animator_js__WEBPACK_IMPORTED_MODULE_7__.Z(target,loop,allowDiscreteAnimation);return key&&(animator.targetName=key),this.addAnimator(animator,key),animator},Element.prototype.addAnimator=function(animator,key){var zr=this.__zr,el=this;animator.during((function(){el.updateDuringAnimation(key)})).done((function(){var animators=el.animators,idx=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf)(animators,animator);idx>=0&&animators.splice(idx,1)})),this.animators.push(animator),zr&&zr.animation.addAnimator(animator),zr&&zr.wakeUp()},Element.prototype.updateDuringAnimation=function(key){this.markRedraw()},Element.prototype.stopAnimation=function(scope,forwardToLast){for(var animators=this.animators,len=animators.length,leftAnimators=[],i=0;i<len;i++){var animator=animators[i];scope&&scope!==animator.scope?leftAnimators.push(animator):animator.stop(forwardToLast)}return this.animators=leftAnimators,this},Element.prototype.animateTo=function(target,cfg,animationProps){animateTo(this,target,cfg,animationProps)},Element.prototype.animateFrom=function(target,cfg,animationProps){animateTo(this,target,cfg,animationProps,!0)},Element.prototype._transitionState=function(stateName,target,cfg,animationProps){for(var animators=animateTo(this,target,cfg,animationProps),i=0;i<animators.length;i++)animators[i].__fromStateTransition=stateName},Element.prototype.getBoundingRect=function(){return null},Element.prototype.getPaintRect=function(){return null},Element.initDefaultProps=function(){var elProto=Element.prototype;elProto.type="element",elProto.name="",elProto.ignore=elProto.silent=elProto.isGroup=elProto.draggable=elProto.dragging=elProto.ignoreClip=elProto.__inHover=!1,elProto.__dirty=_graphic_constants_js__WEBPACK_IMPORTED_MODULE_4__.YV;function createLegacyProperty(key,privateKey,xKey,yKey){function enhanceArray(self,pos){Object.defineProperty(pos,0,{get:function(){return self[xKey]},set:function(val){self[xKey]=val}}),Object.defineProperty(pos,1,{get:function(){return self[yKey]},set:function(val){self[yKey]=val}})}Object.defineProperty(elProto,key,{get:function(){this[privateKey]||enhanceArray(this,this[privateKey]=[]);return this[privateKey]},set:function(pos){this[xKey]=pos[0],this[yKey]=pos[1],this[privateKey]=pos,enhanceArray(this,pos)}})}Object.defineProperty&&(createLegacyProperty("position","_legacyPos","x","y"),createLegacyProperty("scale","_legacyScale","scaleX","scaleY"),createLegacyProperty("origin","_legacyOrigin","originX","originY"))}(),Element}();function animateTo(animatable,target,cfg,animationProps,reverse){var animators=[];animateToShallow(animatable,"",animatable,target,cfg=cfg||{},animationProps,animators,reverse);var finishCount=animators.length,doneHappened=!1,cfgDone=cfg.done,cfgAborted=cfg.aborted,doneCb=function(){doneHappened=!0,--finishCount<=0&&(doneHappened?cfgDone&&cfgDone():cfgAborted&&cfgAborted())},abortedCb=function(){--finishCount<=0&&(doneHappened?cfgDone&&cfgDone():cfgAborted&&cfgAborted())};finishCount||cfgDone&&cfgDone(),animators.length>0&&cfg.during&&animators[0].during((function(target,percent){cfg.during(percent)}));for(var i=0;i<animators.length;i++){var animator=animators[i];doneCb&&animator.done(doneCb),abortedCb&&animator.aborted(abortedCb),cfg.force&&animator.duration(cfg.duration),animator.start(cfg.easing)}return animators}function copyArrShallow(source,target,len){for(var i=0;i<len;i++)source[i]=target[i]}function copyValue(target,source,key){if((0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArrayLike)(source[key]))if((0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArrayLike)(target[key])||(target[key]=[]),(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isTypedArray)(source[key])){var len=source[key].length;target[key].length!==len&&(target[key]=new source[key].constructor(len),copyArrShallow(target[key],source[key],len))}else{var sourceArr=source[key],targetArr=target[key],len0=sourceArr.length;if(function is2DArray(value){return(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArrayLike)(value[0])}(sourceArr))for(var len1=sourceArr[0].length,i=0;i<len0;i++)targetArr[i]?copyArrShallow(targetArr[i],sourceArr[i],len1):targetArr[i]=Array.prototype.slice.call(sourceArr[i]);else copyArrShallow(targetArr,sourceArr,len0);targetArr.length=sourceArr.length}else target[key]=source[key]}function animateToShallow(animatable,topKey,animateObj,target,cfg,animationProps,animators,reverse){for(var targetKeys=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(target),duration=cfg.duration,delay=cfg.delay,additive=cfg.additive,setToFinal=cfg.setToFinal,animateAll=!(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(animationProps),existsAnimators=animatable.animators,animationKeys=[],k=0;k<targetKeys.length;k++){var innerKey=targetKeys[k],targetVal=target[innerKey];if(null!=targetVal&&null!=animateObj[innerKey]&&(animateAll||animationProps[innerKey]))if(!(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isObject)(targetVal)||(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArrayLike)(targetVal)||(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isGradientObject)(targetVal))animationKeys.push(innerKey);else{if(topKey){reverse||(animateObj[innerKey]=targetVal,animatable.updateDuringAnimation(topKey));continue}animateToShallow(animatable,innerKey,animateObj[innerKey],targetVal,cfg,animationProps&&animationProps[innerKey],animators,reverse)}else reverse||(animateObj[innerKey]=targetVal,animatable.updateDuringAnimation(topKey),animationKeys.push(innerKey))}var keyLen=animationKeys.length;if(!additive&&keyLen)for(var i=0;i<existsAnimators.length;i++){if((animator=existsAnimators[i]).targetName===topKey)if(animator.stopTracks(animationKeys)){var idx=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf)(existsAnimators,animator);existsAnimators.splice(idx,1)}}if(cfg.force||(animationKeys=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.filter)(animationKeys,(function(key){return!function isValueSame(val1,val2){return val1===val2||(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArrayLike)(val1)&&(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isArrayLike)(val2)&&function is1DArraySame(arr0,arr1){var len=arr0.length;if(len!==arr1.length)return!1;for(var i=0;i<len;i++)if(arr0[i]!==arr1[i])return!1;return!0}(val1,val2)}(target[key],animateObj[key])})),keyLen=animationKeys.length),keyLen>0||cfg.force&&!animators.length){var animator,revertedSource=void 0,reversedTarget=void 0,sourceClone=void 0;if(reverse){reversedTarget={},setToFinal&&(revertedSource={});for(i=0;i<keyLen;i++){reversedTarget[innerKey=animationKeys[i]]=animateObj[innerKey],setToFinal?revertedSource[innerKey]=target[innerKey]:animateObj[innerKey]=target[innerKey]}}else if(setToFinal){sourceClone={};for(i=0;i<keyLen;i++){sourceClone[innerKey=animationKeys[i]]=(0,_animation_Animator_js__WEBPACK_IMPORTED_MODULE_7__.V)(animateObj[innerKey]),copyValue(animateObj,target,innerKey)}}(animator=new _animation_Animator_js__WEBPACK_IMPORTED_MODULE_7__.Z(animateObj,!1,!1,additive?(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.filter)(existsAnimators,(function(animator){return animator.targetName===topKey})):null)).targetName=topKey,cfg.scope&&(animator.scope=cfg.scope),setToFinal&&revertedSource&&animator.whenWithKeys(0,revertedSource,animationKeys),sourceClone&&animator.whenWithKeys(0,sourceClone,animationKeys),animator.whenWithKeys(null==duration?500:duration,reverse?reversedTarget:target,animationKeys).delay(delay||0),animatable.addAnimator(animator,topKey),animators.push(animator)}}(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.mixin)(Element,_core_Eventful_js__WEBPACK_IMPORTED_MODULE_8__.Z),(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.mixin)(Element,_core_Transformable_js__WEBPACK_IMPORTED_MODULE_0__.ZP);const __WEBPACK_DEFAULT_EXPORT__=Element},"./node_modules/zrender/lib/animation/Animator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>cloneValue,Z:()=>animation_Animator});var easingFuncs={linear:function(k){return k},quadraticIn:function(k){return k*k},quadraticOut:function(k){return k*(2-k)},quadraticInOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)},cubicIn:function(k){return k*k*k},cubicOut:function(k){return--k*k*k+1},cubicInOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)},quarticIn:function(k){return k*k*k*k},quarticOut:function(k){return 1- --k*k*k*k},quarticInOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)},quinticIn:function(k){return k*k*k*k*k},quinticOut:function(k){return--k*k*k*k*k+1},quinticInOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)},sinusoidalIn:function(k){return 1-Math.cos(k*Math.PI/2)},sinusoidalOut:function(k){return Math.sin(k*Math.PI/2)},sinusoidalInOut:function(k){return.5*(1-Math.cos(Math.PI*k))},exponentialIn:function(k){return 0===k?0:Math.pow(1024,k-1)},exponentialOut:function(k){return 1===k?1:1-Math.pow(2,-10*k)},exponentialInOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))},circularIn:function(k){return 1-Math.sqrt(1-k*k)},circularOut:function(k){return Math.sqrt(1- --k*k)},circularInOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)},elasticIn:function(k){var s,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},elasticOut:function(k){var s,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},elasticInOut:function(k){var s,a=.1,p=.4;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=p*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/p)*.5+1)},backIn:function(k){var s=1.70158;return k*k*((s+1)*k-s)},backOut:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},backInOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)},bounceIn:function(k){return 1-easingFuncs.bounceOut(1-k)},bounceOut:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},bounceInOut:function(k){return k<.5?.5*easingFuncs.bounceIn(2*k):.5*easingFuncs.bounceOut(2*k-1)+.5}};const animation_easing=easingFuncs;var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),cubicEasing=__webpack_require__("./node_modules/zrender/lib/animation/cubicEasing.js");const animation_Clip=function(){function Clip(opts){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=opts.life||1e3,this._delay=opts.delay||0,this.loop=opts.loop||!1,this.onframe=opts.onframe||util.noop,this.ondestroy=opts.ondestroy||util.noop,this.onrestart=opts.onrestart||util.noop,opts.easing&&this.setEasing(opts.easing)}return Clip.prototype.step=function(globalTime,deltaTime){if(this._inited||(this._startTime=globalTime+this._delay,this._inited=!0),!this._paused){var life=this._life,elapsedTime=globalTime-this._startTime-this._pausedTime,percent=elapsedTime/life;percent<0&&(percent=0),percent=Math.min(percent,1);var easingFunc=this.easingFunc,schedule=easingFunc?easingFunc(percent):percent;if(this.onframe(schedule),1===percent){if(!this.loop)return!0;var remainder=elapsedTime%life;this._startTime=globalTime-remainder,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=deltaTime},Clip.prototype.pause=function(){this._paused=!0},Clip.prototype.resume=function(){this._paused=!1},Clip.prototype.setEasing=function(easing){this.easing=easing,this.easingFunc=(0,util.isFunction)(easing)?easing:animation_easing[easing]||(0,cubicEasing.H)(easing)},Clip}();var color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),helper=__webpack_require__("./node_modules/zrender/lib/svg/helper.js"),arraySlice=Array.prototype.slice;function interpolateNumber(p0,p1,percent){return(p1-p0)*percent+p0}function interpolate1DArray(out,p0,p1,percent){for(var len=p0.length,i=0;i<len;i++)out[i]=interpolateNumber(p0[i],p1[i],percent);return out}function add1DArray(out,p0,p1,sign){for(var len=p0.length,i=0;i<len;i++)out[i]=p0[i]+p1[i]*sign;return out}function add2DArray(out,p0,p1,sign){for(var len=p0.length,len2=len&&p0[0].length,i=0;i<len;i++){out[i]||(out[i]=[]);for(var j=0;j<len2;j++)out[i][j]=p0[i][j]+p1[i][j]*sign}return out}function fillColorStops(val0,val1){for(var len0=val0.length,len1=val1.length,shorterArr=len0>len1?val1:val0,shorterLen=Math.min(len0,len1),last=shorterArr[shorterLen-1]||{color:[0,0,0,0],offset:0},i=shorterLen;i<Math.max(len0,len1);i++)shorterArr.push({offset:last.offset,color:last.color.slice()})}function fillArray(val0,val1,arrDim){var arr0=val0,arr1=val1;if(arr0.push&&arr1.push){var arr0Len=arr0.length,arr1Len=arr1.length;if(arr0Len!==arr1Len)if(arr0Len>arr1Len)arr0.length=arr1Len;else for(var i=arr0Len;i<arr1Len;i++)arr0.push(1===arrDim?arr1[i]:arraySlice.call(arr1[i]));var len2=arr0[0]&&arr0[0].length;for(i=0;i<arr0.length;i++)if(1===arrDim)isNaN(arr0[i])&&(arr0[i]=arr1[i]);else for(var j=0;j<len2;j++)isNaN(arr0[i][j])&&(arr0[i][j]=arr1[i][j])}}function cloneValue(value){if((0,util.isArrayLike)(value)){var len=value.length;if((0,util.isArrayLike)(value[0])){for(var ret=[],i=0;i<len;i++)ret.push(arraySlice.call(value[i]));return ret}return arraySlice.call(value)}return value}function rgba2String(rgba){return rgba[0]=Math.floor(rgba[0])||0,rgba[1]=Math.floor(rgba[1])||0,rgba[2]=Math.floor(rgba[2])||0,rgba[3]=null==rgba[3]?1:rgba[3],"rgba("+rgba.join(",")+")"}function isGradientValueType(valType){return 4===valType||5===valType}function isArrayValueType(valType){return 1===valType||2===valType}var tmpRgba=[0,0,0,0],Track=function(){function Track(propName){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=propName}return Track.prototype.isFinished=function(){return this._finished},Track.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Track.prototype.needsAnimate=function(){return this.keyframes.length>=1},Track.prototype.getAdditiveTrack=function(){return this._additiveTrack},Track.prototype.addKeyframe=function(time,rawValue,easing){this._needsSort=!0;var keyframes=this.keyframes,len=keyframes.length,discrete=!1,valType=6,value=rawValue;if((0,util.isArrayLike)(rawValue)){var arrayDim=function guessArrayDim(value){return(0,util.isArrayLike)(value&&value[0])?2:1}(rawValue);valType=arrayDim,(1===arrayDim&&!(0,util.isNumber)(rawValue[0])||2===arrayDim&&!(0,util.isNumber)(rawValue[0][0]))&&(discrete=!0)}else if((0,util.isNumber)(rawValue)&&!(0,util.eqNaN)(rawValue))valType=0;else if((0,util.isString)(rawValue))if(isNaN(+rawValue)){var colorArray=color.parse(rawValue);colorArray&&(value=colorArray,valType=3)}else valType=0;else if((0,util.isGradientObject)(rawValue)){var parsedGradient=(0,util.extend)({},value);parsedGradient.colorStops=(0,util.map)(rawValue.colorStops,(function(colorStop){return{offset:colorStop.offset,color:color.parse(colorStop.color)}})),(0,helper.I1)(rawValue)?valType=4:(0,helper.gO)(rawValue)&&(valType=5),value=parsedGradient}0===len?this.valType=valType:valType===this.valType&&6!==valType||(discrete=!0),this.discrete=this.discrete||discrete;var kf={time,value,rawValue,percent:0};return easing&&(kf.easing=easing,kf.easingFunc=(0,util.isFunction)(easing)?easing:animation_easing[easing]||(0,cubicEasing.H)(easing)),keyframes.push(kf),kf},Track.prototype.prepare=function(maxTime,additiveTrack){var kfs=this.keyframes;this._needsSort&&kfs.sort((function(a,b){return a.time-b.time}));for(var valType=this.valType,kfsLen=kfs.length,lastKf=kfs[kfsLen-1],isDiscrete=this.discrete,isArr=isArrayValueType(valType),isGradient=isGradientValueType(valType),i=0;i<kfsLen;i++){var kf=kfs[i],value=kf.value,lastValue=lastKf.value;kf.percent=kf.time/maxTime,isDiscrete||(isArr&&i!==kfsLen-1?fillArray(value,lastValue,valType):isGradient&&fillColorStops(value.colorStops,lastValue.colorStops))}if(!isDiscrete&&5!==valType&&additiveTrack&&this.needsAnimate()&&additiveTrack.needsAnimate()&&valType===additiveTrack.valType&&!additiveTrack._finished){this._additiveTrack=additiveTrack;var startValue=kfs[0].value;for(i=0;i<kfsLen;i++)0===valType?kfs[i].additiveValue=kfs[i].value-startValue:3===valType?kfs[i].additiveValue=add1DArray([],kfs[i].value,startValue,-1):isArrayValueType(valType)&&(kfs[i].additiveValue=1===valType?add1DArray([],kfs[i].value,startValue,-1):add2DArray([],kfs[i].value,startValue,-1))}},Track.prototype.step=function(target,percent){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var frameIdx,frame,nextFrame,isAdditive=null!=this._additiveTrack,valueKey=isAdditive?"additiveValue":"value",valType=this.valType,keyframes=this.keyframes,kfsNum=keyframes.length,propName=this.propName,isValueColor=3===valType,lastFrame=this._lastFr,mathMin=Math.min;if(1===kfsNum)frame=nextFrame=keyframes[0];else{if(percent<0)frameIdx=0;else if(percent<this._lastFrP){for(frameIdx=mathMin(lastFrame+1,kfsNum-1);frameIdx>=0&&!(keyframes[frameIdx].percent<=percent);frameIdx--);frameIdx=mathMin(frameIdx,kfsNum-2)}else{for(frameIdx=lastFrame;frameIdx<kfsNum&&!(keyframes[frameIdx].percent>percent);frameIdx++);frameIdx=mathMin(frameIdx-1,kfsNum-2)}nextFrame=keyframes[frameIdx+1],frame=keyframes[frameIdx]}if(frame&&nextFrame){this._lastFr=frameIdx,this._lastFrP=percent;var interval=nextFrame.percent-frame.percent,w=0===interval?1:mathMin((percent-frame.percent)/interval,1);nextFrame.easingFunc&&(w=nextFrame.easingFunc(w));var targetArr=isAdditive?this._additiveValue:isValueColor?tmpRgba:target[propName];if(!isArrayValueType(valType)&&!isValueColor||targetArr||(targetArr=this._additiveValue=[]),this.discrete)target[propName]=w<1?frame.rawValue:nextFrame.rawValue;else if(isArrayValueType(valType))1===valType?interpolate1DArray(targetArr,frame[valueKey],nextFrame[valueKey],w):function interpolate2DArray(out,p0,p1,percent){for(var len=p0.length,len2=len&&p0[0].length,i=0;i<len;i++){out[i]||(out[i]=[]);for(var j=0;j<len2;j++)out[i][j]=interpolateNumber(p0[i][j],p1[i][j],percent)}return out}(targetArr,frame[valueKey],nextFrame[valueKey],w);else if(isGradientValueType(valType)){var val=frame[valueKey],nextVal_1=nextFrame[valueKey],isLinearGradient_1=4===valType;target[propName]={type:isLinearGradient_1?"linear":"radial",x:interpolateNumber(val.x,nextVal_1.x,w),y:interpolateNumber(val.y,nextVal_1.y,w),colorStops:(0,util.map)(val.colorStops,(function(colorStop,idx){var nextColorStop=nextVal_1.colorStops[idx];return{offset:interpolateNumber(colorStop.offset,nextColorStop.offset,w),color:rgba2String(interpolate1DArray([],colorStop.color,nextColorStop.color,w))}})),global:nextVal_1.global},isLinearGradient_1?(target[propName].x2=interpolateNumber(val.x2,nextVal_1.x2,w),target[propName].y2=interpolateNumber(val.y2,nextVal_1.y2,w)):target[propName].r=interpolateNumber(val.r,nextVal_1.r,w)}else if(isValueColor)interpolate1DArray(targetArr,frame[valueKey],nextFrame[valueKey],w),isAdditive||(target[propName]=rgba2String(targetArr));else{var value=interpolateNumber(frame[valueKey],nextFrame[valueKey],w);isAdditive?this._additiveValue=value:target[propName]=value}isAdditive&&this._addToTarget(target)}}},Track.prototype._addToTarget=function(target){var valType=this.valType,propName=this.propName,additiveValue=this._additiveValue;0===valType?target[propName]=target[propName]+additiveValue:3===valType?(color.parse(target[propName],tmpRgba),add1DArray(tmpRgba,tmpRgba,additiveValue,1),target[propName]=rgba2String(tmpRgba)):1===valType?add1DArray(target[propName],target[propName],additiveValue,1):2===valType&&add2DArray(target[propName],target[propName],additiveValue,1)},Track}();const animation_Animator=function(){function Animator(target,loop,allowDiscreteAnimation,additiveTo){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=target,this._loop=loop,loop&&additiveTo?(0,util.logError)("Can' use additive animation on looped animation."):(this._additiveAnimators=additiveTo,this._allowDiscrete=allowDiscreteAnimation)}return Animator.prototype.getMaxTime=function(){return this._maxTime},Animator.prototype.getDelay=function(){return this._delay},Animator.prototype.getLoop=function(){return this._loop},Animator.prototype.getTarget=function(){return this._target},Animator.prototype.changeTarget=function(target){this._target=target},Animator.prototype.when=function(time,props,easing){return this.whenWithKeys(time,props,(0,util.keys)(props),easing)},Animator.prototype.whenWithKeys=function(time,props,propNames,easing){for(var tracks=this._tracks,i=0;i<propNames.length;i++){var propName=propNames[i],track=tracks[propName];if(!track){track=tracks[propName]=new Track(propName);var initialValue=void 0,additiveTrack=this._getAdditiveTrack(propName);if(additiveTrack){var addtiveTrackKfs=additiveTrack.keyframes,lastFinalKf=addtiveTrackKfs[addtiveTrackKfs.length-1];initialValue=lastFinalKf&&lastFinalKf.value,3===additiveTrack.valType&&initialValue&&(initialValue=rgba2String(initialValue))}else initialValue=this._target[propName];if(null==initialValue)continue;time>0&&track.addKeyframe(0,cloneValue(initialValue),easing),this._trackKeys.push(propName)}track.addKeyframe(time,cloneValue(props[propName]),easing)}return this._maxTime=Math.max(this._maxTime,time),this},Animator.prototype.pause=function(){this._clip.pause(),this._paused=!0},Animator.prototype.resume=function(){this._clip.resume(),this._paused=!1},Animator.prototype.isPaused=function(){return!!this._paused},Animator.prototype.duration=function(duration){return this._maxTime=duration,this._force=!0,this},Animator.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var doneList=this._doneCbs;if(doneList)for(var len=doneList.length,i=0;i<len;i++)doneList[i].call(this)},Animator.prototype._abortedCallback=function(){this._setTracksFinished();var animation=this.animation,abortedList=this._abortedCbs;if(animation&&animation.removeClip(this._clip),this._clip=null,abortedList)for(var i=0;i<abortedList.length;i++)abortedList[i].call(this)},Animator.prototype._setTracksFinished=function(){for(var tracks=this._tracks,tracksKeys=this._trackKeys,i=0;i<tracksKeys.length;i++)tracks[tracksKeys[i]].setFinished()},Animator.prototype._getAdditiveTrack=function(trackName){var additiveTrack,additiveAnimators=this._additiveAnimators;if(additiveAnimators)for(var i=0;i<additiveAnimators.length;i++){var track=additiveAnimators[i].getTrack(trackName);track&&(additiveTrack=track)}return additiveTrack},Animator.prototype.start=function(easing){if(!(this._started>0)){this._started=1;for(var self=this,tracks=[],maxTime=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var propName=this._trackKeys[i],track=this._tracks[propName],additiveTrack=this._getAdditiveTrack(propName),kfs=track.keyframes,kfsNum=kfs.length;if(track.prepare(maxTime,additiveTrack),track.needsAnimate())if(!this._allowDiscrete&&track.discrete){var lastKf=kfs[kfsNum-1];lastKf&&(self._target[track.propName]=lastKf.rawValue),track.setFinished()}else tracks.push(track)}if(tracks.length||this._force){var clip=new animation_Clip({life:maxTime,loop:this._loop,delay:this._delay||0,onframe:function(percent){self._started=2;var additiveAnimators=self._additiveAnimators;if(additiveAnimators){for(var stillHasAdditiveAnimator=!1,i=0;i<additiveAnimators.length;i++)if(additiveAnimators[i]._clip){stillHasAdditiveAnimator=!0;break}stillHasAdditiveAnimator||(self._additiveAnimators=null)}for(i=0;i<tracks.length;i++)tracks[i].step(self._target,percent);var onframeList=self._onframeCbs;if(onframeList)for(i=0;i<onframeList.length;i++)onframeList[i](self._target,percent)},ondestroy:function(){self._doneCallback()}});this._clip=clip,this.animation&&this.animation.addClip(clip),easing&&clip.setEasing(easing)}else this._doneCallback();return this}},Animator.prototype.stop=function(forwardToLast){if(this._clip){var clip=this._clip;forwardToLast&&clip.onframe(1),this._abortedCallback()}},Animator.prototype.delay=function(time){return this._delay=time,this},Animator.prototype.during=function(cb){return cb&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(cb)),this},Animator.prototype.done=function(cb){return cb&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(cb)),this},Animator.prototype.aborted=function(cb){return cb&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(cb)),this},Animator.prototype.getClip=function(){return this._clip},Animator.prototype.getTrack=function(propName){return this._tracks[propName]},Animator.prototype.getTracks=function(){var _this=this;return(0,util.map)(this._trackKeys,(function(key){return _this._tracks[key]}))},Animator.prototype.stopTracks=function(propNames,forwardToLast){if(!propNames.length||!this._clip)return!0;for(var tracks=this._tracks,tracksKeys=this._trackKeys,i=0;i<propNames.length;i++){var track=tracks[propNames[i]];track&&!track.isFinished()&&(forwardToLast?track.step(this._target,1):1===this._started&&track.step(this._target,0),track.setFinished())}var allAborted=!0;for(i=0;i<tracksKeys.length;i++)if(!tracks[tracksKeys[i]].isFinished()){allAborted=!1;break}return allAborted&&this._abortedCallback(),allAborted},Animator.prototype.saveTo=function(target,trackKeys,firstOrLast){if(target){trackKeys=trackKeys||this._trackKeys;for(var i=0;i<trackKeys.length;i++){var propName=trackKeys[i],track=this._tracks[propName];if(track&&!track.isFinished()){var kfs=track.keyframes,kf=kfs[firstOrLast?0:kfs.length-1];kf&&(target[propName]=cloneValue(kf.rawValue))}}}},Animator.prototype.__changeFinalValue=function(finalProps,trackKeys){trackKeys=trackKeys||(0,util.keys)(finalProps);for(var i=0;i<trackKeys.length;i++){var propName=trackKeys[i],track=this._tracks[propName];if(track){var kfs=track.keyframes;if(kfs.length>1){var lastKf=kfs.pop();track.addKeyframe(lastKf.time,finalProps[propName]),track.prepare(this._maxTime,track.getAdditiveTrack())}}}},Animator}()},"./node_modules/zrender/lib/animation/cubicEasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>createCubicEasingFunc});var _core_curve_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/curve.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(cubicEasingStr){var cubic=cubicEasingStr&&regexp.exec(cubicEasingStr);if(cubic){var points=cubic[1].split(","),a_1=+(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(points[0]),b_1=+(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(points[1]),c_1=+(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(points[2]),d_1=+(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(points[3]);if(isNaN(a_1+b_1+c_1+d_1))return;var roots_1=[];return function(p){return p<=0?0:p>=1?1:(0,_core_curve_js__WEBPACK_IMPORTED_MODULE_1__.kD)(0,a_1,c_1,1,p,roots_1)&&(0,_core_curve_js__WEBPACK_IMPORTED_MODULE_1__.af)(0,b_1,d_1,1,roots_1[0])}}}},"./node_modules/zrender/lib/animation/requestAnimationFrame.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/zrender/lib/core/env.js").Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(func){return setTimeout(func,16)}},"./node_modules/zrender/lib/canvas/dashStyle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>getLineDash});var _core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js");function getLineDash(el){var style=el.style,lineDash=style.lineDash&&style.lineWidth>0&&function normalizeLineDash(lineType,lineWidth){return lineType&&"solid"!==lineType&&lineWidth>0?"dashed"===lineType?[4*lineWidth,2*lineWidth]:"dotted"===lineType?[lineWidth]:(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(lineType)?[lineType]:(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(lineType)?lineType:null:null}(style.lineDash,style.lineWidth),lineDashOffset=style.lineDashOffset;if(lineDash){var lineScale_1=style.strokeNoScale&&el.getLineScale?el.getLineScale():1;lineScale_1&&1!==lineScale_1&&(lineDash=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map)(lineDash,(function(rawVal){return rawVal/lineScale_1})),lineDashOffset/=lineScale_1)}return[lineDash,lineDashOffset]}},"./node_modules/zrender/lib/canvas/graphic.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dm:()=>brush,RV:()=>brushSingle,RZ:()=>createCanvasPattern});var _graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),_core_PathProxy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/PathProxy.js"),_graphic_helper_image_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/image.js"),_helper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/canvas/helper.js"),_graphic_Path_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_graphic_Image_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),_graphic_TSpan_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/zrender/lib/graphic/TSpan.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_dashStyle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/canvas/dashStyle.js"),_graphic_constants_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/graphic/constants.js"),_core_platform_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),pathProxyForDraw=new _core_PathProxy_js__WEBPACK_IMPORTED_MODULE_0__.Z(!0);function styleHasStroke(style){var stroke=style.stroke;return!(null==stroke||"none"===stroke||!(style.lineWidth>0))}function isValidStrokeFillStyle(strokeOrFill){return"string"==typeof strokeOrFill&&"none"!==strokeOrFill}function styleHasFill(style){var fill=style.fill;return null!=fill&&"none"!==fill}function doFillPath(ctx,style){if(null!=style.fillOpacity&&1!==style.fillOpacity){var originalGlobalAlpha=ctx.globalAlpha;ctx.globalAlpha=style.fillOpacity*style.opacity,ctx.fill(),ctx.globalAlpha=originalGlobalAlpha}else ctx.fill()}function doStrokePath(ctx,style){if(null!=style.strokeOpacity&&1!==style.strokeOpacity){var originalGlobalAlpha=ctx.globalAlpha;ctx.globalAlpha=style.strokeOpacity*style.opacity,ctx.stroke(),ctx.globalAlpha=originalGlobalAlpha}else ctx.stroke()}function createCanvasPattern(ctx,pattern,el){var image=(0,_graphic_helper_image_js__WEBPACK_IMPORTED_MODULE_1__.Gq)(pattern.image,pattern.__image,el);if((0,_graphic_helper_image_js__WEBPACK_IMPORTED_MODULE_1__.v5)(image)){var canvasPattern=ctx.createPattern(image,pattern.repeat||"repeat");if("function"==typeof DOMMatrix&&canvasPattern&&canvasPattern.setTransform){var matrix=new DOMMatrix;matrix.translateSelf(pattern.x||0,pattern.y||0),matrix.rotateSelf(0,0,(pattern.rotation||0)*_core_util_js__WEBPACK_IMPORTED_MODULE_2__.RADIAN_TO_DEGREE),matrix.scaleSelf(pattern.scaleX||1,pattern.scaleY||1),canvasPattern.setTransform(matrix)}return canvasPattern}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(ctx,style,prevStyle,forceSetAll,scope){var styleChanged=!1;if(!forceSetAll&&style===(prevStyle=prevStyle||{}))return!1;if(forceSetAll||style.opacity!==prevStyle.opacity){flushPathDrawn(ctx,scope),styleChanged=!0;var opacity=Math.max(Math.min(style.opacity,1),0);ctx.globalAlpha=isNaN(opacity)?_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_7__.tj.opacity:opacity}(forceSetAll||style.blend!==prevStyle.blend)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.globalCompositeOperation=style.blend||_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_7__.tj.blend);for(var i=0;i<SHADOW_NUMBER_PROPS.length;i++){var propName=SHADOW_NUMBER_PROPS[i];(forceSetAll||style[propName]!==prevStyle[propName])&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx[propName]=ctx.dpr*(style[propName]||0))}return(forceSetAll||style.shadowColor!==prevStyle.shadowColor)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.shadowColor=style.shadowColor||_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_7__.tj.shadowColor),styleChanged}function bindPathAndTextCommonStyle(ctx,el,prevEl,forceSetAll,scope){var style=getStyle(el,scope.inHover),prevStyle=forceSetAll?null:prevEl&&getStyle(prevEl,scope.inHover)||{};if(style===prevStyle)return!1;var styleChanged=bindCommonProps(ctx,style,prevStyle,forceSetAll,scope);if((forceSetAll||style.fill!==prevStyle.fill)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),isValidStrokeFillStyle(style.fill)&&(ctx.fillStyle=style.fill)),(forceSetAll||style.stroke!==prevStyle.stroke)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),isValidStrokeFillStyle(style.stroke)&&(ctx.strokeStyle=style.stroke)),(forceSetAll||style.opacity!==prevStyle.opacity)&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.globalAlpha=null==style.opacity?1:style.opacity),el.hasStroke()){var newLineWidth=style.lineWidth/(style.strokeNoScale&&el.getLineScale?el.getLineScale():1);ctx.lineWidth!==newLineWidth&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx.lineWidth=newLineWidth)}for(var i=0;i<STROKE_PROPS.length;i++){var prop=STROKE_PROPS[i],propName=prop[0];(forceSetAll||style[propName]!==prevStyle[propName])&&(styleChanged||(flushPathDrawn(ctx,scope),styleChanged=!0),ctx[propName]=style[propName]||prop[1])}return styleChanged}function setContextTransform(ctx,el){var m=el.transform,dpr=ctx.dpr||1;m?ctx.setTransform(dpr*m[0],dpr*m[1],dpr*m[2],dpr*m[3],dpr*m[4],dpr*m[5]):ctx.setTransform(dpr,0,0,dpr,0,0)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function flushPathDrawn(ctx,scope){scope.batchFill&&ctx.fill(),scope.batchStroke&&ctx.stroke(),scope.batchFill="",scope.batchStroke=""}function getStyle(el,inHover){return inHover&&el.__hoverStyle||el.style}function brushSingle(ctx,el){brush(ctx,el,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(ctx,el,scope,isLast){var m=el.transform;if(!el.shouldBePainted(scope.viewWidth,scope.viewHeight,!1,!1))return el.__dirty&=~_graphic_constants_js__WEBPACK_IMPORTED_MODULE_5__.YV,void(el.__isRendered=!1);var clipPaths=el.__clipPaths,prevElClipPaths=scope.prevElClipPaths,forceSetTransform=!1,forceSetStyle=!1;if(prevElClipPaths&&!(0,_helper_js__WEBPACK_IMPORTED_MODULE_3__.cF)(clipPaths,prevElClipPaths)||(prevElClipPaths&&prevElClipPaths.length&&(flushPathDrawn(ctx,scope),ctx.restore(),forceSetStyle=forceSetTransform=!0,scope.prevElClipPaths=null,scope.allClipped=!1,scope.prevEl=null),clipPaths&&clipPaths.length&&(flushPathDrawn(ctx,scope),ctx.save(),function updateClipStatus(clipPaths,ctx,scope){for(var allClipped=!1,i=0;i<clipPaths.length;i++){var clipPath=clipPaths[i];allClipped=allClipped||clipPath.isZeroArea(),setContextTransform(ctx,clipPath),ctx.beginPath(),clipPath.buildPath(ctx,clipPath.shape),ctx.clip()}scope.allClipped=allClipped}(clipPaths,ctx,scope),forceSetTransform=!0),scope.prevElClipPaths=clipPaths),scope.allClipped)el.__isRendered=!1;else{el.beforeBrush&&el.beforeBrush(),el.innerBeforeBrush();var prevEl=scope.prevEl;prevEl||(forceSetStyle=forceSetTransform=!0);var canBatchPath=el instanceof _graphic_Path_js__WEBPACK_IMPORTED_MODULE_8__.ZP&&el.autoBatch&&function canPathBatch(style){var hasFill=styleHasFill(style),hasStroke=styleHasStroke(style);return!(style.lineDash||!(+hasFill^+hasStroke)||hasFill&&"string"!=typeof style.fill||hasStroke&&"string"!=typeof style.stroke||style.strokePercent<1||style.strokeOpacity<1||style.fillOpacity<1)}(el.style);forceSetTransform||function isTransformChanged(m0,m1){return m0&&m1?m0[0]!==m1[0]||m0[1]!==m1[1]||m0[2]!==m1[2]||m0[3]!==m1[3]||m0[4]!==m1[4]||m0[5]!==m1[5]:!(!m0&&!m1)}(m,prevEl.transform)?(flushPathDrawn(ctx,scope),setContextTransform(ctx,el)):canBatchPath||flushPathDrawn(ctx,scope);var style=getStyle(el,scope.inHover);el instanceof _graphic_Path_js__WEBPACK_IMPORTED_MODULE_8__.ZP?(scope.lastDrawType!==DRAW_TYPE_PATH&&(forceSetStyle=!0,scope.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(ctx,el,prevEl,forceSetStyle,scope),canBatchPath&&(scope.batchFill||scope.batchStroke)||ctx.beginPath(),function brushPath(ctx,el,style,inBatch){var _a,hasStroke=styleHasStroke(style),hasFill=styleHasFill(style),strokePercent=style.strokePercent,strokePart=strokePercent<1,firstDraw=!el.path;el.silent&&!strokePart||!firstDraw||el.createPathProxy();var path=el.path||pathProxyForDraw,dirtyFlag=el.__dirty;if(!inBatch){var fill=style.fill,stroke=style.stroke,hasFillGradient=hasFill&&!!fill.colorStops,hasStrokeGradient=hasStroke&&!!stroke.colorStops,hasFillPattern=hasFill&&!!fill.image,hasStrokePattern=hasStroke&&!!stroke.image,fillGradient=void 0,strokeGradient=void 0,fillPattern=void 0,strokePattern=void 0,rect=void 0;(hasFillGradient||hasStrokeGradient)&&(rect=el.getBoundingRect()),hasFillGradient&&(fillGradient=dirtyFlag?(0,_helper_js__WEBPACK_IMPORTED_MODULE_3__.ZF)(ctx,fill,rect):el.__canvasFillGradient,el.__canvasFillGradient=fillGradient),hasStrokeGradient&&(strokeGradient=dirtyFlag?(0,_helper_js__WEBPACK_IMPORTED_MODULE_3__.ZF)(ctx,stroke,rect):el.__canvasStrokeGradient,el.__canvasStrokeGradient=strokeGradient),hasFillPattern&&(fillPattern=dirtyFlag||!el.__canvasFillPattern?createCanvasPattern(ctx,fill,el):el.__canvasFillPattern,el.__canvasFillPattern=fillPattern),hasStrokePattern&&(strokePattern=dirtyFlag||!el.__canvasStrokePattern?createCanvasPattern(ctx,stroke,el):el.__canvasStrokePattern,el.__canvasStrokePattern=fillPattern),hasFillGradient?ctx.fillStyle=fillGradient:hasFillPattern&&(fillPattern?ctx.fillStyle=fillPattern:hasFill=!1),hasStrokeGradient?ctx.strokeStyle=strokeGradient:hasStrokePattern&&(strokePattern?ctx.strokeStyle=strokePattern:hasStroke=!1)}var lineDash,lineDashOffset,scale=el.getGlobalScale();path.setScale(scale[0],scale[1],el.segmentIgnoreThreshold),ctx.setLineDash&&style.lineDash&&(lineDash=(_a=(0,_dashStyle_js__WEBPACK_IMPORTED_MODULE_4__.a)(el))[0],lineDashOffset=_a[1]);var needsRebuild=!0;(firstDraw||dirtyFlag&_graphic_constants_js__WEBPACK_IMPORTED_MODULE_5__.RH)&&(path.setDPR(ctx.dpr),strokePart?path.setContext(null):(path.setContext(ctx),needsRebuild=!1),path.reset(),el.buildPath(path,el.shape,inBatch),path.toStatic(),el.pathUpdated()),needsRebuild&&path.rebuildPath(ctx,strokePart?strokePercent:1),lineDash&&(ctx.setLineDash(lineDash),ctx.lineDashOffset=lineDashOffset),inBatch||(style.strokeFirst?(hasStroke&&doStrokePath(ctx,style),hasFill&&doFillPath(ctx,style)):(hasFill&&doFillPath(ctx,style),hasStroke&&doStrokePath(ctx,style))),lineDash&&ctx.setLineDash([])}(ctx,el,style,canBatchPath),canBatchPath&&(scope.batchFill=style.fill||"",scope.batchStroke=style.stroke||"")):el instanceof _graphic_TSpan_js__WEBPACK_IMPORTED_MODULE_9__.Z?(scope.lastDrawType!==DRAW_TYPE_TEXT&&(forceSetStyle=!0,scope.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(ctx,el,prevEl,forceSetStyle,scope),function brushText(ctx,el,style){var _a,text=style.text;if(null!=text&&(text+=""),text){ctx.font=style.font||_core_platform_js__WEBPACK_IMPORTED_MODULE_6__.Uo,ctx.textAlign=style.textAlign,ctx.textBaseline=style.textBaseline;var lineDash=void 0,lineDashOffset=void 0;ctx.setLineDash&&style.lineDash&&(lineDash=(_a=(0,_dashStyle_js__WEBPACK_IMPORTED_MODULE_4__.a)(el))[0],lineDashOffset=_a[1]),lineDash&&(ctx.setLineDash(lineDash),ctx.lineDashOffset=lineDashOffset),style.strokeFirst?(styleHasStroke(style)&&ctx.strokeText(text,style.x,style.y),styleHasFill(style)&&ctx.fillText(text,style.x,style.y)):(styleHasFill(style)&&ctx.fillText(text,style.x,style.y),styleHasStroke(style)&&ctx.strokeText(text,style.x,style.y)),lineDash&&ctx.setLineDash([])}}(ctx,el,style)):el instanceof _graphic_Image_js__WEBPACK_IMPORTED_MODULE_10__.ZP?(scope.lastDrawType!==DRAW_TYPE_IMAGE&&(forceSetStyle=!0,scope.lastDrawType=DRAW_TYPE_IMAGE),function bindImageStyle(ctx,el,prevEl,forceSetAll,scope){return bindCommonProps(ctx,getStyle(el,scope.inHover),prevEl&&getStyle(prevEl,scope.inHover),forceSetAll,scope)}(ctx,el,prevEl,forceSetStyle,scope),function brushImage(ctx,el,style){var image=el.__image=(0,_graphic_helper_image_js__WEBPACK_IMPORTED_MODULE_1__.Gq)(style.image,el.__image,el,el.onload);if(image&&(0,_graphic_helper_image_js__WEBPACK_IMPORTED_MODULE_1__.v5)(image)){var x=style.x||0,y=style.y||0,width=el.getWidth(),height=el.getHeight(),aspect=image.width/image.height;if(null==width&&null!=height?width=height*aspect:null==height&&null!=width?height=width/aspect:null==width&&null==height&&(width=image.width,height=image.height),style.sWidth&&style.sHeight){var sx=style.sx||0,sy=style.sy||0;ctx.drawImage(image,sx,sy,style.sWidth,style.sHeight,x,y,width,height)}else if(style.sx&&style.sy){var sWidth=width-(sx=style.sx),sHeight=height-(sy=style.sy);ctx.drawImage(image,sx,sy,sWidth,sHeight,x,y,width,height)}else ctx.drawImage(image,x,y,width,height)}}(ctx,el,style)):el.getTemporalDisplayables&&(scope.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(forceSetStyle=!0,scope.lastDrawType=DRAW_TYPE_INCREMENTAL),function brushIncremental(ctx,el,scope){var displayables=el.getDisplayables(),temporalDisplayables=el.getTemporalDisplayables();ctx.save();var i,len,innerScope={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:scope.viewWidth,viewHeight:scope.viewHeight,inHover:scope.inHover};for(i=el.getCursor(),len=displayables.length;i<len;i++){(displayable=displayables[i]).beforeBrush&&displayable.beforeBrush(),displayable.innerBeforeBrush(),brush(ctx,displayable,innerScope,i===len-1),displayable.innerAfterBrush(),displayable.afterBrush&&displayable.afterBrush(),innerScope.prevEl=displayable}for(var i_1=0,len_1=temporalDisplayables.length;i_1<len_1;i_1++){var displayable;(displayable=temporalDisplayables[i_1]).beforeBrush&&displayable.beforeBrush(),displayable.innerBeforeBrush(),brush(ctx,displayable,innerScope,i_1===len_1-1),displayable.innerAfterBrush(),displayable.afterBrush&&displayable.afterBrush(),innerScope.prevEl=displayable}el.clearTemporalDisplayables(),el.notClear=!0,ctx.restore()}(ctx,el,scope)),canBatchPath&&isLast&&flushPathDrawn(ctx,scope),el.innerAfterBrush(),el.afterBrush&&el.afterBrush(),scope.prevEl=el,el.__dirty=0,el.__isRendered=!0}}},"./node_modules/zrender/lib/canvas/helper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isSafeNum(num){return isFinite(num)}function getCanvasGradient(ctx,obj,rect){for(var canvasGradient="radial"===obj.type?function createRadialGradient(ctx,obj,rect){var width=rect.width,height=rect.height,min=Math.min(width,height),x=null==obj.x?.5:obj.x,y=null==obj.y?.5:obj.y,r=null==obj.r?.5:obj.r;return obj.global||(x=x*width+rect.x,y=y*height+rect.y,r*=min),x=isSafeNum(x)?x:.5,y=isSafeNum(y)?y:.5,r=r>=0&&isSafeNum(r)?r:.5,ctx.createRadialGradient(x,y,0,x,y,r)}(ctx,obj,rect):function createLinearGradient(ctx,obj,rect){var x=null==obj.x?0:obj.x,x2=null==obj.x2?1:obj.x2,y=null==obj.y?0:obj.y,y2=null==obj.y2?0:obj.y2;return obj.global||(x=x*rect.width+rect.x,x2=x2*rect.width+rect.x,y=y*rect.height+rect.y,y2=y2*rect.height+rect.y),x=isSafeNum(x)?x:0,x2=isSafeNum(x2)?x2:1,y=isSafeNum(y)?y:0,y2=isSafeNum(y2)?y2:0,ctx.createLinearGradient(x,y,x2,y2)}(ctx,obj,rect),colorStops=obj.colorStops,i=0;i<colorStops.length;i++)canvasGradient.addColorStop(colorStops[i].offset,colorStops[i].color);return canvasGradient}function isClipPathChanged(clipPaths,prevClipPaths){if(clipPaths===prevClipPaths||!clipPaths&&!prevClipPaths)return!1;if(!clipPaths||!prevClipPaths||clipPaths.length!==prevClipPaths.length)return!0;for(var i=0;i<clipPaths.length;i++)if(clipPaths[i]!==prevClipPaths[i])return!0;return!1}function parseInt10(val){return parseInt(val,10)}function getSize(root,whIdx,opts){var wh=["width","height"][whIdx],cwh=["clientWidth","clientHeight"][whIdx],plt=["paddingLeft","paddingTop"][whIdx],prb=["paddingRight","paddingBottom"][whIdx];if(null!=opts[wh]&&"auto"!==opts[wh])return parseFloat(opts[wh]);var stl=document.defaultView.getComputedStyle(root);return(root[cwh]||parseInt10(stl[wh])||parseInt10(root.style[wh]))-(parseInt10(stl[plt])||0)-(parseInt10(stl[prb])||0)|0}__webpack_require__.d(__webpack_exports__,{ZF:()=>getCanvasGradient,ap:()=>getSize,cF:()=>isClipPathChanged})},"./node_modules/zrender/lib/config.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ak:()=>DARK_MODE_THRESHOLD,GD:()=>LIGHT_LABEL_COLOR,KL:()=>devicePixelRatio,iv:()=>LIGHTER_LABEL_COLOR,vU:()=>DARK_LABEL_COLOR});var dpr=1;__webpack_require__("./node_modules/zrender/lib/core/env.js").Z.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee"},"./node_modules/zrender/lib/contain/line.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function containStroke(x0,y0,x1,y1,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth,_a=0;if(y>y0+_l&&y>y1+_l||y<y0-_l&&y<y1-_l||x>x0+_l&&x>x1+_l||x<x0-_l&&x<x1-_l)return!1;if(x0===x1)return Math.abs(x-x0)<=_l/2;var tmp=(_a=(y0-y1)/(x0-x1))*x-y+(x0*y1-x1*y0)/(x0-x1);return tmp*tmp/(_a*_a+1)<=_l/2*_l/2}__webpack_require__.d(__webpack_exports__,{m:()=>containStroke})},"./node_modules/zrender/lib/contain/polygon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>contain});var _windingLine_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/contain/windingLine.js"),EPSILON=1e-8;function isAroundEqual(a,b){return Math.abs(a-b)<EPSILON}function contain(points,x,y){var w=0,p=points[0];if(!p)return!1;for(var i=1;i<points.length;i++){var p2=points[i];w+=(0,_windingLine_js__WEBPACK_IMPORTED_MODULE_0__.Z)(p[0],p[1],p2[0],p2[1],x,y),p=p2}var p0=points[0];return isAroundEqual(p[0],p0[0])&&isAroundEqual(p[1],p0[1])||(w+=(0,_windingLine_js__WEBPACK_IMPORTED_MODULE_0__.Z)(p[0],p[1],p0[0],p0[1],x,y)),0!==w}},"./node_modules/zrender/lib/contain/quadratic.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>containStroke});var _core_curve_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/curve.js");function containStroke(x0,y0,x1,y1,x2,y2,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;return!(y>y0+_l&&y>y1+_l&&y>y2+_l||y<y0-_l&&y<y1-_l&&y<y2-_l||x>x0+_l&&x>x1+_l&&x>x2+_l||x<x0-_l&&x<x1-_l&&x<x2-_l)&&(0,_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Wr)(x0,y0,x1,y1,x2,y2,x,y,null)<=_l/2}},"./node_modules/zrender/lib/contain/text.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dp:()=>getLineHeight,GM:()=>parsePercent,M3:()=>adjustTextX,dz:()=>getWidth,lP:()=>getBoundingRect,mU:()=>adjustTextY,wI:()=>calculateTextPosition});var _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_core_LRU_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),_core_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),textWidthCache={};function getWidth(text,font){font=font||_core_platform_js__WEBPACK_IMPORTED_MODULE_0__.Uo;var cacheOfFont=textWidthCache[font];cacheOfFont||(cacheOfFont=textWidthCache[font]=new _core_LRU_js__WEBPACK_IMPORTED_MODULE_1__.ZP(500));var width=cacheOfFont.get(text);return null==width&&(width=_core_platform_js__WEBPACK_IMPORTED_MODULE_0__.qW.measureText(text,font).width,cacheOfFont.put(text,width)),width}function innerGetBoundingRect(text,font,textAlign,textBaseline){var width=getWidth(text,font),height=getLineHeight(font),x=adjustTextX(0,width,textAlign),y=adjustTextY(0,height,textBaseline);return new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(x,y,width,height)}function getBoundingRect(text,font,textAlign,textBaseline){var textLines=((text||"")+"").split("\n");if(1===textLines.length)return innerGetBoundingRect(textLines[0],font,textAlign,textBaseline);for(var uniondRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0),i=0;i<textLines.length;i++){var rect=innerGetBoundingRect(textLines[i],font,textAlign,textBaseline);0===i?uniondRect.copy(rect):uniondRect.union(rect)}return uniondRect}function adjustTextX(x,width,textAlign){return"right"===textAlign?x-=width:"center"===textAlign&&(x-=width/2),x}function adjustTextY(y,height,verticalAlign){return"middle"===verticalAlign?y-=height/2:"bottom"===verticalAlign&&(y-=height),y}function getLineHeight(font){return getWidth("国",font)}function parsePercent(value,maxValue){return"string"==typeof value?value.lastIndexOf("%")>=0?parseFloat(value)/100*maxValue:parseFloat(value):value}function calculateTextPosition(out,opts,rect){var textPosition=opts.position||"inside",distance=null!=opts.distance?opts.distance:5,height=rect.height,width=rect.width,halfHeight=height/2,x=rect.x,y=rect.y,textAlign="left",textVerticalAlign="top";if(textPosition instanceof Array)x+=parsePercent(textPosition[0],rect.width),y+=parsePercent(textPosition[1],rect.height),textAlign=null,textVerticalAlign=null;else switch(textPosition){case"left":x-=distance,y+=halfHeight,textAlign="right",textVerticalAlign="middle";break;case"right":x+=distance+width,y+=halfHeight,textVerticalAlign="middle";break;case"top":x+=width/2,y-=distance,textAlign="center",textVerticalAlign="bottom";break;case"bottom":x+=width/2,y+=height+distance,textAlign="center";break;case"inside":x+=width/2,y+=halfHeight,textAlign="center",textVerticalAlign="middle";break;case"insideLeft":x+=distance,y+=halfHeight,textVerticalAlign="middle";break;case"insideRight":x+=width-distance,y+=halfHeight,textAlign="right",textVerticalAlign="middle";break;case"insideTop":x+=width/2,y+=distance,textAlign="center";break;case"insideBottom":x+=width/2,y+=height-distance,textAlign="center",textVerticalAlign="bottom";break;case"insideTopLeft":x+=distance,y+=distance;break;case"insideTopRight":x+=width-distance,y+=distance,textAlign="right";break;case"insideBottomLeft":x+=distance,y+=height-distance,textVerticalAlign="bottom";break;case"insideBottomRight":x+=width-distance,y+=height-distance,textAlign="right",textVerticalAlign="bottom"}return(out=out||{}).x=x,out.y=y,out.align=textAlign,out.verticalAlign=textVerticalAlign,out}},"./node_modules/zrender/lib/contain/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>normalizeRadian});var PI2=2*Math.PI;function normalizeRadian(angle){return(angle%=PI2)<0&&(angle+=PI2),angle}},"./node_modules/zrender/lib/contain/windingLine.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function windingLine(x0,y0,x1,y1,x,y){if(y>y0&&y>y1||y<y0&&y<y1)return 0;if(y1===y0)return 0;var t=(y-y0)/(y1-y0),dir=y1<y0?1:-1;1!==t&&0!==t||(dir=y1<y0?.5:-.5);var x_=t*(x1-x0)+x0;return x_===x?1/0:x_>x?dir:0}__webpack_require__.d(__webpack_exports__,{Z:()=>windingLine})},"./node_modules/zrender/lib/core/BoundingRect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _matrix_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),_Point_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/Point.js"),mathMin=Math.min,mathMax=Math.max,lt=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z,rb=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z,lb=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z,rt=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z,minTv=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z,maxTv=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z;const __WEBPACK_DEFAULT_EXPORT__=function(){function BoundingRect(x,y,width,height){width<0&&(x+=width,width=-width),height<0&&(y+=height,height=-height),this.x=x,this.y=y,this.width=width,this.height=height}return BoundingRect.prototype.union=function(other){var x=mathMin(other.x,this.x),y=mathMin(other.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax(other.x+other.width,this.x+this.width)-x:this.width=other.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax(other.y+other.height,this.y+this.height)-y:this.height=other.height,this.x=x,this.y=y},BoundingRect.prototype.applyTransform=function(m){BoundingRect.applyTransform(this,this,m)},BoundingRect.prototype.calculateTransform=function(b){var a=this,sx=b.width/a.width,sy=b.height/a.height,m=_matrix_js__WEBPACK_IMPORTED_MODULE_1__.create();return _matrix_js__WEBPACK_IMPORTED_MODULE_1__.translate(m,m,[-a.x,-a.y]),_matrix_js__WEBPACK_IMPORTED_MODULE_1__.scale(m,m,[sx,sy]),_matrix_js__WEBPACK_IMPORTED_MODULE_1__.translate(m,m,[b.x,b.y]),m},BoundingRect.prototype.intersect=function(b,mtv){if(!b)return!1;b instanceof BoundingRect||(b=BoundingRect.create(b));var a=this,ax0=a.x,ax1=a.x+a.width,ay0=a.y,ay1=a.y+a.height,bx0=b.x,bx1=b.x+b.width,by0=b.y,by1=b.y+b.height,overlap=!(ax1<bx0||bx1<ax0||ay1<by0||by1<ay0);if(mtv){var dMin=1/0,dMax=0,d0=Math.abs(ax1-bx0),d1=Math.abs(bx1-ax0),d2=Math.abs(ay1-by0),d3=Math.abs(by1-ay0),dx=Math.min(d0,d1),dy=Math.min(d2,d3);ax1<bx0||bx1<ax0?dx>dMax&&(dMax=dx,d0<d1?_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(maxTv,-d0,0):_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(maxTv,d1,0)):dx<dMin&&(dMin=dx,d0<d1?_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(minTv,d0,0):_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(minTv,-d1,0)),ay1<by0||by1<ay0?dy>dMax&&(dMax=dy,d2<d3?_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(maxTv,0,-d2):_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(maxTv,0,d3)):dx<dMin&&(dMin=dx,d2<d3?_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(minTv,0,d2):_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.set(minTv,0,-d3))}return mtv&&_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.copy(mtv,overlap?minTv:maxTv),overlap},BoundingRect.prototype.contain=function(x,y){return x>=this.x&&x<=this.x+this.width&&y>=this.y&&y<=this.y+this.height},BoundingRect.prototype.clone=function(){return new BoundingRect(this.x,this.y,this.width,this.height)},BoundingRect.prototype.copy=function(other){BoundingRect.copy(this,other)},BoundingRect.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},BoundingRect.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},BoundingRect.prototype.isZero=function(){return 0===this.width||0===this.height},BoundingRect.create=function(rect){return new BoundingRect(rect.x,rect.y,rect.width,rect.height)},BoundingRect.copy=function(target,source){target.x=source.x,target.y=source.y,target.width=source.width,target.height=source.height},BoundingRect.applyTransform=function(target,source,m){if(m){if(m[1]<1e-5&&m[1]>-1e-5&&m[2]<1e-5&&m[2]>-1e-5){var sx=m[0],sy=m[3],tx=m[4],ty=m[5];return target.x=source.x*sx+tx,target.y=source.y*sy+ty,target.width=source.width*sx,target.height=source.height*sy,target.width<0&&(target.x+=target.width,target.width=-target.width),void(target.height<0&&(target.y+=target.height,target.height=-target.height))}lt.x=lb.x=source.x,lt.y=rt.y=source.y,rb.x=rt.x=source.x+source.width,rb.y=lb.y=source.y+source.height,lt.transform(m),rt.transform(m),rb.transform(m),lb.transform(m),target.x=mathMin(lt.x,rb.x,lb.x,rt.x),target.y=mathMin(lt.y,rb.y,lb.y,rt.y);var maxX=mathMax(lt.x,rb.x,lb.x,rt.x),maxY=mathMax(lt.y,rb.y,lb.y,rt.y);target.width=maxX-target.x,target.height=maxY-target.y}else target!==source&&BoundingRect.copy(target,source)},BoundingRect}()},"./node_modules/zrender/lib/core/Eventful.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(){function Eventful(eventProcessors){eventProcessors&&(this._$eventProcessor=eventProcessors)}return Eventful.prototype.on=function(event,query,handler,context){this._$handlers||(this._$handlers={});var _h=this._$handlers;if("function"==typeof query&&(context=handler,handler=query,query=null),!handler||!event)return this;var eventProcessor=this._$eventProcessor;null!=query&&eventProcessor&&eventProcessor.normalizeQuery&&(query=eventProcessor.normalizeQuery(query)),_h[event]||(_h[event]=[]);for(var i=0;i<_h[event].length;i++)if(_h[event][i].h===handler)return this;var wrap={h:handler,query,ctx:context||this,callAtLast:handler.zrEventfulCallAtLast},lastIndex=_h[event].length-1,lastWrap=_h[event][lastIndex];return lastWrap&&lastWrap.callAtLast?_h[event].splice(lastIndex,0,wrap):_h[event].push(wrap),this},Eventful.prototype.isSilent=function(eventName){var _h=this._$handlers;return!_h||!_h[eventName]||!_h[eventName].length},Eventful.prototype.off=function(eventType,handler){var _h=this._$handlers;if(!_h)return this;if(!eventType)return this._$handlers={},this;if(handler){if(_h[eventType]){for(var newList=[],i=0,l=_h[eventType].length;i<l;i++)_h[eventType][i].h!==handler&&newList.push(_h[eventType][i]);_h[eventType]=newList}_h[eventType]&&0===_h[eventType].length&&delete _h[eventType]}else delete _h[eventType];return this},Eventful.prototype.trigger=function(eventType){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!this._$handlers)return this;var _h=this._$handlers[eventType],eventProcessor=this._$eventProcessor;if(_h)for(var argLen=args.length,len=_h.length,i=0;i<len;i++){var hItem=_h[i];if(!eventProcessor||!eventProcessor.filter||null==hItem.query||eventProcessor.filter(eventType,hItem.query))switch(argLen){case 0:hItem.h.call(hItem.ctx);break;case 1:hItem.h.call(hItem.ctx,args[0]);break;case 2:hItem.h.call(hItem.ctx,args[0],args[1]);break;default:hItem.h.apply(hItem.ctx,args)}}return eventProcessor&&eventProcessor.afterTrigger&&eventProcessor.afterTrigger(eventType),this},Eventful.prototype.triggerWithContext=function(type){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!this._$handlers)return this;var _h=this._$handlers[type],eventProcessor=this._$eventProcessor;if(_h)for(var argLen=args.length,ctx=args[argLen-1],len=_h.length,i=0;i<len;i++){var hItem=_h[i];if(!eventProcessor||!eventProcessor.filter||null==hItem.query||eventProcessor.filter(type,hItem.query))switch(argLen){case 0:hItem.h.call(ctx);break;case 1:hItem.h.call(ctx,args[0]);break;case 2:hItem.h.call(ctx,args[0],args[1]);break;default:hItem.h.apply(ctx,args.slice(1,argLen-1))}}return eventProcessor&&eventProcessor.afterTrigger&&eventProcessor.afterTrigger(type),this},Eventful}()},"./node_modules/zrender/lib/core/LRU.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var Entry=function Entry(val){this.value=val},LinkedList=function(){function LinkedList(){this._len=0}return LinkedList.prototype.insert=function(val){var entry=new Entry(val);return this.insertEntry(entry),entry},LinkedList.prototype.insertEntry=function(entry){this.head?(this.tail.next=entry,entry.prev=this.tail,entry.next=null,this.tail=entry):this.head=this.tail=entry,this._len++},LinkedList.prototype.remove=function(entry){var prev=entry.prev,next=entry.next;prev?prev.next=next:this.head=next,next?next.prev=prev:this.tail=prev,entry.next=entry.prev=null,this._len--},LinkedList.prototype.len=function(){return this._len},LinkedList.prototype.clear=function(){this.head=this.tail=null,this._len=0},LinkedList}();const __WEBPACK_DEFAULT_EXPORT__=function(){function LRU(maxSize){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=maxSize}return LRU.prototype.put=function(key,value){var list=this._list,map=this._map,removed=null;if(null==map[key]){var len=list.len(),entry=this._lastRemovedEntry;if(len>=this._maxSize&&len>0){var leastUsedEntry=list.head;list.remove(leastUsedEntry),delete map[leastUsedEntry.key],removed=leastUsedEntry.value,this._lastRemovedEntry=leastUsedEntry}entry?entry.value=value:entry=new Entry(value),entry.key=key,list.insertEntry(entry),map[key]=entry}return removed},LRU.prototype.get=function(key){var entry=this._map[key],list=this._list;if(null!=entry)return entry!==list.tail&&(list.remove(entry),list.insertEntry(entry)),entry.value},LRU.prototype.clear=function(){this._list.clear(),this._map={}},LRU.prototype.len=function(){return this._list.len()},LRU}()},"./node_modules/zrender/lib/core/OrientedBoundingRect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Point_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/Point.js"),extent=[0,0],extent2=[0,0],minTv=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z,maxTv=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z;const __WEBPACK_DEFAULT_EXPORT__=function(){function OrientedBoundingRect(rect,transform){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z;for(i=0;i<2;i++)this._axes[i]=new _Point_js__WEBPACK_IMPORTED_MODULE_0__.Z;rect&&this.fromBoundingRect(rect,transform)}return OrientedBoundingRect.prototype.fromBoundingRect=function(rect,transform){var corners=this._corners,axes=this._axes,x=rect.x,y=rect.y,x2=x+rect.width,y2=y+rect.height;if(corners[0].set(x,y),corners[1].set(x2,y),corners[2].set(x2,y2),corners[3].set(x,y2),transform)for(var i=0;i<4;i++)corners[i].transform(transform);_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.sub(axes[0],corners[1],corners[0]),_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.sub(axes[1],corners[3],corners[0]),axes[0].normalize(),axes[1].normalize();for(i=0;i<2;i++)this._origin[i]=axes[i].dot(corners[0])},OrientedBoundingRect.prototype.intersect=function(other,mtv){var overlapped=!0,noMtv=!mtv;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,other,minTv,maxTv,noMtv,1)&&(overlapped=!1,noMtv)||!this._intersectCheckOneSide(other,this,minTv,maxTv,noMtv,-1)&&(overlapped=!1,noMtv)||noMtv||_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.copy(mtv,overlapped?minTv:maxTv),overlapped},OrientedBoundingRect.prototype._intersectCheckOneSide=function(self,other,minTv,maxTv,noMtv,inverse){for(var overlapped=!0,i=0;i<2;i++){var axis=this._axes[i];if(this._getProjMinMaxOnAxis(i,self._corners,extent),this._getProjMinMaxOnAxis(i,other._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(overlapped=!1,noMtv)return overlapped;var dist0=Math.abs(extent2[0]-extent[1]),dist1=Math.abs(extent[0]-extent2[1]);Math.min(dist0,dist1)>maxTv.len()&&(dist0<dist1?_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.scale(maxTv,axis,-dist0*inverse):_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.scale(maxTv,axis,dist1*inverse))}else if(minTv){dist0=Math.abs(extent2[0]-extent[1]),dist1=Math.abs(extent[0]-extent2[1]);Math.min(dist0,dist1)<minTv.len()&&(dist0<dist1?_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.scale(minTv,axis,dist0*inverse):_Point_js__WEBPACK_IMPORTED_MODULE_0__.Z.scale(minTv,axis,-dist1*inverse))}}return overlapped},OrientedBoundingRect.prototype._getProjMinMaxOnAxis=function(dim,corners,out){for(var axis=this._axes[dim],origin=this._origin,proj=corners[0].dot(axis)+origin[dim],min=proj,max=proj,i=1;i<corners.length;i++){var proj_1=corners[i].dot(axis)+origin[dim];min=Math.min(proj_1,min),max=Math.max(proj_1,max)}out[0]=min,out[1]=max},OrientedBoundingRect}()},"./node_modules/zrender/lib/core/PathProxy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>normalizeArcAngles,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _vector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_config_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/config.js"),_bbox_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/bbox.js"),_curve_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/curve.js"),CMD={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin=Math.min,mathMax=Math.max,mathCos=Math.cos,mathSin=Math.sin,mathAbs=Math.abs,PI=Math.PI,PI2=2*PI,hasTypedArray="undefined"!=typeof Float32Array,tmpAngles=[];function modPI2(radian){return Math.round(radian/PI*1e8)/1e8%2*PI}function normalizeArcAngles(angles,anticlockwise){var newStartAngle=modPI2(angles[0]);newStartAngle<0&&(newStartAngle+=PI2);var delta=newStartAngle-angles[0],newEndAngle=angles[1];newEndAngle+=delta,!anticlockwise&&newEndAngle-newStartAngle>=PI2?newEndAngle=newStartAngle+PI2:anticlockwise&&newStartAngle-newEndAngle>=PI2?newEndAngle=newStartAngle-PI2:!anticlockwise&&newStartAngle>newEndAngle?newEndAngle=newStartAngle+(PI2-modPI2(newStartAngle-newEndAngle)):anticlockwise&&newStartAngle<newEndAngle&&(newEndAngle=newStartAngle-(PI2-modPI2(newEndAngle-newStartAngle))),angles[0]=newStartAngle,angles[1]=newEndAngle}const __WEBPACK_DEFAULT_EXPORT__=function(){function PathProxy(notSaveData){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,notSaveData&&(this._saveData=!1),this._saveData&&(this.data=[])}var proto;return PathProxy.prototype.increaseVersion=function(){this._version++},PathProxy.prototype.getVersion=function(){return this._version},PathProxy.prototype.setScale=function(sx,sy,segmentIgnoreThreshold){(segmentIgnoreThreshold=segmentIgnoreThreshold||0)>0&&(this._ux=mathAbs(segmentIgnoreThreshold/_config_js__WEBPACK_IMPORTED_MODULE_0__.KL/sx)||0,this._uy=mathAbs(segmentIgnoreThreshold/_config_js__WEBPACK_IMPORTED_MODULE_0__.KL/sy)||0)},PathProxy.prototype.setDPR=function(dpr){this.dpr=dpr},PathProxy.prototype.setContext=function(ctx){this._ctx=ctx},PathProxy.prototype.getContext=function(){return this._ctx},PathProxy.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},PathProxy.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},PathProxy.prototype.moveTo=function(x,y){return this._drawPendingPt(),this.addData(CMD.M,x,y),this._ctx&&this._ctx.moveTo(x,y),this._x0=x,this._y0=y,this._xi=x,this._yi=y,this},PathProxy.prototype.lineTo=function(x,y){var dx=mathAbs(x-this._xi),dy=mathAbs(y-this._yi),exceedUnit=dx>this._ux||dy>this._uy;if(this.addData(CMD.L,x,y),this._ctx&&exceedUnit&&this._ctx.lineTo(x,y),exceedUnit)this._xi=x,this._yi=y,this._pendingPtDist=0;else{var d2=dx*dx+dy*dy;d2>this._pendingPtDist&&(this._pendingPtX=x,this._pendingPtY=y,this._pendingPtDist=d2)}return this},PathProxy.prototype.bezierCurveTo=function(x1,y1,x2,y2,x3,y3){return this._drawPendingPt(),this.addData(CMD.C,x1,y1,x2,y2,x3,y3),this._ctx&&this._ctx.bezierCurveTo(x1,y1,x2,y2,x3,y3),this._xi=x3,this._yi=y3,this},PathProxy.prototype.quadraticCurveTo=function(x1,y1,x2,y2){return this._drawPendingPt(),this.addData(CMD.Q,x1,y1,x2,y2),this._ctx&&this._ctx.quadraticCurveTo(x1,y1,x2,y2),this._xi=x2,this._yi=y2,this},PathProxy.prototype.arc=function(cx,cy,r,startAngle,endAngle,anticlockwise){this._drawPendingPt(),tmpAngles[0]=startAngle,tmpAngles[1]=endAngle,normalizeArcAngles(tmpAngles,anticlockwise),startAngle=tmpAngles[0];var delta=(endAngle=tmpAngles[1])-startAngle;return this.addData(CMD.A,cx,cy,r,r,startAngle,delta,0,anticlockwise?0:1),this._ctx&&this._ctx.arc(cx,cy,r,startAngle,endAngle,anticlockwise),this._xi=mathCos(endAngle)*r+cx,this._yi=mathSin(endAngle)*r+cy,this},PathProxy.prototype.arcTo=function(x1,y1,x2,y2,radius){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(x1,y1,x2,y2,radius),this},PathProxy.prototype.rect=function(x,y,w,h){return this._drawPendingPt(),this._ctx&&this._ctx.rect(x,y,w,h),this.addData(CMD.R,x,y,w,h),this},PathProxy.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD.Z);var ctx=this._ctx,x0=this._x0,y0=this._y0;return ctx&&ctx.closePath(),this._xi=x0,this._yi=y0,this},PathProxy.prototype.fill=function(ctx){ctx&&ctx.fill(),this.toStatic()},PathProxy.prototype.stroke=function(ctx){ctx&&ctx.stroke(),this.toStatic()},PathProxy.prototype.len=function(){return this._len},PathProxy.prototype.setData=function(data){var len=data.length;this.data&&this.data.length===len||!hasTypedArray||(this.data=new Float32Array(len));for(var i=0;i<len;i++)this.data[i]=data[i];this._len=len},PathProxy.prototype.appendPath=function(path){path instanceof Array||(path=[path]);for(var len=path.length,appendSize=0,offset=this._len,i=0;i<len;i++)appendSize+=path[i].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(offset+appendSize));for(i=0;i<len;i++)for(var appendPathData=path[i].data,k=0;k<appendPathData.length;k++)this.data[offset++]=appendPathData[k];this._len=offset},PathProxy.prototype.addData=function(cmd,a,b,c,d,e,f,g,h){if(this._saveData){var data=this.data;this._len+arguments.length>data.length&&(this._expandData(),data=this.data);for(var i=0;i<arguments.length;i++)data[this._len++]=arguments[i]}},PathProxy.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},PathProxy.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var newData=[],i=0;i<this._len;i++)newData[i]=this.data[i];this.data=newData}},PathProxy.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var data=this.data;data instanceof Array&&(data.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(data)))}},PathProxy.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var i,data=this.data,xi=0,yi=0,x0=0,y0=0;for(i=0;i<this._len;){var cmd=data[i++],isFirst=1===i;switch(isFirst&&(x0=xi=data[i],y0=yi=data[i+1]),cmd){case CMD.M:xi=x0=data[i++],yi=y0=data[i++],min2[0]=x0,min2[1]=y0,max2[0]=x0,max2[1]=y0;break;case CMD.L:(0,_bbox_js__WEBPACK_IMPORTED_MODULE_1__.u4)(xi,yi,data[i],data[i+1],min2,max2),xi=data[i++],yi=data[i++];break;case CMD.C:(0,_bbox_js__WEBPACK_IMPORTED_MODULE_1__.H9)(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],min2,max2),xi=data[i++],yi=data[i++];break;case CMD.Q:(0,_bbox_js__WEBPACK_IMPORTED_MODULE_1__.mJ)(xi,yi,data[i++],data[i++],data[i],data[i+1],min2,max2),xi=data[i++],yi=data[i++];break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],endAngle=data[i++]+startAngle;i+=1;var anticlockwise=!data[i++];isFirst&&(x0=mathCos(startAngle)*rx+cx,y0=mathSin(startAngle)*ry+cy),(0,_bbox_js__WEBPACK_IMPORTED_MODULE_1__.qL)(cx,cy,rx,ry,startAngle,endAngle,anticlockwise,min2,max2),xi=mathCos(endAngle)*rx+cx,yi=mathSin(endAngle)*ry+cy;break;case CMD.R:x0=xi=data[i++],y0=yi=data[i++];var width=data[i++],height=data[i++];(0,_bbox_js__WEBPACK_IMPORTED_MODULE_1__.u4)(x0,y0,x0+width,y0+height,min2,max2);break;case CMD.Z:xi=x0,yi=y0}_vector_js__WEBPACK_IMPORTED_MODULE_2__.min(min,min,min2),_vector_js__WEBPACK_IMPORTED_MODULE_2__.max(max,max,max2)}return 0===i&&(min[0]=min[1]=max[0]=max[1]=0),new _BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(min[0],min[1],max[0]-min[0],max[1]-min[1])},PathProxy.prototype._calculateLength=function(){var data=this.data,len=this._len,ux=this._ux,uy=this._uy,xi=0,yi=0,x0=0,y0=0;this._pathSegLen||(this._pathSegLen=[]);for(var pathSegLen=this._pathSegLen,pathTotalLen=0,segCount=0,i=0;i<len;){var cmd=data[i++],isFirst=1===i;isFirst&&(x0=xi=data[i],y0=yi=data[i+1]);var l=-1;switch(cmd){case CMD.M:xi=x0=data[i++],yi=y0=data[i++];break;case CMD.L:var x2=data[i++],dy=(y2=data[i++])-yi;(mathAbs(dx=x2-xi)>ux||mathAbs(dy)>uy||i===len-1)&&(l=Math.sqrt(dx*dx+dy*dy),xi=x2,yi=y2);break;case CMD.C:var x1=data[i++],y1=data[i++],y2=(x2=data[i++],data[i++]),x3=data[i++],y3=data[i++];l=(0,_curve_js__WEBPACK_IMPORTED_MODULE_4__.Ci)(xi,yi,x1,y1,x2,y2,x3,y3,10),xi=x3,yi=y3;break;case CMD.Q:x1=data[i++],y1=data[i++],x2=data[i++],y2=data[i++];l=(0,_curve_js__WEBPACK_IMPORTED_MODULE_4__.wQ)(xi,yi,x1,y1,x2,y2,10),xi=x2,yi=y2;break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],delta=data[i++],endAngle=delta+startAngle;i+=1;data[i++];isFirst&&(x0=mathCos(startAngle)*rx+cx,y0=mathSin(startAngle)*ry+cy),l=mathMax(rx,ry)*mathMin(PI2,Math.abs(delta)),xi=mathCos(endAngle)*rx+cx,yi=mathSin(endAngle)*ry+cy;break;case CMD.R:x0=xi=data[i++],y0=yi=data[i++],l=2*data[i++]+2*data[i++];break;case CMD.Z:var dx=x0-xi;dy=y0-yi;l=Math.sqrt(dx*dx+dy*dy),xi=x0,yi=y0}l>=0&&(pathSegLen[segCount++]=l,pathTotalLen+=l)}return this._pathLen=pathTotalLen,pathTotalLen},PathProxy.prototype.rebuildPath=function(ctx,percent){var x0,y0,xi,yi,x,y,pathSegLen,displayedLength,pendingPtX,pendingPtY,d=this.data,ux=this._ux,uy=this._uy,len=this._len,drawPart=percent<1,accumLength=0,segCount=0,pendingPtDist=0;if(!drawPart||(this._pathSegLen||this._calculateLength(),pathSegLen=this._pathSegLen,displayedLength=percent*this._pathLen))lo:for(var i=0;i<len;){var cmd=d[i++],isFirst=1===i;switch(isFirst&&(x0=xi=d[i],y0=yi=d[i+1]),cmd!==CMD.L&&pendingPtDist>0&&(ctx.lineTo(pendingPtX,pendingPtY),pendingPtDist=0),cmd){case CMD.M:x0=xi=d[i++],y0=yi=d[i++],ctx.moveTo(xi,yi);break;case CMD.L:x=d[i++],y=d[i++];var dx=mathAbs(x-xi),dy=mathAbs(y-yi);if(dx>ux||dy>uy){if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){var t=(displayedLength-accumLength)/l;ctx.lineTo(xi*(1-t)+x*t,yi*(1-t)+y*t);break lo}accumLength+=l}ctx.lineTo(x,y),xi=x,yi=y,pendingPtDist=0}else{var d2=dx*dx+dy*dy;d2>pendingPtDist&&(pendingPtX=x,pendingPtY=y,pendingPtDist=d2)}break;case CMD.C:var x1=d[i++],y1=d[i++],x2=d[i++],y2=d[i++],x3=d[i++],y3=d[i++];if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){t=(displayedLength-accumLength)/l;(0,_curve_js__WEBPACK_IMPORTED_MODULE_4__.Vz)(xi,x1,x2,x3,t,tmpOutX),(0,_curve_js__WEBPACK_IMPORTED_MODULE_4__.Vz)(yi,y1,y2,y3,t,tmpOutY),ctx.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break lo}accumLength+=l}ctx.bezierCurveTo(x1,y1,x2,y2,x3,y3),xi=x3,yi=y3;break;case CMD.Q:x1=d[i++],y1=d[i++],x2=d[i++],y2=d[i++];if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){t=(displayedLength-accumLength)/l;(0,_curve_js__WEBPACK_IMPORTED_MODULE_4__.Lx)(xi,x1,x2,t,tmpOutX),(0,_curve_js__WEBPACK_IMPORTED_MODULE_4__.Lx)(yi,y1,y2,t,tmpOutY),ctx.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break lo}accumLength+=l}ctx.quadraticCurveTo(x1,y1,x2,y2),xi=x2,yi=y2;break;case CMD.A:var cx=d[i++],cy=d[i++],rx=d[i++],ry=d[i++],startAngle=d[i++],delta=d[i++],psi=d[i++],anticlockwise=!d[i++],r=rx>ry?rx:ry,isEllipse=mathAbs(rx-ry)>.001,endAngle=startAngle+delta,breakBuild=!1;if(drawPart)accumLength+(l=pathSegLen[segCount++])>displayedLength&&(endAngle=startAngle+delta*(displayedLength-accumLength)/l,breakBuild=!0),accumLength+=l;if(isEllipse&&ctx.ellipse?ctx.ellipse(cx,cy,rx,ry,psi,startAngle,endAngle,anticlockwise):ctx.arc(cx,cy,r,startAngle,endAngle,anticlockwise),breakBuild)break lo;isFirst&&(x0=mathCos(startAngle)*rx+cx,y0=mathSin(startAngle)*ry+cy),xi=mathCos(endAngle)*rx+cx,yi=mathSin(endAngle)*ry+cy;break;case CMD.R:x0=xi=d[i],y0=yi=d[i+1],x=d[i++],y=d[i++];var width=d[i++],height=d[i++];if(drawPart){if(accumLength+(l=pathSegLen[segCount++])>displayedLength){var d_1=displayedLength-accumLength;ctx.moveTo(x,y),ctx.lineTo(x+mathMin(d_1,width),y),(d_1-=width)>0&&ctx.lineTo(x+width,y+mathMin(d_1,height)),(d_1-=height)>0&&ctx.lineTo(x+mathMax(width-d_1,0),y+height),(d_1-=width)>0&&ctx.lineTo(x,y+mathMax(height-d_1,0));break lo}accumLength+=l}ctx.rect(x,y,width,height);break;case CMD.Z:if(drawPart){var l;if(accumLength+(l=pathSegLen[segCount++])>displayedLength){t=(displayedLength-accumLength)/l;ctx.lineTo(xi*(1-t)+x0*t,yi*(1-t)+y0*t);break lo}accumLength+=l}ctx.closePath(),xi=x0,yi=y0}}},PathProxy.prototype.clone=function(){var newProxy=new PathProxy,data=this.data;return newProxy.data=data.slice?data.slice():Array.prototype.slice.call(data),newProxy._len=this._len,newProxy},PathProxy.CMD=CMD,PathProxy.initDefaultProps=((proto=PathProxy.prototype)._saveData=!0,proto._ux=0,proto._uy=0,proto._pendingPtDist=0,void(proto._version=0)),PathProxy}()},"./node_modules/zrender/lib/core/Point.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(){function Point(x,y){this.x=x||0,this.y=y||0}return Point.prototype.copy=function(other){return this.x=other.x,this.y=other.y,this},Point.prototype.clone=function(){return new Point(this.x,this.y)},Point.prototype.set=function(x,y){return this.x=x,this.y=y,this},Point.prototype.equal=function(other){return other.x===this.x&&other.y===this.y},Point.prototype.add=function(other){return this.x+=other.x,this.y+=other.y,this},Point.prototype.scale=function(scalar){this.x*=scalar,this.y*=scalar},Point.prototype.scaleAndAdd=function(other,scalar){this.x+=other.x*scalar,this.y+=other.y*scalar},Point.prototype.sub=function(other){return this.x-=other.x,this.y-=other.y,this},Point.prototype.dot=function(other){return this.x*other.x+this.y*other.y},Point.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Point.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Point.prototype.normalize=function(){var len=this.len();return this.x/=len,this.y/=len,this},Point.prototype.distance=function(other){var dx=this.x-other.x,dy=this.y-other.y;return Math.sqrt(dx*dx+dy*dy)},Point.prototype.distanceSquare=function(other){var dx=this.x-other.x,dy=this.y-other.y;return dx*dx+dy*dy},Point.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Point.prototype.transform=function(m){if(m){var x=this.x,y=this.y;return this.x=m[0]*x+m[2]*y+m[4],this.y=m[1]*x+m[3]*y+m[5],this}},Point.prototype.toArray=function(out){return out[0]=this.x,out[1]=this.y,out},Point.prototype.fromArray=function(input){this.x=input[0],this.y=input[1]},Point.set=function(p,x,y){p.x=x,p.y=y},Point.copy=function(p,p2){p.x=p2.x,p.y=p2.y},Point.len=function(p){return Math.sqrt(p.x*p.x+p.y*p.y)},Point.lenSquare=function(p){return p.x*p.x+p.y*p.y},Point.dot=function(p0,p1){return p0.x*p1.x+p0.y*p1.y},Point.add=function(out,p0,p1){out.x=p0.x+p1.x,out.y=p0.y+p1.y},Point.sub=function(out,p0,p1){out.x=p0.x-p1.x,out.y=p0.y-p1.y},Point.scale=function(out,p0,scalar){out.x=p0.x*scalar,out.y=p0.y*scalar},Point.scaleAndAdd=function(out,p0,p1,scalar){out.x=p0.x+p1.x*scalar,out.y=p0.y+p1.y*scalar},Point.lerp=function(out,p0,p1,t){var onet=1-t;out.x=onet*p0.x+t*p1.x,out.y=onet*p0.y+t*p1.y},Point}()},"./node_modules/zrender/lib/core/Transformable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,dN:()=>TRANSFORMABLE_PROPS,kY:()=>copyTransform});var _matrix_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),_vector_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),mIdentity=_matrix_js__WEBPACK_IMPORTED_MODULE_0__.identity;function isNotAroundZero(val){return val>5e-5||val<-5e-5}var scaleTmp=[],tmpTransform=[],originTransform=_matrix_js__WEBPACK_IMPORTED_MODULE_0__.create(),abs=Math.abs,Transformable=function(){function Transformable(){}var proto;return Transformable.prototype.getLocalTransform=function(m){return Transformable.getLocalTransform(this,m)},Transformable.prototype.setPosition=function(arr){this.x=arr[0],this.y=arr[1]},Transformable.prototype.setScale=function(arr){this.scaleX=arr[0],this.scaleY=arr[1]},Transformable.prototype.setSkew=function(arr){this.skewX=arr[0],this.skewY=arr[1]},Transformable.prototype.setOrigin=function(arr){this.originX=arr[0],this.originY=arr[1]},Transformable.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},Transformable.prototype.updateTransform=function(){var parentTransform=this.parent&&this.parent.transform,needLocalTransform=this.needLocalTransform(),m=this.transform;needLocalTransform||parentTransform?(m=m||_matrix_js__WEBPACK_IMPORTED_MODULE_0__.create(),needLocalTransform?this.getLocalTransform(m):mIdentity(m),parentTransform&&(needLocalTransform?_matrix_js__WEBPACK_IMPORTED_MODULE_0__.mul(m,parentTransform,m):_matrix_js__WEBPACK_IMPORTED_MODULE_0__.copy(m,parentTransform)),this.transform=m,this._resolveGlobalScaleRatio(m)):m&&(mIdentity(m),this.invTransform=null)},Transformable.prototype._resolveGlobalScaleRatio=function(m){var globalScaleRatio=this.globalScaleRatio;if(null!=globalScaleRatio&&1!==globalScaleRatio){this.getGlobalScale(scaleTmp);var relX=scaleTmp[0]<0?-1:1,relY=scaleTmp[1]<0?-1:1,sx=((scaleTmp[0]-relX)*globalScaleRatio+relX)/scaleTmp[0]||0,sy=((scaleTmp[1]-relY)*globalScaleRatio+relY)/scaleTmp[1]||0;m[0]*=sx,m[1]*=sx,m[2]*=sy,m[3]*=sy}this.invTransform=this.invTransform||_matrix_js__WEBPACK_IMPORTED_MODULE_0__.create(),_matrix_js__WEBPACK_IMPORTED_MODULE_0__.invert(this.invTransform,m)},Transformable.prototype.getComputedTransform=function(){for(var transformNode=this,ancestors=[];transformNode;)ancestors.push(transformNode),transformNode=transformNode.parent;for(;transformNode=ancestors.pop();)transformNode.updateTransform();return this.transform},Transformable.prototype.setLocalTransform=function(m){if(m){var sx=m[0]*m[0]+m[1]*m[1],sy=m[2]*m[2]+m[3]*m[3],rotation=Math.atan2(m[1],m[0]),shearX=Math.PI/2+rotation-Math.atan2(m[3],m[2]);sy=Math.sqrt(sy)*Math.cos(shearX),sx=Math.sqrt(sx),this.skewX=shearX,this.skewY=0,this.rotation=-rotation,this.x=+m[4],this.y=+m[5],this.scaleX=sx,this.scaleY=sy,this.originX=0,this.originY=0}},Transformable.prototype.decomposeTransform=function(){if(this.transform){var parent=this.parent,m=this.transform;parent&&parent.transform&&(_matrix_js__WEBPACK_IMPORTED_MODULE_0__.mul(tmpTransform,parent.invTransform,m),m=tmpTransform);var ox=this.originX,oy=this.originY;(ox||oy)&&(originTransform[4]=ox,originTransform[5]=oy,_matrix_js__WEBPACK_IMPORTED_MODULE_0__.mul(tmpTransform,m,originTransform),tmpTransform[4]-=ox,tmpTransform[5]-=oy,m=tmpTransform),this.setLocalTransform(m)}},Transformable.prototype.getGlobalScale=function(out){var m=this.transform;return out=out||[],m?(out[0]=Math.sqrt(m[0]*m[0]+m[1]*m[1]),out[1]=Math.sqrt(m[2]*m[2]+m[3]*m[3]),m[0]<0&&(out[0]=-out[0]),m[3]<0&&(out[1]=-out[1]),out):(out[0]=1,out[1]=1,out)},Transformable.prototype.transformCoordToLocal=function(x,y){var v2=[x,y],invTransform=this.invTransform;return invTransform&&_vector_js__WEBPACK_IMPORTED_MODULE_1__.applyTransform(v2,v2,invTransform),v2},Transformable.prototype.transformCoordToGlobal=function(x,y){var v2=[x,y],transform=this.transform;return transform&&_vector_js__WEBPACK_IMPORTED_MODULE_1__.applyTransform(v2,v2,transform),v2},Transformable.prototype.getLineScale=function(){var m=this.transform;return m&&abs(m[0]-1)>1e-10&&abs(m[3]-1)>1e-10?Math.sqrt(abs(m[0]*m[3]-m[2]*m[1])):1},Transformable.prototype.copyTransform=function(source){copyTransform(this,source)},Transformable.getLocalTransform=function(target,m){m=m||[];var ox=target.originX||0,oy=target.originY||0,sx=target.scaleX,sy=target.scaleY,ax=target.anchorX,ay=target.anchorY,rotation=target.rotation||0,x=target.x,y=target.y,skewX=target.skewX?Math.tan(target.skewX):0,skewY=target.skewY?Math.tan(-target.skewY):0;if(ox||oy||ax||ay){var dx=ox+ax,dy=oy+ay;m[4]=-dx*sx-skewX*dy*sy,m[5]=-dy*sy-skewY*dx*sx}else m[4]=m[5]=0;return m[0]=sx,m[3]=sy,m[1]=skewY*sx,m[2]=skewX*sy,rotation&&_matrix_js__WEBPACK_IMPORTED_MODULE_0__.rotate(m,m,rotation),m[4]+=ox+x,m[5]+=oy+y,m},Transformable.initDefaultProps=((proto=Transformable.prototype).scaleX=proto.scaleY=proto.globalScaleRatio=1,void(proto.x=proto.y=proto.originX=proto.originY=proto.skewX=proto.skewY=proto.rotation=proto.anchorX=proto.anchorY=0)),Transformable}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(target,source){for(var i=0;i<TRANSFORMABLE_PROPS.length;i++){var propName=TRANSFORMABLE_PROPS[i];target[propName]=source[propName]}}const __WEBPACK_DEFAULT_EXPORT__=Transformable},"./node_modules/zrender/lib/core/bbox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H9:()=>fromCubic,mJ:()=>fromQuadratic,qL:()=>fromArc,u4:()=>fromLine,zk:()=>fromPoints});var _vector_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),_curve_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/curve.js"),mathMin=Math.min,mathMax=Math.max,mathSin=Math.sin,mathCos=Math.cos,PI2=2*Math.PI,start=_vector_js__WEBPACK_IMPORTED_MODULE_0__.create(),end=_vector_js__WEBPACK_IMPORTED_MODULE_0__.create(),extremity=_vector_js__WEBPACK_IMPORTED_MODULE_0__.create();function fromPoints(points,min,max){if(0!==points.length){for(var p=points[0],left=p[0],right=p[0],top=p[1],bottom=p[1],i=1;i<points.length;i++)p=points[i],left=mathMin(left,p[0]),right=mathMax(right,p[0]),top=mathMin(top,p[1]),bottom=mathMax(bottom,p[1]);min[0]=left,min[1]=top,max[0]=right,max[1]=bottom}}function fromLine(x0,y0,x1,y1,min,max){min[0]=mathMin(x0,x1),min[1]=mathMin(y0,y1),max[0]=mathMax(x0,x1),max[1]=mathMax(y0,y1)}var xDim=[],yDim=[];function fromCubic(x0,y0,x1,y1,x2,y2,x3,y3,min,max){var cubicExtrema=_curve_js__WEBPACK_IMPORTED_MODULE_1__.pP,cubicAt=_curve_js__WEBPACK_IMPORTED_MODULE_1__.af,n=cubicExtrema(x0,x1,x2,x3,xDim);min[0]=1/0,min[1]=1/0,max[0]=-1/0,max[1]=-1/0;for(var i=0;i<n;i++){var x=cubicAt(x0,x1,x2,x3,xDim[i]);min[0]=mathMin(x,min[0]),max[0]=mathMax(x,max[0])}n=cubicExtrema(y0,y1,y2,y3,yDim);for(i=0;i<n;i++){var y=cubicAt(y0,y1,y2,y3,yDim[i]);min[1]=mathMin(y,min[1]),max[1]=mathMax(y,max[1])}min[0]=mathMin(x0,min[0]),max[0]=mathMax(x0,max[0]),min[0]=mathMin(x3,min[0]),max[0]=mathMax(x3,max[0]),min[1]=mathMin(y0,min[1]),max[1]=mathMax(y0,max[1]),min[1]=mathMin(y3,min[1]),max[1]=mathMax(y3,max[1])}function fromQuadratic(x0,y0,x1,y1,x2,y2,min,max){var quadraticExtremum=_curve_js__WEBPACK_IMPORTED_MODULE_1__.QC,quadraticAt=_curve_js__WEBPACK_IMPORTED_MODULE_1__.Zm,tx=mathMax(mathMin(quadraticExtremum(x0,x1,x2),1),0),ty=mathMax(mathMin(quadraticExtremum(y0,y1,y2),1),0),x=quadraticAt(x0,x1,x2,tx),y=quadraticAt(y0,y1,y2,ty);min[0]=mathMin(x0,x2,x),min[1]=mathMin(y0,y2,y),max[0]=mathMax(x0,x2,x),max[1]=mathMax(y0,y2,y)}function fromArc(x,y,rx,ry,startAngle,endAngle,anticlockwise,min,max){var vec2Min=_vector_js__WEBPACK_IMPORTED_MODULE_0__.min,vec2Max=_vector_js__WEBPACK_IMPORTED_MODULE_0__.max,diff=Math.abs(startAngle-endAngle);if(diff%PI2<1e-4&&diff>1e-4)return min[0]=x-rx,min[1]=y-ry,max[0]=x+rx,void(max[1]=y+ry);if(start[0]=mathCos(startAngle)*rx+x,start[1]=mathSin(startAngle)*ry+y,end[0]=mathCos(endAngle)*rx+x,end[1]=mathSin(endAngle)*ry+y,vec2Min(min,start,end),vec2Max(max,start,end),(startAngle%=PI2)<0&&(startAngle+=PI2),(endAngle%=PI2)<0&&(endAngle+=PI2),startAngle>endAngle&&!anticlockwise?endAngle+=PI2:startAngle<endAngle&&anticlockwise&&(startAngle+=PI2),anticlockwise){var tmp=endAngle;endAngle=startAngle,startAngle=tmp}for(var angle=0;angle<endAngle;angle+=Math.PI/2)angle>startAngle&&(extremity[0]=mathCos(angle)*rx+x,extremity[1]=mathSin(angle)*ry+y,vec2Min(min,extremity,min),vec2Max(max,extremity,max))}},"./node_modules/zrender/lib/core/curve.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AZ:()=>quadraticDerivativeAt,Ci:()=>cubicLength,Jz:()=>quadraticRootAt,Lx:()=>quadraticSubdivide,QC:()=>quadraticExtremum,Vz:()=>cubicSubdivide,Wr:()=>quadraticProjectPoint,X_:()=>cubicDerivativeAt,Zm:()=>quadraticAt,af:()=>cubicAt,kD:()=>cubicRootAt,pP:()=>cubicExtrema,t1:()=>cubicProjectPoint,wQ:()=>quadraticLength});var _vector_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),mathPow=Math.pow,mathSqrt=Math.sqrt,EPSILON=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt(3),ONE_THIRD=1/3,_v0=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.create)(),_v1=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.create)(),_v2=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.create)();function isAroundZero(val){return val>-EPSILON&&val<EPSILON}function isNotAroundZero(val){return val>EPSILON||val<-EPSILON}function cubicAt(p0,p1,p2,p3,t){var onet=1-t;return onet*onet*(onet*p0+3*t*p1)+t*t*(t*p3+3*onet*p2)}function cubicDerivativeAt(p0,p1,p2,p3,t){var onet=1-t;return 3*(((p1-p0)*onet+2*(p2-p1)*t)*onet+(p3-p2)*t*t)}function cubicRootAt(p0,p1,p2,p3,val,roots){var a=p3+3*(p1-p2)-p0,b=3*(p2-2*p1+p0),c=3*(p1-p0),d=p0-val,A=b*b-3*a*c,B=b*c-9*a*d,C=c*c-3*b*d,n=0;if(isAroundZero(A)&&isAroundZero(B)){if(isAroundZero(b))roots[0]=0;else(t1=-c/b)>=0&&t1<=1&&(roots[n++]=t1)}else{var disc=B*B-4*A*C;if(isAroundZero(disc)){var K=B/A,t2=-K/2;(t1=-b/a+K)>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}else if(disc>0){var discSqrt=mathSqrt(disc),Y1=A*b+1.5*a*(-B+discSqrt),Y2=A*b+1.5*a*(-B-discSqrt);(t1=(-b-((Y1=Y1<0?-mathPow(-Y1,ONE_THIRD):mathPow(Y1,ONE_THIRD))+(Y2=Y2<0?-mathPow(-Y2,ONE_THIRD):mathPow(Y2,ONE_THIRD))))/(3*a))>=0&&t1<=1&&(roots[n++]=t1)}else{var T=(2*A*b-3*a*B)/(2*mathSqrt(A*A*A)),theta=Math.acos(T)/3,ASqrt=mathSqrt(A),tmp=Math.cos(theta),t1=(-b-2*ASqrt*tmp)/(3*a),t3=(t2=(-b+ASqrt*(tmp+THREE_SQRT*Math.sin(theta)))/(3*a),(-b+ASqrt*(tmp-THREE_SQRT*Math.sin(theta)))/(3*a));t1>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2),t3>=0&&t3<=1&&(roots[n++]=t3)}}return n}function cubicExtrema(p0,p1,p2,p3,extrema){var b=6*p2-12*p1+6*p0,a=9*p1+3*p3-3*p0-9*p2,c=3*p1-3*p0,n=0;if(isAroundZero(a)){if(isNotAroundZero(b))(t1=-c/b)>=0&&t1<=1&&(extrema[n++]=t1)}else{var disc=b*b-4*a*c;if(isAroundZero(disc))extrema[0]=-b/(2*a);else if(disc>0){var t1,discSqrt=mathSqrt(disc),t2=(-b-discSqrt)/(2*a);(t1=(-b+discSqrt)/(2*a))>=0&&t1<=1&&(extrema[n++]=t1),t2>=0&&t2<=1&&(extrema[n++]=t2)}}return n}function cubicSubdivide(p0,p1,p2,p3,t,out){var p01=(p1-p0)*t+p0,p12=(p2-p1)*t+p1,p23=(p3-p2)*t+p2,p012=(p12-p01)*t+p01,p123=(p23-p12)*t+p12,p0123=(p123-p012)*t+p012;out[0]=p0,out[1]=p01,out[2]=p012,out[3]=p0123,out[4]=p0123,out[5]=p123,out[6]=p23,out[7]=p3}function cubicProjectPoint(x0,y0,x1,y1,x2,y2,x3,y3,x,y,out){var t,prev,next,d1,d2,interval=.005,d=1/0;_v0[0]=x,_v0[1]=y;for(var _t=0;_t<1;_t+=.05)_v1[0]=cubicAt(x0,x1,x2,x3,_t),_v1[1]=cubicAt(y0,y1,y2,y3,_t),(d1=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.distSquare)(_v0,_v1))<d&&(t=_t,d=d1);d=1/0;for(var i=0;i<32&&!(interval<EPSILON_NUMERIC);i++)prev=t-interval,next=t+interval,_v1[0]=cubicAt(x0,x1,x2,x3,prev),_v1[1]=cubicAt(y0,y1,y2,y3,prev),d1=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.distSquare)(_v1,_v0),prev>=0&&d1<d?(t=prev,d=d1):(_v2[0]=cubicAt(x0,x1,x2,x3,next),_v2[1]=cubicAt(y0,y1,y2,y3,next),d2=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.distSquare)(_v2,_v0),next<=1&&d2<d?(t=next,d=d2):interval*=.5);return out&&(out[0]=cubicAt(x0,x1,x2,x3,t),out[1]=cubicAt(y0,y1,y2,y3,t)),mathSqrt(d)}function cubicLength(x0,y0,x1,y1,x2,y2,x3,y3,iteration){for(var px=x0,py=y0,d=0,step=1/iteration,i=1;i<=iteration;i++){var t=i*step,x=cubicAt(x0,x1,x2,x3,t),y=cubicAt(y0,y1,y2,y3,t),dx=x-px,dy=y-py;d+=Math.sqrt(dx*dx+dy*dy),px=x,py=y}return d}function quadraticAt(p0,p1,p2,t){var onet=1-t;return onet*(onet*p0+2*t*p1)+t*t*p2}function quadraticDerivativeAt(p0,p1,p2,t){return 2*((1-t)*(p1-p0)+t*(p2-p1))}function quadraticRootAt(p0,p1,p2,val,roots){var a=p0-2*p1+p2,b=2*(p1-p0),c=p0-val,n=0;if(isAroundZero(a)){if(isNotAroundZero(b))(t1=-c/b)>=0&&t1<=1&&(roots[n++]=t1)}else{var disc=b*b-4*a*c;if(isAroundZero(disc))(t1=-b/(2*a))>=0&&t1<=1&&(roots[n++]=t1);else if(disc>0){var t1,discSqrt=mathSqrt(disc),t2=(-b-discSqrt)/(2*a);(t1=(-b+discSqrt)/(2*a))>=0&&t1<=1&&(roots[n++]=t1),t2>=0&&t2<=1&&(roots[n++]=t2)}}return n}function quadraticExtremum(p0,p1,p2){var divider=p0+p2-2*p1;return 0===divider?.5:(p0-p1)/divider}function quadraticSubdivide(p0,p1,p2,t,out){var p01=(p1-p0)*t+p0,p12=(p2-p1)*t+p1,p012=(p12-p01)*t+p01;out[0]=p0,out[1]=p01,out[2]=p012,out[3]=p012,out[4]=p12,out[5]=p2}function quadraticProjectPoint(x0,y0,x1,y1,x2,y2,x,y,out){var t,interval=.005,d=1/0;_v0[0]=x,_v0[1]=y;for(var _t=0;_t<1;_t+=.05){_v1[0]=quadraticAt(x0,x1,x2,_t),_v1[1]=quadraticAt(y0,y1,y2,_t),(d1=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.distSquare)(_v0,_v1))<d&&(t=_t,d=d1)}d=1/0;for(var i=0;i<32&&!(interval<EPSILON_NUMERIC);i++){var prev=t-interval,next=t+interval;_v1[0]=quadraticAt(x0,x1,x2,prev),_v1[1]=quadraticAt(y0,y1,y2,prev);var d1=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.distSquare)(_v1,_v0);if(prev>=0&&d1<d)t=prev,d=d1;else{_v2[0]=quadraticAt(x0,x1,x2,next),_v2[1]=quadraticAt(y0,y1,y2,next);var d2=(0,_vector_js__WEBPACK_IMPORTED_MODULE_0__.distSquare)(_v2,_v0);next<=1&&d2<d?(t=next,d=d2):interval*=.5}}return out&&(out[0]=quadraticAt(x0,x1,x2,t),out[1]=quadraticAt(y0,y1,y2,t)),mathSqrt(d)}function quadraticLength(x0,y0,x1,y1,x2,y2,iteration){for(var px=x0,py=y0,d=0,step=1/iteration,i=1;i<=iteration;i++){var t=i*step,x=quadraticAt(x0,x1,x2,t),y=quadraticAt(y0,y1,y2,t),dx=x-px,dy=y-py;d+=Math.sqrt(dx*dx+dy*dy),px=x,py=y}return d}},"./node_modules/zrender/lib/core/dom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F1:()=>encodeHTML,UK:()=>isCanvasEl,A4:()=>transformCoordWithViewport,YB:()=>transformLocalCoord});var env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),LN2=Math.log(2);function determinant(rows,rank,rowStart,rowMask,colMask,detCache){var cacheKey=rowMask+"-"+colMask,fullRank=rows.length;if(detCache.hasOwnProperty(cacheKey))return detCache[cacheKey];if(1===rank){var colStart=Math.round(Math.log((1<<fullRank)-1&~colMask)/LN2);return rows[rowStart][colStart]}for(var subRowMask=rowMask|1<<rowStart,subRowStart=rowStart+1;rowMask&1<<subRowStart;)subRowStart++;for(var sum=0,j=0,colLocalIdx=0;j<fullRank;j++){var colTag=1<<j;colTag&colMask||(sum+=(colLocalIdx%2?-1:1)*rows[rowStart][j]*determinant(rows,rank-1,subRowStart,subRowMask,colMask|colTag,detCache),colLocalIdx++)}return detCache[cacheKey]=sum,sum}function buildTransformer(src,dest){var mA=[[src[0],src[1],1,0,0,0,-dest[0]*src[0],-dest[0]*src[1]],[0,0,0,src[0],src[1],1,-dest[1]*src[0],-dest[1]*src[1]],[src[2],src[3],1,0,0,0,-dest[2]*src[2],-dest[2]*src[3]],[0,0,0,src[2],src[3],1,-dest[3]*src[2],-dest[3]*src[3]],[src[4],src[5],1,0,0,0,-dest[4]*src[4],-dest[4]*src[5]],[0,0,0,src[4],src[5],1,-dest[5]*src[4],-dest[5]*src[5]],[src[6],src[7],1,0,0,0,-dest[6]*src[6],-dest[6]*src[7]],[0,0,0,src[6],src[7],1,-dest[7]*src[6],-dest[7]*src[7]]],detCache={},det=determinant(mA,8,0,0,0,detCache);if(0!==det){for(var vh=[],i=0;i<8;i++)for(var j=0;j<8;j++)null==vh[j]&&(vh[j]=0),vh[j]+=((i+j)%2?-1:1)*determinant(mA,7,0===i?1:0,1<<i,1<<j,detCache)/det*dest[i];return function(out,srcPointX,srcPointY){var pk=srcPointX*vh[6]+srcPointY*vh[7]+1;out[0]=(srcPointX*vh[0]+srcPointY*vh[1]+vh[2])/pk,out[1]=(srcPointX*vh[3]+srcPointY*vh[4]+vh[5])/pk}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut=[];function transformLocalCoord(out,elFrom,elTarget,inX,inY){return transformCoordWithViewport(_calcOut,elFrom,inX,inY,!0)&&transformCoordWithViewport(out,elTarget,_calcOut[0],_calcOut[1])}function transformCoordWithViewport(out,el,inX,inY,inverse){if(el.getBoundingClientRect&&env.Z.domSupported&&!isCanvasEl(el)){var saved=el[EVENT_SAVED_PROP]||(el[EVENT_SAVED_PROP]={}),markers=function prepareCoordMarkers(el,saved){var markers=saved.markers;if(markers)return markers;markers=saved.markers=[];for(var propLR=["left","right"],propTB=["top","bottom"],i=0;i<4;i++){var marker=document.createElement("div"),idxLR=i%2,idxTB=(i>>1)%2;marker.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",propLR[idxLR]+":0",propTB[idxTB]+":0",propLR[1-idxLR]+":auto",propTB[1-idxTB]+":auto",""].join("!important;"),el.appendChild(marker),markers.push(marker)}return markers}(el,saved),transformer=function preparePointerTransformer(markers,saved,inverse){for(var transformerName=inverse?"invTrans":"trans",transformer=saved[transformerName],oldSrcCoords=saved.srcCoords,srcCoords=[],destCoords=[],oldCoordTheSame=!0,i=0;i<4;i++){var rect=markers[i].getBoundingClientRect(),ii=2*i,x=rect.left,y=rect.top;srcCoords.push(x,y),oldCoordTheSame=oldCoordTheSame&&oldSrcCoords&&x===oldSrcCoords[ii]&&y===oldSrcCoords[ii+1],destCoords.push(markers[i].offsetLeft,markers[i].offsetTop)}return oldCoordTheSame&&transformer?transformer:(saved.srcCoords=srcCoords,saved[transformerName]=inverse?buildTransformer(destCoords,srcCoords):buildTransformer(srcCoords,destCoords))}(markers,saved,inverse);if(transformer)return transformer(out,inX,inY),!0}return!1}function isCanvasEl(el){return"CANVAS"===el.nodeName.toUpperCase()}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(source){return null==source?"":(source+"").replace(replaceReg,(function(str,c){return replaceMap[c]}))}},"./node_modules/zrender/lib/core/env.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var Browser=function Browser(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},env=new function Env(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(env.wxa=!0,env.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?env.worker=!0:"undefined"==typeof navigator?(env.node=!0,env.svgSupported=!0):function detect(ua,env){var browser=env.browser,firefox=ua.match(/Firefox\/([\d.]+)/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/.+?rv:(([\d.]+))/),edge=ua.match(/Edge?\/([\d.]+)/),weChat=/micromessenger/i.test(ua);firefox&&(browser.firefox=!0,browser.version=firefox[1]);ie&&(browser.ie=!0,browser.version=ie[1]);edge&&(browser.edge=!0,browser.version=edge[1],browser.newEdge=+edge[1].split(".")[0]>18);weChat&&(browser.weChat=!0);env.svgSupported="undefined"!=typeof SVGRect,env.touchEventsSupported="ontouchstart"in window&&!browser.ie&&!browser.edge,env.pointerEventsSupported="onpointerdown"in window&&(browser.edge||browser.ie&&+browser.version>=11),env.domSupported="undefined"!=typeof document;var style=document.documentElement.style;env.transform3dSupported=(browser.ie&&"transition"in style||browser.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in style)&&!("OTransition"in style),env.transformSupported=env.transform3dSupported||browser.ie&&+browser.version>=9}(navigator.userAgent,env);const __WEBPACK_DEFAULT_EXPORT__=env},"./node_modules/zrender/lib/core/event.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{OD:()=>normalizeEvent,Oo:()=>addEventListener,eV:()=>clientToLocal,iP:()=>getNativeEvent,sT:()=>stop,x1:()=>isMiddleOrRightButtonOnMouseUpDown,xg:()=>removeEventListener});var _env_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/env.js"),_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/dom.js"),MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=_env_js__WEBPACK_IMPORTED_MODULE_0__.Z.browser.firefox&&+_env_js__WEBPACK_IMPORTED_MODULE_0__.Z.browser.version.split(".")[0]<39;function clientToLocal(el,e,out,calculate){return out=out||{},calculate?calculateZrXY(el,e,out):firefoxNotSupportOffsetXY&&null!=e.layerX&&e.layerX!==e.offsetX?(out.zrX=e.layerX,out.zrY=e.layerY):null!=e.offsetX?(out.zrX=e.offsetX,out.zrY=e.offsetY):calculateZrXY(el,e,out),out}function calculateZrXY(el,e,out){if(_env_js__WEBPACK_IMPORTED_MODULE_0__.Z.domSupported&&el.getBoundingClientRect){var ex=e.clientX,ey=e.clientY;if((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.UK)(el)){var box=el.getBoundingClientRect();return out.zrX=ex-box.left,void(out.zrY=ey-box.top)}if((0,_dom_js__WEBPACK_IMPORTED_MODULE_1__.A4)(_calcOut,el,ex,ey))return out.zrX=_calcOut[0],void(out.zrY=_calcOut[1])}out.zrX=out.zrY=0}function getNativeEvent(e){return e||window.event}function normalizeEvent(el,e,calculate){if(null!=(e=getNativeEvent(e)).zrX)return e;var eventType=e.type;if(eventType&&eventType.indexOf("touch")>=0){var touch="touchend"!==eventType?e.targetTouches[0]:e.changedTouches[0];touch&&clientToLocal(el,touch,e,calculate)}else{clientToLocal(el,e,e,calculate);var wheelDelta=function getWheelDeltaMayPolyfill(e){var rawWheelDelta=e.wheelDelta;if(rawWheelDelta)return rawWheelDelta;var deltaX=e.deltaX,deltaY=e.deltaY;if(null==deltaX||null==deltaY)return rawWheelDelta;return 3*(0!==deltaY?Math.abs(deltaY):Math.abs(deltaX))*(deltaY>0?-1:deltaY<0?1:deltaX>0?-1:1)}(e);e.zrDelta=wheelDelta?wheelDelta/120:-(e.detail||0)/3}var button=e.button;return null==e.which&&void 0!==button&&MOUSE_EVENT_REG.test(e.type)&&(e.which=1&button?1:2&button?3:4&button?2:0),e}function addEventListener(el,name,handler,opt){el.addEventListener(name,handler,opt)}function removeEventListener(el,name,handler,opt){el.removeEventListener(name,handler,opt)}var stop=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(e){return 2===e.which||3===e.which}},"./node_modules/zrender/lib/core/matrix.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function create(){return[1,0,0,1,0,0]}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function copy(out,m){return out[0]=m[0],out[1]=m[1],out[2]=m[2],out[3]=m[3],out[4]=m[4],out[5]=m[5],out}function mul(out,m1,m2){var out0=m1[0]*m2[0]+m1[2]*m2[1],out1=m1[1]*m2[0]+m1[3]*m2[1],out2=m1[0]*m2[2]+m1[2]*m2[3],out3=m1[1]*m2[2]+m1[3]*m2[3],out4=m1[0]*m2[4]+m1[2]*m2[5]+m1[4],out5=m1[1]*m2[4]+m1[3]*m2[5]+m1[5];return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=out3,out[4]=out4,out[5]=out5,out}function translate(out,a,v){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4]+v[0],out[5]=a[5]+v[1],out}function rotate(out,a,rad){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],st=Math.sin(rad),ct=Math.cos(rad);return out[0]=aa*ct+ab*st,out[1]=-aa*st+ab*ct,out[2]=ac*ct+ad*st,out[3]=-ac*st+ct*ad,out[4]=ct*atx+st*aty,out[5]=ct*aty-st*atx,out}function scale(out,a,v){var vx=v[0],vy=v[1];return out[0]=a[0]*vx,out[1]=a[1]*vy,out[2]=a[2]*vx,out[3]=a[3]*vy,out[4]=a[4]*vx,out[5]=a[5]*vy,out}function invert(out,a){var aa=a[0],ac=a[2],atx=a[4],ab=a[1],ad=a[3],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function clone(a){var b=[1,0,0,1,0,0];return copy(b,a),b}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{clone:()=>clone,copy:()=>copy,create:()=>create,identity:()=>identity,invert:()=>invert,mul:()=>mul,rotate:()=>rotate,scale:()=>scale,translate:()=>translate})},"./node_modules/zrender/lib/core/platform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Uo:()=>DEFAULT_FONT,g2:()=>setPlatformAPI,n5:()=>DEFAULT_FONT_SIZE,qW:()=>platformApi,rk:()=>DEFAULT_FONT_FAMILY});var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY;var _ctx,_cachedFont,DEFAULT_TEXT_WIDTH_MAP=function getTextWidthMap(mapStr){var map={};if("undefined"==typeof JSON)return map;for(var i=0;i<mapStr.length;i++){var char=String.fromCharCode(i+32),size=(mapStr.charCodeAt(i)-20)/100;map[char]=size}return map}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),platformApi={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(text,font){if(!_ctx){var canvas=platformApi.createCanvas();_ctx=canvas&&canvas.getContext("2d")}if(_ctx)return _cachedFont!==font&&(_cachedFont=_ctx.font=font||DEFAULT_FONT),_ctx.measureText(text);text=text||"";var res=/(\d+)px/.exec(font=font||DEFAULT_FONT),fontSize=res&&+res[1]||DEFAULT_FONT_SIZE,width=0;if(font.indexOf("mono")>=0)width=fontSize*text.length;else for(var i=0;i<text.length;i++){var preCalcWidth=DEFAULT_TEXT_WIDTH_MAP[text[i]];width+=null==preCalcWidth?fontSize:preCalcWidth*fontSize}return{width}},loadImage:function(src,onload,onerror){var image=new Image;return image.onload=onload,image.onerror=onerror,image.src=src,image}};function setPlatformAPI(newPlatformApis){for(var key in platformApi)newPlatformApis[key]&&(platformApi[key]=newPlatformApis[key])}},"./node_modules/zrender/lib/core/timsort.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>sort});var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function makeAscendingRun(array,lo,hi,compare){var runHi=lo+1;if(runHi===hi)return 1;if(compare(array[runHi++],array[lo])<0){for(;runHi<hi&&compare(array[runHi],array[runHi-1])<0;)runHi++;!function reverseRun(array,lo,hi){hi--;for(;lo<hi;){var t=array[lo];array[lo++]=array[hi],array[hi--]=t}}(array,lo,runHi)}else for(;runHi<hi&&compare(array[runHi],array[runHi-1])>=0;)runHi++;return runHi-lo}function binaryInsertionSort(array,lo,hi,start,compare){for(start===lo&&start++;start<hi;start++){for(var mid,pivot=array[start],left=lo,right=start;left<right;)compare(pivot,array[mid=left+right>>>1])<0?right=mid:left=mid+1;var n=start-left;switch(n){case 3:array[left+3]=array[left+2];case 2:array[left+2]=array[left+1];case 1:array[left+1]=array[left];break;default:for(;n>0;)array[left+n]=array[left+n-1],n--}array[left]=pivot}}function gallopLeft(value,array,start,length,hint,compare){var lastOffset=0,maxOffset=0,offset=1;if(compare(value,array[start+hint])>0){for(maxOffset=length-hint;offset<maxOffset&&compare(value,array[start+hint+offset])>0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset),lastOffset+=hint,offset+=hint}else{for(maxOffset=hint+1;offset<maxOffset&&compare(value,array[start+hint-offset])<=0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset);var tmp=lastOffset;lastOffset=hint-offset,offset=hint-tmp}for(lastOffset++;lastOffset<offset;){var m=lastOffset+(offset-lastOffset>>>1);compare(value,array[start+m])>0?lastOffset=m+1:offset=m}return offset}function gallopRight(value,array,start,length,hint,compare){var lastOffset=0,maxOffset=0,offset=1;if(compare(value,array[start+hint])<0){for(maxOffset=hint+1;offset<maxOffset&&compare(value,array[start+hint-offset])<0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset);var tmp=lastOffset;lastOffset=hint-offset,offset=hint-tmp}else{for(maxOffset=length-hint;offset<maxOffset&&compare(value,array[start+hint+offset])>=0;)lastOffset=offset,(offset=1+(offset<<1))<=0&&(offset=maxOffset);offset>maxOffset&&(offset=maxOffset),lastOffset+=hint,offset+=hint}for(lastOffset++;lastOffset<offset;){var m=lastOffset+(offset-lastOffset>>>1);compare(value,array[start+m])<0?offset=m:lastOffset=m+1}return offset}function TimSort(array,compare){var length,runStart,runLength,minGallop=DEFAULT_MIN_GALLOPING,stackSize=0;length=array.length;var tmp=[];function mergeAt(i){var start1=runStart[i],length1=runLength[i],start2=runStart[i+1],length2=runLength[i+1];runLength[i]=length1+length2,i===stackSize-3&&(runStart[i+1]=runStart[i+2],runLength[i+1]=runLength[i+2]),stackSize--;var k=gallopRight(array[start2],array,start1,length1,0,compare);start1+=k,0!==(length1-=k)&&0!==(length2=gallopLeft(array[start1+length1-1],array,start2,length2,length2-1,compare))&&(length1<=length2?function mergeLow(start1,length1,start2,length2){var i=0;for(i=0;i<length1;i++)tmp[i]=array[start1+i];var cursor1=0,cursor2=start2,dest=start1;if(array[dest++]=array[cursor2++],0==--length2){for(i=0;i<length1;i++)array[dest+i]=tmp[cursor1+i];return}if(1===length1){for(i=0;i<length2;i++)array[dest+i]=array[cursor2+i];return void(array[dest+length2]=tmp[cursor1])}var count1,count2,exit,_minGallop=minGallop;for(;;){count1=0,count2=0,exit=!1;do{if(compare(array[cursor2],tmp[cursor1])<0){if(array[dest++]=array[cursor2++],count2++,count1=0,0==--length2){exit=!0;break}}else if(array[dest++]=tmp[cursor1++],count1++,count2=0,1==--length1){exit=!0;break}}while((count1|count2)<_minGallop);if(exit)break;do{if(0!==(count1=gallopRight(array[cursor2],tmp,cursor1,length1,0,compare))){for(i=0;i<count1;i++)array[dest+i]=tmp[cursor1+i];if(dest+=count1,cursor1+=count1,(length1-=count1)<=1){exit=!0;break}}if(array[dest++]=array[cursor2++],0==--length2){exit=!0;break}if(0!==(count2=gallopLeft(tmp[cursor1],array,cursor2,length2,0,compare))){for(i=0;i<count2;i++)array[dest+i]=array[cursor2+i];if(dest+=count2,cursor2+=count2,0===(length2-=count2)){exit=!0;break}}if(array[dest++]=tmp[cursor1++],1==--length1){exit=!0;break}_minGallop--}while(count1>=DEFAULT_MIN_GALLOPING||count2>=DEFAULT_MIN_GALLOPING);if(exit)break;_minGallop<0&&(_minGallop=0),_minGallop+=2}if((minGallop=_minGallop)<1&&(minGallop=1),1===length1){for(i=0;i<length2;i++)array[dest+i]=array[cursor2+i];array[dest+length2]=tmp[cursor1]}else{if(0===length1)throw new Error;for(i=0;i<length1;i++)array[dest+i]=tmp[cursor1+i]}}(start1,length1,start2,length2):function mergeHigh(start1,length1,start2,length2){var i=0;for(i=0;i<length2;i++)tmp[i]=array[start2+i];var cursor1=start1+length1-1,cursor2=length2-1,dest=start2+length2-1,customCursor=0,customDest=0;if(array[dest--]=array[cursor1--],0==--length1){for(customCursor=dest-(length2-1),i=0;i<length2;i++)array[customCursor+i]=tmp[i];return}if(1===length2){for(customDest=(dest-=length1)+1,customCursor=(cursor1-=length1)+1,i=length1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];return void(array[dest]=tmp[cursor2])}var _minGallop=minGallop;for(;;){var count1=0,count2=0,exit=!1;do{if(compare(tmp[cursor2],array[cursor1])<0){if(array[dest--]=array[cursor1--],count1++,count2=0,0==--length1){exit=!0;break}}else if(array[dest--]=tmp[cursor2--],count2++,count1=0,1==--length2){exit=!0;break}}while((count1|count2)<_minGallop);if(exit)break;do{if(0!==(count1=length1-gallopRight(tmp[cursor2],array,start1,length1,length1-1,compare))){for(length1-=count1,customDest=(dest-=count1)+1,customCursor=(cursor1-=count1)+1,i=count1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];if(0===length1){exit=!0;break}}if(array[dest--]=tmp[cursor2--],1==--length2){exit=!0;break}if(0!==(count2=length2-gallopLeft(array[cursor1],tmp,0,length2,length2-1,compare))){for(length2-=count2,customDest=(dest-=count2)+1,customCursor=(cursor2-=count2)+1,i=0;i<count2;i++)array[customDest+i]=tmp[customCursor+i];if(length2<=1){exit=!0;break}}if(array[dest--]=array[cursor1--],0==--length1){exit=!0;break}_minGallop--}while(count1>=DEFAULT_MIN_GALLOPING||count2>=DEFAULT_MIN_GALLOPING);if(exit)break;_minGallop<0&&(_minGallop=0),_minGallop+=2}(minGallop=_minGallop)<1&&(minGallop=1);if(1===length2){for(customDest=(dest-=length1)+1,customCursor=(cursor1-=length1)+1,i=length1-1;i>=0;i--)array[customDest+i]=array[customCursor+i];array[dest]=tmp[cursor2]}else{if(0===length2)throw new Error;for(customCursor=dest-(length2-1),i=0;i<length2;i++)array[customCursor+i]=tmp[i]}}(start1,length1,start2,length2))}return length<120?5:length<1542?10:length<119151?19:40,runStart=[],runLength=[],{mergeRuns:function mergeRuns(){for(;stackSize>1;){var n=stackSize-2;if(n>=1&&runLength[n-1]<=runLength[n]+runLength[n+1]||n>=2&&runLength[n-2]<=runLength[n]+runLength[n-1])runLength[n-1]<runLength[n+1]&&n--;else if(runLength[n]>runLength[n+1])break;mergeAt(n)}},forceMergeRuns:function forceMergeRuns(){for(;stackSize>1;){var n=stackSize-2;n>0&&runLength[n-1]<runLength[n+1]&&n--,mergeAt(n)}},pushRun:function pushRun(_runStart,_runLength){runStart[stackSize]=_runStart,runLength[stackSize]=_runLength,stackSize+=1}}}function sort(array,compare,lo,hi){lo||(lo=0),hi||(hi=array.length);var remaining=hi-lo;if(!(remaining<2)){var runLength=0;if(remaining<DEFAULT_MIN_MERGE)binaryInsertionSort(array,lo,hi,lo+(runLength=makeAscendingRun(array,lo,hi,compare)),compare);else{var ts=TimSort(array,compare),minRun=function minRunLength(n){for(var r=0;n>=DEFAULT_MIN_MERGE;)r|=1&n,n>>=1;return n+r}(remaining);do{if((runLength=makeAscendingRun(array,lo,hi,compare))<minRun){var force=remaining;force>minRun&&(force=minRun),binaryInsertionSort(array,lo,lo+force,lo+runLength,compare),runLength=force}ts.pushRun(lo,runLength),ts.mergeRuns(),remaining-=runLength,lo+=runLength}while(0!==remaining);ts.forceMergeRuns()}}}},"./node_modules/zrender/lib/core/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HashMap:()=>HashMap,RADIAN_TO_DEGREE:()=>RADIAN_TO_DEGREE,assert:()=>assert,bind:()=>bind,clone:()=>clone,concatArray:()=>concatArray,createCanvas:()=>createCanvas,createHashMap:()=>createHashMap,createObject:()=>createObject,curry:()=>curry,defaults:()=>defaults,disableUserSelect:()=>disableUserSelect,each:()=>each,eqNaN:()=>eqNaN,extend:()=>extend,filter:()=>filter,find:()=>find,guid:()=>guid,hasOwn:()=>hasOwn,indexOf:()=>indexOf,inherits:()=>inherits,isArray:()=>isArray,isArrayLike:()=>isArrayLike,isBuiltInObject:()=>isBuiltInObject,isDom:()=>isDom,isFunction:()=>isFunction,isGradientObject:()=>isGradientObject,isImagePatternObject:()=>isImagePatternObject,isNumber:()=>isNumber,isObject:()=>isObject,isPrimitive:()=>isPrimitive,isRegExp:()=>isRegExp,isString:()=>isString,isStringSafe:()=>isStringSafe,isTypedArray:()=>isTypedArray,keys:()=>keys,logError:()=>logError,map:()=>map,merge:()=>merge,mergeAll:()=>mergeAll,mixin:()=>mixin,noop:()=>noop,normalizeCssArray:()=>normalizeCssArray,reduce:()=>reduce,retrieve:()=>retrieve,retrieve2:()=>retrieve2,retrieve3:()=>retrieve3,setAsPrimitive:()=>setAsPrimitive,slice:()=>slice,trim:()=>trim});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(obj,val){return obj["[object "+val+"]"]=!0,obj}),{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(obj,val){return obj["[object "+val+"Array]"]=!0,obj}),{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];"undefined"!=typeof console&&console.error.apply(console,args)}function clone(source){if(null==source||"object"!=typeof source)return source;var result=source,typeStr=objToString.call(source);if("[object Array]"===typeStr){if(!isPrimitive(source)){result=[];for(var i=0,len=source.length;i<len;i++)result[i]=clone(source[i])}}else if(TYPED_ARRAY[typeStr]){if(!isPrimitive(source)){var Ctor=source.constructor;if(Ctor.from)result=Ctor.from(source);else{result=new Ctor(source.length);for(i=0,len=source.length;i<len;i++)result[i]=source[i]}}}else if(!BUILTIN_OBJECT[typeStr]&&!isPrimitive(source)&&!isDom(source))for(var key in result={},source)source.hasOwnProperty(key)&&key!==protoKey&&(result[key]=clone(source[key]));return result}function merge(target,source,overwrite){if(!isObject(source)||!isObject(target))return overwrite?clone(source):target;for(var key in source)if(source.hasOwnProperty(key)&&key!==protoKey){var targetProp=target[key],sourceProp=source[key];!isObject(sourceProp)||!isObject(targetProp)||isArray(sourceProp)||isArray(targetProp)||isDom(sourceProp)||isDom(targetProp)||isBuiltInObject(sourceProp)||isBuiltInObject(targetProp)||isPrimitive(sourceProp)||isPrimitive(targetProp)?!overwrite&&key in target||(target[key]=clone(source[key])):merge(targetProp,sourceProp,overwrite)}return target}function mergeAll(targetAndSources,overwrite){for(var result=targetAndSources[0],i=1,len=targetAndSources.length;i<len;i++)result=merge(result,targetAndSources[i],overwrite);return result}function extend(target,source){if(Object.assign)Object.assign(target,source);else for(var key in source)source.hasOwnProperty(key)&&key!==protoKey&&(target[key]=source[key]);return target}function defaults(target,source,overlay){for(var keysArr=keys(source),i=0;i<keysArr.length;i++){var key=keysArr[i];(overlay?null!=source[key]:null==target[key])&&(target[key]=source[key])}return target}var createCanvas=_platform_js__WEBPACK_IMPORTED_MODULE_0__.qW.createCanvas;function indexOf(array,value){if(array){if(array.indexOf)return array.indexOf(value);for(var i=0,len=array.length;i<len;i++)if(array[i]===value)return i}return-1}function inherits(clazz,baseClazz){var clazzPrototype=clazz.prototype;function F(){}for(var prop in F.prototype=baseClazz.prototype,clazz.prototype=new F,clazzPrototype)clazzPrototype.hasOwnProperty(prop)&&(clazz.prototype[prop]=clazzPrototype[prop]);clazz.prototype.constructor=clazz,clazz.superClass=baseClazz}function mixin(target,source,override){if(target="prototype"in target?target.prototype:target,source="prototype"in source?source.prototype:source,Object.getOwnPropertyNames)for(var keyList=Object.getOwnPropertyNames(source),i=0;i<keyList.length;i++){var key=keyList[i];"constructor"!==key&&(override?null!=source[key]:null==target[key])&&(target[key]=source[key])}else defaults(target,source,override)}function isArrayLike(data){return!!data&&("string"!=typeof data&&"number"==typeof data.length)}function each(arr,cb,context){if(arr&&cb)if(arr.forEach&&arr.forEach===nativeForEach)arr.forEach(cb,context);else if(arr.length===+arr.length)for(var i=0,len=arr.length;i<len;i++)cb.call(context,arr[i],i,arr);else for(var key in arr)arr.hasOwnProperty(key)&&cb.call(context,arr[key],key,arr)}function map(arr,cb,context){if(!arr)return[];if(!cb)return slice(arr);if(arr.map&&arr.map===nativeMap)return arr.map(cb,context);for(var result=[],i=0,len=arr.length;i<len;i++)result.push(cb.call(context,arr[i],i,arr));return result}function reduce(arr,cb,memo,context){if(arr&&cb){for(var i=0,len=arr.length;i<len;i++)memo=cb.call(context,memo,arr[i],i,arr);return memo}}function filter(arr,cb,context){if(!arr)return[];if(!cb)return slice(arr);if(arr.filter&&arr.filter===nativeFilter)return arr.filter(cb,context);for(var result=[],i=0,len=arr.length;i<len;i++)cb.call(context,arr[i],i,arr)&&result.push(arr[i]);return result}function find(arr,cb,context){if(arr&&cb)for(var i=0,len=arr.length;i<len;i++)if(cb.call(context,arr[i],i,arr))return arr[i]}function keys(obj){if(!obj)return[];if(Object.keys)return Object.keys(obj);var keyList=[];for(var key in obj)obj.hasOwnProperty(key)&&keyList.push(key);return keyList}var bind=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):function bindPolyfill(func,context){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return function(){return func.apply(context,args.concat(nativeSlice.call(arguments)))}};function curry(func){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return function(){return func.apply(this,args.concat(nativeSlice.call(arguments)))}}function isArray(value){return Array.isArray?Array.isArray(value):"[object Array]"===objToString.call(value)}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isStringSafe(value){return"[object String]"===objToString.call(value)}function isNumber(value){return"number"==typeof value}function isObject(value){var type=typeof value;return"function"===type||!!value&&"object"===type}function isBuiltInObject(value){return!!BUILTIN_OBJECT[objToString.call(value)]}function isTypedArray(value){return!!TYPED_ARRAY[objToString.call(value)]}function isDom(value){return"object"==typeof value&&"number"==typeof value.nodeType&&"object"==typeof value.ownerDocument}function isGradientObject(value){return null!=value.colorStops}function isImagePatternObject(value){return null!=value.image}function isRegExp(value){return"[object RegExp]"===objToString.call(value)}function eqNaN(value){return value!=value}function retrieve(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var i=0,len=args.length;i<len;i++)if(null!=args[i])return args[i]}function retrieve2(value0,value1){return null!=value0?value0:value1}function retrieve3(value0,value1,value2){return null!=value0?value0:null!=value1?value1:value2}function slice(arr){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return nativeSlice.apply(arr,args)}function normalizeCssArray(val){if("number"==typeof val)return[val,val,val,val];var len=val.length;return 2===len?[val[0],val[1],val[0],val[1]]:3===len?[val[0],val[1],val[2],val[1]]:val}function assert(condition,message){if(!condition)throw new Error(message)}function trim(str){return null==str?null:"function"==typeof str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(obj){obj[primitiveKey]=!0}function isPrimitive(obj){return obj[primitiveKey]}var MapPolyfill=function(){function MapPolyfill(){this.data={}}return MapPolyfill.prototype.delete=function(key){var existed=this.has(key);return existed&&delete this.data[key],existed},MapPolyfill.prototype.has=function(key){return this.data.hasOwnProperty(key)},MapPolyfill.prototype.get=function(key){return this.data[key]},MapPolyfill.prototype.set=function(key,value){return this.data[key]=value,this},MapPolyfill.prototype.keys=function(){return keys(this.data)},MapPolyfill.prototype.forEach=function(callback){var data=this.data;for(var key in data)data.hasOwnProperty(key)&&callback(data[key],key)},MapPolyfill}(),isNativeMapSupported="function"==typeof Map;var HashMap=function(){function HashMap(obj){var isArr=isArray(obj);this.data=function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}();var thisMap=this;function visit(value,key){isArr?thisMap.set(value,key):thisMap.set(key,value)}obj instanceof HashMap?obj.each(visit):obj&&each(obj,visit)}return HashMap.prototype.hasKey=function(key){return this.data.has(key)},HashMap.prototype.get=function(key){return this.data.get(key)},HashMap.prototype.set=function(key,value){return this.data.set(key,value),value},HashMap.prototype.each=function(cb,context){this.data.forEach((function(value,key){cb.call(context,value,key)}))},HashMap.prototype.keys=function(){var keys=this.data.keys();return isNativeMapSupported?Array.from(keys):keys},HashMap.prototype.removeKey=function(key){this.data.delete(key)},HashMap}();function createHashMap(obj){return new HashMap(obj)}function concatArray(a,b){for(var newArray=new a.constructor(a.length+b.length),i=0;i<a.length;i++)newArray[i]=a[i];var offset=a.length;for(i=0;i<b.length;i++)newArray[i+offset]=b[i];return newArray}function createObject(proto,properties){var obj;if(Object.create)obj=Object.create(proto);else{var StyleCtor=function(){};StyleCtor.prototype=proto,obj=new StyleCtor}return properties&&extend(obj,properties),obj}function disableUserSelect(dom){var domStyle=dom.style;domStyle.webkitUserSelect="none",domStyle.userSelect="none",domStyle.webkitTapHighlightColor="rgba(0,0,0,0)",domStyle["-webkit-touch-callout"]="none"}function hasOwn(own,prop){return own.hasOwnProperty(prop)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI},"./node_modules/zrender/lib/core/vector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function create(x,y){return null==x&&(x=0),null==y&&(y=0),[x,y]}function copy(out,v){return out[0]=v[0],out[1]=v[1],out}function clone(v){return[v[0],v[1]]}function set(out,a,b){return out[0]=a,out[1]=b,out}function add(out,v1,v2){return out[0]=v1[0]+v2[0],out[1]=v1[1]+v2[1],out}function scaleAndAdd(out,v1,v2,a){return out[0]=v1[0]+v2[0]*a,out[1]=v1[1]+v2[1]*a,out}function sub(out,v1,v2){return out[0]=v1[0]-v2[0],out[1]=v1[1]-v2[1],out}function len(v){return Math.sqrt(lenSquare(v))}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{add:()=>add,applyTransform:()=>applyTransform,clone:()=>clone,copy:()=>copy,create:()=>create,dist:()=>dist,distSquare:()=>distSquare,distance:()=>distance,distanceSquare:()=>distanceSquare,div:()=>div,dot:()=>dot,len:()=>len,lenSquare:()=>lenSquare,length:()=>length,lengthSquare:()=>lengthSquare,lerp:()=>lerp,max:()=>max,min:()=>min,mul:()=>mul,negate:()=>negate,normalize:()=>normalize,scale:()=>scale,scaleAndAdd:()=>scaleAndAdd,set:()=>set,sub:()=>sub});var length=len;function lenSquare(v){return v[0]*v[0]+v[1]*v[1]}var lengthSquare=lenSquare;function mul(out,v1,v2){return out[0]=v1[0]*v2[0],out[1]=v1[1]*v2[1],out}function div(out,v1,v2){return out[0]=v1[0]/v2[0],out[1]=v1[1]/v2[1],out}function dot(v1,v2){return v1[0]*v2[0]+v1[1]*v2[1]}function scale(out,v,s){return out[0]=v[0]*s,out[1]=v[1]*s,out}function normalize(out,v){var d=len(v);return 0===d?(out[0]=0,out[1]=0):(out[0]=v[0]/d,out[1]=v[1]/d),out}function distance(v1,v2){return Math.sqrt((v1[0]-v2[0])*(v1[0]-v2[0])+(v1[1]-v2[1])*(v1[1]-v2[1]))}var dist=distance;function distanceSquare(v1,v2){return(v1[0]-v2[0])*(v1[0]-v2[0])+(v1[1]-v2[1])*(v1[1]-v2[1])}var distSquare=distanceSquare;function negate(out,v){return out[0]=-v[0],out[1]=-v[1],out}function lerp(out,v1,v2,t){return out[0]=v1[0]+t*(v2[0]-v1[0]),out[1]=v1[1]+t*(v2[1]-v1[1]),out}function applyTransform(out,v,m){var x=v[0],y=v[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function min(out,v1,v2){return out[0]=Math.min(v1[0],v2[0]),out[1]=Math.min(v1[1],v2[1]),out}function max(out,v1,v2){return out[0]=Math.max(v1[0],v2[0]),out[1]=Math.max(v1[1],v2[1]),out}},"./node_modules/zrender/lib/graphic/CompoundPath.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js");const __WEBPACK_DEFAULT_EXPORT__=function(_super){function CompoundPath(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="compound",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(CompoundPath,_super),CompoundPath.prototype._updatePathDirty=function(){for(var paths=this.shape.paths,dirtyPath=this.shapeChanged(),i=0;i<paths.length;i++)dirtyPath=dirtyPath||paths[i].shapeChanged();dirtyPath&&this.dirtyShape()},CompoundPath.prototype.beforeBrush=function(){this._updatePathDirty();for(var paths=this.shape.paths||[],scale=this.getGlobalScale(),i=0;i<paths.length;i++)paths[i].path||paths[i].createPathProxy(),paths[i].path.setScale(scale[0],scale[1],paths[i].segmentIgnoreThreshold)},CompoundPath.prototype.buildPath=function(ctx,shape){for(var paths=shape.paths||[],i=0;i<paths.length;i++)paths[i].buildPath(ctx,paths[i].shape,!0)},CompoundPath.prototype.afterBrush=function(){for(var paths=this.shape.paths||[],i=0;i<paths.length;i++)paths[i].pathUpdated()},CompoundPath.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP.prototype.getBoundingRect.call(this)},CompoundPath}(_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP)},"./node_modules/zrender/lib/graphic/Displayable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,ik:()=>DEFAULT_COMMON_ANIMATION_PROPS,tj:()=>DEFAULT_COMMON_STYLE});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Element_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/Element.js"),_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_constants_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/graphic/constants.js"),STYLE_MAGIC_KEY="__zr_style_"+Math.round(10*Math.random()),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(_super){function Displayable(props){return _super.call(this,props)||this}var dispProto;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Displayable,_super),Displayable.prototype._init=function(props){for(var keysArr=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(props),i=0;i<keysArr.length;i++){var key=keysArr[i];"style"===key?this.useStyle(props[key]):_super.prototype.attrKV.call(this,key,props[key])}this.style||this.useStyle({})},Displayable.prototype.beforeBrush=function(){},Displayable.prototype.afterBrush=function(){},Displayable.prototype.innerBeforeBrush=function(){},Displayable.prototype.innerAfterBrush=function(){},Displayable.prototype.shouldBePainted=function(viewWidth,viewHeight,considerClipPath,considerAncestors){var m=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function isDisplayableCulled(el,width,height){tmpRect.copy(el.getBoundingRect()),el.transform&&tmpRect.applyTransform(el.transform);return viewRect.width=width,viewRect.height=height,!tmpRect.intersect(viewRect)}(this,viewWidth,viewHeight)||m&&!m[0]&&!m[3])return!1;if(considerClipPath&&this.__clipPaths)for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1;if(considerAncestors&&this.parent)for(var parent_1=this.parent;parent_1;){if(parent_1.ignore)return!1;parent_1=parent_1.parent}return!0},Displayable.prototype.contain=function(x,y){return this.rectContain(x,y)},Displayable.prototype.traverse=function(cb,context){cb.call(context,this)},Displayable.prototype.rectContain=function(x,y){var coord=this.transformCoordToLocal(x,y);return this.getBoundingRect().contain(coord[0],coord[1])},Displayable.prototype.getPaintRect=function(){var rect=this._paintRect;if(!this._paintRect||this.__dirty){var transform=this.transform,elRect=this.getBoundingRect(),style=this.style,shadowSize=style.shadowBlur||0,shadowOffsetX=style.shadowOffsetX||0,shadowOffsetY=style.shadowOffsetY||0;rect=this._paintRect||(this._paintRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0)),transform?_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z.applyTransform(rect,elRect,transform):rect.copy(elRect),(shadowSize||shadowOffsetX||shadowOffsetY)&&(rect.width+=2*shadowSize+Math.abs(shadowOffsetX),rect.height+=2*shadowSize+Math.abs(shadowOffsetY),rect.x=Math.min(rect.x,rect.x+shadowOffsetX-shadowSize),rect.y=Math.min(rect.y,rect.y+shadowOffsetY-shadowSize));var tolerance=this.dirtyRectTolerance;rect.isZero()||(rect.x=Math.floor(rect.x-tolerance),rect.y=Math.floor(rect.y-tolerance),rect.width=Math.ceil(rect.width+1+2*tolerance),rect.height=Math.ceil(rect.height+1+2*tolerance))}return rect},Displayable.prototype.setPrevPaintRect=function(paintRect){paintRect?(this._prevPaintRect=this._prevPaintRect||new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0),this._prevPaintRect.copy(paintRect)):this._prevPaintRect=null},Displayable.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Displayable.prototype.animateStyle=function(loop){return this.animate("style",loop)},Displayable.prototype.updateDuringAnimation=function(targetKey){"style"===targetKey?this.dirtyStyle():this.markRedraw()},Displayable.prototype.attrKV=function(key,value){"style"!==key?_super.prototype.attrKV.call(this,key,value):this.style?this.setStyle(value):this.useStyle(value)},Displayable.prototype.setStyle=function(keyOrObj,value){return"string"==typeof keyOrObj?this.style[keyOrObj]=value:(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(this.style,keyOrObj),this.dirtyStyle(),this},Displayable.prototype.dirtyStyle=function(notRedraw){notRedraw||this.markRedraw(),this.__dirty|=_constants_js__WEBPACK_IMPORTED_MODULE_3__.SE,this._rect&&(this._rect=null)},Displayable.prototype.dirty=function(){this.dirtyStyle()},Displayable.prototype.styleChanged=function(){return!!(this.__dirty&_constants_js__WEBPACK_IMPORTED_MODULE_3__.SE)},Displayable.prototype.styleUpdated=function(){this.__dirty&=~_constants_js__WEBPACK_IMPORTED_MODULE_3__.SE},Displayable.prototype.createStyle=function(obj){return(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.createObject)(DEFAULT_COMMON_STYLE,obj)},Displayable.prototype.useStyle=function(obj){obj[STYLE_MAGIC_KEY]||(obj=this.createStyle(obj)),this.__inHover?this.__hoverStyle=obj:this.style=obj,this.dirtyStyle()},Displayable.prototype.isStyleObject=function(obj){return obj[STYLE_MAGIC_KEY]},Displayable.prototype._innerSaveToNormal=function(toState){_super.prototype._innerSaveToNormal.call(this,toState);var normalState=this._normalState;toState.style&&!normalState.style&&(normalState.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(toState,normalState,PRIMARY_STATES_KEYS)},Displayable.prototype._applyStateObj=function(stateName,state,normalState,keepCurrentStates,transition,animationCfg){_super.prototype._applyStateObj.call(this,stateName,state,normalState,keepCurrentStates,transition,animationCfg);var targetStyle,needsRestoreToNormal=!(state&&keepCurrentStates);if(state&&state.style?transition?keepCurrentStates?targetStyle=state.style:(targetStyle=this._mergeStyle(this.createStyle(),normalState.style),this._mergeStyle(targetStyle,state.style)):(targetStyle=this._mergeStyle(this.createStyle(),keepCurrentStates?this.style:normalState.style),this._mergeStyle(targetStyle,state.style)):needsRestoreToNormal&&(targetStyle=normalState.style),targetStyle)if(transition){var sourceStyle=this.style;if(this.style=this.createStyle(needsRestoreToNormal?{}:sourceStyle),needsRestoreToNormal)for(var changedKeys=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(sourceStyle),i=0;i<changedKeys.length;i++){(key=changedKeys[i])in targetStyle&&(targetStyle[key]=targetStyle[key],this.style[key]=sourceStyle[key])}var targetKeys=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.keys)(targetStyle);for(i=0;i<targetKeys.length;i++){var key=targetKeys[i];this.style[key]=this.style[key]}this._transitionState(stateName,{style:targetStyle},animationCfg,this.getAnimationStyleProps())}else this.useStyle(targetStyle);var statesKeys=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS;for(i=0;i<statesKeys.length;i++){key=statesKeys[i];state&&null!=state[key]?this[key]=state[key]:needsRestoreToNormal&&null!=normalState[key]&&(this[key]=normalState[key])}},Displayable.prototype._mergeStates=function(states){for(var mergedStyle,mergedState=_super.prototype._mergeStates.call(this,states),i=0;i<states.length;i++){var state=states[i];state.style&&(mergedStyle=mergedStyle||{},this._mergeStyle(mergedStyle,state.style))}return mergedStyle&&(mergedState.style=mergedStyle),mergedState},Displayable.prototype._mergeStyle=function(targetStyle,sourceStyle){return(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.extend)(targetStyle,sourceStyle),targetStyle},Displayable.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},Displayable.initDefaultProps=((dispProto=Displayable.prototype).type="displayable",dispProto.invisible=!1,dispProto.z=0,dispProto.z2=0,dispProto.zlevel=0,dispProto.culling=!1,dispProto.cursor="pointer",dispProto.rectHover=!1,dispProto.incremental=!1,dispProto._rect=null,dispProto.dirtyRectTolerance=0,void(dispProto.__dirty=_constants_js__WEBPACK_IMPORTED_MODULE_3__.YV|_constants_js__WEBPACK_IMPORTED_MODULE_3__.SE)),Displayable}(_Element_js__WEBPACK_IMPORTED_MODULE_4__.Z),tmpRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0),viewRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0);const __WEBPACK_DEFAULT_EXPORT__=Displayable},"./node_modules/zrender/lib/graphic/Gradient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(){function Gradient(colorStops){this.colorStops=colorStops||[]}return Gradient.prototype.addColorStop=function(offset,color){this.colorStops.push({offset,color})},Gradient}()},"./node_modules/zrender/lib/graphic/Group.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_Element_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/Element.js"),_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),Group=function(_super){function Group(opts){var _this=_super.call(this)||this;return _this.isGroup=!0,_this._children=[],_this.attr(opts),_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Group,_super),Group.prototype.childrenRef=function(){return this._children},Group.prototype.children=function(){return this._children.slice()},Group.prototype.childAt=function(idx){return this._children[idx]},Group.prototype.childOfName=function(name){for(var children=this._children,i=0;i<children.length;i++)if(children[i].name===name)return children[i]},Group.prototype.childCount=function(){return this._children.length},Group.prototype.add=function(child){return child&&child!==this&&child.parent!==this&&(this._children.push(child),this._doAdd(child)),this},Group.prototype.addBefore=function(child,nextSibling){if(child&&child!==this&&child.parent!==this&&nextSibling&&nextSibling.parent===this){var children=this._children,idx=children.indexOf(nextSibling);idx>=0&&(children.splice(idx,0,child),this._doAdd(child))}return this},Group.prototype.replace=function(oldChild,newChild){var idx=_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf(this._children,oldChild);return idx>=0&&this.replaceAt(newChild,idx),this},Group.prototype.replaceAt=function(child,index){var children=this._children,old=children[index];if(child&&child!==this&&child.parent!==this&&child!==old){children[index]=child,old.parent=null;var zr=this.__zr;zr&&old.removeSelfFromZr(zr),this._doAdd(child)}return this},Group.prototype._doAdd=function(child){child.parent&&child.parent.remove(child),child.parent=this;var zr=this.__zr;zr&&zr!==child.__zr&&child.addSelfToZr(zr),zr&&zr.refresh()},Group.prototype.remove=function(child){var zr=this.__zr,children=this._children,idx=_core_util_js__WEBPACK_IMPORTED_MODULE_1__.indexOf(children,child);return idx<0||(children.splice(idx,1),child.parent=null,zr&&child.removeSelfFromZr(zr),zr&&zr.refresh()),this},Group.prototype.removeAll=function(){for(var children=this._children,zr=this.__zr,i=0;i<children.length;i++){var child=children[i];zr&&child.removeSelfFromZr(zr),child.parent=null}return children.length=0,this},Group.prototype.eachChild=function(cb,context){for(var children=this._children,i=0;i<children.length;i++){var child=children[i];cb.call(context,child,i)}return this},Group.prototype.traverse=function(cb,context){for(var i=0;i<this._children.length;i++){var child=this._children[i],stopped=cb.call(context,child);child.isGroup&&!stopped&&child.traverse(cb,context)}return this},Group.prototype.addSelfToZr=function(zr){_super.prototype.addSelfToZr.call(this,zr);for(var i=0;i<this._children.length;i++){this._children[i].addSelfToZr(zr)}},Group.prototype.removeSelfFromZr=function(zr){_super.prototype.removeSelfFromZr.call(this,zr);for(var i=0;i<this._children.length;i++){this._children[i].removeSelfFromZr(zr)}},Group.prototype.getBoundingRect=function(includeChildren){for(var tmpRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z(0,0,0,0),children=includeChildren||this._children,tmpMat=[],rect=null,i=0;i<children.length;i++){var child=children[i];if(!child.ignore&&!child.invisible){var childRect=child.getBoundingRect(),transform=child.getLocalTransform(tmpMat);transform?(_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.Z.applyTransform(tmpRect,childRect,transform),(rect=rect||tmpRect.clone()).union(tmpRect)):(rect=rect||childRect.clone()).union(childRect)}}return rect||tmpRect},Group}(_Element_js__WEBPACK_IMPORTED_MODULE_3__.Z);Group.prototype.type="group";const __WEBPACK_DEFAULT_EXPORT__=Group},"./node_modules/zrender/lib/graphic/Image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("tslib"),_Displayable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),DEFAULT_IMAGE_STYLE=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.defaults)({x:0,y:0},_Displayable_js__WEBPACK_IMPORTED_MODULE_1__.tj),DEFAULT_IMAGE_ANIMATION_PROPS={style:(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},_Displayable_js__WEBPACK_IMPORTED_MODULE_1__.ik.style)};var ZRImage=function(_super){function ZRImage(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ZT)(ZRImage,_super),ZRImage.prototype.createStyle=function(obj){return(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createObject)(DEFAULT_IMAGE_STYLE,obj)},ZRImage.prototype._getSize=function(dim){var style=this.style,size=style[dim];if(null!=size)return size;var imageSource=function isImageLike(source){return!!(source&&"string"!=typeof source&&source.width&&source.height)}(style.image)?style.image:this.__image;if(!imageSource)return 0;var otherDim="width"===dim?"height":"width",otherDimSize=style[otherDim];return null==otherDimSize?imageSource[dim]:imageSource[dim]/imageSource[otherDim]*otherDimSize},ZRImage.prototype.getWidth=function(){return this._getSize("width")},ZRImage.prototype.getHeight=function(){return this._getSize("height")},ZRImage.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},ZRImage.prototype.getBoundingRect=function(){var style=this.style;return this._rect||(this._rect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(style.x||0,style.y||0,this.getWidth(),this.getHeight())),this._rect},ZRImage}(_Displayable_js__WEBPACK_IMPORTED_MODULE_1__.ZP);ZRImage.prototype.type="image";const __WEBPACK_DEFAULT_EXPORT__=ZRImage},"./node_modules/zrender/lib/graphic/IncrementalDisplayable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Displayable_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),m=[];const __WEBPACK_DEFAULT_EXPORT__=function(_super){function IncrementalDisplayable(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.notClear=!0,_this.incremental=!0,_this._displayables=[],_this._temporaryDisplayables=[],_this._cursor=0,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(IncrementalDisplayable,_super),IncrementalDisplayable.prototype.traverse=function(cb,context){cb.call(context,this)},IncrementalDisplayable.prototype.useStyle=function(){this.style={}},IncrementalDisplayable.prototype.getCursor=function(){return this._cursor},IncrementalDisplayable.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},IncrementalDisplayable.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},IncrementalDisplayable.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},IncrementalDisplayable.prototype.addDisplayable=function(displayable,notPersistent){notPersistent?this._temporaryDisplayables.push(displayable):this._displayables.push(displayable),this.markRedraw()},IncrementalDisplayable.prototype.addDisplayables=function(displayables,notPersistent){notPersistent=notPersistent||!1;for(var i=0;i<displayables.length;i++)this.addDisplayable(displayables[i],notPersistent)},IncrementalDisplayable.prototype.getDisplayables=function(){return this._displayables},IncrementalDisplayable.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},IncrementalDisplayable.prototype.eachPendingDisplayable=function(cb){for(var i=this._cursor;i<this._displayables.length;i++)cb&&cb(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)cb&&cb(this._temporaryDisplayables[i])},IncrementalDisplayable.prototype.update=function(){this.updateTransform();for(var i=this._cursor;i<this._displayables.length;i++){(displayable=this._displayables[i]).parent=this,displayable.update(),displayable.parent=null}for(i=0;i<this._temporaryDisplayables.length;i++){var displayable;(displayable=this._temporaryDisplayables[i]).parent=this,displayable.update(),displayable.parent=null}},IncrementalDisplayable.prototype.getBoundingRect=function(){if(!this._rect){for(var rect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.Z(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var displayable=this._displayables[i],childRect=displayable.getBoundingRect().clone();displayable.needLocalTransform()&&childRect.applyTransform(displayable.getLocalTransform(m)),rect.union(childRect)}this._rect=rect}return this._rect},IncrementalDisplayable.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y);if(this.getBoundingRect().contain(localPos[0],localPos[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(x,y))return!0}return!1},IncrementalDisplayable}(_Displayable_js__WEBPACK_IMPORTED_MODULE_2__.ZP)},"./node_modules/zrender/lib/graphic/LinearGradient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib");const __WEBPACK_DEFAULT_EXPORT__=function(_super){function LinearGradient(x,y,x2,y2,colorStops,globalCoord){var _this=_super.call(this,colorStops)||this;return _this.x=null==x?0:x,_this.y=null==y?0:y,_this.x2=null==x2?1:x2,_this.y2=null==y2?0:y2,_this.type="linear",_this.global=globalCoord||!1,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(LinearGradient,_super),LinearGradient}(__webpack_require__("./node_modules/zrender/lib/graphic/Gradient.js").Z)},"./node_modules/zrender/lib/graphic/Path.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$t:()=>DEFAULT_PATH_STYLE,ZP:()=>graphic_Path});var tslib=__webpack_require__("tslib"),Displayable=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),PathProxy=__webpack_require__("./node_modules/zrender/lib/core/PathProxy.js"),line=__webpack_require__("./node_modules/zrender/lib/contain/line.js"),curve=__webpack_require__("./node_modules/zrender/lib/core/curve.js");function containStroke(x0,y0,x1,y1,x2,y2,x3,y3,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;return!(y>y0+_l&&y>y1+_l&&y>y2+_l&&y>y3+_l||y<y0-_l&&y<y1-_l&&y<y2-_l&&y<y3-_l||x>x0+_l&&x>x1+_l&&x>x2+_l&&x>x3+_l||x<x0-_l&&x<x1-_l&&x<x2-_l&&x<x3-_l)&&curve.t1(x0,y0,x1,y1,x2,y2,x3,y3,x,y,null)<=_l/2}var quadratic=__webpack_require__("./node_modules/zrender/lib/contain/quadratic.js"),util=__webpack_require__("./node_modules/zrender/lib/contain/util.js"),PI2=2*Math.PI;function arc_containStroke(cx,cy,r,startAngle,endAngle,anticlockwise,lineWidth,x,y){if(0===lineWidth)return!1;var _l=lineWidth;x-=cx,y-=cy;var d=Math.sqrt(x*x+y*y);if(d-_l>r||d+_l<r)return!1;if(Math.abs(startAngle-endAngle)%PI2<1e-4)return!0;if(anticlockwise){var tmp=startAngle;startAngle=(0,util.m)(endAngle),endAngle=(0,util.m)(tmp)}else startAngle=(0,util.m)(startAngle),endAngle=(0,util.m)(endAngle);startAngle>endAngle&&(endAngle+=PI2);var angle=Math.atan2(y,x);return angle<0&&(angle+=PI2),angle>=startAngle&&angle<=endAngle||angle+PI2>=startAngle&&angle+PI2<=endAngle}var windingLine=__webpack_require__("./node_modules/zrender/lib/contain/windingLine.js"),CMD=PathProxy.Z.CMD,path_PI2=2*Math.PI,EPSILON=1e-4;var roots=[-1,-1,-1],extrema=[-1,-1];function windingCubic(x0,y0,x1,y1,x2,y2,x3,y3,x,y){if(y>y0&&y>y1&&y>y2&&y>y3||y<y0&&y<y1&&y<y2&&y<y3)return 0;var tmp,nRoots=curve.kD(y0,y1,y2,y3,y,roots);if(0===nRoots)return 0;for(var w=0,nExtrema=-1,y0_=void 0,y1_=void 0,i=0;i<nRoots;i++){var t=roots[i],unit=0===t||1===t?.5:1;curve.af(x0,x1,x2,x3,t)<x||(nExtrema<0&&(nExtrema=curve.pP(y0,y1,y2,y3,extrema),extrema[1]<extrema[0]&&nExtrema>1&&(tmp=void 0,tmp=extrema[0],extrema[0]=extrema[1],extrema[1]=tmp),y0_=curve.af(y0,y1,y2,y3,extrema[0]),nExtrema>1&&(y1_=curve.af(y0,y1,y2,y3,extrema[1]))),2===nExtrema?t<extrema[0]?w+=y0_<y0?unit:-unit:t<extrema[1]?w+=y1_<y0_?unit:-unit:w+=y3<y1_?unit:-unit:t<extrema[0]?w+=y0_<y0?unit:-unit:w+=y3<y0_?unit:-unit)}return w}function windingQuadratic(x0,y0,x1,y1,x2,y2,x,y){if(y>y0&&y>y1&&y>y2||y<y0&&y<y1&&y<y2)return 0;var nRoots=curve.Jz(y0,y1,y2,y,roots);if(0===nRoots)return 0;var t=curve.QC(y0,y1,y2);if(t>=0&&t<=1){for(var w=0,y_=curve.Zm(y0,y1,y2,t),i=0;i<nRoots;i++){var unit=0===roots[i]||1===roots[i]?.5:1;curve.Zm(x0,x1,x2,roots[i])<x||(roots[i]<t?w+=y_<y0?unit:-unit:w+=y2<y_?unit:-unit)}return w}unit=0===roots[0]||1===roots[0]?.5:1;return curve.Zm(x0,x1,x2,roots[0])<x?0:y2<y0?unit:-unit}function windingArc(cx,cy,r,startAngle,endAngle,anticlockwise,x,y){if((y-=cy)>r||y<-r)return 0;var tmp=Math.sqrt(r*r-y*y);roots[0]=-tmp,roots[1]=tmp;var dTheta=Math.abs(startAngle-endAngle);if(dTheta<1e-4)return 0;if(dTheta>=path_PI2-1e-4){startAngle=0,endAngle=path_PI2;var dir=anticlockwise?1:-1;return x>=roots[0]+cx&&x<=roots[1]+cx?dir:0}if(startAngle>endAngle){var tmp_1=startAngle;startAngle=endAngle,endAngle=tmp_1}startAngle<0&&(startAngle+=path_PI2,endAngle+=path_PI2);for(var w=0,i=0;i<2;i++){var x_=roots[i];if(x_+cx>x){var angle=Math.atan2(y,x_);dir=anticlockwise?1:-1;angle<0&&(angle=path_PI2+angle),(angle>=startAngle&&angle<=endAngle||angle+path_PI2>=startAngle&&angle+path_PI2<=endAngle)&&(angle>Math.PI/2&&angle<1.5*Math.PI&&(dir=-dir),w+=dir)}}return w}function containPath(path,lineWidth,isStroke,x,y){for(var x1,y1,data=path.data,len=path.len(),w=0,xi=0,yi=0,x0=0,y0=0,i=0;i<len;){var cmd=data[i++],isFirst=1===i;switch(cmd===CMD.M&&i>1&&(isStroke||(w+=(0,windingLine.Z)(xi,yi,x0,y0,x,y))),isFirst&&(x0=xi=data[i],y0=yi=data[i+1]),cmd){case CMD.M:xi=x0=data[i++],yi=y0=data[i++];break;case CMD.L:if(isStroke){if(line.m(xi,yi,data[i],data[i+1],lineWidth,x,y))return!0}else w+=(0,windingLine.Z)(xi,yi,data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case CMD.C:if(isStroke){if(containStroke(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingCubic(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case CMD.Q:if(isStroke){if(quadratic.m(xi,yi,data[i++],data[i++],data[i],data[i+1],lineWidth,x,y))return!0}else w+=windingQuadratic(xi,yi,data[i++],data[i++],data[i],data[i+1],x,y)||0;xi=data[i++],yi=data[i++];break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++];i+=1;var anticlockwise=!!(1-data[i++]);x1=Math.cos(theta)*rx+cx,y1=Math.sin(theta)*ry+cy,isFirst?(x0=x1,y0=y1):w+=(0,windingLine.Z)(xi,yi,x1,y1,x,y);var _x=(x-cx)*ry/rx+cx;if(isStroke){if(arc_containStroke(cx,cy,ry,theta,theta+dTheta,anticlockwise,lineWidth,_x,y))return!0}else w+=windingArc(cx,cy,ry,theta,theta+dTheta,anticlockwise,_x,y);xi=Math.cos(theta+dTheta)*rx+cx,yi=Math.sin(theta+dTheta)*ry+cy;break;case CMD.R:if(x0=xi=data[i++],y0=yi=data[i++],x1=x0+data[i++],y1=y0+data[i++],isStroke){if(line.m(x0,y0,x1,y0,lineWidth,x,y)||line.m(x1,y0,x1,y1,lineWidth,x,y)||line.m(x1,y1,x0,y1,lineWidth,x,y)||line.m(x0,y1,x0,y0,lineWidth,x,y))return!0}else w+=(0,windingLine.Z)(x1,y0,x1,y1,x,y),w+=(0,windingLine.Z)(x0,y1,x0,y0,x,y);break;case CMD.Z:if(isStroke){if(line.m(xi,yi,x0,y0,lineWidth,x,y))return!0}else w+=(0,windingLine.Z)(xi,yi,x0,y0,x,y);xi=x0,yi=y0}}return isStroke||function isAroundEqual(a,b){return Math.abs(a-b)<EPSILON}(yi,y0)||(w+=(0,windingLine.Z)(xi,yi,x0,y0,x,y)||0),0!==w}var core_util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),config=__webpack_require__("./node_modules/zrender/lib/config.js"),constants=__webpack_require__("./node_modules/zrender/lib/graphic/constants.js"),Transformable=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),DEFAULT_PATH_STYLE=(0,core_util.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Displayable.tj),DEFAULT_PATH_ANIMATION_PROPS={style:(0,core_util.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Displayable.ik.style)},pathCopyParams=Transformable.dN.concat(["invisible","culling","z","z2","zlevel","parent"]);const graphic_Path=function(_super){function Path(opts){return _super.call(this,opts)||this}var pathProto;return(0,tslib.ZT)(Path,_super),Path.prototype.update=function(){var _this=this;_super.prototype.update.call(this);var style=this.style;if(style.decal){var decalEl=this._decalEl=this._decalEl||new Path;decalEl.buildPath===Path.prototype.buildPath&&(decalEl.buildPath=function(ctx){_this.buildPath(ctx,_this.shape)}),decalEl.silent=!0;var decalElStyle=decalEl.style;for(var key in style)decalElStyle[key]!==style[key]&&(decalElStyle[key]=style[key]);decalElStyle.fill=style.fill?style.decal:null,decalElStyle.decal=null,decalElStyle.shadowColor=null,style.strokeFirst&&(decalElStyle.stroke=null);for(var i=0;i<pathCopyParams.length;++i)decalEl[pathCopyParams[i]]=this[pathCopyParams[i]];decalEl.__dirty|=constants.YV}else this._decalEl&&(this._decalEl=null)},Path.prototype.getDecalElement=function(){return this._decalEl},Path.prototype._init=function(props){var keysArr=(0,core_util.keys)(props);this.shape=this.getDefaultShape();var defaultStyle=this.getDefaultStyle();defaultStyle&&this.useStyle(defaultStyle);for(var i=0;i<keysArr.length;i++){var key=keysArr[i],value=props[key];"style"===key?this.style?(0,core_util.extend)(this.style,value):this.useStyle(value):"shape"===key?(0,core_util.extend)(this.shape,value):_super.prototype.attrKV.call(this,key,value)}this.style||this.useStyle({})},Path.prototype.getDefaultStyle=function(){return null},Path.prototype.getDefaultShape=function(){return{}},Path.prototype.canBeInsideText=function(){return this.hasFill()},Path.prototype.getInsideTextFill=function(){var pathFill=this.style.fill;if("none"!==pathFill){if((0,core_util.isString)(pathFill)){var fillLum=(0,color.lum)(pathFill,0);return fillLum>.5?config.vU:fillLum>.2?config.iv:config.GD}if(pathFill)return config.GD}return config.vU},Path.prototype.getInsideTextStroke=function(textFill){var pathFill=this.style.fill;if((0,core_util.isString)(pathFill)){var zr=this.__zr;if(!(!zr||!zr.isDarkMode())===(0,color.lum)(textFill,0)<config.Ak)return pathFill}},Path.prototype.buildPath=function(ctx,shapeCfg,inBatch){},Path.prototype.pathUpdated=function(){this.__dirty&=~constants.RH},Path.prototype.getUpdatedPathProxy=function(inBatch){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,inBatch),this.path},Path.prototype.createPathProxy=function(){this.path=new PathProxy.Z(!1)},Path.prototype.hasStroke=function(){var style=this.style,stroke=style.stroke;return!(null==stroke||"none"===stroke||!(style.lineWidth>0))},Path.prototype.hasFill=function(){var fill=this.style.fill;return null!=fill&&"none"!==fill},Path.prototype.getBoundingRect=function(){var rect=this._rect,style=this.style,needsUpdateRect=!rect;if(needsUpdateRect){var firstInvoke=!1;this.path||(firstInvoke=!0,this.createPathProxy());var path=this.path;(firstInvoke||this.__dirty&constants.RH)&&(path.beginPath(),this.buildPath(path,this.shape,!1),this.pathUpdated()),rect=path.getBoundingRect()}if(this._rect=rect,this.hasStroke()&&this.path&&this.path.len()>0){var rectStroke=this._rectStroke||(this._rectStroke=rect.clone());if(this.__dirty||needsUpdateRect){rectStroke.copy(rect);var lineScale=style.strokeNoScale?this.getLineScale():1,w=style.lineWidth;if(!this.hasFill()){var strokeContainThreshold=this.strokeContainThreshold;w=Math.max(w,null==strokeContainThreshold?4:strokeContainThreshold)}lineScale>1e-10&&(rectStroke.width+=w/lineScale,rectStroke.height+=w/lineScale,rectStroke.x-=w/lineScale/2,rectStroke.y-=w/lineScale/2)}return rectStroke}return rect},Path.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect(),style=this.style;if(x=localPos[0],y=localPos[1],rect.contain(x,y)){var pathProxy=this.path;if(this.hasStroke()){var lineWidth=style.lineWidth,lineScale=style.strokeNoScale?this.getLineScale():1;if(lineScale>1e-10&&(this.hasFill()||(lineWidth=Math.max(lineWidth,this.strokeContainThreshold)),function path_containStroke(pathProxy,lineWidth,x,y){return containPath(pathProxy,lineWidth,!0,x,y)}(pathProxy,lineWidth/lineScale,x,y)))return!0}if(this.hasFill())return function contain(pathProxy,x,y){return containPath(pathProxy,0,!1,x,y)}(pathProxy,x,y)}return!1},Path.prototype.dirtyShape=function(){this.__dirty|=constants.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Path.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Path.prototype.animateShape=function(loop){return this.animate("shape",loop)},Path.prototype.updateDuringAnimation=function(targetKey){"style"===targetKey?this.dirtyStyle():"shape"===targetKey?this.dirtyShape():this.markRedraw()},Path.prototype.attrKV=function(key,value){"shape"===key?this.setShape(value):_super.prototype.attrKV.call(this,key,value)},Path.prototype.setShape=function(keyOrObj,value){var shape=this.shape;return shape||(shape=this.shape={}),"string"==typeof keyOrObj?shape[keyOrObj]=value:(0,core_util.extend)(shape,keyOrObj),this.dirtyShape(),this},Path.prototype.shapeChanged=function(){return!!(this.__dirty&constants.RH)},Path.prototype.createStyle=function(obj){return(0,core_util.createObject)(DEFAULT_PATH_STYLE,obj)},Path.prototype._innerSaveToNormal=function(toState){_super.prototype._innerSaveToNormal.call(this,toState);var normalState=this._normalState;toState.shape&&!normalState.shape&&(normalState.shape=(0,core_util.extend)({},this.shape))},Path.prototype._applyStateObj=function(stateName,state,normalState,keepCurrentStates,transition,animationCfg){_super.prototype._applyStateObj.call(this,stateName,state,normalState,keepCurrentStates,transition,animationCfg);var targetShape,needsRestoreToNormal=!(state&&keepCurrentStates);if(state&&state.shape?transition?keepCurrentStates?targetShape=state.shape:(targetShape=(0,core_util.extend)({},normalState.shape),(0,core_util.extend)(targetShape,state.shape)):(targetShape=(0,core_util.extend)({},keepCurrentStates?this.shape:normalState.shape),(0,core_util.extend)(targetShape,state.shape)):needsRestoreToNormal&&(targetShape=normalState.shape),targetShape)if(transition){this.shape=(0,core_util.extend)({},this.shape);for(var targetShapePrimaryProps={},shapeKeys=(0,core_util.keys)(targetShape),i=0;i<shapeKeys.length;i++){var key=shapeKeys[i];"object"==typeof targetShape[key]?this.shape[key]=targetShape[key]:targetShapePrimaryProps[key]=targetShape[key]}this._transitionState(stateName,{shape:targetShapePrimaryProps},animationCfg)}else this.shape=targetShape,this.dirtyShape()},Path.prototype._mergeStates=function(states){for(var mergedShape,mergedState=_super.prototype._mergeStates.call(this,states),i=0;i<states.length;i++){var state=states[i];state.shape&&(mergedShape=mergedShape||{},this._mergeStyle(mergedShape,state.shape))}return mergedShape&&(mergedState.shape=mergedShape),mergedState},Path.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},Path.prototype.isZeroArea=function(){return!1},Path.extend=function(defaultProps){var Sub=function(_super){function Sub(opts){var _this=_super.call(this,opts)||this;return defaultProps.init&&defaultProps.init.call(_this,opts),_this}return(0,tslib.ZT)(Sub,_super),Sub.prototype.getDefaultStyle=function(){return(0,core_util.clone)(defaultProps.style)},Sub.prototype.getDefaultShape=function(){return(0,core_util.clone)(defaultProps.shape)},Sub}(Path);for(var key in defaultProps)"function"==typeof defaultProps[key]&&(Sub.prototype[key]=defaultProps[key]);return Sub},Path.initDefaultProps=((pathProto=Path.prototype).type="path",pathProto.strokeContainThreshold=5,pathProto.segmentIgnoreThreshold=0,pathProto.subPixelOptimize=!1,pathProto.autoBatch=!1,void(pathProto.__dirty=constants.YV|constants.SE|constants.RH)),Path}(Displayable.ZP)},"./node_modules/zrender/lib/graphic/RadialGradient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib");const __WEBPACK_DEFAULT_EXPORT__=function(_super){function RadialGradient(x,y,r,colorStops,globalCoord){var _this=_super.call(this,colorStops)||this;return _this.x=null==x?.5:x,_this.y=null==y?.5:y,_this.r=null==r?.5:r,_this.type="radial",_this.global=globalCoord||!1,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(RadialGradient,_super),RadialGradient}(__webpack_require__("./node_modules/zrender/lib/graphic/Gradient.js").Z)},"./node_modules/zrender/lib/graphic/TSpan.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("tslib"),_Displayable_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),_contain_text_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),_Path_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_core_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),DEFAULT_TSPAN_STYLE=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.defaults)({strokeFirst:!0,font:_core_platform_js__WEBPACK_IMPORTED_MODULE_1__.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},_Path_js__WEBPACK_IMPORTED_MODULE_2__.$t),TSpan=function(_super){function TSpan(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.ZT)(TSpan,_super),TSpan.prototype.hasStroke=function(){var style=this.style,stroke=style.stroke;return null!=stroke&&"none"!==stroke&&style.lineWidth>0},TSpan.prototype.hasFill=function(){var fill=this.style.fill;return null!=fill&&"none"!==fill},TSpan.prototype.createStyle=function(obj){return(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.createObject)(DEFAULT_TSPAN_STYLE,obj)},TSpan.prototype.setBoundingRect=function(rect){this._rect=rect},TSpan.prototype.getBoundingRect=function(){var style=this.style;if(!this._rect){var text=style.text;null!=text?text+="":text="";var rect=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_4__.lP)(text,style.font,style.textAlign,style.textBaseline);if(rect.x+=style.x||0,rect.y+=style.y||0,this.hasStroke()){var w=style.lineWidth;rect.x-=w/2,rect.y-=w/2,rect.width+=w,rect.height+=w}this._rect=rect}return this._rect},TSpan.initDefaultProps=void(TSpan.prototype.dirtyRectTolerance=10),TSpan}(_Displayable_js__WEBPACK_IMPORTED_MODULE_5__.ZP);TSpan.prototype.type="tspan";const __WEBPACK_DEFAULT_EXPORT__=TSpan},"./node_modules/zrender/lib/graphic/Text.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VG:()=>parseFontSize,Y1:()=>hasSeparateFont,ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("tslib"),_helper_parseText_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/parseText.js"),_TSpan_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/zrender/lib/graphic/TSpan.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_contain_text_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),_Image_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),_shape_Rect_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),_Displayable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),_core_platform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_TEXT_ANIMATION_PROPS={style:(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},_Displayable_js__WEBPACK_IMPORTED_MODULE_1__.ik.style)},ZRText=function(_super){function ZRText(opts){var _this=_super.call(this)||this;return _this.type="text",_this._children=[],_this._defaultStyle=DEFAULT_RICH_TEXT_COLOR,_this.attr(opts),_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ZT)(ZRText,_super),ZRText.prototype.childrenRef=function(){return this._children},ZRText.prototype.update=function(){_super.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var i=0;i<this._children.length;i++){var child=this._children[i];child.zlevel=this.zlevel,child.z=this.z,child.z2=this.z2,child.culling=this.culling,child.cursor=this.cursor,child.invisible=this.invisible}},ZRText.prototype.updateTransform=function(){var innerTransformable=this.innerTransformable;innerTransformable?(innerTransformable.updateTransform(),innerTransformable.transform&&(this.transform=innerTransformable.transform)):_super.prototype.updateTransform.call(this)},ZRText.prototype.getLocalTransform=function(m){var innerTransformable=this.innerTransformable;return innerTransformable?innerTransformable.getLocalTransform(m):_super.prototype.getLocalTransform.call(this,m)},ZRText.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),_super.prototype.getComputedTransform.call(this)},ZRText.prototype._updateSubTexts=function(){this._childCursor=0,function normalizeTextStyle(style){return normalizeStyle(style),(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each)(style.rich,normalizeStyle),style}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},ZRText.prototype.addSelfToZr=function(zr){_super.prototype.addSelfToZr.call(this,zr);for(var i=0;i<this._children.length;i++)this._children[i].__zr=zr},ZRText.prototype.removeSelfFromZr=function(zr){_super.prototype.removeSelfFromZr.call(this,zr);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},ZRText.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var tmpRect=new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z(0,0,0,0),children=this._children,tmpMat=[],rect=null,i=0;i<children.length;i++){var child=children[i],childRect=child.getBoundingRect(),transform=child.getLocalTransform(tmpMat);transform?(tmpRect.copy(childRect),tmpRect.applyTransform(transform),(rect=rect||tmpRect.clone()).union(tmpRect)):(rect=rect||childRect.clone()).union(childRect)}this._rect=rect||tmpRect}return this._rect},ZRText.prototype.setDefaultTextStyle=function(defaultTextStyle){this._defaultStyle=defaultTextStyle||DEFAULT_RICH_TEXT_COLOR},ZRText.prototype.setTextContent=function(textContent){0},ZRText.prototype._mergeStyle=function(targetStyle,sourceStyle){if(!sourceStyle)return targetStyle;var sourceRich=sourceStyle.rich,targetRich=targetStyle.rich||sourceRich&&{};return(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)(targetStyle,sourceStyle),sourceRich&&targetRich?(this._mergeRich(targetRich,sourceRich),targetStyle.rich=targetRich):targetRich&&(targetStyle.rich=targetRich),targetStyle},ZRText.prototype._mergeRich=function(targetRich,sourceRich){for(var richNames=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.keys)(sourceRich),i=0;i<richNames.length;i++){var richName=richNames[i];targetRich[richName]=targetRich[richName]||{},(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)(targetRich[richName],sourceRich[richName])}},ZRText.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},ZRText.prototype._getOrCreateChild=function(Ctor){var child=this._children[this._childCursor];return child&&child instanceof Ctor||(child=new Ctor),this._children[this._childCursor++]=child,child.__zr=this.__zr,child.parent=this,child},ZRText.prototype._updatePlainTexts=function(){var style=this.style,textFont=style.font||_core_platform_js__WEBPACK_IMPORTED_MODULE_4__.Uo,textPadding=style.padding,text=getStyleText(style),contentBlock=(0,_helper_parseText_js__WEBPACK_IMPORTED_MODULE_5__.NY)(text,style),needDrawBg=needDrawBackground(style),bgColorDrawn=!!style.backgroundColor,outerHeight=contentBlock.outerHeight,outerWidth=contentBlock.outerWidth,contentWidth=contentBlock.contentWidth,textLines=contentBlock.lines,lineHeight=contentBlock.lineHeight,defaultStyle=this._defaultStyle,baseX=style.x||0,baseY=style.y||0,textAlign=style.align||defaultStyle.align||"left",verticalAlign=style.verticalAlign||defaultStyle.verticalAlign||"top",textX=baseX,textY=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.mU)(baseY,contentBlock.contentHeight,verticalAlign);if(needDrawBg||textPadding){var boxX=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.M3)(baseX,outerWidth,textAlign),boxY=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.mU)(baseY,outerHeight,verticalAlign);needDrawBg&&this._renderBackground(style,style,boxX,boxY,outerWidth,outerHeight)}textY+=lineHeight/2,textPadding&&(textX=getTextXForPadding(baseX,textAlign,textPadding),"top"===verticalAlign?textY+=textPadding[0]:"bottom"===verticalAlign&&(textY-=textPadding[2]));for(var defaultLineWidth=0,useDefaultFill=!1,textFill=(getFill("fill"in style?style.fill:(useDefaultFill=!0,defaultStyle.fill))),textStroke=(getStroke("stroke"in style?style.stroke:bgColorDrawn||defaultStyle.autoStroke&&!useDefaultFill?null:(defaultLineWidth=2,defaultStyle.stroke))),hasShadow=style.textShadowBlur>0,fixedBoundingRect=null!=style.width&&("truncate"===style.overflow||"break"===style.overflow||"breakAll"===style.overflow),calculatedLineHeight=contentBlock.calculatedLineHeight,i=0;i<textLines.length;i++){var el=this._getOrCreateChild(_TSpan_js__WEBPACK_IMPORTED_MODULE_7__.Z),subElStyle=el.createStyle();el.useStyle(subElStyle),subElStyle.text=textLines[i],subElStyle.x=textX,subElStyle.y=textY,textAlign&&(subElStyle.textAlign=textAlign),subElStyle.textBaseline="middle",subElStyle.opacity=style.opacity,subElStyle.strokeFirst=!0,hasShadow&&(subElStyle.shadowBlur=style.textShadowBlur||0,subElStyle.shadowColor=style.textShadowColor||"transparent",subElStyle.shadowOffsetX=style.textShadowOffsetX||0,subElStyle.shadowOffsetY=style.textShadowOffsetY||0),subElStyle.stroke=textStroke,subElStyle.fill=textFill,textStroke&&(subElStyle.lineWidth=style.lineWidth||defaultLineWidth,subElStyle.lineDash=style.lineDash,subElStyle.lineDashOffset=style.lineDashOffset||0),subElStyle.font=textFont,setSeparateFont(subElStyle,style),textY+=lineHeight,fixedBoundingRect&&el.setBoundingRect(new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z((0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.M3)(subElStyle.x,style.width,subElStyle.textAlign),(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.mU)(subElStyle.y,calculatedLineHeight,subElStyle.textBaseline),contentWidth,calculatedLineHeight))}},ZRText.prototype._updateRichTexts=function(){var style=this.style,text=getStyleText(style),contentBlock=(0,_helper_parseText_js__WEBPACK_IMPORTED_MODULE_5__.$F)(text,style),contentWidth=contentBlock.width,outerWidth=contentBlock.outerWidth,outerHeight=contentBlock.outerHeight,textPadding=style.padding,baseX=style.x||0,baseY=style.y||0,defaultStyle=this._defaultStyle,textAlign=style.align||defaultStyle.align,verticalAlign=style.verticalAlign||defaultStyle.verticalAlign,boxX=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.M3)(baseX,outerWidth,textAlign),boxY=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.mU)(baseY,outerHeight,verticalAlign),xLeft=boxX,lineTop=boxY;textPadding&&(xLeft+=textPadding[3],lineTop+=textPadding[0]);var xRight=xLeft+contentWidth;needDrawBackground(style)&&this._renderBackground(style,style,boxX,boxY,outerWidth,outerHeight);for(var bgColorDrawn=!!style.backgroundColor,i=0;i<contentBlock.lines.length;i++){for(var line=contentBlock.lines[i],tokens=line.tokens,tokenCount=tokens.length,lineHeight=line.lineHeight,remainedWidth=line.width,leftIndex=0,lineXLeft=xLeft,lineXRight=xRight,rightIndex=tokenCount-1,token=void 0;leftIndex<tokenCount&&(!(token=tokens[leftIndex]).align||"left"===token.align);)this._placeToken(token,style,lineHeight,lineTop,lineXLeft,"left",bgColorDrawn),remainedWidth-=token.width,lineXLeft+=token.width,leftIndex++;for(;rightIndex>=0&&"right"===(token=tokens[rightIndex]).align;)this._placeToken(token,style,lineHeight,lineTop,lineXRight,"right",bgColorDrawn),remainedWidth-=token.width,lineXRight-=token.width,rightIndex--;for(lineXLeft+=(contentWidth-(lineXLeft-xLeft)-(xRight-lineXRight)-remainedWidth)/2;leftIndex<=rightIndex;)token=tokens[leftIndex],this._placeToken(token,style,lineHeight,lineTop,lineXLeft+token.width/2,"center",bgColorDrawn),lineXLeft+=token.width,leftIndex++;lineTop+=lineHeight}},ZRText.prototype._placeToken=function(token,style,lineHeight,lineTop,x,textAlign,parentBgColorDrawn){var tokenStyle=style.rich[token.styleName]||{};tokenStyle.text=token.text;var verticalAlign=token.verticalAlign,y=lineTop+lineHeight/2;"top"===verticalAlign?y=lineTop+token.height/2:"bottom"===verticalAlign&&(y=lineTop+lineHeight-token.height/2),!token.isLineHolder&&needDrawBackground(tokenStyle)&&this._renderBackground(tokenStyle,style,"right"===textAlign?x-token.width:"center"===textAlign?x-token.width/2:x,y-token.height/2,token.width,token.height);var bgColorDrawn=!!tokenStyle.backgroundColor,textPadding=token.textPadding;textPadding&&(x=getTextXForPadding(x,textAlign,textPadding),y-=token.height/2-textPadding[0]-token.innerHeight/2);var el=this._getOrCreateChild(_TSpan_js__WEBPACK_IMPORTED_MODULE_7__.Z),subElStyle=el.createStyle();el.useStyle(subElStyle);var defaultStyle=this._defaultStyle,useDefaultFill=!1,defaultLineWidth=0,textFill=getFill("fill"in tokenStyle?tokenStyle.fill:"fill"in style?style.fill:(useDefaultFill=!0,defaultStyle.fill)),textStroke=getStroke("stroke"in tokenStyle?tokenStyle.stroke:"stroke"in style?style.stroke:bgColorDrawn||parentBgColorDrawn||defaultStyle.autoStroke&&!useDefaultFill?null:(defaultLineWidth=2,defaultStyle.stroke)),hasShadow=tokenStyle.textShadowBlur>0||style.textShadowBlur>0;subElStyle.text=token.text,subElStyle.x=x,subElStyle.y=y,hasShadow&&(subElStyle.shadowBlur=tokenStyle.textShadowBlur||style.textShadowBlur||0,subElStyle.shadowColor=tokenStyle.textShadowColor||style.textShadowColor||"transparent",subElStyle.shadowOffsetX=tokenStyle.textShadowOffsetX||style.textShadowOffsetX||0,subElStyle.shadowOffsetY=tokenStyle.textShadowOffsetY||style.textShadowOffsetY||0),subElStyle.textAlign=textAlign,subElStyle.textBaseline="middle",subElStyle.font=token.font||_core_platform_js__WEBPACK_IMPORTED_MODULE_4__.Uo,subElStyle.opacity=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve3)(tokenStyle.opacity,style.opacity,1),setSeparateFont(subElStyle,tokenStyle),textStroke&&(subElStyle.lineWidth=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve3)(tokenStyle.lineWidth,style.lineWidth,defaultLineWidth),subElStyle.lineDash=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(tokenStyle.lineDash,style.lineDash),subElStyle.lineDashOffset=style.lineDashOffset||0,subElStyle.stroke=textStroke),textFill&&(subElStyle.fill=textFill);var textWidth=token.contentWidth,textHeight=token.contentHeight;el.setBoundingRect(new _core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.Z((0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.M3)(subElStyle.x,textWidth,subElStyle.textAlign),(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_6__.mU)(subElStyle.y,textHeight,subElStyle.textBaseline),textWidth,textHeight))},ZRText.prototype._renderBackground=function(style,topStyle,x,y,width,height){var rectEl,imgEl,rectStyle,textBackgroundColor=style.backgroundColor,textBorderWidth=style.borderWidth,textBorderColor=style.borderColor,isImageBg=textBackgroundColor&&textBackgroundColor.image,isPlainOrGradientBg=textBackgroundColor&&!isImageBg,textBorderRadius=style.borderRadius,self=this;if(isPlainOrGradientBg||style.lineHeight||textBorderWidth&&textBorderColor){(rectEl=this._getOrCreateChild(_shape_Rect_js__WEBPACK_IMPORTED_MODULE_8__.Z)).useStyle(rectEl.createStyle()),rectEl.style.fill=null;var rectShape=rectEl.shape;rectShape.x=x,rectShape.y=y,rectShape.width=width,rectShape.height=height,rectShape.r=textBorderRadius,rectEl.dirtyShape()}if(isPlainOrGradientBg)(rectStyle=rectEl.style).fill=textBackgroundColor||null,rectStyle.fillOpacity=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(style.fillOpacity,1);else if(isImageBg){(imgEl=this._getOrCreateChild(_Image_js__WEBPACK_IMPORTED_MODULE_9__.ZP)).onload=function(){self.dirtyStyle()};var imgStyle=imgEl.style;imgStyle.image=textBackgroundColor.image,imgStyle.x=x,imgStyle.y=y,imgStyle.width=width,imgStyle.height=height}textBorderWidth&&textBorderColor&&((rectStyle=rectEl.style).lineWidth=textBorderWidth,rectStyle.stroke=textBorderColor,rectStyle.strokeOpacity=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(style.strokeOpacity,1),rectStyle.lineDash=style.borderDash,rectStyle.lineDashOffset=style.borderDashOffset||0,rectEl.strokeContainThreshold=0,rectEl.hasFill()&&rectEl.hasStroke()&&(rectStyle.strokeFirst=!0,rectStyle.lineWidth*=2));var commonStyle=(rectEl||imgEl).style;commonStyle.shadowBlur=style.shadowBlur||0,commonStyle.shadowColor=style.shadowColor||"transparent",commonStyle.shadowOffsetX=style.shadowOffsetX||0,commonStyle.shadowOffsetY=style.shadowOffsetY||0,commonStyle.opacity=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve3)(style.opacity,topStyle.opacity,1)},ZRText.makeFont=function(style){var font="";return hasSeparateFont(style)&&(font=[style.fontStyle,style.fontWeight,parseFontSize(style.fontSize),style.fontFamily||"sans-serif"].join(" ")),font&&(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.trim)(font)||style.textFont||style.font},ZRText}(_Displayable_js__WEBPACK_IMPORTED_MODULE_1__.ZP),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(fontSize){return"string"!=typeof fontSize||-1===fontSize.indexOf("px")&&-1===fontSize.indexOf("rem")&&-1===fontSize.indexOf("em")?isNaN(+fontSize)?_core_platform_js__WEBPACK_IMPORTED_MODULE_4__.n5+"px":fontSize+"px":fontSize}function setSeparateFont(targetStyle,sourceStyle){for(var i=0;i<FONT_PARTS.length;i++){var fontProp=FONT_PARTS[i],val=sourceStyle[fontProp];null!=val&&(targetStyle[fontProp]=val)}}function hasSeparateFont(style){return null!=style.fontSize||style.fontFamily||style.fontWeight}function normalizeStyle(style){if(style){style.font=ZRText.makeFont(style);var textAlign=style.align;"middle"===textAlign&&(textAlign="center"),style.align=null==textAlign||VALID_TEXT_ALIGN[textAlign]?textAlign:"left";var verticalAlign=style.verticalAlign;"center"===verticalAlign&&(verticalAlign="middle"),style.verticalAlign=null==verticalAlign||VALID_TEXT_VERTICAL_ALIGN[verticalAlign]?verticalAlign:"top",style.padding&&(style.padding=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.normalizeCssArray)(style.padding))}}function getStroke(stroke,lineWidth){return null==stroke||lineWidth<=0||"transparent"===stroke||"none"===stroke?null:stroke.image||stroke.colorStops?"#000":stroke}function getFill(fill){return null==fill||"none"===fill?null:fill.image||fill.colorStops?"#000":fill}function getTextXForPadding(x,textAlign,textPadding){return"right"===textAlign?x-textPadding[1]:"center"===textAlign?x+textPadding[3]/2-textPadding[1]/2:x+textPadding[3]}function getStyleText(style){var text=style.text;return null!=text&&(text+=""),text}function needDrawBackground(style){return!!(style.backgroundColor||style.lineHeight||style.borderWidth&&style.borderColor)}const __WEBPACK_DEFAULT_EXPORT__=ZRText},"./node_modules/zrender/lib/graphic/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RH:()=>SHAPE_CHANGED_BIT,SE:()=>STYLE_CHANGED_BIT,YV:()=>REDRAW_BIT});var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4},"./node_modules/zrender/lib/graphic/helper/image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gq:()=>createOrUpdateImage,ko:()=>findExistImage,v5:()=>isImageReady});var _core_LRU_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),_core_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),globalImageCache=new _core_LRU_js__WEBPACK_IMPORTED_MODULE_0__.ZP(50);function findExistImage(newImageOrSrc){if("string"==typeof newImageOrSrc){var cachedImgObj=globalImageCache.get(newImageOrSrc);return cachedImgObj&&cachedImgObj.image}return newImageOrSrc}function createOrUpdateImage(newImageOrSrc,image,hostEl,onload,cbPayload){if(newImageOrSrc){if("string"==typeof newImageOrSrc){if(image&&image.__zrImageSrc===newImageOrSrc||!hostEl)return image;var cachedImgObj=globalImageCache.get(newImageOrSrc),pendingWrap={hostEl,cb:onload,cbPayload};return cachedImgObj?!isImageReady(image=cachedImgObj.image)&&cachedImgObj.pending.push(pendingWrap):((image=_core_platform_js__WEBPACK_IMPORTED_MODULE_1__.qW.loadImage(newImageOrSrc,imageOnLoad,imageOnLoad)).__zrImageSrc=newImageOrSrc,globalImageCache.put(newImageOrSrc,image.__cachedImgObj={image,pending:[pendingWrap]})),image}return newImageOrSrc}return image}function imageOnLoad(){var cachedImgObj=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<cachedImgObj.pending.length;i++){var pendingWrap=cachedImgObj.pending[i],cb=pendingWrap.cb;cb&&cb(this,pendingWrap.cbPayload),pendingWrap.hostEl.dirty()}cachedImgObj.pending.length=0}function isImageReady(image){return image&&image.width&&image.height}},"./node_modules/zrender/lib/graphic/helper/parseText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$F:()=>parseRichText,NY:()=>parsePlainText,aF:()=>truncateText});var _helper_image_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/image.js"),_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_contain_text_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(text,containerWidth,font,ellipsis,options){if(!containerWidth)return"";var textLines=(text+"").split("\n");options=prepareTruncateOptions(containerWidth,font,ellipsis,options);for(var i=0,len=textLines.length;i<len;i++)textLines[i]=truncateSingleLine(textLines[i],options);return textLines.join("\n")}function prepareTruncateOptions(containerWidth,font,ellipsis,options){options=options||{};var preparedOpts=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.extend)({},options);preparedOpts.font=font,ellipsis=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(ellipsis,"..."),preparedOpts.maxIterations=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(options.maxIterations,2);var minChar=preparedOpts.minChar=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(options.minChar,0);preparedOpts.cnCharWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)("国",font);var ascCharWidth=preparedOpts.ascCharWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)("a",font);preparedOpts.placeholder=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(options.placeholder,"");for(var contentWidth=containerWidth=Math.max(0,containerWidth-1),i=0;i<minChar&&contentWidth>=ascCharWidth;i++)contentWidth-=ascCharWidth;var ellipsisWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(ellipsis,font);return ellipsisWidth>contentWidth&&(ellipsis="",ellipsisWidth=0),contentWidth=containerWidth-ellipsisWidth,preparedOpts.ellipsis=ellipsis,preparedOpts.ellipsisWidth=ellipsisWidth,preparedOpts.contentWidth=contentWidth,preparedOpts.containerWidth=containerWidth,preparedOpts}function truncateSingleLine(textLine,options){var containerWidth=options.containerWidth,font=options.font,contentWidth=options.contentWidth;if(!containerWidth)return"";var lineWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(textLine,font);if(lineWidth<=containerWidth)return textLine;for(var j=0;;j++){if(lineWidth<=contentWidth||j>=options.maxIterations){textLine+=options.ellipsis;break}var subLength=0===j?estimateLength(textLine,contentWidth,options.ascCharWidth,options.cnCharWidth):lineWidth>0?Math.floor(textLine.length*contentWidth/lineWidth):0;textLine=textLine.substr(0,subLength),lineWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(textLine,font)}return""===textLine&&(textLine=options.placeholder),textLine}function estimateLength(text,contentWidth,ascCharWidth,cnCharWidth){for(var width=0,i=0,len=text.length;i<len&&width<contentWidth;i++){var charCode=text.charCodeAt(i);width+=0<=charCode&&charCode<=127?ascCharWidth:cnCharWidth}return i}function parsePlainText(text,style){null!=text&&(text+="");var lines,overflow=style.overflow,padding=style.padding,font=style.font,truncate="truncate"===overflow,calculatedLineHeight=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.Dp)(font),lineHeight=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(style.lineHeight,calculatedLineHeight),bgColorDrawn=!!style.backgroundColor,truncateLineOverflow="truncate"===style.lineOverflow,width=style.width,contentHeight=(lines=null==width||"break"!==overflow&&"breakAll"!==overflow?text?text.split("\n"):[]:text?wrapText(text,style.font,width,"breakAll"===overflow,0).lines:[]).length*lineHeight,height=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(style.height,contentHeight);if(contentHeight>height&&truncateLineOverflow){var lineCount=Math.floor(height/lineHeight);lines=lines.slice(0,lineCount)}if(text&&truncate&&null!=width)for(var options=prepareTruncateOptions(width,font,style.ellipsis,{minChar:style.truncateMinChar,placeholder:style.placeholder}),i=0;i<lines.length;i++)lines[i]=truncateSingleLine(lines[i],options);var outerHeight=height,contentWidth=0;for(i=0;i<lines.length;i++)contentWidth=Math.max((0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(lines[i],font),contentWidth);null==width&&(width=contentWidth);var outerWidth=contentWidth;return padding&&(outerHeight+=padding[0]+padding[2],outerWidth+=padding[1]+padding[3],width+=padding[1]+padding[3]),bgColorDrawn&&(outerWidth=width),{lines,height,outerWidth,outerHeight,lineHeight,calculatedLineHeight,contentWidth,contentHeight,width}}var RichTextToken=function RichTextToken(){},RichTextLine=function RichTextLine(tokens){this.tokens=[],tokens&&(this.tokens=tokens)},RichTextContentBlock=function RichTextContentBlock(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function parseRichText(text,style){var contentBlock=new RichTextContentBlock;if(null!=text&&(text+=""),!text)return contentBlock;for(var result,topWidth=style.width,topHeight=style.height,overflow=style.overflow,wrapInfo="break"!==overflow&&"breakAll"!==overflow||null==topWidth?null:{width:topWidth,accumWidth:0,breakAll:"breakAll"===overflow},lastIndex=STYLE_REG.lastIndex=0;null!=(result=STYLE_REG.exec(text));){var matchedIndex=result.index;matchedIndex>lastIndex&&pushTokens(contentBlock,text.substring(lastIndex,matchedIndex),style,wrapInfo),pushTokens(contentBlock,result[2],style,wrapInfo,result[1]),lastIndex=STYLE_REG.lastIndex}lastIndex<text.length&&pushTokens(contentBlock,text.substring(lastIndex,text.length),style,wrapInfo);var pendingList=[],calculatedHeight=0,calculatedWidth=0,stlPadding=style.padding,truncate="truncate"===overflow,truncateLine="truncate"===style.lineOverflow;function finishLine(line,lineWidth,lineHeight){line.width=lineWidth,line.lineHeight=lineHeight,calculatedHeight+=lineHeight,calculatedWidth=Math.max(calculatedWidth,lineWidth)}outer:for(var i=0;i<contentBlock.lines.length;i++){for(var line=contentBlock.lines[i],lineHeight=0,lineWidth=0,j=0;j<line.tokens.length;j++){var tokenStyle=(token=line.tokens[j]).styleName&&style.rich[token.styleName]||{},textPadding=token.textPadding=tokenStyle.padding,paddingH=textPadding?textPadding[1]+textPadding[3]:0,font=token.font=tokenStyle.font||style.font;token.contentHeight=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.Dp)(font);var tokenHeight=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(tokenStyle.height,token.contentHeight);if(token.innerHeight=tokenHeight,textPadding&&(tokenHeight+=textPadding[0]+textPadding[2]),token.height=tokenHeight,token.lineHeight=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve3)(tokenStyle.lineHeight,style.lineHeight,tokenHeight),token.align=tokenStyle&&tokenStyle.align||style.align,token.verticalAlign=tokenStyle&&tokenStyle.verticalAlign||"middle",truncateLine&&null!=topHeight&&calculatedHeight+token.lineHeight>topHeight){j>0?(line.tokens=line.tokens.slice(0,j),finishLine(line,lineWidth,lineHeight),contentBlock.lines=contentBlock.lines.slice(0,i+1)):contentBlock.lines=contentBlock.lines.slice(0,i);break outer}var styleTokenWidth=tokenStyle.width,tokenWidthNotSpecified=null==styleTokenWidth||"auto"===styleTokenWidth;if("string"==typeof styleTokenWidth&&"%"===styleTokenWidth.charAt(styleTokenWidth.length-1))token.percentWidth=styleTokenWidth,pendingList.push(token),token.contentWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(token.text,font);else{if(tokenWidthNotSpecified){var textBackgroundColor=tokenStyle.backgroundColor,bgImg=textBackgroundColor&&textBackgroundColor.image;bgImg&&(bgImg=_helper_image_js__WEBPACK_IMPORTED_MODULE_2__.ko(bgImg),_helper_image_js__WEBPACK_IMPORTED_MODULE_2__.v5(bgImg)&&(token.width=Math.max(token.width,bgImg.width*tokenHeight/bgImg.height)))}var remainTruncWidth=truncate&&null!=topWidth?topWidth-lineWidth:null;null!=remainTruncWidth&&remainTruncWidth<token.width?!tokenWidthNotSpecified||remainTruncWidth<paddingH?(token.text="",token.width=token.contentWidth=0):(token.text=truncateText(token.text,remainTruncWidth-paddingH,font,style.ellipsis,{minChar:style.truncateMinChar}),token.width=token.contentWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(token.text,font)):token.contentWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(token.text,font)}token.width+=paddingH,lineWidth+=token.width,tokenStyle&&(lineHeight=Math.max(lineHeight,token.lineHeight))}finishLine(line,lineWidth,lineHeight)}contentBlock.outerWidth=contentBlock.width=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(topWidth,calculatedWidth),contentBlock.outerHeight=contentBlock.height=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.retrieve2)(topHeight,calculatedHeight),contentBlock.contentHeight=calculatedHeight,contentBlock.contentWidth=calculatedWidth,stlPadding&&(contentBlock.outerWidth+=stlPadding[1]+stlPadding[3],contentBlock.outerHeight+=stlPadding[0]+stlPadding[2]);for(i=0;i<pendingList.length;i++){var token,percentWidth=(token=pendingList[i]).percentWidth;token.width=parseInt(percentWidth,10)/100*contentBlock.width}return contentBlock}function pushTokens(block,str,style,wrapInfo,styleName){var strLines,linesWidths,isEmptyStr=""===str,tokenStyle=styleName&&style.rich[styleName]||{},lines=block.lines,font=tokenStyle.font||style.font,newLine=!1;if(wrapInfo){var tokenPadding=tokenStyle.padding,tokenPaddingH=tokenPadding?tokenPadding[1]+tokenPadding[3]:0;if(null!=tokenStyle.width&&"auto"!==tokenStyle.width){var outerWidth_1=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.GM)(tokenStyle.width,wrapInfo.width)+tokenPaddingH;lines.length>0&&outerWidth_1+wrapInfo.accumWidth>wrapInfo.width&&(strLines=str.split("\n"),newLine=!0),wrapInfo.accumWidth=outerWidth_1}else{var res=wrapText(str,font,wrapInfo.width,wrapInfo.breakAll,wrapInfo.accumWidth);wrapInfo.accumWidth=res.accumWidth+tokenPaddingH,linesWidths=res.linesWidths,strLines=res.lines}}else strLines=str.split("\n");for(var i=0;i<strLines.length;i++){var text=strLines[i],token=new RichTextToken;if(token.styleName=styleName,token.text=text,token.isLineHolder=!text&&!isEmptyStr,"number"==typeof tokenStyle.width?token.width=tokenStyle.width:token.width=linesWidths?linesWidths[i]:(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(text,font),i||newLine)lines.push(new RichTextLine([token]));else{var tokens=(lines[lines.length-1]||(lines[0]=new RichTextLine)).tokens,tokensLen=tokens.length;1===tokensLen&&tokens[0].isLineHolder?tokens[0]=token:(text||!tokensLen||isEmptyStr)&&tokens.push(token)}}}var breakCharMap=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_0__.reduce)(",&?/;] ".split(""),(function(obj,ch){return obj[ch]=!0,obj}),{});function isWordBreakChar(ch){return!function isAlphabeticLetter(ch){var code=ch.charCodeAt(0);return code>=32&&code<=591||code>=880&&code<=4351||code>=4608&&code<=5119||code>=7680&&code<=8303}(ch)||!!breakCharMap[ch]}function wrapText(text,font,lineWidth,isBreakAll,lastAccumWidth){for(var lines=[],linesWidths=[],line="",currentWord="",currentWordWidth=0,accumWidth=0,i=0;i<text.length;i++){var ch=text.charAt(i);if("\n"!==ch){var chWidth=(0,_contain_text_js__WEBPACK_IMPORTED_MODULE_1__.dz)(ch,font),inWord=!isBreakAll&&!isWordBreakChar(ch);(lines.length?accumWidth+chWidth>lineWidth:lastAccumWidth+accumWidth+chWidth>lineWidth)?accumWidth?(line||currentWord)&&(inWord?(line||(line=currentWord,currentWord="",accumWidth=currentWordWidth=0),lines.push(line),linesWidths.push(accumWidth-currentWordWidth),currentWord+=ch,line="",accumWidth=currentWordWidth+=chWidth):(currentWord&&(line+=currentWord,currentWord="",currentWordWidth=0),lines.push(line),linesWidths.push(accumWidth),line=ch,accumWidth=chWidth)):inWord?(lines.push(currentWord),linesWidths.push(currentWordWidth),currentWord=ch,currentWordWidth=chWidth):(lines.push(ch),linesWidths.push(chWidth)):(accumWidth+=chWidth,inWord?(currentWord+=ch,currentWordWidth+=chWidth):(currentWord&&(line+=currentWord,currentWord="",currentWordWidth=0),line+=ch))}else currentWord&&(line+=currentWord,accumWidth+=currentWordWidth),lines.push(line),linesWidths.push(accumWidth),line="",currentWord="",currentWordWidth=0,accumWidth=0}return lines.length||line||(line=text,currentWord="",currentWordWidth=0),currentWord&&(line+=currentWord),line&&(lines.push(line),linesWidths.push(accumWidth)),1===lines.length&&(accumWidth+=lastAccumWidth),{accumWidth,lines,linesWidths}}},"./node_modules/zrender/lib/graphic/helper/poly.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>buildPath});var vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js");function buildPath(ctx,shape,closePath){var smooth=shape.smooth,points=shape.points;if(points&&points.length>=2){if(smooth){var controlPoints=function smoothBezier(points,smooth,isLoop,constraint){var prevPoint,nextPoint,min,max,cps=[],v=[],v1=[],v2=[];if(constraint){min=[1/0,1/0],max=[-1/0,-1/0];for(var i=0,len=points.length;i<len;i++)(0,vector.min)(min,min,points[i]),(0,vector.max)(max,max,points[i]);(0,vector.min)(min,min,constraint[0]),(0,vector.max)(max,max,constraint[1])}for(i=0,len=points.length;i<len;i++){var point=points[i];if(isLoop)prevPoint=points[i?i-1:len-1],nextPoint=points[(i+1)%len];else{if(0===i||i===len-1){cps.push((0,vector.clone)(points[i]));continue}prevPoint=points[i-1],nextPoint=points[i+1]}(0,vector.sub)(v,nextPoint,prevPoint),(0,vector.scale)(v,v,smooth);var d0=(0,vector.distance)(point,prevPoint),d1=(0,vector.distance)(point,nextPoint),sum=d0+d1;0!==sum&&(d0/=sum,d1/=sum),(0,vector.scale)(v1,v,-d0),(0,vector.scale)(v2,v,d1);var cp0=(0,vector.add)([],point,v1),cp1=(0,vector.add)([],point,v2);constraint&&((0,vector.max)(cp0,cp0,min),(0,vector.min)(cp0,cp0,max),(0,vector.max)(cp1,cp1,min),(0,vector.min)(cp1,cp1,max)),cps.push(cp0),cps.push(cp1)}return isLoop&&cps.push(cps.shift()),cps}(points,smooth,closePath,shape.smoothConstraint);ctx.moveTo(points[0][0],points[0][1]);for(var len=points.length,i=0;i<(closePath?len:len-1);i++){var cp1=controlPoints[2*i],cp2=controlPoints[2*i+1],p=points[(i+1)%len];ctx.bezierCurveTo(cp1[0],cp1[1],cp2[0],cp2[1],p[0],p[1])}}else{ctx.moveTo(points[0][0],points[0][1]);i=1;for(var l=points.length;i<l;i++)ctx.lineTo(points[i][0],points[i][1])}closePath&&ctx.closePath()}}},"./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Pw:()=>subPixelOptimizeRect,_3:()=>subPixelOptimizeLine,vu:()=>subPixelOptimize});var round=Math.round;function subPixelOptimizeLine(outputShape,inputShape,style){if(inputShape){var x1=inputShape.x1,x2=inputShape.x2,y1=inputShape.y1,y2=inputShape.y2;outputShape.x1=x1,outputShape.x2=x2,outputShape.y1=y1,outputShape.y2=y2;var lineWidth=style&&style.lineWidth;return lineWidth?(round(2*x1)===round(2*x2)&&(outputShape.x1=outputShape.x2=subPixelOptimize(x1,lineWidth,!0)),round(2*y1)===round(2*y2)&&(outputShape.y1=outputShape.y2=subPixelOptimize(y1,lineWidth,!0)),outputShape):outputShape}}function subPixelOptimizeRect(outputShape,inputShape,style){if(inputShape){var originX=inputShape.x,originY=inputShape.y,originWidth=inputShape.width,originHeight=inputShape.height;outputShape.x=originX,outputShape.y=originY,outputShape.width=originWidth,outputShape.height=originHeight;var lineWidth=style&&style.lineWidth;return lineWidth?(outputShape.x=subPixelOptimize(originX,lineWidth,!0),outputShape.y=subPixelOptimize(originY,lineWidth,!0),outputShape.width=Math.max(subPixelOptimize(originX+originWidth,lineWidth,!1)-outputShape.x,0===originWidth?0:1),outputShape.height=Math.max(subPixelOptimize(originY+originHeight,lineWidth,!1)-outputShape.y,0===originHeight?0:1),outputShape):outputShape}}function subPixelOptimize(position,lineWidth,positiveOrNegative){if(!lineWidth)return position;var doubledPosition=round(2*position);return(doubledPosition+round(lineWidth))%2==0?doubledPosition/2:(doubledPosition+(positiveOrNegative?1:-1))/2}},"./node_modules/zrender/lib/graphic/shape/Arc.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),ArcShape=function ArcShape(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Arc=function(_super){function Arc(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Arc,_super),Arc.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Arc.prototype.getDefaultShape=function(){return new ArcShape},Arc.prototype.buildPath=function(ctx,shape){var x=shape.cx,y=shape.cy,r=Math.max(shape.r,0),startAngle=shape.startAngle,endAngle=shape.endAngle,clockwise=shape.clockwise,unitX=Math.cos(startAngle),unitY=Math.sin(startAngle);ctx.moveTo(unitX*r+x,unitY*r+y),ctx.arc(x,y,r,startAngle,endAngle,!clockwise)},Arc}(_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP);Arc.prototype.type="arc";const __WEBPACK_DEFAULT_EXPORT__=Arc},"./node_modules/zrender/lib/graphic/shape/BezierCurve.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_core_vector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),_core_curve_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/curve.js"),out=[],BezierCurveShape=function BezierCurveShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function someVectorAt(shape,t,isTangent){var cpx2=shape.cpx2,cpy2=shape.cpy2;return null!=cpx2||null!=cpy2?[(isTangent?_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.X_:_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.af)(shape.x1,shape.cpx1,shape.cpx2,shape.x2,t),(isTangent?_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.X_:_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.af)(shape.y1,shape.cpy1,shape.cpy2,shape.y2,t)]:[(isTangent?_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.AZ:_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Zm)(shape.x1,shape.cpx1,shape.x2,t),(isTangent?_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.AZ:_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Zm)(shape.y1,shape.cpy1,shape.y2,t)]}var BezierCurve=function(_super){function BezierCurve(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ZT)(BezierCurve,_super),BezierCurve.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},BezierCurve.prototype.getDefaultShape=function(){return new BezierCurveShape},BezierCurve.prototype.buildPath=function(ctx,shape){var x1=shape.x1,y1=shape.y1,x2=shape.x2,y2=shape.y2,cpx1=shape.cpx1,cpy1=shape.cpy1,cpx2=shape.cpx2,cpy2=shape.cpy2,percent=shape.percent;0!==percent&&(ctx.moveTo(x1,y1),null==cpx2||null==cpy2?(percent<1&&((0,_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Lx)(x1,cpx1,x2,percent,out),cpx1=out[1],x2=out[2],(0,_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Lx)(y1,cpy1,y2,percent,out),cpy1=out[1],y2=out[2]),ctx.quadraticCurveTo(cpx1,cpy1,x2,y2)):(percent<1&&((0,_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Vz)(x1,cpx1,cpx2,x2,percent,out),cpx1=out[1],cpx2=out[2],x2=out[3],(0,_core_curve_js__WEBPACK_IMPORTED_MODULE_0__.Vz)(y1,cpy1,cpy2,y2,percent,out),cpy1=out[1],cpy2=out[2],y2=out[3]),ctx.bezierCurveTo(cpx1,cpy1,cpx2,cpy2,x2,y2)))},BezierCurve.prototype.pointAt=function(t){return someVectorAt(this.shape,t,!1)},BezierCurve.prototype.tangentAt=function(t){var p=someVectorAt(this.shape,t,!0);return _core_vector_js__WEBPACK_IMPORTED_MODULE_2__.normalize(p,p)},BezierCurve}(_Path_js__WEBPACK_IMPORTED_MODULE_3__.ZP);BezierCurve.prototype.type="bezier-curve";const __WEBPACK_DEFAULT_EXPORT__=BezierCurve},"./node_modules/zrender/lib/graphic/shape/Circle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),CircleShape=function CircleShape(){this.cx=0,this.cy=0,this.r=0},Circle=function(_super){function Circle(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Circle,_super),Circle.prototype.getDefaultShape=function(){return new CircleShape},Circle.prototype.buildPath=function(ctx,shape){ctx.moveTo(shape.cx+shape.r,shape.cy),ctx.arc(shape.cx,shape.cy,shape.r,0,2*Math.PI)},Circle}(_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP);Circle.prototype.type="circle";const __WEBPACK_DEFAULT_EXPORT__=Circle},"./node_modules/zrender/lib/graphic/shape/Ellipse.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),EllipseShape=function EllipseShape(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Ellipse=function(_super){function Ellipse(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Ellipse,_super),Ellipse.prototype.getDefaultShape=function(){return new EllipseShape},Ellipse.prototype.buildPath=function(ctx,shape){var k=.5522848,x=shape.cx,y=shape.cy,a=shape.rx,b=shape.ry,ox=a*k,oy=b*k;ctx.moveTo(x-a,y),ctx.bezierCurveTo(x-a,y-oy,x-ox,y-b,x,y-b),ctx.bezierCurveTo(x+ox,y-b,x+a,y-oy,x+a,y),ctx.bezierCurveTo(x+a,y+oy,x+ox,y+b,x,y+b),ctx.bezierCurveTo(x-ox,y+b,x-a,y+oy,x-a,y),ctx.closePath()},Ellipse}(_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP);Ellipse.prototype.type="ellipse";const __WEBPACK_DEFAULT_EXPORT__=Ellipse},"./node_modules/zrender/lib/graphic/shape/Line.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_helper_subPixelOptimize_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js"),subPixelOptimizeOutputShape={},LineShape=function LineShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Line=function(_super){function Line(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Line,_super),Line.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Line.prototype.getDefaultShape=function(){return new LineShape},Line.prototype.buildPath=function(ctx,shape){var x1,y1,x2,y2;if(this.subPixelOptimize){var optimizedShape=(0,_helper_subPixelOptimize_js__WEBPACK_IMPORTED_MODULE_1__._3)(subPixelOptimizeOutputShape,shape,this.style);x1=optimizedShape.x1,y1=optimizedShape.y1,x2=optimizedShape.x2,y2=optimizedShape.y2}else x1=shape.x1,y1=shape.y1,x2=shape.x2,y2=shape.y2;var percent=shape.percent;0!==percent&&(ctx.moveTo(x1,y1),percent<1&&(x2=x1*(1-percent)+x2*percent,y2=y1*(1-percent)+y2*percent),ctx.lineTo(x2,y2))},Line.prototype.pointAt=function(p){var shape=this.shape;return[shape.x1*(1-p)+shape.x2*p,shape.y1*(1-p)+shape.y2*p]},Line}(_Path_js__WEBPACK_IMPORTED_MODULE_2__.ZP);Line.prototype.type="line";const __WEBPACK_DEFAULT_EXPORT__=Line},"./node_modules/zrender/lib/graphic/shape/Polygon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_helper_poly_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/poly.js"),PolygonShape=function PolygonShape(){this.points=null,this.smooth=0,this.smoothConstraint=null},Polygon=function(_super){function Polygon(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Polygon,_super),Polygon.prototype.getDefaultShape=function(){return new PolygonShape},Polygon.prototype.buildPath=function(ctx,shape){_helper_poly_js__WEBPACK_IMPORTED_MODULE_1__.L(ctx,shape,!0)},Polygon}(_Path_js__WEBPACK_IMPORTED_MODULE_2__.ZP);Polygon.prototype.type="polygon";const __WEBPACK_DEFAULT_EXPORT__=Polygon},"./node_modules/zrender/lib/graphic/shape/Polyline.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),_helper_poly_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/helper/poly.js"),PolylineShape=function PolylineShape(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Polyline=function(_super){function Polyline(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Polyline,_super),Polyline.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Polyline.prototype.getDefaultShape=function(){return new PolylineShape},Polyline.prototype.buildPath=function(ctx,shape){_helper_poly_js__WEBPACK_IMPORTED_MODULE_1__.L(ctx,shape,!1)},Polyline}(_Path_js__WEBPACK_IMPORTED_MODULE_2__.ZP);Polyline.prototype.type="polyline";const __WEBPACK_DEFAULT_EXPORT__=Polyline},"./node_modules/zrender/lib/graphic/shape/Rect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>shape_Rect});var tslib=__webpack_require__("tslib"),Path=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js");var subPixelOptimize=__webpack_require__("./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js"),RectShape=function RectShape(){this.x=0,this.y=0,this.width=0,this.height=0},subPixelOptimizeOutputShape={},Rect=function(_super){function Rect(opts){return _super.call(this,opts)||this}return(0,tslib.ZT)(Rect,_super),Rect.prototype.getDefaultShape=function(){return new RectShape},Rect.prototype.buildPath=function(ctx,shape){var x,y,width,height;if(this.subPixelOptimize){var optimizedShape=(0,subPixelOptimize.Pw)(subPixelOptimizeOutputShape,shape,this.style);x=optimizedShape.x,y=optimizedShape.y,width=optimizedShape.width,height=optimizedShape.height,optimizedShape.r=shape.r,shape=optimizedShape}else x=shape.x,y=shape.y,width=shape.width,height=shape.height;shape.r?function buildPath(ctx,shape){var r1,r2,r3,r4,total,x=shape.x,y=shape.y,width=shape.width,height=shape.height,r=shape.r;width<0&&(x+=width,width=-width),height<0&&(y+=height,height=-height),"number"==typeof r?r1=r2=r3=r4=r:r instanceof Array?1===r.length?r1=r2=r3=r4=r[0]:2===r.length?(r1=r3=r[0],r2=r4=r[1]):3===r.length?(r1=r[0],r2=r4=r[1],r3=r[2]):(r1=r[0],r2=r[1],r3=r[2],r4=r[3]):r1=r2=r3=r4=0,r1+r2>width&&(r1*=width/(total=r1+r2),r2*=width/total),r3+r4>width&&(r3*=width/(total=r3+r4),r4*=width/total),r2+r3>height&&(r2*=height/(total=r2+r3),r3*=height/total),r1+r4>height&&(r1*=height/(total=r1+r4),r4*=height/total),ctx.moveTo(x+r1,y),ctx.lineTo(x+width-r2,y),0!==r2&&ctx.arc(x+width-r2,y+r2,r2,-Math.PI/2,0),ctx.lineTo(x+width,y+height-r3),0!==r3&&ctx.arc(x+width-r3,y+height-r3,r3,0,Math.PI/2),ctx.lineTo(x+r4,y+height),0!==r4&&ctx.arc(x+r4,y+height-r4,r4,Math.PI/2,Math.PI),ctx.lineTo(x,y+r1),0!==r1&&ctx.arc(x+r1,y+r1,r1,Math.PI,1.5*Math.PI)}(ctx,shape):ctx.rect(x,y,width,height)},Rect.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Rect}(Path.ZP);Rect.prototype.type="rect";const shape_Rect=Rect},"./node_modules/zrender/lib/graphic/shape/Ring.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tslib"),_Path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),RingShape=function RingShape(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Ring=function(_super){function Ring(opts){return _super.call(this,opts)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ZT)(Ring,_super),Ring.prototype.getDefaultShape=function(){return new RingShape},Ring.prototype.buildPath=function(ctx,shape){var x=shape.cx,y=shape.cy,PI2=2*Math.PI;ctx.moveTo(x+shape.r,y),ctx.arc(x,y,shape.r,0,PI2,!1),ctx.moveTo(x+shape.r0,y),ctx.arc(x,y,shape.r0,0,PI2,!0)},Ring}(_Path_js__WEBPACK_IMPORTED_MODULE_1__.ZP);Ring.prototype.type="ring";const __WEBPACK_DEFAULT_EXPORT__=Ring},"./node_modules/zrender/lib/graphic/shape/Sector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>shape_Sector});var tslib=__webpack_require__("tslib"),Path=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),PI=Math.PI,PI2=2*PI,mathSin=Math.sin,mathCos=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax=Math.max,mathMin=Math.min,e=1e-4;function computeCornerTangents(x0,y0,x1,y1,radius,cr,clockwise){var x01=x0-x1,y01=y0-y1,lo=(clockwise?cr:-cr)/mathSqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=radius-cr,s=x11*y10-x10*y11,d=(dy<0?-1:1)*mathSqrt(mathMax(0,r*r*d2-s*s)),cx0=(s*dy-dx*d)/d2,cy0=(-s*dx-dy*d)/d2,cx1=(s*dy+dx*d)/d2,cy1=(-s*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x0:-ox,y0:-oy,x1:cx0*(radius/r-1),y1:cy0*(radius/r-1)}}function buildPath(ctx,shape){var _a,radius=mathMax(shape.r,0),innerRadius=mathMax(shape.r0||0,0),hasRadius=radius>0;if(hasRadius||innerRadius>0){if(hasRadius||(radius=innerRadius,innerRadius=0),innerRadius>radius){var tmp=radius;radius=innerRadius,innerRadius=tmp}var startAngle=shape.startAngle,endAngle=shape.endAngle;if(!isNaN(startAngle)&&!isNaN(endAngle)){var cx=shape.cx,cy=shape.cy,clockwise=!!shape.clockwise,arc=mathAbs(endAngle-startAngle),mod=arc>PI2&&arc%PI2;if(mod>e&&(arc=mod),radius>e)if(arc>PI2-e)ctx.moveTo(cx+radius*mathCos(startAngle),cy+radius*mathSin(startAngle)),ctx.arc(cx,cy,radius,startAngle,endAngle,!clockwise),innerRadius>e&&(ctx.moveTo(cx+innerRadius*mathCos(endAngle),cy+innerRadius*mathSin(endAngle)),ctx.arc(cx,cy,innerRadius,endAngle,startAngle,clockwise));else{var icrStart=void 0,icrEnd=void 0,ocrStart=void 0,ocrEnd=void 0,ocrs=void 0,ocre=void 0,icrs=void 0,icre=void 0,ocrMax=void 0,icrMax=void 0,limitedOcrMax=void 0,limitedIcrMax=void 0,xre=void 0,yre=void 0,xirs=void 0,yirs=void 0,xrs=radius*mathCos(startAngle),yrs=radius*mathSin(startAngle),xire=innerRadius*mathCos(endAngle),yire=innerRadius*mathSin(endAngle),hasArc=arc>e;if(hasArc){var cornerRadius=shape.cornerRadius;cornerRadius&&(icrStart=(_a=function normalizeCornerRadius(cr){var arr;if((0,util.isArray)(cr)){var len=cr.length;if(!len)return cr;arr=1===len?[cr[0],cr[0],0,0]:2===len?[cr[0],cr[0],cr[1],cr[1]]:3===len?cr.concat(cr[2]):cr}else arr=[cr,cr,cr,cr];return arr}(cornerRadius))[0],icrEnd=_a[1],ocrStart=_a[2],ocrEnd=_a[3]);var halfRd=mathAbs(radius-innerRadius)/2;if(ocrs=mathMin(halfRd,ocrStart),ocre=mathMin(halfRd,ocrEnd),icrs=mathMin(halfRd,icrStart),icre=mathMin(halfRd,icrEnd),limitedOcrMax=ocrMax=mathMax(ocrs,ocre),limitedIcrMax=icrMax=mathMax(icrs,icre),(ocrMax>e||icrMax>e)&&(xre=radius*mathCos(endAngle),yre=radius*mathSin(endAngle),xirs=innerRadius*mathCos(startAngle),yirs=innerRadius*mathSin(startAngle),arc<PI)){var it_1=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var dx10=x1-x0,dy10=y1-y0,dx32=x3-x2,dy32=y3-y2,t=dy32*dx10-dx32*dy10;if(!(t*t<e))return[x0+(t=(dx32*(y0-y2)-dy32*(x0-x2))/t)*dx10,y0+t*dy10]}(xrs,yrs,xirs,yirs,xre,yre,xire,yire);if(it_1){var x0=xrs-it_1[0],y0=yrs-it_1[1],x1=xre-it_1[0],y1=yre-it_1[1],a=1/mathSin(mathACos((x0*x1+y0*y1)/(mathSqrt(x0*x0+y0*y0)*mathSqrt(x1*x1+y1*y1)))/2),b=mathSqrt(it_1[0]*it_1[0]+it_1[1]*it_1[1]);limitedOcrMax=mathMin(ocrMax,(radius-b)/(a+1)),limitedIcrMax=mathMin(icrMax,(innerRadius-b)/(a-1))}}}if(hasArc)if(limitedOcrMax>e){var crStart=mathMin(ocrStart,limitedOcrMax),crEnd=mathMin(ocrEnd,limitedOcrMax),ct0=computeCornerTangents(xirs,yirs,xrs,yrs,radius,crStart,clockwise),ct1=computeCornerTangents(xre,yre,xire,yire,radius,crEnd,clockwise);ctx.moveTo(cx+ct0.cx+ct0.x0,cy+ct0.cy+ct0.y0),limitedOcrMax<ocrMax&&crStart===crEnd?ctx.arc(cx+ct0.cx,cy+ct0.cy,limitedOcrMax,mathATan2(ct0.y0,ct0.x0),mathATan2(ct1.y0,ct1.x0),!clockwise):(crStart>0&&ctx.arc(cx+ct0.cx,cy+ct0.cy,crStart,mathATan2(ct0.y0,ct0.x0),mathATan2(ct0.y1,ct0.x1),!clockwise),ctx.arc(cx,cy,radius,mathATan2(ct0.cy+ct0.y1,ct0.cx+ct0.x1),mathATan2(ct1.cy+ct1.y1,ct1.cx+ct1.x1),!clockwise),crEnd>0&&ctx.arc(cx+ct1.cx,cy+ct1.cy,crEnd,mathATan2(ct1.y1,ct1.x1),mathATan2(ct1.y0,ct1.x0),!clockwise))}else ctx.moveTo(cx+xrs,cy+yrs),ctx.arc(cx,cy,radius,startAngle,endAngle,!clockwise);else ctx.moveTo(cx+xrs,cy+yrs);if(innerRadius>e&&hasArc)if(limitedIcrMax>e){crStart=mathMin(icrStart,limitedIcrMax),ct0=computeCornerTangents(xire,yire,xre,yre,innerRadius,-(crEnd=mathMin(icrEnd,limitedIcrMax)),clockwise),ct1=computeCornerTangents(xrs,yrs,xirs,yirs,innerRadius,-crStart,clockwise);ctx.lineTo(cx+ct0.cx+ct0.x0,cy+ct0.cy+ct0.y0),limitedIcrMax<icrMax&&crStart===crEnd?ctx.arc(cx+ct0.cx,cy+ct0.cy,limitedIcrMax,mathATan2(ct0.y0,ct0.x0),mathATan2(ct1.y0,ct1.x0),!clockwise):(crEnd>0&&ctx.arc(cx+ct0.cx,cy+ct0.cy,crEnd,mathATan2(ct0.y0,ct0.x0),mathATan2(ct0.y1,ct0.x1),!clockwise),ctx.arc(cx,cy,innerRadius,mathATan2(ct0.cy+ct0.y1,ct0.cx+ct0.x1),mathATan2(ct1.cy+ct1.y1,ct1.cx+ct1.x1),clockwise),crStart>0&&ctx.arc(cx+ct1.cx,cy+ct1.cy,crStart,mathATan2(ct1.y1,ct1.x1),mathATan2(ct1.y0,ct1.x0),!clockwise))}else ctx.lineTo(cx+xire,cy+yire),ctx.arc(cx,cy,innerRadius,endAngle,startAngle,clockwise);else ctx.lineTo(cx+xire,cy+yire)}else ctx.moveTo(cx,cy);ctx.closePath()}}}var SectorShape=function SectorShape(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Sector=function(_super){function Sector(opts){return _super.call(this,opts)||this}return(0,tslib.ZT)(Sector,_super),Sector.prototype.getDefaultShape=function(){return new SectorShape},Sector.prototype.buildPath=function(ctx,shape){buildPath(ctx,shape)},Sector.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Sector}(Path.ZP);Sector.prototype.type="sector";const shape_Sector=Sector},"./node_modules/zrender/lib/svg/helper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cv:()=>isImagePattern,Gk:()=>getPathPrecision,H3:()=>isGradient,I1:()=>isLinearGradient,Pn:()=>round4,R:()=>isPattern,gA:()=>getSRTTransformString,gO:()=>isRadialGradient,i2:()=>hasShadow,jY:()=>TEXT_ALIGN_TO_ANCHOR,m1:()=>getIdURL,mU:()=>adjustTextY,n1:()=>getShadowKey,oF:()=>encodeBase64,qV:()=>getMatrixStr,ut:()=>normalizeColor,zT:()=>isAroundZero});var _core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_tool_color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),_core_env_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/env.js"),mathRound=Math.round;function normalizeColor(color){var opacity;if(color&&"transparent"!==color){if("string"==typeof color&&color.indexOf("rgba")>-1){var arr=(0,_tool_color_js__WEBPACK_IMPORTED_MODULE_0__.parse)(color);arr&&(color="rgb("+arr[0]+","+arr[1]+","+arr[2]+")",opacity=arr[3])}}else color="none";return{color,opacity:null==opacity?1:opacity}}var EPSILON=1e-4;function isAroundZero(transform){return transform<EPSILON&&transform>-EPSILON}function round3(transform){return mathRound(1e3*transform)/1e3}function round4(transform){return mathRound(1e4*transform)/1e4}function getMatrixStr(m){return"matrix("+round3(m[0])+","+round3(m[1])+","+round3(m[2])+","+round3(m[3])+","+round4(m[4])+","+round4(m[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY(y,lineHeight,textBaseline){return"top"===textBaseline?y+=lineHeight/2:"bottom"===textBaseline&&(y-=lineHeight/2),y}function hasShadow(style){return style&&(style.shadowBlur||style.shadowOffsetX||style.shadowOffsetY)}function getShadowKey(displayable){var style=displayable.style,globalScale=displayable.getGlobalScale();return[style.shadowColor,(style.shadowBlur||0).toFixed(2),(style.shadowOffsetX||0).toFixed(2),(style.shadowOffsetY||0).toFixed(2),globalScale[0],globalScale[1]].join(",")}function isImagePattern(val){return val&&!!val.image}function isPattern(val){return isImagePattern(val)||function isSVGPattern(val){return val&&!!val.svgElement}(val)}function isLinearGradient(val){return"linear"===val.type}function isRadialGradient(val){return"radial"===val.type}function isGradient(val){return val&&("linear"===val.type||"radial"===val.type)}function getIdURL(id){return"url(#"+id+")"}function getPathPrecision(el){var scale=el.getGlobalScale(),size=Math.max(scale[0],scale[1]);return Math.max(Math.ceil(Math.log(size)/Math.log(10)),1)}function getSRTTransformString(transform){var x=transform.x||0,y=transform.y||0,rotation=(transform.rotation||0)*_core_util_js__WEBPACK_IMPORTED_MODULE_1__.RADIAN_TO_DEGREE,scaleX=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(transform.scaleX,1),scaleY=(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.retrieve2)(transform.scaleY,1),skewX=transform.skewX||0,skewY=transform.skewY||0,res=[];return(x||y)&&res.push("translate("+x+"px,"+y+"px)"),rotation&&res.push("rotate("+rotation+")"),1===scaleX&&1===scaleY||res.push("scale("+scaleX+","+scaleY+")"),(skewX||skewY)&&res.push("skew("+mathRound(skewX*_core_util_js__WEBPACK_IMPORTED_MODULE_1__.RADIAN_TO_DEGREE)+"deg, "+mathRound(skewY*_core_util_js__WEBPACK_IMPORTED_MODULE_1__.RADIAN_TO_DEGREE)+"deg)"),res.join(" ")}var encodeBase64=_core_env_js__WEBPACK_IMPORTED_MODULE_2__.Z.hasGlobalWindow&&(0,_core_util_js__WEBPACK_IMPORTED_MODULE_1__.isFunction)(window.btoa)?function(str){return window.btoa(unescape(encodeURIComponent(str)))}:"undefined"!=typeof Buffer?function(str){return Buffer.from(str).toString("base64")}:function(str){return null}},"./node_modules/zrender/lib/tool/color.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{fastLerp:()=>fastLerp,fastMapToColor:()=>fastMapToColor,lerp:()=>lerp,lift:()=>lift,lum:()=>lum,mapToColor:()=>mapToColor,modifyAlpha:()=>modifyAlpha,modifyHSL:()=>modifyHSL,parse:()=>parse,random:()=>random,stringify:()=>stringify,toHex:()=>toHex});var _core_LRU_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/LRU.js"),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(i){return(i=Math.round(i))<0?0:i>255?255:i}function clampCssFloat(f){return f<0?0:f>1?1:f}function parseCssInt(val){var str=val;return str.length&&"%"===str.charAt(str.length-1)?clampCssByte(parseFloat(str)/100*255):clampCssByte(parseInt(str,10))}function parseCssFloat(val){var str=val;return str.length&&"%"===str.charAt(str.length-1)?clampCssFloat(parseFloat(str)/100):clampCssFloat(parseFloat(str))}function cssHueToRgb(m1,m2,h){return h<0?h+=1:h>1&&(h-=1),6*h<1?m1+(m2-m1)*h*6:2*h<1?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1}function lerpNumber(a,b,p){return a+(b-a)*p}function setRgba(out,r,g,b,a){return out[0]=r,out[1]=g,out[2]=b,out[3]=a,out}function copyRgba(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}var colorCache=new _core_LRU_js__WEBPACK_IMPORTED_MODULE_0__.ZP(20),lastRemovedArr=null;function putToCache(colorStr,rgbaArr){lastRemovedArr&&copyRgba(lastRemovedArr,rgbaArr),lastRemovedArr=colorCache.put(colorStr,lastRemovedArr||rgbaArr.slice())}function parse(colorStr,rgbaArr){if(colorStr){rgbaArr=rgbaArr||[];var cached=colorCache.get(colorStr);if(cached)return copyRgba(rgbaArr,cached);var str=(colorStr+="").replace(/ /g,"").toLowerCase();if(str in kCSSColorTable)return copyRgba(rgbaArr,kCSSColorTable[str]),putToCache(colorStr,rgbaArr),rgbaArr;var iv,strLen=str.length;if("#"===str.charAt(0))return 4===strLen||5===strLen?(iv=parseInt(str.slice(1,4),16))>=0&&iv<=4095?(setRgba(rgbaArr,(3840&iv)>>4|(3840&iv)>>8,240&iv|(240&iv)>>4,15&iv|(15&iv)<<4,5===strLen?parseInt(str.slice(4),16)/15:1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):7===strLen||9===strLen?(iv=parseInt(str.slice(1,7),16))>=0&&iv<=16777215?(setRgba(rgbaArr,(16711680&iv)>>16,(65280&iv)>>8,255&iv,9===strLen?parseInt(str.slice(7),16)/255:1),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1):void 0;var op=str.indexOf("("),ep=str.indexOf(")");if(-1!==op&&ep+1===strLen){var fname=str.substr(0,op),params=str.substr(op+1,ep-(op+1)).split(","),alpha=1;switch(fname){case"rgba":if(4!==params.length)return 3===params.length?setRgba(rgbaArr,+params[0],+params[1],+params[2],1):setRgba(rgbaArr,0,0,0,1);alpha=parseCssFloat(params.pop());case"rgb":return params.length>=3?(setRgba(rgbaArr,parseCssInt(params[0]),parseCssInt(params[1]),parseCssInt(params[2]),3===params.length?alpha:parseCssFloat(params[3])),putToCache(colorStr,rgbaArr),rgbaArr):void setRgba(rgbaArr,0,0,0,1);case"hsla":return 4!==params.length?void setRgba(rgbaArr,0,0,0,1):(params[3]=parseCssFloat(params[3]),hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);case"hsl":return 3!==params.length?void setRgba(rgbaArr,0,0,0,1):(hsla2rgba(params,rgbaArr),putToCache(colorStr,rgbaArr),rgbaArr);default:return}}setRgba(rgbaArr,0,0,0,1)}}function hsla2rgba(hsla,rgba){var h=(parseFloat(hsla[0])%360+360)%360/360,s=parseCssFloat(hsla[1]),l=parseCssFloat(hsla[2]),m2=l<=.5?l*(s+1):l+s-l*s,m1=2*l-m2;return setRgba(rgba=rgba||[],clampCssByte(255*cssHueToRgb(m1,m2,h+1/3)),clampCssByte(255*cssHueToRgb(m1,m2,h)),clampCssByte(255*cssHueToRgb(m1,m2,h-1/3)),1),4===hsla.length&&(rgba[3]=hsla[3]),rgba}function lift(color,level){var colorArr=parse(color);if(colorArr){for(var i=0;i<3;i++)colorArr[i]=level<0?colorArr[i]*(1-level)|0:(255-colorArr[i])*level+colorArr[i]|0,colorArr[i]>255?colorArr[i]=255:colorArr[i]<0&&(colorArr[i]=0);return stringify(colorArr,4===colorArr.length?"rgba":"rgb")}}function toHex(color){var colorArr=parse(color);if(colorArr)return((1<<24)+(colorArr[0]<<16)+(colorArr[1]<<8)+ +colorArr[2]).toString(16).slice(1)}function fastLerp(normalizedValue,colors,out){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){out=out||[];var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=colors[leftIndex],rightColor=colors[rightIndex],dv=value-leftIndex;return out[0]=clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),out[1]=clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),out[2]=clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),out[3]=clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv)),out}}var fastMapToColor=fastLerp;function lerp(normalizedValue,colors,fullOutput){if(colors&&colors.length&&normalizedValue>=0&&normalizedValue<=1){var value=normalizedValue*(colors.length-1),leftIndex=Math.floor(value),rightIndex=Math.ceil(value),leftColor=parse(colors[leftIndex]),rightColor=parse(colors[rightIndex]),dv=value-leftIndex,color=stringify([clampCssByte(lerpNumber(leftColor[0],rightColor[0],dv)),clampCssByte(lerpNumber(leftColor[1],rightColor[1],dv)),clampCssByte(lerpNumber(leftColor[2],rightColor[2],dv)),clampCssFloat(lerpNumber(leftColor[3],rightColor[3],dv))],"rgba");return fullOutput?{color,leftIndex,rightIndex,value}:color}}var mapToColor=lerp;function modifyHSL(color,h,s,l){var colorArr=parse(color);if(color)return colorArr=function rgba2hsla(rgba){if(rgba){var H,S,R=rgba[0]/255,G=rgba[1]/255,B=rgba[2]/255,vMin=Math.min(R,G,B),vMax=Math.max(R,G,B),delta=vMax-vMin,L=(vMax+vMin)/2;if(0===delta)H=0,S=0;else{S=L<.5?delta/(vMax+vMin):delta/(2-vMax-vMin);var deltaR=((vMax-R)/6+delta/2)/delta,deltaG=((vMax-G)/6+delta/2)/delta,deltaB=((vMax-B)/6+delta/2)/delta;R===vMax?H=deltaB-deltaG:G===vMax?H=1/3+deltaR-deltaB:B===vMax&&(H=2/3+deltaG-deltaR),H<0&&(H+=1),H>1&&(H-=1)}var hsla=[360*H,S,L];return null!=rgba[3]&&hsla.push(rgba[3]),hsla}}(colorArr),null!=h&&(colorArr[0]=function clampCssAngle(i){return(i=Math.round(i))<0?0:i>360?360:i}(h)),null!=s&&(colorArr[1]=parseCssFloat(s)),null!=l&&(colorArr[2]=parseCssFloat(l)),stringify(hsla2rgba(colorArr),"rgba")}function modifyAlpha(color,alpha){var colorArr=parse(color);if(colorArr&&null!=alpha)return colorArr[3]=clampCssFloat(alpha),stringify(colorArr,"rgba")}function stringify(arrColor,type){if(arrColor&&arrColor.length){var colorStr=arrColor[0]+","+arrColor[1]+","+arrColor[2];return"rgba"!==type&&"hsva"!==type&&"hsla"!==type||(colorStr+=","+arrColor[3]),type+"("+colorStr+")"}}function lum(color,backgroundLum){var arr=parse(color);return arr?(.299*arr[0]+.587*arr[1]+.114*arr[2])*arr[3]/255+(1-arr[3])*backgroundLum:0}function random(){return stringify([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}},"./node_modules/zrender/lib/tool/path.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U5:()=>clonePath,iR:()=>createFromString,Pc:()=>extendFromString,AA:()=>mergePath});var tslib=__webpack_require__("tslib"),Path=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),PathProxy=__webpack_require__("./node_modules/zrender/lib/core/PathProxy.js"),vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),CMD=PathProxy.Z.CMD,points=[[],[],[]],mathSqrt=Math.sqrt,mathAtan2=Math.atan2;function transformPath(path,m){if(m){var cmd,nPoint,i,j,k,p,data=path.data,len=path.len(),M=CMD.M,C=CMD.C,L=CMD.L,R=CMD.R,A=CMD.A,Q=CMD.Q;for(i=0,j=0;i<len;){switch(cmd=data[i++],j=i,nPoint=0,cmd){case M:case L:nPoint=1;break;case C:nPoint=3;break;case Q:nPoint=2;break;case A:var x=m[4],y=m[5],sx=mathSqrt(m[0]*m[0]+m[1]*m[1]),sy=mathSqrt(m[2]*m[2]+m[3]*m[3]),angle=mathAtan2(-m[1]/sy,m[0]/sx);data[i]*=sx,data[i++]+=x,data[i]*=sy,data[i++]+=y,data[i++]*=sx,data[i++]*=sy,data[i++]+=angle,data[i++]+=angle,j=i+=2;break;case R:p[0]=data[i++],p[1]=data[i++],(0,vector.applyTransform)(p,p,m),data[j++]=p[0],data[j++]=p[1],p[0]+=data[i++],p[1]+=data[i++],(0,vector.applyTransform)(p,p,m),data[j++]=p[0],data[j++]=p[1]}for(k=0;k<nPoint;k++){var p_1=points[k];p_1[0]=data[i++],p_1[1]=data[i++],(0,vector.applyTransform)(p_1,p_1,m),data[j++]=p_1[0],data[j++]=p_1[1]}}path.increaseVersion()}}var util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),path_mathSqrt=Math.sqrt,mathSin=Math.sin,mathCos=Math.cos,PI=Math.PI;function vMag(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])}function vRatio(u,v){return(u[0]*v[0]+u[1]*v[1])/(vMag(u)*vMag(v))}function vAngle(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(vRatio(u,v))}function processArc(x1,y1,x2,y2,fa,fs,rx,ry,psiDeg,cmd,path){var psi=psiDeg*(PI/180),xp=mathCos(psi)*(x1-x2)/2+mathSin(psi)*(y1-y2)/2,yp=-1*mathSin(psi)*(x1-x2)/2+mathCos(psi)*(y1-y2)/2,lambda=xp*xp/(rx*rx)+yp*yp/(ry*ry);lambda>1&&(rx*=path_mathSqrt(lambda),ry*=path_mathSqrt(lambda));var f=(fa===fs?-1:1)*path_mathSqrt((rx*rx*(ry*ry)-rx*rx*(yp*yp)-ry*ry*(xp*xp))/(rx*rx*(yp*yp)+ry*ry*(xp*xp)))||0,cxp=f*rx*yp/ry,cyp=f*-ry*xp/rx,cx=(x1+x2)/2+mathCos(psi)*cxp-mathSin(psi)*cyp,cy=(y1+y2)/2+mathSin(psi)*cxp+mathCos(psi)*cyp,theta=vAngle([1,0],[(xp-cxp)/rx,(yp-cyp)/ry]),u=[(xp-cxp)/rx,(yp-cyp)/ry],v=[(-1*xp-cxp)/rx,(-1*yp-cyp)/ry],dTheta=vAngle(u,v);if(vRatio(u,v)<=-1&&(dTheta=PI),vRatio(u,v)>=1&&(dTheta=0),dTheta<0){var n=Math.round(dTheta/PI*1e6)/1e6;dTheta=2*PI+n%2*PI}path.addData(cmd,cx,cy,rx,ry,theta,dTheta,psi,fs)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var SVGPath=function(_super){function SVGPath(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib.ZT)(SVGPath,_super),SVGPath.prototype.applyTransform=function(m){},SVGPath}(Path.ZP);function isPathProxy(path){return null!=path.setData}function createPathOptions(str,opts){var pathProxy=function createPathProxyFromString(data){var path=new PathProxy.Z;if(!data)return path;var prevCmd,cpx=0,cpy=0,subpathX=cpx,subpathY=cpy,CMD=PathProxy.Z.CMD,cmdList=data.match(commandReg);if(!cmdList)return path;for(var l=0;l<cmdList.length;l++){for(var cmdText=cmdList[l],cmdStr=cmdText.charAt(0),cmd=void 0,p=cmdText.match(numberReg)||[],pLen=p.length,i=0;i<pLen;i++)p[i]=parseFloat(p[i]);for(var off=0;off<pLen;){var ctlPtx=void 0,ctlPty=void 0,rx=void 0,ry=void 0,psi=void 0,fa=void 0,fs=void 0,x1=cpx,y1=cpy,len=void 0,pathData=void 0;switch(cmdStr){case"l":cpx+=p[off++],cpy+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"L":cpx=p[off++],cpy=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"m":cpx+=p[off++],cpy+=p[off++],cmd=CMD.M,path.addData(cmd,cpx,cpy),subpathX=cpx,subpathY=cpy,cmdStr="l";break;case"M":cpx=p[off++],cpy=p[off++],cmd=CMD.M,path.addData(cmd,cpx,cpy),subpathX=cpx,subpathY=cpy,cmdStr="L";break;case"h":cpx+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"H":cpx=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"v":cpy+=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"V":cpy=p[off++],cmd=CMD.L,path.addData(cmd,cpx,cpy);break;case"C":cmd=CMD.C,path.addData(cmd,p[off++],p[off++],p[off++],p[off++],p[off++],p[off++]),cpx=p[off-2],cpy=p[off-1];break;case"c":cmd=CMD.C,path.addData(cmd,p[off++]+cpx,p[off++]+cpy,p[off++]+cpx,p[off++]+cpy,p[off++]+cpx,p[off++]+cpy),cpx+=p[off-2],cpy+=p[off-1];break;case"S":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.C&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cmd=CMD.C,x1=p[off++],y1=p[off++],cpx=p[off++],cpy=p[off++],path.addData(cmd,ctlPtx,ctlPty,x1,y1,cpx,cpy);break;case"s":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.C&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cmd=CMD.C,x1=cpx+p[off++],y1=cpy+p[off++],cpx+=p[off++],cpy+=p[off++],path.addData(cmd,ctlPtx,ctlPty,x1,y1,cpx,cpy);break;case"Q":x1=p[off++],y1=p[off++],cpx=p[off++],cpy=p[off++],cmd=CMD.Q,path.addData(cmd,x1,y1,cpx,cpy);break;case"q":x1=p[off++]+cpx,y1=p[off++]+cpy,cpx+=p[off++],cpy+=p[off++],cmd=CMD.Q,path.addData(cmd,x1,y1,cpx,cpy);break;case"T":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.Q&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cpx=p[off++],cpy=p[off++],cmd=CMD.Q,path.addData(cmd,ctlPtx,ctlPty,cpx,cpy);break;case"t":ctlPtx=cpx,ctlPty=cpy,len=path.len(),pathData=path.data,prevCmd===CMD.Q&&(ctlPtx+=cpx-pathData[len-4],ctlPty+=cpy-pathData[len-3]),cpx+=p[off++],cpy+=p[off++],cmd=CMD.Q,path.addData(cmd,ctlPtx,ctlPty,cpx,cpy);break;case"A":rx=p[off++],ry=p[off++],psi=p[off++],fa=p[off++],fs=p[off++],processArc(x1=cpx,y1=cpy,cpx=p[off++],cpy=p[off++],fa,fs,rx,ry,psi,cmd=CMD.A,path);break;case"a":rx=p[off++],ry=p[off++],psi=p[off++],fa=p[off++],fs=p[off++],processArc(x1=cpx,y1=cpy,cpx+=p[off++],cpy+=p[off++],fa,fs,rx,ry,psi,cmd=CMD.A,path)}}"z"!==cmdStr&&"Z"!==cmdStr||(cmd=CMD.Z,path.addData(cmd),cpx=subpathX,cpy=subpathY),prevCmd=cmd}return path.toStatic(),path}(str),innerOpts=(0,util.extend)({},opts);return innerOpts.buildPath=function(path){if(isPathProxy(path)){path.setData(pathProxy.data),(ctx=path.getContext())&&path.rebuildPath(ctx,1)}else{var ctx=path;pathProxy.rebuildPath(ctx,1)}},innerOpts.applyTransform=function(m){transformPath(pathProxy,m),this.dirtyShape()},innerOpts}function createFromString(str,opts){return new SVGPath(createPathOptions(str,opts))}function extendFromString(str,defaultOpts){var innerOpts=createPathOptions(str,defaultOpts);return function(_super){function Sub(opts){var _this=_super.call(this,opts)||this;return _this.applyTransform=innerOpts.applyTransform,_this.buildPath=innerOpts.buildPath,_this}return(0,tslib.ZT)(Sub,_super),Sub}(SVGPath)}function mergePath(pathEls,opts){for(var pathList=[],len=pathEls.length,i=0;i<len;i++){var pathEl=pathEls[i];pathList.push(pathEl.getUpdatedPathProxy(!0))}var pathBundle=new Path.ZP(opts);return pathBundle.createPathProxy(),pathBundle.buildPath=function(path){if(isPathProxy(path)){path.appendPath(pathList);var ctx=path.getContext();ctx&&path.rebuildPath(ctx,1)}},pathBundle}function clonePath(sourcePath,opts){opts=opts||{};var path=new Path.ZP;return sourcePath.shape&&path.setShape(sourcePath.shape),path.setStyle(sourcePath.style),opts.bakeTransform?transformPath(path.path,sourcePath.getComputedTransform()):opts.toLocal?path.setLocalTransform(sourcePath.getComputedTransform()):path.copyTransform(sourcePath),path.buildPath=sourcePath.buildPath,path.applyTransform=path.applyTransform,path.z=sourcePath.z,path.z2=sourcePath.z2,path.zlevel=sourcePath.zlevel,path}},"./node_modules/zrender/lib/zrender.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dispose:()=>dispose,disposeAll:()=>disposeAll,getInstance:()=>getInstance,init:()=>init,registerPainter:()=>registerPainter,version:()=>version});var env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),tslib=__webpack_require__("tslib"),vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),Param=function Param(target,e){this.target=target,this.topTarget=e&&e.topTarget};const mixin_Draggable=function(){function Draggable(handler){this.handler=handler,handler.on("mousedown",this._dragStart,this),handler.on("mousemove",this._drag,this),handler.on("mouseup",this._dragEnd,this)}return Draggable.prototype._dragStart=function(e){for(var draggingTarget=e.target;draggingTarget&&!draggingTarget.draggable;)draggingTarget=draggingTarget.parent||draggingTarget.__hostTarget;draggingTarget&&(this._draggingTarget=draggingTarget,draggingTarget.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Param(draggingTarget,e),"dragstart",e.event))},Draggable.prototype._drag=function(e){var draggingTarget=this._draggingTarget;if(draggingTarget){var x=e.offsetX,y=e.offsetY,dx=x-this._x,dy=y-this._y;this._x=x,this._y=y,draggingTarget.drift(dx,dy,e),this.handler.dispatchToElement(new Param(draggingTarget,e),"drag",e.event);var dropTarget=this.handler.findHover(x,y,draggingTarget).target,lastDropTarget=this._dropTarget;this._dropTarget=dropTarget,draggingTarget!==dropTarget&&(lastDropTarget&&dropTarget!==lastDropTarget&&this.handler.dispatchToElement(new Param(lastDropTarget,e),"dragleave",e.event),dropTarget&&dropTarget!==lastDropTarget&&this.handler.dispatchToElement(new Param(dropTarget,e),"dragenter",e.event))}},Draggable.prototype._dragEnd=function(e){var draggingTarget=this._draggingTarget;draggingTarget&&(draggingTarget.dragging=!1),this.handler.dispatchToElement(new Param(draggingTarget,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},Draggable}();var Eventful=__webpack_require__("./node_modules/zrender/lib/core/Eventful.js"),core_event=__webpack_require__("./node_modules/zrender/lib/core/event.js"),GestureMgr=function(){function GestureMgr(){this._track=[]}return GestureMgr.prototype.recognize=function(event,target,root){return this._doTrack(event,target,root),this._recognize(event)},GestureMgr.prototype.clear=function(){return this._track.length=0,this},GestureMgr.prototype._doTrack=function(event,target,root){var touches=event.touches;if(touches){for(var trackItem={points:[],touches:[],target,event},i=0,len=touches.length;i<len;i++){var touch=touches[i],pos=core_event.eV(root,touch,{});trackItem.points.push([pos.zrX,pos.zrY]),trackItem.touches.push(touch)}this._track.push(trackItem)}},GestureMgr.prototype._recognize=function(event){for(var eventName in recognizers)if(recognizers.hasOwnProperty(eventName)){var gestureInfo=recognizers[eventName](this._track,event);if(gestureInfo)return gestureInfo}},GestureMgr}();function dist(pointPair){var dx=pointPair[1][0]-pointPair[0][0],dy=pointPair[1][1]-pointPair[0][1];return Math.sqrt(dx*dx+dy*dy)}var recognizers={pinch:function(tracks,event){var trackLen=tracks.length;if(trackLen){var pinchEnd=(tracks[trackLen-1]||{}).points,pinchPre=(tracks[trackLen-2]||{}).points||pinchEnd;if(pinchPre&&pinchPre.length>1&&pinchEnd&&pinchEnd.length>1){var pinchScale=dist(pinchEnd)/dist(pinchPre);!isFinite(pinchScale)&&(pinchScale=1),event.pinchScale=pinchScale;var pinchCenter=function center(pointPair){return[(pointPair[0][0]+pointPair[1][0])/2,(pointPair[0][1]+pointPair[1][1])/2]}(pinchEnd);return event.pinchX=pinchCenter[0],event.pinchY=pinchCenter[1],{type:"pinch",target:tracks[0].target,event}}}}},BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),SILENT="silent";function stopEvent(){core_event.sT(this.event)}var EmptyProxy=function(_super){function EmptyProxy(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handler=null,_this}return(0,tslib.ZT)(EmptyProxy,_super),EmptyProxy.prototype.dispose=function(){},EmptyProxy.prototype.setCursor=function(){},EmptyProxy}(Eventful.Z),HoveredResult=function HoveredResult(x,y){this.x=x,this.y=y},handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect=new BoundingRect.Z(0,0,0,0),Handler=function(_super){function Handler(storage,painter,proxy,painterRoot,pointerSize){var _this=_super.call(this)||this;return _this._hovered=new HoveredResult(0,0),_this.storage=storage,_this.painter=painter,_this.painterRoot=painterRoot,_this._pointerSize=pointerSize,proxy=proxy||new EmptyProxy,_this.proxy=null,_this.setHandlerProxy(proxy),_this._draggingMgr=new mixin_Draggable(_this),_this}return(0,tslib.ZT)(Handler,_super),Handler.prototype.setHandlerProxy=function(proxy){this.proxy&&this.proxy.dispose(),proxy&&(util.each(handlerNames,(function(name){proxy.on&&proxy.on(name,this[name],this)}),this),proxy.handler=this),this.proxy=proxy},Handler.prototype.mousemove=function(event){var x=event.zrX,y=event.zrY,isOutside=isOutsideBoundary(this,x,y),lastHovered=this._hovered,lastHoveredTarget=lastHovered.target;lastHoveredTarget&&!lastHoveredTarget.__zr&&(lastHoveredTarget=(lastHovered=this.findHover(lastHovered.x,lastHovered.y)).target);var hovered=this._hovered=isOutside?new HoveredResult(x,y):this.findHover(x,y),hoveredTarget=hovered.target,proxy=this.proxy;proxy.setCursor&&proxy.setCursor(hoveredTarget?hoveredTarget.cursor:"default"),lastHoveredTarget&&hoveredTarget!==lastHoveredTarget&&this.dispatchToElement(lastHovered,"mouseout",event),this.dispatchToElement(hovered,"mousemove",event),hoveredTarget&&hoveredTarget!==lastHoveredTarget&&this.dispatchToElement(hovered,"mouseover",event)},Handler.prototype.mouseout=function(event){var eventControl=event.zrEventControl;"only_globalout"!==eventControl&&this.dispatchToElement(this._hovered,"mouseout",event),"no_globalout"!==eventControl&&this.trigger("globalout",{type:"globalout",event})},Handler.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},Handler.prototype.dispatch=function(eventName,eventArgs){var handler=this[eventName];handler&&handler.call(this,eventArgs)},Handler.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Handler.prototype.setCursorStyle=function(cursorStyle){var proxy=this.proxy;proxy.setCursor&&proxy.setCursor(cursorStyle)},Handler.prototype.dispatchToElement=function(targetInfo,eventName,event){var el=(targetInfo=targetInfo||{}).target;if(!el||!el.silent){for(var eventKey="on"+eventName,eventPacket=function makeEventPacket(eveType,targetInfo,event){return{type:eveType,event,target:targetInfo.target,topTarget:targetInfo.topTarget,cancelBubble:!1,offsetX:event.zrX,offsetY:event.zrY,gestureEvent:event.gestureEvent,pinchX:event.pinchX,pinchY:event.pinchY,pinchScale:event.pinchScale,wheelDelta:event.zrDelta,zrByTouch:event.zrByTouch,which:event.which,stop:stopEvent}}(eventName,targetInfo,event);el&&(el[eventKey]&&(eventPacket.cancelBubble=!!el[eventKey].call(el,eventPacket)),el.trigger(eventName,eventPacket),el=el.__hostTarget?el.__hostTarget:el.parent,!eventPacket.cancelBubble););eventPacket.cancelBubble||(this.trigger(eventName,eventPacket),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(layer){"function"==typeof layer[eventKey]&&layer[eventKey].call(layer,eventPacket),layer.trigger&&layer.trigger(eventName,eventPacket)})))}},Handler.prototype.findHover=function(x,y,exclude){var list=this.storage.getDisplayList(),out=new HoveredResult(x,y);if(setHoverTarget(list,out,x,y,exclude),this._pointerSize&&!out.target){for(var candidates=[],pointerSize=this._pointerSize,targetSizeHalf=pointerSize/2,pointerRect=new BoundingRect.Z(x-targetSizeHalf,y-targetSizeHalf,pointerSize,pointerSize),i=list.length-1;i>=0;i--){var el=list[i];el===exclude||el.ignore||el.ignoreCoarsePointer||el.parent&&el.parent.ignoreCoarsePointer||(tmpRect.copy(el.getBoundingRect()),el.transform&&tmpRect.applyTransform(el.transform),tmpRect.intersect(pointerRect)&&candidates.push(el))}if(candidates.length)for(var thetaStep=Math.PI/12,PI2=2*Math.PI,r=0;r<targetSizeHalf;r+=4)for(var theta=0;theta<PI2;theta+=thetaStep){if(setHoverTarget(candidates,out,x+r*Math.cos(theta),y+r*Math.sin(theta),exclude),out.target)return out}}return out},Handler.prototype.processGesture=function(event,stage){this._gestureMgr||(this._gestureMgr=new GestureMgr);var gestureMgr=this._gestureMgr;"start"===stage&&gestureMgr.clear();var gestureInfo=gestureMgr.recognize(event,this.findHover(event.zrX,event.zrY,null).target,this.proxy.dom);if("end"===stage&&gestureMgr.clear(),gestureInfo){var type=gestureInfo.type;event.gestureEvent=type;var res=new HoveredResult;res.target=gestureInfo.target,this.dispatchToElement(res,type,gestureInfo.event)}},Handler}(Eventful.Z);function isHover(displayable,x,y){if(displayable[displayable.rectHover?"rectContain":"contain"](x,y)){for(var el=displayable,isSilent=void 0,ignoreClip=!1;el;){if(el.ignoreClip&&(ignoreClip=!0),!ignoreClip){var clipPath=el.getClipPath();if(clipPath&&!clipPath.contain(x,y))return!1;el.silent&&(isSilent=!0)}var hostEl=el.__hostTarget;el=hostEl||el.parent}return!isSilent||SILENT}return!1}function setHoverTarget(list,out,x,y,exclude){for(var i=list.length-1;i>=0;i--){var el=list[i],hoverCheckResult=void 0;if(el!==exclude&&!el.ignore&&(hoverCheckResult=isHover(el,x,y))&&(!out.topTarget&&(out.topTarget=el),hoverCheckResult!==SILENT)){out.target=el;break}}}function isOutsideBoundary(handlerInstance,x,y){var painter=handlerInstance.painter;return x<0||x>painter.getWidth()||y<0||y>painter.getHeight()}util.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(name){Handler.prototype[name]=function(event){var hovered,hoveredTarget,x=event.zrX,y=event.zrY,isOutside=isOutsideBoundary(this,x,y);if("mouseup"===name&&isOutside||(hoveredTarget=(hovered=this.findHover(x,y)).target),"mousedown"===name)this._downEl=hoveredTarget,this._downPoint=[event.zrX,event.zrY],this._upEl=hoveredTarget;else if("mouseup"===name)this._upEl=hoveredTarget;else if("click"===name){if(this._downEl!==this._upEl||!this._downPoint||vector.dist(this._downPoint,[event.zrX,event.zrY])>4)return;this._downPoint=null}this.dispatchToElement(hovered,name,event)}}));const lib_Handler=Handler;var timsort=__webpack_require__("./node_modules/zrender/lib/core/timsort.js"),constants=__webpack_require__("./node_modules/zrender/lib/graphic/constants.js"),invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}const lib_Storage=function(){function Storage(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return Storage.prototype.traverse=function(cb,context){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(cb,context)},Storage.prototype.getDisplayList=function(update,includeIgnore){includeIgnore=includeIgnore||!1;var displayList=this._displayList;return!update&&displayList.length||this.updateDisplayList(includeIgnore),displayList},Storage.prototype.updateDisplayList=function(includeIgnore){this._displayListLen=0;for(var roots=this._roots,displayList=this._displayList,i=0,len=roots.length;i<len;i++)this._updateAndAddDisplayable(roots[i],null,includeIgnore);displayList.length=this._displayListLen,(0,timsort.Z)(displayList,shapeCompareFunc)},Storage.prototype._updateAndAddDisplayable=function(el,clipPaths,includeIgnore){if(!el.ignore||includeIgnore){el.beforeUpdate(),el.update(),el.afterUpdate();var userSetClipPath=el.getClipPath();if(el.ignoreClip)clipPaths=null;else if(userSetClipPath){clipPaths=clipPaths?clipPaths.slice():[];for(var currentClipPath=userSetClipPath,parentClipPath=el;currentClipPath;)currentClipPath.parent=parentClipPath,currentClipPath.updateTransform(),clipPaths.push(currentClipPath),parentClipPath=currentClipPath,currentClipPath=currentClipPath.getClipPath()}if(el.childrenRef){for(var children=el.childrenRef(),i=0;i<children.length;i++){var child=children[i];el.__dirty&&(child.__dirty|=constants.YV),this._updateAndAddDisplayable(child,clipPaths,includeIgnore)}el.__dirty=0}else{var disp=el;clipPaths&&clipPaths.length?disp.__clipPaths=clipPaths:disp.__clipPaths&&disp.__clipPaths.length>0&&(disp.__clipPaths=[]),isNaN(disp.z)&&(logInvalidZError(),disp.z=0),isNaN(disp.z2)&&(logInvalidZError(),disp.z2=0),isNaN(disp.zlevel)&&(logInvalidZError(),disp.zlevel=0),this._displayList[this._displayListLen++]=disp}var decalEl=el.getDecalElement&&el.getDecalElement();decalEl&&this._updateAndAddDisplayable(decalEl,clipPaths,includeIgnore);var textGuide=el.getTextGuideLine();textGuide&&this._updateAndAddDisplayable(textGuide,clipPaths,includeIgnore);var textEl=el.getTextContent();textEl&&this._updateAndAddDisplayable(textEl,clipPaths,includeIgnore)}},Storage.prototype.addRoot=function(el){el.__zr&&el.__zr.storage===this||this._roots.push(el)},Storage.prototype.delRoot=function(el){if(el instanceof Array)for(var i=0,l=el.length;i<l;i++)this.delRoot(el[i]);else{var idx=util.indexOf(this._roots,el);idx>=0&&this._roots.splice(idx,1)}},Storage.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Storage.prototype.getRoots=function(){return this._roots},Storage.prototype.dispose=function(){this._displayList=null,this._roots=null},Storage}();var requestAnimationFrame=__webpack_require__("./node_modules/zrender/lib/animation/requestAnimationFrame.js"),Animator=__webpack_require__("./node_modules/zrender/lib/animation/Animator.js");function getTime(){return(new Date).getTime()}const animation_Animation=function(_super){function Animation(opts){var _this=_super.call(this)||this;return _this._running=!1,_this._time=0,_this._pausedTime=0,_this._pauseStart=0,_this._paused=!1,opts=opts||{},_this.stage=opts.stage||{},_this}return(0,tslib.ZT)(Animation,_super),Animation.prototype.addClip=function(clip){clip.animation&&this.removeClip(clip),this._head?(this._tail.next=clip,clip.prev=this._tail,clip.next=null,this._tail=clip):this._head=this._tail=clip,clip.animation=this},Animation.prototype.addAnimator=function(animator){animator.animation=this;var clip=animator.getClip();clip&&this.addClip(clip)},Animation.prototype.removeClip=function(clip){if(clip.animation){var prev=clip.prev,next=clip.next;prev?prev.next=next:this._head=next,next?next.prev=prev:this._tail=prev,clip.next=clip.prev=clip.animation=null}},Animation.prototype.removeAnimator=function(animator){var clip=animator.getClip();clip&&this.removeClip(clip),animator.animation=null},Animation.prototype.update=function(notTriggerFrameAndStageUpdate){for(var time=getTime()-this._pausedTime,delta=time-this._time,clip=this._head;clip;){var nextClip=clip.next;clip.step(time,delta)?(clip.ondestroy(),this.removeClip(clip),clip=nextClip):clip=nextClip}this._time=time,notTriggerFrameAndStageUpdate||(this.trigger("frame",delta),this.stage.update&&this.stage.update())},Animation.prototype._startLoop=function(){var self=this;this._running=!0,(0,requestAnimationFrame.Z)((function step(){self._running&&((0,requestAnimationFrame.Z)(step),!self._paused&&self.update())}))},Animation.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},Animation.prototype.stop=function(){this._running=!1},Animation.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},Animation.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},Animation.prototype.clear=function(){for(var clip=this._head;clip;){var nextClip=clip.next;clip.prev=clip.next=clip.animation=null,clip=nextClip}this._head=this._tail=null},Animation.prototype.isFinished=function(){return null==this._head},Animation.prototype.animate=function(target,options){options=options||{},this.start();var animator=new Animator.Z(target,options.loop);return this.addAnimator(animator),animator},Animation}(Eventful.Z);var mouseHandlerNames,pointerEventNameMap,globalEventSupported=env.Z.domSupported,localNativeListenerNames=(pointerEventNameMap={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:mouseHandlerNames=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:util.map(mouseHandlerNames,(function(name){var nm=name.replace("mouse","pointer");return pointerEventNameMap.hasOwnProperty(nm)?nm:name}))}),globalNativeListenerNames_mouse=["mousemove","mouseup"],globalNativeListenerNames_pointer=["pointermove","pointerup"],wheelEventSupported=!1;function isPointerFromTouch(event){var pointerType=event.pointerType;return"pen"===pointerType||"touch"===pointerType}function markTouch(event){event&&(event.zrByTouch=!0)}function isLocalEl(instance,el){for(var elTmp=el,isLocal=!1;elTmp&&9!==elTmp.nodeType&&!(isLocal=elTmp.domBelongToZr||elTmp!==el&&elTmp===instance.painterRoot);)elTmp=elTmp.parentNode;return isLocal}var FakeGlobalEvent=function FakeGlobalEvent(instance,event){this.stopPropagation=util.noop,this.stopImmediatePropagation=util.noop,this.preventDefault=util.noop,this.type=event.type,this.target=this.currentTarget=instance.dom,this.pointerType=event.pointerType,this.clientX=event.clientX,this.clientY=event.clientY},localDOMHandlers={mousedown:function(event){event=(0,core_event.OD)(this.dom,event),this.__mayPointerCapture=[event.zrX,event.zrY],this.trigger("mousedown",event)},mousemove:function(event){event=(0,core_event.OD)(this.dom,event);var downPoint=this.__mayPointerCapture;!downPoint||event.zrX===downPoint[0]&&event.zrY===downPoint[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",event)},mouseup:function(event){event=(0,core_event.OD)(this.dom,event),this.__togglePointerCapture(!1),this.trigger("mouseup",event)},mouseout:function(event){isLocalEl(this,(event=(0,core_event.OD)(this.dom,event)).toElement||event.relatedTarget)||(this.__pointerCapturing&&(event.zrEventControl="no_globalout"),this.trigger("mouseout",event))},wheel:function(event){wheelEventSupported=!0,event=(0,core_event.OD)(this.dom,event),this.trigger("mousewheel",event)},mousewheel:function(event){wheelEventSupported||(event=(0,core_event.OD)(this.dom,event),this.trigger("mousewheel",event))},touchstart:function(event){markTouch(event=(0,core_event.OD)(this.dom,event)),this.__lastTouchMoment=new Date,this.handler.processGesture(event,"start"),localDOMHandlers.mousemove.call(this,event),localDOMHandlers.mousedown.call(this,event)},touchmove:function(event){markTouch(event=(0,core_event.OD)(this.dom,event)),this.handler.processGesture(event,"change"),localDOMHandlers.mousemove.call(this,event)},touchend:function(event){markTouch(event=(0,core_event.OD)(this.dom,event)),this.handler.processGesture(event,"end"),localDOMHandlers.mouseup.call(this,event),+new Date-+this.__lastTouchMoment<300&&localDOMHandlers.click.call(this,event)},pointerdown:function(event){localDOMHandlers.mousedown.call(this,event)},pointermove:function(event){isPointerFromTouch(event)||localDOMHandlers.mousemove.call(this,event)},pointerup:function(event){localDOMHandlers.mouseup.call(this,event)},pointerout:function(event){isPointerFromTouch(event)||localDOMHandlers.mouseout.call(this,event)}};util.each(["click","dblclick","contextmenu"],(function(name){localDOMHandlers[name]=function(event){event=(0,core_event.OD)(this.dom,event),this.trigger(name,event)}}));var globalDOMHandlers={pointermove:function(event){isPointerFromTouch(event)||globalDOMHandlers.mousemove.call(this,event)},pointerup:function(event){globalDOMHandlers.mouseup.call(this,event)},mousemove:function(event){this.trigger("mousemove",event)},mouseup:function(event){var pointerCaptureReleasing=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",event),pointerCaptureReleasing&&(event.zrEventControl="only_globalout",this.trigger("mouseout",event))}};function mountLocalDOMEventListeners(instance,scope){var domHandlers=scope.domHandlers;env.Z.pointerEventsSupported?util.each(localNativeListenerNames.pointer,(function(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function(event){domHandlers[nativeEventName].call(instance,event)}))})):(env.Z.touchEventsSupported&&util.each(localNativeListenerNames.touch,(function(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function(event){domHandlers[nativeEventName].call(instance,event),function setTouchTimer(scope){scope.touching=!0,null!=scope.touchTimer&&(clearTimeout(scope.touchTimer),scope.touchTimer=null),scope.touchTimer=setTimeout((function(){scope.touching=!1,scope.touchTimer=null}),700)}(scope)}))})),util.each(localNativeListenerNames.mouse,(function(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function(event){event=(0,core_event.iP)(event),scope.touching||domHandlers[nativeEventName].call(instance,event)}))})))}function mountGlobalDOMEventListeners(instance,scope){function mount(nativeEventName){mountSingleDOMEventListener(scope,nativeEventName,(function nativeEventListener(event){event=(0,core_event.iP)(event),isLocalEl(instance,event.target)||(event=function normalizeGlobalEvent(instance,event){return(0,core_event.OD)(instance.dom,new FakeGlobalEvent(instance,event),!0)}(instance,event),scope.domHandlers[nativeEventName].call(instance,event))}),{capture:!0})}env.Z.pointerEventsSupported?util.each(globalNativeListenerNames_pointer,mount):env.Z.touchEventsSupported||util.each(globalNativeListenerNames_mouse,mount)}function mountSingleDOMEventListener(scope,nativeEventName,listener,opt){scope.mounted[nativeEventName]=listener,scope.listenerOpts[nativeEventName]=opt,(0,core_event.Oo)(scope.domTarget,nativeEventName,listener,opt)}function unmountDOMEventListeners(scope){var mounted=scope.mounted;for(var nativeEventName in mounted)mounted.hasOwnProperty(nativeEventName)&&(0,core_event.xg)(scope.domTarget,nativeEventName,mounted[nativeEventName],scope.listenerOpts[nativeEventName]);scope.mounted={}}var DOMHandlerScope=function DOMHandlerScope(domTarget,domHandlers){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=domTarget,this.domHandlers=domHandlers};const HandlerProxy=function(_super){function HandlerDomProxy(dom,painterRoot){var _this=_super.call(this)||this;return _this.__pointerCapturing=!1,_this.dom=dom,_this.painterRoot=painterRoot,_this._localHandlerScope=new DOMHandlerScope(dom,localDOMHandlers),globalEventSupported&&(_this._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(_this,_this._localHandlerScope),_this}return(0,tslib.ZT)(HandlerDomProxy,_super),HandlerDomProxy.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},HandlerDomProxy.prototype.setCursor=function(cursorStyle){this.dom.style&&(this.dom.style.cursor=cursorStyle||"default")},HandlerDomProxy.prototype.__togglePointerCapture=function(isPointerCapturing){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+isPointerCapturing){this.__pointerCapturing=isPointerCapturing;var globalHandlerScope=this._globalHandlerScope;isPointerCapturing?mountGlobalDOMEventListeners(this,globalHandlerScope):unmountDOMEventListeners(globalHandlerScope)}},HandlerDomProxy}(Eventful.Z);var color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),config=__webpack_require__("./node_modules/zrender/lib/config.js"),Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),painterCtors={},instances={};var ZRender=function(){function ZRender(id,dom,opts){var _this=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,opts=opts||{},this.dom=dom,this.id=id;var storage=new lib_Storage,rendererType=opts.renderer||"canvas";painterCtors[rendererType]||(rendererType=util.keys(painterCtors)[0]),opts.useDirtyRect=null!=opts.useDirtyRect&&opts.useDirtyRect;var painter=new painterCtors[rendererType](dom,storage,opts,id),ssrMode=opts.ssr||painter.ssrOnly;this.storage=storage,this.painter=painter;var pointerSize,handerProxy=env.Z.node||env.Z.worker||ssrMode?null:new HandlerProxy(painter.getViewportRoot(),painter.root),useCoarsePointer=opts.useCoarsePointer;(null==useCoarsePointer||"auto"===useCoarsePointer?env.Z.touchEventsSupported:!!useCoarsePointer)&&(pointerSize=util.retrieve2(opts.pointerSize,44)),this.handler=new lib_Handler(storage,painter,handerProxy,painter.root,pointerSize),this.animation=new animation_Animation({stage:{update:ssrMode?null:function(){return _this._flush(!0)}}}),ssrMode||this.animation.start()}return ZRender.prototype.add=function(el){el&&(this.storage.addRoot(el),el.addSelfToZr(this),this.refresh())},ZRender.prototype.remove=function(el){el&&(this.storage.delRoot(el),el.removeSelfFromZr(this),this.refresh())},ZRender.prototype.configLayer=function(zLevel,config){this.painter.configLayer&&this.painter.configLayer(zLevel,config),this.refresh()},ZRender.prototype.setBackgroundColor=function(backgroundColor){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(backgroundColor),this.refresh(),this._backgroundColor=backgroundColor,this._darkMode=function isDarkMode(backgroundColor){if(!backgroundColor)return!1;if("string"==typeof backgroundColor)return(0,color.lum)(backgroundColor,1)<config.Ak;if(backgroundColor.colorStops){for(var colorStops=backgroundColor.colorStops,totalLum=0,len=colorStops.length,i=0;i<len;i++)totalLum+=(0,color.lum)(colorStops[i].color,1);return(totalLum/=len)<config.Ak}return!1}(backgroundColor)},ZRender.prototype.getBackgroundColor=function(){return this._backgroundColor},ZRender.prototype.setDarkMode=function(darkMode){this._darkMode=darkMode},ZRender.prototype.isDarkMode=function(){return this._darkMode},ZRender.prototype.refreshImmediately=function(fromInside){fromInside||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},ZRender.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},ZRender.prototype.flush=function(){this._flush(!1)},ZRender.prototype._flush=function(fromInside){var triggerRendered,start=getTime();this._needsRefresh&&(triggerRendered=!0,this.refreshImmediately(fromInside)),this._needsRefreshHover&&(triggerRendered=!0,this.refreshHoverImmediately());var end=getTime();triggerRendered?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:end-start})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},ZRender.prototype.setSleepAfterStill=function(stillFramesCount){this._sleepAfterStill=stillFramesCount},ZRender.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},ZRender.prototype.refreshHover=function(){this._needsRefreshHover=!0},ZRender.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},ZRender.prototype.resize=function(opts){opts=opts||{},this.painter.resize(opts.width,opts.height),this.handler.resize()},ZRender.prototype.clearAnimation=function(){this.animation.clear()},ZRender.prototype.getWidth=function(){return this.painter.getWidth()},ZRender.prototype.getHeight=function(){return this.painter.getHeight()},ZRender.prototype.setCursorStyle=function(cursorStyle){this.handler.setCursorStyle(cursorStyle)},ZRender.prototype.findHover=function(x,y){return this.handler.findHover(x,y)},ZRender.prototype.on=function(eventName,eventHandler,context){return this.handler.on(eventName,eventHandler,context),this},ZRender.prototype.off=function(eventName,eventHandler){this.handler.off(eventName,eventHandler)},ZRender.prototype.trigger=function(eventName,event){this.handler.trigger(eventName,event)},ZRender.prototype.clear=function(){for(var roots=this.storage.getRoots(),i=0;i<roots.length;i++)roots[i]instanceof Group.Z&&roots[i].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},ZRender.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function delInstance(id){delete instances[id]}(this.id)},ZRender}();function init(dom,opts){var zr=new ZRender(util.guid(),dom,opts);return instances[zr.id]=zr,zr}function dispose(zr){zr.dispose()}function disposeAll(){for(var key in instances)instances.hasOwnProperty(key)&&instances[key].dispose();instances={}}function getInstance(id){return instances[id]}function registerPainter(name,Ctor){painterCtors[name]=Ctor}var version="5.4.4"},"./node_modules/echarts/node_modules/tslib/tslib.es6.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZT:()=>__extends});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.create;Object.create},tslib:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZT:()=>__extends});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}Object.create;Object.create}}]);