(self.webpackChunkocap=self.webpackChunkocap||[]).push([[4026],{"./packages/angular/entity/measure-control/measure-control.component.ts.css?ngResource!=!./node_modules/@angular-devkit/build-angular/node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAgIC5tYXQtc2VsZWN0aW9uLWxpc3QgewogICAgICAgIG1heC1oZWlnaHQ6IDEwMCU7CiAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgfQogICAgICAubmdtLWNka19fZHJhZy1saXN0IHsKICAgICAgICAmLmNkay1kcm9wLWxpc3QtZHJhZ2dpbmcgLmNkay1kcmFnOm5vdCguY2RrLWRyYWctcGxhY2Vob2xkZXIpIHsKICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIA%3D%3D!./packages/angular/entity/measure-control/measure-control.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n      .mat-selection-list {\n        max-height: 100%;\n        overflow-y: auto;\n      }\n      .ngm-cdk__drag-list {\n        &.cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder) {\n          transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n        }\n      }\n    ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/calculated-measure/calculated-measure.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,':host {\n  --mat-sidenav-container-divider-color: var(--ngm-color-outline-variant);\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n}\n:host .ngm-calculated-measure__drawer {\n  overflow: visible;\n}\n:host .ngm-calculated-measure__drawer .ngm-calculated-measure__drawer-anchor {\n  position: absolute;\n  left: -40px;\n  top: 0;\n  opacity: 0.5;\n}\n:host .ngm-calculated-measure__drawer .ngm-calculated-measure__drawer-anchor:hover {\n  opacity: 1;\n}\n:host .ngm-calculated-measure__monaco-editor {\n  flex: 1;\n}\n:host .ngm-calculated-measure__formula-functions {\n  flex: 1;\n}\n:host .ngm-calculated-measure__formula-functions .ngm-mdx-functions__function-option .ngm-mdx-functions__help-trigger {\n  opacity: 0;\n  visibility: hidden;\n  transition: all 300ms ease-in-out;\n}\n:host .ngm-calculated-measure__formula-functions .ngm-mdx-functions__function-option:hover .ngm-mdx-functions__help-trigger {\n  opacity: 1;\n  visibility: visible;\n}\n\n:host::ng-deep .ngm-calculated-measure__helpers .mat-mdc-tab-header {\n  --mdc-secondary-navigation-tab-container-height: 38px;\n}\n:host::ng-deep .ngm-calculated-measure__helpers .mdc-tab {\n  display: flex;\n  min-width: 0px;\n  align-items: center;\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n:host::ng-deep .ngm-calculated-measure__helpers .mdc-tab::after {\n  content: "";\n  height: 15px;\n  width: 2px;\n  position: absolute;\n  right: 0;\n  border-radius: 2px;\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity));\n}\n:is(.dark :host::ng-deep .ngm-calculated-measure__helpers .mdc-tab)::after {\n  --tw-bg-opacity: 1;\n  background-color: rgb(64 64 64 / var(--tw-bg-opacity));\n}\n:host::ng-deep .ngm-calculated-measure__helpers .mdc-tab:not(.mdc-tab--active) {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n:host::ng-deep .ngm-calculated-measure__helpers .mdc-tab.mdc-tab--active {\n  padding-left: 2.5rem;\n  padding-right: 2.5rem;\n}\n:host::ng-deep .ngm-calculated-measure__helpers .mat-mdc-tab-body-wrapper {\n  flex: 1;\n}\n:host::ng-deep .ngm-calculated-measure__helpers .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content {\n  display: flex;\n}\n\n.mat-drawer-content {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.mat-drawer-content .mat-toolbar {\n  height: 44px;\n  font-size: 1rem;\n}\n\n.ngm-calculated-measure__helpers {\n  --mdc-list-list-item-container-shape: 0.375rem;\n  height: 100%;\n}\n.ngm-calculated-measure__helpers ngm-entity-member-select {\n  flex: 1;\n  min-width: 300px;\n}\n\n#ngm-calculated-parameters .mat-mdc-list-item .ngm-calculated-measure__parameter-edit {\n  opacity: 0;\n}\n#ngm-calculated-parameters .mat-mdc-list-item:hover .ngm-calculated-measure__parameter-edit {\n  opacity: 1;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/calculation-editor/calculation-editor.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100%;\n  overflow: hidden;\n}\n:host .mat-mdc-radio-group {\n  --mdc-radio-state-layer-size: 28px;\n}\n\n.mat-mdc-nav-list .mat-mdc-list-item {\n  border-radius: 0.5rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n  transition-duration: 300ms;\n}\n.mat-mdc-nav-list .mat-mdc-list-item.active {\n  --tw-bg-opacity: 1;\n  background-color: rgb(248 250 252 / var(--tw-bg-opacity));\n  --tw-text-opacity: 1;\n  color: rgb(100 116 139 / var(--tw-text-opacity));\n}\n\n.sub-calculation {\n  min-width: 400px;\n  padding: 1rem;\n}\n\n::ng-deep .mdc-dialog__container .ngm-calculated-measure {\n  min-width: 600px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/calculation-variance/variance.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/compare-member-select/member-select.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 1rem\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/conditional-aggregation/conditional-aggregation.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"ngm-measure-select, .ngm-conditional-aggregation__dimensions, .ngm-conditional-aggregation__conditions {\n  max-width: 75%;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/entity-schema/entity-schema.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.mat-tree-node {\n  min-height: 30px;\n}\n.mat-tree-node .mat-mdc-icon-button.mat-mdc-button-base {\n  --mdc-icon-button-state-layer-size: 30px;\n  padding: 0;\n}\n\n.ngm-display-behaviour {\n  flex: 1;\n  overflow: hidden;\n}\n\n.ngm-search {\n  width: 0px;\n}\n.ngm-search.ngm-search__has-value, .ngm-search.cdk-focused {\n  width: auto;\n}\n\n.group:hover .ngm-search {\n  width: auto;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/formula/editor.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n}\n\n.mat-drawer-content {\n  display: flex;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/property-array/property-array.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n\n    display: flex;\n\n    flex-direction: column\n}\n\n.add {\n\n    margin-top: 0.5rem\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/restricted-measure/restricted-measure.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n}\n\n.ngm-calculation__dimension {\n  display: flex;\n  justify-content: space-between;\n}\n.ngm-calculation__dimension .ngm-calculation__form-field {\n  flex: 1;\n}\n.ngm-calculation__dimension .ngm-calculation__form-field:not(:last-child) {\n  margin-right: 1rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/mdx/editor/mdx.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/parameter/parameter-select/parameter-select.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n    display: flex;\n    min-width: 100px;\n    flex-direction: column;\n    align-items: stretch;\n    justify-content: flex-start\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/common/directives/highlight.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>NgmHighlightDirective});var _NgmHighlightDirective,tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs");let NgmHighlightDirective=((_NgmHighlightDirective=class NgmHighlightDirective{constructor(el,sanitizer){this.el=el,this.sanitizer=sanitizer,this.caseSensitive=!1,this.customClasses=""}ngOnChanges({content,searchTerm,caseSensitive}){this.el?.nativeElement&&(searchTerm||content||caseSensitive)&&this.updateContent()}updateContent(){const text=this.content||this.el.nativeElement.textContent;if(this.searchTerm){const regex=new RegExp(this.searchTerm,this.caseSensitive?"g":"gi"),newText=text.replace(regex,(match=>`<mark class="highlight ${this.customClasses}">${match}</mark>`)),sanitzed=this.sanitizer.sanitize(_angular_core__WEBPACK_IMPORTED_MODULE_0__.SecurityContext.HTML,newText);this._content=sanitzed}else this._content=text}}).ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef},{type:_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__.DomSanitizer}],_NgmHighlightDirective.propDecorators={searchTerm:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["ngmHighlight"]}],content:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],caseSensitive:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],customClasses:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],_content:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["innerHtml"]}]},_NgmHighlightDirective);NgmHighlightDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({standalone:!0,selector:"[ngmHighlight]"}),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.w6)("design:paramtypes",[_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef,_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__.DomSanitizer])],NgmHighlightDirective)},"./packages/angular/entity/compare-member-select/member-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>NgmCompareMemberSelectComponent});var asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmCompareMemberSelectComponent,member_select_componentngResource=__webpack_require__("./packages/angular/entity/compare-member-select/member-select.component.scss?ngResource"),member_select_componentngResource_default=__webpack_require__.n(member_select_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),fesm2022_select=__webpack_require__("./node_modules/@angular/material/fesm2022/select.mjs"),value_help_component=__webpack_require__("./packages/angular/controls/value-help/value-help.component.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),firstValueFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");let NgmCompareMemberSelectComponent=((_NgmCompareMemberSelectComponent=class NgmCompareMemberSelectComponent{constructor(){this.AggregationRole=src.uFO,this.DISPLAY_BEHAVIOUR=src.CXV.descriptionAndId,this.COMPARE_TO_ENUM=src.rux,this._dialog=(0,core.inject)(dialog.uw,{optional:!0}),this._viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.appearance="fill",this.dataSettings$=new BehaviorSubject.X(null),this.dimension$=new BehaviorSubject.X(null),this.property$=this.dimension$.pipe((0,map.U)((dimension=>(0,src.ZBB)(this.entityType,dimension)))),this.formGroup=new fesm2022_forms.cw({type:new fesm2022_forms.NI(null,fesm2022_forms.kI.required),value:new fesm2022_forms.NI(null)}),this.trigger$=(0,combineLatest.a)([this.property$,this.formGroup.valueChanges]).pipe((0,map.U)((([property,model])=>property?model.type===src.rux.SelectedMember?property.caption+": "+model.value:model.type?property.caption+`: ${model.type}`:property.caption:"No Base dimension"))),this.isCalendar$=(0,rxjs_interop.O4)(this.property$.pipe((0,map.U)((property=>(0,src.IaF)(property))))),this._typeChanging=this.formGroup.get("type").valueChanges.pipe((0,distinctUntilChanged.x)()).subscribe((type=>{type===src.rux.CurrentMember&&(this.value=null)})),this.valueChangesSub=this.formGroup.valueChanges.pipe((0,filter.h)((()=>this.formGroup.valid))).subscribe((value=>{this._onChange?.(value)}))}get dataSettings(){return this.dataSettings$.value}set dataSettings(value){this.dataSettings$.next(value)}get dimension(){return this.dimension$.value}set dimension(value){this.dimension$.next(value)}get type(){return this.formGroup.value.type}set type(value){this.formGroup.patchValue({type:value})}get value(){return this.formGroup.value.value}set value(value){this.formGroup.patchValue({value})}writeValue(obj){obj&&this.formGroup.patchValue(obj)}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){this.disabled=isDisabled}selectByMember(event){var _this=this;return(0,asyncToGenerator.Z)((function*(){event.stopPropagation();const slicer=yield(0,firstValueFrom.z)(_this._dialog.open(value_help_component.v,{viewContainerRef:_this._viewContainerRef,data:{dimension:_this.dimension,slicer:{members:_this.type===src.rux.SelectedMember&&_this.value?[{value:_this.value}]:[]},dataSettings:_this.dataSettings,options:{selectionType:src.ucB.Single,searchable:!0,initialLevel:1}}}).afterClosed());slicer&&_this.formGroup.patchValue({type:src.rux.SelectedMember,value:slicer.members?.[0]?.value})}))()}}).propDecorators={appearance:[{type:core.Input}],label:[{type:core.Input}],dataSettings:[{type:core.Input}],entityType:[{type:core.Input}],dimension:[{type:core.Input}],disabled:[{type:core.Input}]},_NgmCompareMemberSelectComponent);NgmCompareMemberSelectComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,ngx_translate_core.aw,form_field.lN,fesm2022_select.LD,input.c],changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-compare-member-select",template:'<mat-form-field [appearance]="appearance">\n  <mat-label>\n    <span>{{ label }}</span>\n  </mat-label>\n\n  <mat-select [(ngModel)]="type" [disabled]="disabled" panelClass="ngm-property-select__panel">\n    <mat-select-trigger>\n      <span>{{ trigger$ | async }}</span>\n    </mat-select-trigger>\n    \n    \x3c!-- <ng-container *ngIf="isCalendar">\n      <mat-option [value]="COMPARE_TO_ENUM.CurrentMember">Current Member</mat-option>\n      <mat-option [value]="COMPARE_TO_ENUM.Lag">Prev</mat-option>\n    </ng-container> --\x3e\n    \n    <mat-option [value]="COMPARE_TO_ENUM.CurrentMember">\n      {{ \'Ngm.Property.CurrentMember\' | translate: {Default: "Current Member"} }}\n    </mat-option>\n\n    <mat-option [value]="COMPARE_TO_ENUM.Lag">\n      {{ \'Ngm.Property.PreviousNMember\' | translate: {Default: "Previous \'N\' Member"} }}\n    </mat-option>\n    <mat-option [value]="COMPARE_TO_ENUM.Lead">\n      {{ \'Ngm.Property.NextNMember\' | translate: {Default: "Next \'N\' Member"} }}\n    </mat-option>\n    <mat-option [value]="COMPARE_TO_ENUM.Parallel">\n      {{ \'Ngm.Property.ParallelMember\' | translate: {Default: "Parallel Member"} }}\n    </mat-option>\n\n    <mat-option [value]="COMPARE_TO_ENUM.Ancestor">\n      {{ \'Ngm.Property.AncestorMember\' | translate: {Default: "Ancestor Member"} }}\n    </mat-option>\n\n    <mat-option [value]="COMPARE_TO_ENUM.SelectedMember" ngmAppearance="dashed" (click)="selectByMember($event)">\n      {{ \'Ngm.Property.SelectByMembers\' | translate: {Default: "Select by Members"} }}...</mat-option>\n\n    \x3c!-- 暂时未支持\n    <mat-option value="two" ngmAppearance="dashed">\n      {{ \'Ngm.Property.NewCalculationInputControl\' | translate: {Default: "New Calculation Input"} }}\n    </mat-option> --\x3e\n  </mat-select>\n\n</mat-form-field>\n\n<mat-form-field *ngIf="type !== COMPARE_TO_ENUM.CurrentMember && type !== COMPARE_TO_ENUM.Ancestor && type !== COMPARE_TO_ENUM.SelectedMember" [appearance]="appearance">\n  <mat-label>{{ \'Ngm.Property.NthMember\' | translate: {Default: "Value / N\'th Member"} }}</mat-label>\n  <input matInput [(ngModel)]="value">\n</mat-form-field>\n',host:{class:"ngm-compare-member-select"},providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmCompareMemberSelectComponent))}],styles:[member_select_componentngResource_default()]})],NgmCompareMemberSelectComponent)},"./packages/angular/entity/entity-schema/entity-schema.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>NgmEntitySchemaComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var entity_schema_componentngResource=__webpack_require__("./packages/angular/entity/entity-schema/entity-schema.component.scss?ngResource"),entity_schema_componentngResource_default=__webpack_require__.n(entity_schema_componentngResource),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),tree=__webpack_require__("./node_modules/@angular/cdk/fesm2022/tree.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs"),tooltip=__webpack_require__("./node_modules/@angular/material/fesm2022/tooltip.mjs"),fesm2022_tree=__webpack_require__("./node_modules/@angular/material/fesm2022/tree.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),core_service=__webpack_require__("./packages/angular/core/core.service.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),src=__webpack_require__("./packages/core/src/index.ts"),isEmpty=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),flatMap=__webpack_require__("./node_modules/lodash-es/flatMap.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),combineLatestWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/combineLatestWith.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),first=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/first.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),types=__webpack_require__("./packages/angular/entity/entity-schema/types.ts");class EntitySchemaFlatNode{constructor(item,level=1,expandable=!1,isLoading=!1,children=null,error=null){this.item=item,this.level=level,this.expandable=expandable,this.isLoading=isLoading,this.children=children,this.error=error}}class EntitySchemaDataSource{get dataSourceName(){return this.dataSourceName$.value}set dataSourceName(value){this.dataSourceName$.next(value)}get data(){return this.dataChange.value}set data(value){this._treeControl.dataNodes=value,this.dataChange.next(value)}constructor(_treeControl,dsCoreService,translateService,capacities){this._treeControl=_treeControl,this.dsCoreService=dsCoreService,this.translateService=translateService,this.capacities=capacities,this.destroy$=new Subject.x,this.dataChange=new BehaviorSubject.X([]),this.searchControl=new fesm2022_forms.NI,this.dataSourceName$=new BehaviorSubject.X(null),this.dataSource$=this.dataSourceName$.pipe((0,distinctUntilChanged.x)(),(0,filter.h)((value=>!!value)),(0,switchMap.w)((name=>this.dsCoreService.getDataSource(name))),(0,takeUntil.R)(this.destroy$),(0,shareReplay.d)(1)),this.entity$=new BehaviorSubject.X(null),this.entityService$=this.entity$.pipe((0,distinctUntilChanged.x)(),(0,filter.h)((value=>!!value)),(0,switchMap.w)((name=>this.dataSource$.pipe((0,map.U)((dataSource=>dataSource.createEntityService(name)))))),(0,takeUntil.R)(this.destroy$),(0,shareReplay.d)(1))}connect(collectionViewer){return this._treeControl.expansionModel.changed.subscribe((change=>{(change.added||change.removed)&&this.handleTreeControl(change)})),(0,merge.T)(collectionViewer.viewChange,this.dataChange).pipe((0,combineLatestWith.V)(this.searchControl.valueChanges.pipe((0,startWith.O)(null),(0,distinctUntilChanged.x)())),(0,map.U)((([,text])=>this.data.filter((node=>node.item.type===types.L.Entity||node.item.type===types.L.Dimension||node.item.type===types.L.Parameters||!text||node.item.caption?.toLowerCase().includes(text.toLowerCase())||node.item.name.toLowerCase().includes(text.toLowerCase()))))))}disconnect(collectionViewer){this.destroy$.next(),this.destroy$.complete()}handleTreeControl(change){change.added&&change.added.forEach((node=>this.toggleNode(node,!0))),change.removed&&change.removed.slice().reverse().forEach((node=>this.toggleNode(node,!1)))}toggleNode(node,expand){const index=this.data.indexOf(node);if(expand)node.children?(this.data.splice(index+1,0,...node.children),this.dataChange.next(this.data)):node.isLoading||(node.isLoading=!0,this.getChildren(node).pipe((0,takeUntil.R)(this.destroy$)).subscribe({next:children=>{const index=this.data.indexOf(node);if(index<0)return;if(!children?.length)return node.isLoading=!1,this.data.splice(index,1,{...node,expandable:!1}),void this.dataChange.next(this.data);const nodes=children.map((name=>new EntitySchemaFlatNode(name,node.level+1,name.type===types.L.Member?!!name.children?.length:name.type!==types.L.IMeasure)));this.data.splice(index+1,0,...nodes),node.isLoading=!1,this.dataChange.next(this.data)},error:err=>{let error;error="string"==typeof err?err:err instanceof Error?err?.message:err?.error instanceof Error?err?.error?.message:err,node.isLoading=!1,this.data.splice(index,1,{...node,expandable:!1,error}),this.dataChange.next(this.data)}}));else{let count=0;for(let i=index+1;i<this.data.length&&this.data[i].level>node.level;i++,count++);node.children=this.data.splice(index+1,count),this.dataChange.next(this.data)}}getChildren(node){if(node.item.type===types.L.Entity)return this.entityType?.name===node.item.name?(0,of.of)(this.getEntityTypeChildren(this.entityType)):(this.entity$.next(node.item.name),this.dataSource$.pipe((0,switchMap.w)((dataSource=>dataSource.selectEntityType(node.item.name))),(0,first.P)(),(0,tap.b)((entityType=>{if(!(0,src.OCY)(entityType))throw entityType;this.entityType=entityType,node.item.caption=this.entityType?.caption})),(0,filter.h)(src.OCY),(0,map.U)((value=>this.getEntityTypeChildren(value)))));if(node.item.type===types.L.Dimension){const item=node.item,hierarchies=item.hierarchies;return(0,isEmpty.Z)(hierarchies)?(0,isEmpty.Z)(item.members)?this.entityService$.pipe((0,switchMap.w)((entityService=>entityService.selectMembers({dimension:node.item.name}))),(0,first.P)(),(0,map.U)((members=>members.map((item=>({...item,type:types.L.Member,name:item.memberKey,caption:item.memberCaption})))))):(0,of.of)(item.members):(0,of.of)(hierarchies.map((item=>({...item,type:types.L.Hierarchy}))))}if(node.item.type===types.L.Hierarchy){const levels=node.item.levels;if(!(0,isEmpty.Z)(levels)){const properties=(0,flatMap.Z)(node.item.levels,(level=>level.properties)).map((item=>({...item,type:types.L.Field}))),propertiesCaption=this.getTranslation("Ngm.EntitySchema.Properties",{Default:"Properties"});return(0,of.of)([...levels.map((item=>({...item,type:types.L.Level}))),...properties.length?[{name:"",caption:propertiesCaption,members:properties,type:types.L.Properties}]:[]])}}else{if(node.item.type===types.L.Level){const item=node.item;return this.entityService$.pipe((0,switchMap.w)((entityService=>entityService.selectMembers({dimension:item.dimension,hierarchy:item.hierarchy}))),(0,first.P)(),(0,map.U)((members=>(0,src.LC)(members,src.Dbq,{startLevel:item.levelNumber}).map((item=>({...item,type:types.L.Member,name:item.raw.memberUniqueName}))))))}if(node.item.type===types.L.Member){const members=node.item.children;return(0,of.of)(members?.map((item=>({...item,type:types.L.Member,name:item.raw.memberUniqueName})))??[])}if(node.item.members)return(0,of.of)(node.item.members)}return(0,of.of)([])}getEntityTypeChildren(entityType){const dimensions=this.hasCapability(types.W.Dimension)?(0,src.n6Q)(entityType):[],measures=(0,src.wqS)(entityType).filter((measure=>(0,src.sT)(measure)?this.hasCapability(types.W.Indicator):(0,src.ewE)(measure)?this.hasCapability(types.W.Calculation):this.hasCapability(types.W.Measure))).map((item=>({...item,type:types.L.IMeasure}))),parameters=(0,src.fOg)(entityType).map((item=>({...item,type:types.L.Parameter}))),parametersCaption=this.getTranslation("Ngm.EntitySchema.Parameters",{Default:"Parameters"}),measuresCaption=this.getTranslation("Ngm.EntitySchema.Measures",{Default:"Measures"}),nodes=[...dimensions.map((item=>({...item,type:types.L.Dimension,hierarchies:entityType.semantics===src.CwT.table?null:item.hierarchies})))];return this.hasCapability(types.W.Measure)&&nodes.push(...entityType.semantics===src.CwT.aggregate?[{name:(0,src.eD2)(src.QPo),caption:measuresCaption,type:types.L.Dimension,members:measures}]:measures),this.hasCapability(types.W.Parameter)&&parameters.length&&nodes.push({name:"parameters",caption:parametersCaption,type:types.L.Parameters,members:parameters}),nodes}hasCapability(capability){return this.capacities?.includes(capability)}getTranslation(key,params){return this.translateService.instant(key,params)}}var _NgmEntitySchemaComponent,a11y=__webpack_require__("./node_modules/@angular/cdk/fesm2022/a11y.mjs");let NgmEntitySchemaComponent=((_NgmEntitySchemaComponent=class NgmEntitySchemaComponent{get searchControl(){return this.dataSource.searchControl}constructor(){this.EntitySchemaType=types.L,this._isEntitySchemaComponent=!0,this.translateService=(0,core.inject)(ngx_translate_core.sK),this._dsCoreService=(0,core.inject)(core_service.q,{optional:!0}),this.capacities=[types.W.Dimension,types.W.Measure],this.dataSettings=(0,core.input)(),this.getLevel=node=>node.level,this.isExpandable=node=>node.expandable,this.hasChild=(_,_nodeData)=>_nodeData.expandable,(0,core.effect)((()=>{const dataSettings=this.dataSettings();if(dataSettings?.entitySet){this.dataSource.dataSourceName=dataSettings.dataSource;const rootNode=new EntitySchemaFlatNode({type:types.L.Entity,name:dataSettings.entitySet},0,!0);this.dataSource.data=[rootNode]}}))}ngOnInit(){this.dsCoreService&&(this._dsCoreService=this.dsCoreService),this.treeControl=new tree.C2(this.getLevel,this.isExpandable),this.dataSource=new EntitySchemaDataSource(this.treeControl,this._dsCoreService,this.translateService,this.capacities),this.dataSource.data=[]}}).ctorParameters=()=>[],_NgmEntitySchemaComponent.propDecorators={_isEntitySchemaComponent:[{type:core.HostBinding,args:["class.ngm-entity-schema"]}],dsCoreService:[{type:core.Input}],appearance:[{type:core.Input}],selectedHierarchy:[{type:core.Input}],capacities:[{type:core.Input}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}]},_NgmEntitySchemaComponent);NgmEntitySchemaComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.UX,a11y.rt,fesm2022_tree.dp,form_field.lN,input.c,icon.Ps,fesm2022_button.ot,drag_drop._t,scrolling.Cl,ngx_translate_core.aw,fesm2022_checkbox.p9,progress_spinner.Cq,tooltip.AV,common_module.N,core_module.A],changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-entity-schema",template:'<mat-tree [dataSource]="dataSource" [treeControl]="treeControl">\n  <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding matTreeNodePaddingIndent="20"\n    cdkDrag\n    [cdkDragData]="node.item"\n    [class.selected]="selectedHierarchy && (\n      node.item.name === selectedHierarchy || node.item.hierarchy === selectedHierarchy || node.item.raw?.hierarchy === selectedHierarchy)"\n    draggable="true"\n  >\n    <button mat-icon-button disabled displayDensity="compact">\n    </button>\n\n    @if (node.error) {\n      <mat-icon color="warn" fontSet="material-icons-round" displayDensity="compact"\n        [matTooltip]="node.error" matTooltipPosition="after">\n        warning_amber\n      </mat-icon>\n    }\n\n    <div class="ngm-entity-schema__type">{{node.item.type?.[0]}}</div>\n    <ngm-display-behaviour [option]="{value: node.item.name, caption: node.item.caption ?? node.item.label}"\n      [highlight]="searchControl.value">\n    </ngm-display-behaviour>\n    <div class="ngm-entity-schema__drag-placeholder" *cdkDragPlaceholder></div>\n  </mat-tree-node>\n  <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding matTreeNodePaddingIndent="20" class="group"\n    cdkDrag\n    [cdkDragData]="node.item"\n    [class.selected]="selectedHierarchy && (\n      node.item.name === selectedHierarchy || node.item.hierarchy === selectedHierarchy || node.item.raw?.hierarchy === selectedHierarchy)"\n    draggable="true"\n  >\n    <button *ngIf="!node.isLoading" mat-icon-button\n            [attr.aria-label]="\'Toggle \' + node.item" matTreeNodeToggle>\n      <mat-icon class="mat-icon-rtl-mirror" fontSet="material-icons-round">\n        {{treeControl.isExpanded(node) ? \'arrow_drop_down\' : \'arrow_right\'}}\n      </mat-icon>\n    </button>\n    <mat-spinner *ngIf="node.isLoading" class="m-2" strokeWidth="1" diameter="15"></mat-spinner>\n\n    <div class="ngm-entity-schema__type">{{node.item.type?.[0]}}</div>\n\n    <ngm-display-behaviour class="flex-1" [option]="{value: node.item.name, caption: node.item.caption ?? node.item.label}"\n      [highlight]="searchControl.value">\n    </ngm-display-behaviour>\n\n    <ngm-search *ngIf="node.item.type === EntitySchemaType.Entity" cdkMonitorSubtreeFocus\n      class="overflow-hidden"\n      displayDensity="cosy"\n      [formControl]="searchControl">\n    </ngm-search>\n\n    <div class="ngm-entity-schema__drag-placeholder" *cdkDragPlaceholder></div>\n  </mat-tree-node>\n</mat-tree>\n',styles:[entity_schema_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmEntitySchemaComponent)},"./packages/angular/entity/entity-schema/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var EntityCapacity,EntitySchemaType;__webpack_require__.d(__webpack_exports__,{L:()=>EntitySchemaType,W:()=>EntityCapacity}),function(EntityCapacity){EntityCapacity.Dimension="Dimension",EntityCapacity.Hierarchy="Hierarchy",EntityCapacity.Measure="Measure",EntityCapacity.Indicator="Indicator",EntityCapacity.Calculation="Calculation",EntityCapacity.Parameter="Parameter"}(EntityCapacity||(EntityCapacity={})),function(EntitySchemaType){EntitySchemaType.Entity="Entity",EntitySchemaType.Dimension="Dimension",EntitySchemaType.Hierarchy="Hierarchy",EntitySchemaType.Level="Level",EntitySchemaType.IMeasure="IMeasure",EntitySchemaType.Member="Member",EntitySchemaType.Parameters="Parameters",EntitySchemaType.Parameter="Parameter",EntitySchemaType.Properties="Properties",EntitySchemaType.Field="Field"}(EntitySchemaType||(EntitySchemaType={}))},"./packages/angular/entity/entity.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>NgmEntityModule});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");var calculated_measure_componentngResource=__webpack_require__("./packages/angular/entity/calculated-measure/calculated-measure.component.scss?ngResource"),calculated_measure_componentngResource_default=__webpack_require__.n(calculated_measure_componentngResource),coercion=__webpack_require__("./node_modules/@angular/cdk/fesm2022/coercion.mjs"),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),expansion=__webpack_require__("./node_modules/@angular/material/fesm2022/expansion.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),list=__webpack_require__("./node_modules/@angular/material/fesm2022/list.mjs"),sidenav=__webpack_require__("./node_modules/@angular/material/fesm2022/sidenav.mjs"),tabs=__webpack_require__("./node_modules/@angular/material/fesm2022/tabs.mjs"),toolbar=__webpack_require__("./node_modules/@angular/material/fesm2022/toolbar.mjs"),tooltip=__webpack_require__("./node_modules/@angular/material/fesm2022/tooltip.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),resizer_module=__webpack_require__("./packages/angular/common/resizer/resizer.module.ts"),highlight_directive=__webpack_require__("./packages/angular/common/directives/highlight.directive.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts");const FUNCTIONS=[{label:"Aggregate",expression:"Aggregate(Set_Expression [ ,Numeric_Expression ])",insertText:"Aggregate()",documentation:"Returns a number that is calculated by aggregating over the cells returned by the set expression. If a numeric expression is not provided, this function aggregates each measure within the current query context by using the default aggregation operator that is specified for each measure. If a numeric expression is provided, this function first evaluates, and then sums, the numeric expression for each cell in the specified set."},{label:"Filter",expression:"Filter(**Set_Expression**, **Logical_Expression**)",insertText:"Filter()",documentation:"Returns the set that results from filtering a specified set based on a search condition.\n\nThe Filter function evaluates the specified logical expression against each tuple in the specified set. The function returns a set that consists of each tuple in the specified set where the logical expression evaluates to true. If no tuples evaluate to true, an empty set is returned.\n\nThe Filter function works in a fashion similar to that of the IIf function. The IIf function returns only one of two options based on the evaluation of an MDX logical expression, while the Filter function returns a set of tuples that meet the specified search condition. In effect, the Filter function executes `IIf(Logical_Expression, Set_Expression.Current, NULL)` on each tuple in the set, and returns the resulting set.\n\n## Examples\n\nThe following example returns the sum of the `Measures.[Order Quantity]` member, aggregated over the first eight months of calendar year 2003 that are contained in the Date dimension, from the Adventure Works cube.\n\n```sql\nWITH MEMBER [Date].[Calendar].[First8Months2003] AS  \n    Aggregate(  \n        PeriodsToDate(  \n            [Date].[Calendar].[Calendar Year],   \n            [Date].[Calendar].[Month].[August 2003]  \n        )  \n    )  \nSELECT   \n    [Date].[Calendar].[First8Months2003] ON COLUMNS,  \n    [Product].[Category].Children ON ROWS  \nFROM  \n    [Adventure Works]  \nWHERE  \n    [Measures].[Order Quantity]\n```\n"},{label:"Avg",expression:"Avg(Set_Expression [, Numeric_Expression])",insertText:"Avg()",documentation:"Returns the average (arithmetic mean) of a numeric expression that is evaluated over the specified set."},{label:"Count",expression:"Count(Set_Expression [, ExcludeEmpty | IncludeEmpty])",insertText:"Count()",documentation:"Returns the number of tuples in a specified set, with an optional flag to include or exclude empty tuples."},{label:"Max",expression:"Max(Set_Expression, Numeric_Expression)",insertText:"Max()",documentation:"Returns the maximum value of a numeric expression evaluated over a specified set."},{label:"Min",expression:"Min(Set_Expression, Numeric_Expression)",insertText:"Min()",documentation:"Returns the minimum value of a numeric expression evaluated over a specified set."},{label:"Sum",expression:"Sum(Set_Expression [, Numeric_Expression])",insertText:"Sum()",documentation:"Returns the sum of a numeric expression evaluated over a specified set."},{label:"Exists",expression:"Exists(Set_Expression1, Set_Expression2 [, String_Expression])",insertText:"Exists()",documentation:"Returns the set of tuples of the first set specified that exist with one or more tuples of the second specified set."},{label:"Generate",expression:"Generate(Set_Expression, Expression [, ALL])",insertText:"Generate()",documentation:"Returns a set generated by evaluating a specified expression for each tuple in a specified set."},{label:"IIf",expression:"IIf(Logical_Expression, Expression1, Expression2)",insertText:"IIf()",documentation:"Returns one of two expressions based on the evaluation of a logical expression."},{label:"CoalesceEmpty",expression:"CoalesceEmpty(Expression1, Expression2)",insertText:"CoalesceEmpty()",documentation:"Returns the first expression if it is not empty; otherwise, returns the second expression."},{label:"CrossJoin",expression:"CrossJoin(Set_Expression1, Set_Expression2)",insertText:"CrossJoin()",documentation:"Returns the cross product of two sets."},{label:"ClosingPeriod",expression:"ClosingPeriod([<Level>][, <Member>])",insertText:"ClosingPeriod()",documentation:"Returns the last descendant of a member at a level."},{label:"Children",expression:"<Member>.Children",insertText:".Children",documentation:"Returns the children of a member."},{label:"Except",expression:"Except(Set_Expression1, Set_Expression2 [, ALL])",insertText:"Except()",documentation:"Returns the set that results from removing the tuples of the second set specified from the first set specified."},{label:"Intersect",expression:"Intersect(Set_Expression1, Set_Expression2 [, ALL])",insertText:"Intersect()",documentation:"Returns the intersection of two sets, optionally retaining duplicates."},{label:"Union",expression:"Union(Set_Expression1, Set_Expression2 [, ALL])",insertText:"Union()",documentation:"Returns the union of two sets, optionally retaining duplicates."},{label:"FirstChild",expression:"Member_Expression.FirstChild",insertText:".FirstChild",documentation:"Returns the first child of a specified member."},{label:"LastChild",expression:"Member_Expression.LastChild",insertText:".LastChild",documentation:"Returns the last child of a specified member."},{label:"FirstSibling",expression:"Member_Expression.FirstSibling",insertText:".FirstSibling",documentation:"Returns the first sibling of a specified member."},{label:"LastSibling",expression:"Member_Expression.LastSibling",insertText:".LastSibling",documentation:"Returns the last sibling of a specified member."},{label:"NextMember",expression:"Member_Expression.NextMember",insertText:".NextMember",documentation:"Returns the next member in the level that contains a specified member."},{label:"PrevMember",expression:"Member_Expression.PrevMember",insertText:".PrevMember",documentation:"Returns the previous member in the level that contains a specified member."},{label:"Ancestor",expression:"Ancestor(Member_Expression, Level_Expression)",insertText:"Ancestor()",documentation:"Returns the ancestor of a member at a specified level."},{label:"Cousin",expression:"Cousin(Member_Expression, Ancestor_Member_Expression)",insertText:"Cousin()",documentation:"Returns the cousin of a member based on a second member."},{label:"Parent",expression:"Member_Expression.Parent",insertText:".Parent",documentation:"Returns the parent of a specified member."},{label:"StrToMember",expression:"StrToMember(String_Expression [, CONSTRAINED])",insertText:"StrToMember()",documentation:"Converts a string to a member. If the optional CONSTRAINED flag is used, the function will raise an error if the member does not exist."},{label:"StrToSet",expression:"StrToSet(String_Expression [, CONSTRAINED])",insertText:"StrToSet()",documentation:"Converts a string to a set. If the optional CONSTRAINED flag is used, the function will raise an error if the set does not exist."},{label:"StrToValue",expression:"StrToValue(String_Expression)",insertText:"StrToValue()",documentation:"Converts a string to a value."},{label:"CurrentMember",expression:"Hierarchy_Expression.CurrentMember",insertText:".CurrentMember",documentation:"Returns the current member along a specified hierarchy during iteration."},{label:"DefaultMember",expression:"Hierarchy_Expression.DefaultMember",insertText:".DefaultMember",documentation:"Returns the default member of a specified hierarchy."},{label:"Members",expression:"Level_Expression.Members",insertText:".Members",documentation:"Returns the set of members in a specified level."},{label:"AllMembers",expression:"Hierarchy_Expression.AllMembers",insertText:".AllMembers",documentation:"Returns the set of all members, including calculated members, in a specified hierarchy."},{label:"Ascendants",expression:"<Set> Ascendants(<Member>)",insertText:".Ascendants",documentation:"Returns the set of the ascendants of a specified member."},{label:"Descendants",expression:"Descendants(Member_Expression, Level_Expression [, Desc_Flag])",insertText:"Descendants()",documentation:"Returns the set of descendants of a specified member at a specified level, optionally filtered by a specified type of descendant."},{label:"DrilldownLevel",expression:"DrilldownLevel(Set_Expression [, Level_Expression [, RECURSIVE]])",insertText:"DrilldownLevel()",documentation:"Returns a set generated by drilling down a specified number of levels from a specified level, optionally drilling down recursively."},{label:"DrilldownMember",expression:"DrilldownMember(Set_Expression, Set_Expression2 [, RECURSIVE])",insertText:"DrilldownMember()",documentation:"Returns a set generated by drilling down from a specified member, optionally drilling down recursively."},{label:"DrillupLevel",expression:"DrillupLevel(Set_Expression [, Level_Expression])",insertText:"DrillupLevel()",documentation:"Returns a set generated by drilling up from a specified level to its parent level."},{label:"DrillupMember",expression:"DrillupMember(Set_Expression, Set_Expression2)",insertText:"DrillupMember()",documentation:"Returns a set generated by drilling up from a specified member to its parent member."},{label:"BottomCount",expression:"BottomCount(Set_Expression, Count [, Numeric_Expression])",insertText:"BottomCount()",documentation:"Returns the bottom N tuples of a specified set, optionally ordered by a numeric expression."},{label:"BottomPercent",expression:"BottomPercent(Set_Expression, Percent [, Numeric_Expression])",insertText:"BottomPercent()",documentation:"Returns the bottom N percent of tuples in a specified set, optionally ordered by a numeric expression."},{label:"BottomSum",expression:"<Set> BottomSum(<Set>, <Numeric Expression>, <Numeric Expression>)",insertText:"BottomSum()",documentation:"Sorts a set and returns the bottom N elements whose cumulative total is at least a specified value."},{label:"TopCount",expression:"TopCount(Set_Expression, Count [, Numeric_Expression])",insertText:"TopCount()",documentation:"Returns the top N tuples of a specified set, optionally ordered by a numeric expression."},{label:"TopPercent",expression:"TopPercent(Set_Expression, Percent [, Numeric_Expression])",insertText:"TopPercent()",documentation:"Returns the top N percent of tuples in a specified set, optionally ordered by a numeric expression.\n  \nThe TopPercent function calculates the sum of the specified numeric expression evaluated over the specified set, sorting the set in descending order.\nThe function then returns the elements with the highest values whose cumulative percentage of the total summed value is at least the specified percentage.\nThis function returns the smallest subset of a set whose cumulative total is at least the specified percentage. The returned elements are ordered largest to smallest."},{label:"TopSum",expression:"<Set> TopSum(<Set>, <Numeric Expression>, <Numeric Expression>)",insertText:"TopSum()",documentation:"Sorts a set and returns the top N elements whose cumulative total is at least a specified value."},{label:"Head",expression:"Head(Set_Expression, Count)",insertText:"Head()",documentation:"Returns the first N elements of a specified set."},{label:"Tail",expression:"Tail(Set_Expression, Count)",insertText:"Tail()",documentation:"Returns the last N elements of a specified set."},{label:"Item",expression:"Set_Expression.Item(Index)",insertText:".Item()",documentation:"Returns the tuple at a specified index within a set."},{label:"Left",expression:"Left(Member_Expression | String, Count)",insertText:"Left()",documentation:"Returns a specified number of characters from the left side of a string."},{label:"Len",expression:"Len(Member_Expression | String)",insertText:"Len()",documentation:"Returns the number of characters in a string."},{label:"Order",expression:"Order(Set_Expression, Numeric_Expression [, ASC | DESC | BASC | BDESC])",insertText:"Order()",documentation:"Returns a set sorted by a specified numeric expression, optionally specifying the sort order."},{label:"Rank",expression:"Rank(Tuple_Expression, Set_Expression [, Numeric_Expression])",insertText:"Rank()",documentation:"Returns the one-based rank of a specified tuple within a specified set, optionally ordered by a numeric expression."},{label:"ParallelPeriod",expression:"ParallelPeriod(<Level>[, <Numeric Expression>[, <Member>]])",insertText:"ParallelPeriod()",documentation:"Returns a member from a prior period in the same relative position as a specified member."},{label:"PeriodsToDate",expression:"PeriodsToDate(<Level>, <Member>)",insertText:"PeriodsToDate()",documentation:"Returns a set of periods (members) from a specified level starting with the first period and ending with a specified member."},{label:"Properties",expression:"Member_Expression.Properties(Property_Name [, TYPED])",insertText:".Properties()",documentation:"Returns the value of a specified property for a specified member, optionally returning the value in the data type of the property."},{label:"IsEmpty",expression:"IsEmpty(Expression)",insertText:"IsEmpty()",documentation:"Returns true if a specified expression is empty; otherwise, returns false."},{label:"IsLeaf",expression:"IsLeaf(Expression)",insertText:"IsLeaf()",documentation:"Returns true if a specified member is a leaf member (has no children); otherwise, returns false."},{label:"IsSibling",expression:"IsSibling(Member_Expression1, Member_Expression2)",insertText:"IsSibling()",documentation:"Returns true if the specified members are siblings (share the same parent); otherwise, returns false."}];var ThemesEnum,_NgmThemeService,_themeClass$,mdx_componentngResource=__webpack_require__("./packages/angular/mdx/editor/mdx.component.scss?ngResource"),mdx_componentngResource_default=__webpack_require__.n(mdx_componentngResource),src=__webpack_require__("./packages/core/src/index.ts"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),ngx_monaco_editor=__webpack_require__("./node_modules/ngx-monaco-editor/fesm2015/ngx-monaco-editor.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),internal_Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),Subscription=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),debounceTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),classPrivateFieldInitSpec=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js"),classPrivateFieldGet2=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js"),classPrivateFieldSet2=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js");!function(ThemesEnum){ThemesEnum.system="system",ThemesEnum.default="default",ThemesEnum.light="light",ThemesEnum.dark="dark",ThemesEnum["dark-green"]="dark-green",ThemesEnum.thin="thin"}(ThemesEnum||(ThemesEnum={}));let NgmThemeService=(_themeClass$=new WeakMap,(_NgmThemeService=class NgmThemeService{constructor(){(0,classPrivateFieldInitSpec.Z)(this,_themeClass$,void 0),(0,classPrivateFieldSet2.Z)(_themeClass$,this,(0,core.signal)("")),this.themeClass$=(0,rxjs_interop.Dx)((0,classPrivateFieldGet2.Z)(_themeClass$,this)),this.themeClass=(0,classPrivateFieldGet2.Z)(_themeClass$,this).asReadonly();const initialClass=document.body.classList.contains(ThemesEnum.dark)?ThemesEnum.dark:ThemesEnum.light;(0,classPrivateFieldGet2.Z)(_themeClass$,this).set(initialClass);new MutationObserver((mutations=>{for(const mutation of mutations)if("attributes"===mutation.type&&"class"===mutation.attributeName){const newClass=document.body.classList.contains(ThemesEnum.dark)?ThemesEnum.dark:ThemesEnum.light;newClass!==(0,classPrivateFieldGet2.Z)(_themeClass$,this).call(this)&&(0,classPrivateFieldGet2.Z)(_themeClass$,this).set(newClass)}})).observe(document.body,{attributes:!0})}}).ctorParameters=()=>[],_NgmThemeService);NgmThemeService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmThemeService);const EditorThemeMap={[ThemesEnum.light]:"vs",[ThemesEnum.dark]:"vs-dark"};var _NgmBaseEditorDirective;let NgmBaseEditorDirective=((_NgmBaseEditorDirective=class NgmBaseEditorDirective{constructor(){this.themeService=(0,core.inject)(NgmThemeService),this.editor$=new BehaviorSubject.X(null),this.theme="",this._options=(0,core.signal)({}),this.actions=[],this.keyDown=this.editor$.pipe((0,filter.h)(Boolean),(0,switchMap.w)(monacoKeydown)),this.defaultOptions={theme:"vs",automaticLayout:!0},this.editorOptions=(0,core.computed)((()=>({language:this.languageId,...this.defaultOptions,...this.options??{},theme:EditorThemeMap[this.themeService.themeClass()]}))),this.code="",this._modelChange$=new Subject.x,this.modelChange=this._modelChange$.pipe((0,debounceTime.b)(500)),this.selectionChange=new core.EventEmitter,this.cursorSelection$=new Subject.x,this._providers=[],this.valueSub=this.modelChange.pipe((0,rxjs_interop.sL)()).subscribe((()=>{this.onChange(this.code)})),this.cursorSelectionSub=this.cursorSelection$.pipe((0,debounceTime.b)(300),(0,rxjs_interop.sL)()).subscribe((e=>{this.selectionChange.emit({range:this.editor.getSelection(),text:this.getSelectText()})}))}get editor(){return this.editor$.value}get options(){return this._options()}set options(value){this._options.set(value)}onModelChange(event){this._modelChange$.next(event)}onChange(event){this._onChange?.(this.code)}writeValue(obj){this.code=obj}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){isDisabled?this.editor?.updateOptions({readOnly:!0}):this.editor?.updateOptions({readOnly:!1})}onInit(editor){this.editor$.next(editor),this.editor.onDidChangeCursorSelection((e=>{this.cursorSelection$.next(e)}));editor.createContextKey("shouldShowSqlRunnerAction",!0);this.actions?.forEach((action=>{const{id,label,action:runFn}=action;editor.addAction({id,label:label(),precondition:"shouldShowSqlRunnerAction",contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:event=>{const selectedText=editor.getModel()?.getValueInRange(editor.getSelection())||"";runFn(selectedText,{selection:editor.getSelection()})}})}))}onResized(event){this.editor?.layout()}dispose(){this._providers.forEach((provider=>provider.dispose()))}formatDocument(){this.editor?.getAction("editor.action.formatDocument").run()}formatSelection(){this.editor?.getAction("editor.action.formatSelection").run()}compressDocument(){this.code=this.code.replace(/\r\n/g," "),this.code=this.code.split(" ").filter((value=>!!value)).join(" ")}clearDocument(){this.code=""}startFindAction(){this.editor.getAction("actions.find").run()}startFindReplaceAction(){this.editor.getAction("editor.action.startFindReplaceAction").run()}insert(text,position){position&&this.editor.setPosition(position),this.editor?.trigger("keyboard","type",{text})}undo(){this.editor.trigger("myeditor","undo")}redo(){this.editor.trigger("myeditor","redo")}getSelectText(){return this.editor?.getModel()?.getValueInRange(this.editor.getSelection())}appendText(text){const lastLine=this.editor.getModel().getLineCount(),lastLineLength=this.editor.getModel().getLineContent(lastLine).length;this.editor.getModel().pushEditOperations([],[{range:new monaco.Range(lastLine,lastLineLength+1,lastLine,lastLineLength+1),text}],(()=>null))}applyEdits(edits){this.editor.getModel().applyEdits(edits)}ngOnDestroy(){this.dispose()}}).propDecorators={theme:[{type:core.Input}],options:[{type:core.Input}],textSelection:[{type:core.Input}],actions:[{type:core.Input}],keyDown:[{type:core.Output}],modelChange:[{type:core.Output}],selectionChange:[{type:core.Output}]},_NgmBaseEditorDirective);function monacoKeydown(editor){return new internal_Observable.y((observer=>{const listener=editor.onKeyDown((event=>{observer.next(event)}));return new Subscription.w0((()=>listener.dispose()))}))}NgmBaseEditorDirective=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[ngmEditor]"})],NgmBaseEditorDirective);const conf={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},language={defaultToken:"",tokenPostfix:".mdx",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["AllMembers","Measures","Members","Children","CurrentMember",...FUNCTIONS.map((({label})=>label)),"ABORT_AFTER_WAIT","ABSENT","ABSOLUTE","ACCENT_SENSITIVITY","ACTION","ACTIVATION","ACTIVE","ADD","ADDRESS","ADMIN","AES","AES_128","AES_192","AES_256","AFFINITY","AFTER","AGGREGATE","ALGORITHM","ALL_CONSTRAINTS","ALL_ERRORMSGS","ALL_INDEXES","ALL_LEVELS","ALL_SPARSE_COLUMNS","ALLOW_CONNECTIONS","ALLOW_MULTIPLE_EVENT_LOSS","ALLOW_PAGE_LOCKS","ALLOW_ROW_LOCKS","ALLOW_SINGLE_EVENT_LOSS","ALLOW_SNAPSHOT_ISOLATION","ALLOWED","ALTER","ANONYMOUS","ANSI_DEFAULTS","ANSI_NULL_DEFAULT","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_NULLS","ANSI_PADDING","ANSI_WARNINGS","APPEND","APPLICATION","APPLICATION_LOG","ARITHABORT","ARITHIGNORE","AS","ASC","ASSEMBLY","ASYMMETRIC","ASYNCHRONOUS_COMMIT","AT","ATOMIC","ATTACH","ATTACH_REBUILD_LOG","AUDIT","AUDIT_GUID","AUTHENTICATION","AUTHORIZATION","AUTO","AUTO_CLEANUP","AUTO_CLOSE","AUTO_CREATE_STATISTICS","AUTO_SHRINK","AUTO_UPDATE_STATISTICS","AUTO_UPDATE_STATISTICS_ASYNC","AUTOMATED_BACKUP_PREFERENCE","AUTOMATIC","AVAILABILITY","AVAILABILITY_MODE","BACKUP","BACKUP_PRIORITY","BASE64","BATCHSIZE","BEGIN","BEGIN_DIALOG","BIGINT","BINARY","BINDING","BIT","BLOCKERS","BLOCKSIZE","BOUNDING_BOX","BREAK","BROKER","BROKER_INSTANCE","BROWSE","BUCKET_COUNT","BUFFER","BUFFERCOUNT","BULK","BULK_LOGGED","BY","CACHE","CALL","CALLED","CALLER","CAP_CPU_PERCENT","CASCADE","CASE","CATALOG","CATCH","CELLS_PER_OBJECT","CERTIFICATE","CHANGE_RETENTION","CHANGE_TRACKING","CHANGES","CHAR","CHARACTER","CHECK","CHECK_CONSTRAINTS","CHECK_EXPIRATION","CHECK_POLICY","CHECKALLOC","CHECKCATALOG","CHECKCONSTRAINTS","CHECKDB","CHECKFILEGROUP","CHECKIDENT","CHECKPOINT","CHECKTABLE","CLASSIFIER_FUNCTION","CLEANTABLE","CLEANUP","CLEAR","CLOSE","CLUSTER","CLUSTERED","CODEPAGE","COLLATE","COLLECTION","COLUMN","COLUMN_SET","COLUMNS","COLUMNSTORE","COLUMNSTORE_ARCHIVE","COMMIT","COMMITTED","COMPATIBILITY_LEVEL","COMPRESSION","COMPUTE","CONCAT","CONCAT_NULL_YIELDS_NULL","CONFIGURATION","CONNECT","CONSTRAINT","CONTAINMENT","CONTENT","CONTEXT","CONTINUE","CONTINUE_AFTER_ERROR","CONTRACT","CONTRACT_NAME","CONTROL","CONVERSATION","COOKIE","COPY_ONLY","COUNTER","CPU","CREATE","CREATE_NEW","CREATION_DISPOSITION","CREDENTIAL","CRYPTOGRAPHIC","CUBE","CURRENT","CURRENT_DATE","CURSOR","CURSOR_CLOSE_ON_COMMIT","CURSOR_DEFAULT","CYCLE","DATA","DATA_COMPRESSION","DATA_PURITY","DATABASE","DATABASE_DEFAULT","DATABASE_MIRRORING","DATABASE_SNAPSHOT","DATAFILETYPE","DATE","DATE_CORRELATION_OPTIMIZATION","DATEFIRST","DATEFORMAT","DATETIME","DATETIME2","DATETIMEOFFSET","DAY","DAYOFYEAR","DAYS","DB_CHAINING","DBCC","DBREINDEX","DDL_DATABASE_LEVEL_EVENTS","DEADLOCK_PRIORITY","DEALLOCATE","DEC","DECIMAL","DECLARE","DECRYPTION","DEFAULT","DEFAULT_DATABASE","DEFAULT_FULLTEXT_LANGUAGE","DEFAULT_LANGUAGE","DEFAULT_SCHEMA","DEFINITION","DELAY","DELAYED_DURABILITY","DELETE","DELETED","DENSITY_VECTOR","DENY","DEPENDENTS","DES","DESC","DESCRIPTION","DESX","DHCP","DIAGNOSTICS","DIALOG","DIFFERENTIAL","DIRECTORY_NAME","DISABLE","DISABLE_BROKER","DISABLED","DISK","DISTINCT","DISTRIBUTED","DOCUMENT","DOUBLE","DROP","DROP_EXISTING","DROPCLEANBUFFERS","DUMP","DURABILITY","DYNAMIC","EDITION","ELEMENTS","ELSE","EMERGENCY","EMPTY","EMPTYFILE","ENABLE","ENABLE_BROKER","ENABLED","ENCRYPTION","END","ENDPOINT","ENDPOINT_URL","ERRLVL","ERROR","ERROR_BROKER_CONVERSATIONS","ERRORFILE","ESCAPE","ESTIMATEONLY","EVENT","EVENT_RETENTION_MODE","EXEC","EXECUTABLE","EXECUTE","EXIT","EXPAND","EXPIREDATE","EXPIRY_DATE","EXPLICIT","EXTENDED_LOGICAL_CHECKS","EXTENSION","EXTERNAL","EXTERNAL_ACCESS","FAIL_OPERATION","FAILOVER","FAILOVER_MODE","FAILURE_CONDITION_LEVEL","FALSE","FAN_IN","FAST","FAST_FORWARD","FETCH","FIELDTERMINATOR","FILE","FILEGROUP","FILEGROWTH","FILELISTONLY","FILENAME","FILEPATH","FILESTREAM","FILESTREAM_ON","FILETABLE_COLLATE_FILENAME","FILETABLE_DIRECTORY","FILETABLE_FULLPATH_UNIQUE_CONSTRAINT_NAME","FILETABLE_NAMESPACE","FILETABLE_PRIMARY_KEY_CONSTRAINT_NAME","FILETABLE_STREAMID_UNIQUE_CONSTRAINT_NAME","FILLFACTOR","FILTERING","FIRE_TRIGGERS","FIRST","FIRSTROW","FLOAT","FMTONLY","FOLLOWING","FOR","FORCE","FORCE_FAILOVER_ALLOW_DATA_LOSS","FORCE_SERVICE_ALLOW_DATA_LOSS","FORCED","FORCEPLAN","FORCESCAN","FORCESEEK","FOREIGN","FORMATFILE","FORMSOF","FORWARD_ONLY","FREE","FREEPROCCACHE","FREESESSIONCACHE","FREESYSTEMCACHE","FROM","FULL","FULLSCAN","FULLTEXT","FUNCTION","GB","GEOGRAPHY_AUTO_GRID","GEOGRAPHY_GRID","GEOMETRY_AUTO_GRID","GEOMETRY_GRID","GET","GLOBAL","GO","GOTO","GOVERNOR","GRANT","GRIDS","GROUP","GROUP_MAX_REQUESTS","HADR","HASH","HASHED","HAVING","HEADERONLY","HEALTH_CHECK_TIMEOUT","HELP","HIERARCHYID","HIGH","HINT","HISTOGRAM","HOLDLOCK","HONOR_BROKER_PRIORITY","HOUR","HOURS","IDENTITY","IDENTITY_INSERT","IDENTITY_VALUE","IDENTITYCOL","IF","IGNORE_CONSTRAINTS","IGNORE_DUP_KEY","IGNORE_NONCLUSTERED_COLUMNSTORE_INDEX","IGNORE_TRIGGERS","IMAGE","IMMEDIATE","IMPERSONATE","IMPLICIT_TRANSACTIONS","IMPORTANCE","INCLUDE","INCREMENT","INCREMENTAL","INDEX","INDEXDEFRAG","INFINITE","INFLECTIONAL","INIT","INITIATOR","INPUT","INPUTBUFFER","INSENSITIVE","INSERT","INSERTED","INSTEAD","INT","INTEGER","INTO","IO","IP","ISABOUT","ISOLATION","JOB","KB","KEEP","KEEP_CDC","KEEP_NULLS","KEEP_REPLICATION","KEEPDEFAULTS","KEEPFIXED","KEEPIDENTITY","KEEPNULLS","KERBEROS","KEY","KEY_SOURCE","KEYS","KEYSET","KILL","KILOBYTES_PER_BATCH","LABELONLY","LANGUAGE","LAST","LASTROW","LEVEL","LEVEL_1","LEVEL_2","LEVEL_3","LEVEL_4","LIFETIME","LIMIT","LINENO","LIST","LISTENER","LISTENER_IP","LISTENER_PORT","LOAD","LOADHISTORY","LOB_COMPACTION","LOCAL","LOCAL_SERVICE_NAME","LOCK_ESCALATION","LOCK_TIMEOUT","LOGIN","LOGSPACE","LOOP","LOW","MANUAL","MARK","MARK_IN_USE_FOR_REMOVAL","MASTER","MAX_CPU_PERCENT","MAX_DISPATCH_LATENCY","MAX_DOP","MAX_DURATION","MAX_EVENT_SIZE","MAX_FILES","MAX_IOPS_PER_VOLUME","MAX_MEMORY","MAX_MEMORY_PERCENT","MAX_QUEUE_READERS","MAX_ROLLOVER_FILES","MAX_SIZE","MAXDOP","MAXERRORS","MAXLENGTH","MAXRECURSION","MAXSIZE","MAXTRANSFERSIZE","MAXVALUE","MB","MEDIADESCRIPTION","MEDIANAME","MEDIAPASSWORD","MEDIUM","MEMBER","MEMORY_OPTIMIZED","MEMORY_OPTIMIZED_DATA","MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT","MEMORY_PARTITION_MODE","MERGE","MESSAGE","MESSAGE_FORWARD_SIZE","MESSAGE_FORWARDING","MICROSECOND","MILLISECOND","MIN_CPU_PERCENT","MIN_IOPS_PER_VOLUME","MIN_MEMORY_PERCENT","MINUTE","MINUTES","MINVALUE","MIRROR","MIRROR_ADDRESS","MODIFY","MONEY","MONTH","MOVE","MULTI_USER","MUST_CHANGE","NAME","NANOSECOND","NATIONAL","NATIVE_COMPILATION","NCHAR","NEGOTIATE","NESTED_TRIGGERS","NEW_ACCOUNT","NEW_BROKER","NEW_PASSWORD","NEWNAME","NEXT","NO","NO_BROWSETABLE","NO_CHECKSUM","NO_COMPRESSION","NO_EVENT_LOSS","NO_INFOMSGS","NO_TRUNCATE","NO_WAIT","NOCHECK","NOCOUNT","NOEXEC","NOEXPAND","NOFORMAT","NOINDEX","NOINIT","NOLOCK","NON","NON_TRANSACTED_ACCESS","NONCLUSTERED","NONE","NORECOMPUTE","NORECOVERY","NORESEED","NORESET","NOREWIND","NORMAL","NOSKIP","NOTIFICATION","NOTRUNCATE","NOUNLOAD","NOWAIT","NTEXT","NTLM","NUMANODE","NUMERIC","NUMERIC_ROUNDABORT","NVARCHAR","OBJECT","OF","OFF","OFFLINE","OFFSET","OFFSETS","OLD_ACCOUNT","OLD_PASSWORD","ON","ON_FAILURE","ONLINE","ONLY","OPEN","OPEN_EXISTING","OPENTRAN","OPTIMISTIC","OPTIMIZE","OPTION","ORDER","OUT","OUTPUT","OUTPUTBUFFER","OVER","OVERRIDE","OWNER","OWNERSHIP","PAD_INDEX","PAGE","PAGE_VERIFY","PAGECOUNT","PAGLOCK","PARAMETERIZATION","PARSEONLY","PARTIAL","PARTITION","PARTITIONS","PARTNER","PASSWORD","PATH","PER_CPU","PER_NODE","PERCENT","PERMISSION_SET","PERSISTED","PHYSICAL_ONLY","PLAN","POISON_MESSAGE_HANDLING","POOL","POPULATION","PORT","PRECEDING","PRECISION","PRIMARY","PRIMARY_ROLE","PRINT","PRIOR","PRIORITY","PRIORITY_LEVEL","PRIVATE","PRIVILEGES","PROC","PROCCACHE","PROCEDURE","PROCEDURE_NAME","PROCESS","PROFILE","PROPERTY","PROPERTY_DESCRIPTION","PROPERTY_INT_ID","PROPERTY_SET_GUID","PROVIDER","PROVIDER_KEY_NAME","PUBLIC","PUT","QUARTER","QUERY","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUEUE_DELAY","QUOTED_IDENTIFIER","RAISERROR","RANGE","RAW","RC2","RC4","RC4_128","READ","READ_COMMITTED_SNAPSHOT","READ_ONLY","READ_ONLY_ROUTING_LIST","READ_ONLY_ROUTING_URL","READ_WRITE","READ_WRITE_FILEGROUPS","READCOMMITTED","READCOMMITTEDLOCK","READONLY","READPAST","READTEXT","READUNCOMMITTED","READWRITE","REAL","REBUILD","RECEIVE","RECOMPILE","RECONFIGURE","RECOVERY","RECURSIVE","RECURSIVE_TRIGGERS","REFERENCES","REGENERATE","RELATED_CONVERSATION","RELATED_CONVERSATION_GROUP","RELATIVE","REMOTE","REMOTE_PROC_TRANSACTIONS","REMOTE_SERVICE_NAME","REMOVE","REORGANIZE","REPAIR_ALLOW_DATA_LOSS","REPAIR_FAST","REPAIR_REBUILD","REPEATABLE","REPEATABLEREAD","REPLICA","REPLICATION","REQUEST_MAX_CPU_TIME_SEC","REQUEST_MAX_MEMORY_GRANT_PERCENT","REQUEST_MEMORY_GRANT_TIMEOUT_SEC","REQUIRED","RESAMPLE","RESEED","RESERVE_DISK_SPACE","RESET","RESOURCE","RESTART","RESTORE","RESTRICT","RESTRICTED_USER","RESULT","RESUME","RETAINDAYS","RETENTION","RETURN","RETURNS","REVERT","REVOKE","REWIND","REWINDONLY","ROBUST","ROLE","ROLLBACK","ROLLUP","ROOT","ROUTE","ROW","ROWCOUNT","ROWGUIDCOL","ROWLOCK","ROWS","ROWS_PER_BATCH","ROWTERMINATOR","ROWVERSION","RSA_1024","RSA_2048","RSA_512","RULE","SAFE","SAFETY","SAMPLE","SAVE","SCHEDULER","SCHEMA","SCHEMA_AND_DATA","SCHEMA_ONLY","SCHEMABINDING","SCHEME","SCROLL","SCROLL_LOCKS","SEARCH","SECOND","SECONDARY","SECONDARY_ONLY","SECONDARY_ROLE","SECONDS","SECRET","SECURITY_LOG","SECURITYAUDIT","SELECT","SELECTIVE","SELF","SEND","SENT","SEQUENCE","SERIALIZABLE","SERVER","SERVICE","SERVICE_BROKER","SERVICE_NAME","SESSION","SESSION_TIMEOUT","SET","SETS","SETUSER","SHOW_STATISTICS","SHOWCONTIG","SHOWPLAN","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SHRINKDATABASE","SHRINKFILE","SHUTDOWN","SID","SIGNATURE","SIMPLE","SINGLE_BLOB","SINGLE_CLOB","SINGLE_NCLOB","SINGLE_USER","SINGLETON","SIZE","SKIP","SMALLDATETIME","SMALLINT","SMALLMONEY","SNAPSHOT","SORT_IN_TEMPDB","SOURCE","SPARSE","SPATIAL","SPATIAL_WINDOW_MAX_CELLS","SPECIFICATION","SPLIT","SQL","SQL_VARIANT","SQLPERF","STANDBY","START","START_DATE","STARTED","STARTUP_STATE","STAT_HEADER","STATE","STATEMENT","STATIC","STATISTICAL_SEMANTICS","STATISTICS","STATISTICS_INCREMENTAL","STATISTICS_NORECOMPUTE","STATS","STATS_STREAM","STATUS","STATUSONLY","STOP","STOP_ON_ERROR","STOPAT","STOPATMARK","STOPBEFOREMARK","STOPLIST","STOPPED","SUBJECT","SUBSCRIPTION","SUPPORTED","SUSPEND","SWITCH","SYMMETRIC","SYNCHRONOUS_COMMIT","SYNONYM","SYSNAME","SYSTEM","TABLE","TABLERESULTS","TABLESAMPLE","TABLOCK","TABLOCKX","TAKE","TAPE","TARGET","TARGET_RECOVERY_TIME","TB","TCP","TEXT","TEXTIMAGE_ON","TEXTSIZE","THEN","THESAURUS","THROW","TIES","TIME","TIMEOUT","TIMER","TIMESTAMP","TINYINT","TO","TOP","TORN_PAGE_DETECTION","TRACEOFF","TRACEON","TRACESTATUS","TRACK_CAUSALITY","TRACK_COLUMNS_UPDATED","TRAN","TRANSACTION","TRANSFER","TRANSFORM_NOISE_WORDS","TRIGGER","TRIPLE_DES","TRIPLE_DES_3KEY","TRUE","TRUNCATE","TRUNCATEONLY","TRUSTWORTHY","TRY","TSQL","TWO_DIGIT_YEAR_CUTOFF","TYPE","TYPE_WARNING","UNBOUNDED","UNCHECKED","UNCOMMITTED","UNDEFINED","UNIQUE","UNIQUEIDENTIFIER","UNKNOWN","UNLIMITED","UNLOAD","UNSAFE","UPDATE","UPDATETEXT","UPDATEUSAGE","UPDLOCK","URL","USE","USED","USER","USEROPTIONS","USING","VALID_XML","VALIDATION","VALUE","VALUES","VARBINARY","VARCHAR","VARYING","VERIFYONLY","VERSION","VIEW","VIEW_METADATA","VIEWS","VISIBILITY","WAIT_AT_LOW_PRIORITY","WAITFOR","WEEK","WEIGHT","WELL_FORMED_XML","WHEN","WHERE","WHILE","WINDOWS","WITH","WITHIN","WITHOUT","WITNESS","WORK","WORKLOAD","WRITETEXT","XACT_ABORT","XLOCK","XMAX","XMIN","XML","XMLDATA","XMLNAMESPACES","XMLSCHEMA","XQUERY","XSINIL","YEAR","YMAX","YMIN"],operators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME","EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],builtinFunctions:["AVG","CoalesceEmpty","Filter","Aggregate","LastPeriods","ParallelPeriod",...FUNCTIONS.map((({label})=>label)),"CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@keywords":"keyword","@operators":"operator","@builtinVariables":"keyword","@builtinFunctions":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}};var isNil=__webpack_require__("./node_modules/lodash-es/isNil.js"),lowerCase=__webpack_require__("./node_modules/lodash-es/lowerCase.js"),isEmpty=__webpack_require__("./node_modules/lodash-es/isEmpty.js");const SUFFIX_FUNCTIONS=[{label:"AllMembers",expression:"Hierarchy_Expression.AllMembers | Level_Expression.AllMembers",insertText:"AllMembers",documentation:"The AllMembers function returns a set that contains all members, which includes calculated members, in the specified hierarchy or level. The AllMembers function returns the calculated members even if the specified hierarchy or level contains no visible members.\n> When a dimension contains only a single visible hierarchy, the hierarchy can be either referred to by the dimension name or by the hierarchy name, because the dimension name in this case is resolved to its only visible hierarchy. For example, Measures.AllMembers is a valid MDX expression because it resolves to the only hierarchy in the Measures dimension.\n\n## Examples\n\nThe following example returns all members in the [Date].[Calendar Year] attribute hierarchy on the column axis, this includes calculated members, and the set of all children of the [Product].[Model Name] attribute hierarchy on the row axis from the Adventure Works cube.\n\n```sql\nSELECT  \n   [Date].[Calendar Year].AllMembers ON COLUMNS,  \n   [Product].[Model Name].Children ON ROWS  \nFROM  \n   [Adventure Works]\n```\n"},{label:"Members",expression:"Hierarchy_Expression.Members | Level_Expression.Members",insertText:"Members",documentation:""}];var MDXNodeType;!function(MDXNodeType){MDXNodeType.Property="property",MDXNodeType.Dimension="dimension",MDXNodeType.Hierarchy="hierarchy",MDXNodeType.Level="level",MDXNodeType.Measure="measure",MDXNodeType.CalculatedMember="calculatedMember",MDXNodeType.NamedSet="namedSet"}(MDXNodeType||(MDXNodeType={}));const functionProposals={provideCompletionItems:(model,position)=>{const word=model.getWordUntilPosition(position),range={startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn,endColumn:word.endColumn};return{suggestions:FUNCTIONS.map((item=>({...item,kind:monaco.languages.CompletionItemKind.Function,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:item.expression,documentation:`${item.expression}\n${item.documentation}`,range})))}}};const createHierarchyProvider=entityType=>({triggerCharacters:["["],provideCompletionItems:(model,position)=>{const suggestions=function createCubeSuggestions(model,position,entityType){const word=model.getWordUntilPosition(position);let from=null,startColumn=word.startColumn-1;for(;!from?.word&&startColumn>0;)from=model.getWordUntilPosition(new monaco.Position(position.lineNumber,--startColumn));if(!(0,isNil.Z)(from?.word)&&"from"===(0,lowerCase.Z)(from.word)){const range={startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn-1,endColumn:word.endColumn+1};return[{label:`[${entityType.name}]`,kind:monaco.languages.CompletionItemKind.Method,detail:"",insertText:`[${entityType.name}]`,range}]}return null}(model,position,entityType);if(!(0,isEmpty.Z)(suggestions))return{suggestions};const word=model.getWordUntilPosition(position);return{suggestions:createFieldProposals({startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn-1,endColumn:word.endColumn+1},entityType)}}});function createFieldProposals(range,entityType){const proposals=[];return Object.values(entityType.properties).filter((property=>property.role===src.uFO.dimension||property.role===src.uFO.measure)).forEach((property=>{const text=property.role===src.uFO.measure?`[${src.QPo}].[${property.name}]`:property.name;proposals.push({label:text,kind:property.role===src.uFO.dimension?monaco.languages.CompletionItemKind.Method:property.role===src.uFO.measure?monaco.languages.CompletionItemKind.Unit:monaco.languages.CompletionItemKind.Field,detail:property.caption,insertText:text,range}),property.hierarchies?.forEach((hierarchy=>{proposals.find((item=>item.insertText===hierarchy.name))||proposals.push({label:hierarchy.name,kind:monaco.languages.CompletionItemKind.Class,detail:property.caption+" "+hierarchy.caption,insertText:hierarchy.name,range})}))})),proposals.push({label:`[${src.QPo}]`,kind:monaco.languages.CompletionItemKind.Method,detail:"",insertText:`[${src.QPo}]`,range}),proposals}function createSuffixProposals(range,parent,entityType){const proposals=[];if(SUFFIX_FUNCTIONS.map((item=>proposals.push({...item,kind:monaco.languages.CompletionItemKind.Function,insertTextRules:monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:item.expression,range}))),parent===`[${src.QPo}]`)return Object.values(entityType.properties).filter((property=>property.role===src.uFO.measure)).forEach((property=>proposals.push({label:property.name,kind:monaco.languages.CompletionItemKind.Unit,detail:property.caption,insertText:`[${property.name}]`,range}))),proposals;let property=Object.values(entityType.properties).find((property=>property.name===parent));return property&&(property.role===src.uFO.dimension&&(property=property.hierarchies?.find((item=>item.name===parent))),property?.levels?.forEach((level=>{const text=level.name.replace(`${parent}.`,"");proposals.push({label:text,kind:monaco.languages.CompletionItemKind.Constant,detail:level.caption,insertText:text,range})}))),proposals}function getFieldHoverDocument(name,entityType){const property=(0,src.UiI)(entityType).find((property=>property.name===name));return property?[{value:`\`${property.name}\``},{value:property.caption}]:[]}function getFunctionHoverDocument(name){const item=FUNCTIONS.find((item=>item.label.toLocaleLowerCase()===name.toLocaleLowerCase()));return item?[{value:`\`${item.expression}\`\n${item.documentation}`}]:[]}var _NgmMDXEditorComponent;let NgmMDXEditorComponent=((_NgmMDXEditorComponent=class NgmMDXEditorComponent extends NgmBaseEditorDirective{constructor(){super(...arguments),this._entityType$=new BehaviorSubject.X(null),this.languageId="mdx"}get entityType(){return this._entityType$.value}set entityType(value){this._entityType$.next(value)}ngOnInit(){(0,combineLatest.a)([this.editor$.pipe((0,filter.h)(src.vJr),(0,tap.b)((editor=>{monaco.languages.register({id:this.languageId,extensions:[".mdx"],aliases:["MDX"]}),monaco.languages.setMonarchTokensProvider(this.languageId,language),monaco.languages.setLanguageConfiguration(this.languageId,conf)}))),this._entityType$.pipe((0,filter.h)(src.vJr))]).subscribe((([editor,entityType])=>{this.dispose(),this._providers.push(monaco.languages.registerCompletionItemProvider(this.languageId,functionProposals)),this._providers.push(monaco.languages.registerCompletionItemProvider(this.languageId,(entityType=>({triggerCharacters:["@","[@"],provideCompletionItems:(model,position)=>{const word=model.getWordUntilPosition(position),range="[@"===model.getValueInRange({startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn-2,endColumn:word.startColumn})?{startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn-2,endColumn:word.endColumn+1}:{startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:word.startColumn-1,endColumn:word.endColumn},parameters=Object.keys(entityType.properties).map((key=>entityType.properties[key])).filter((property=>(0,src.UE_)(property)));return parameters.push(...Object.values(entityType.parameters||{})),{suggestions:parameters.map((property=>({label:`[@${property.name}]`,kind:monaco.languages.CompletionItemKind.Variable,detail:"",insertText:`[@${property.name}]`,range})))}}}))(entityType))),this._providers.push(monaco.languages.registerCompletionItemProvider(this.languageId,createHierarchyProvider(entityType))),this._providers.push(monaco.languages.registerCompletionItemProvider(this.languageId,(entityType=>({triggerCharacters:["."],provideCompletionItems:(model,position)=>{const textUntilPosition=model.getValueInRange({startLineNumber:position.lineNumber,startColumn:1,endLineNumber:position.lineNumber,endColumn:position.column-1}),regExp=new RegExp("\\[([a-zA-Z0-9一-鿌\\/\\s_\\-]*)\\]","g");let match,word;do{match=regExp.exec(textUntilPosition),match?.length&&(word=match[0])}while(match);return word?{suggestions:createSuffixProposals({startLineNumber:position.lineNumber,endLineNumber:position.lineNumber,startColumn:position.column,endColumn:position.column},word,entityType)}:null}}))(entityType))),this._providers.push(monaco.languages.registerSignatureHelpProvider(this.languageId,{signatureHelpTriggerCharacters:["("],signatureHelpRetriggerCharacters:["("],provideSignatureHelp:(model,position,token,context)=>(model.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:position.lineNumber,endColumn:position.column}).match("\\("),{value:{signatures:[{label:"parameter1",documentation:" this method does blah",parameters:[{label:"ParamInfo1",documentation:"this param does blah"}]}],activeSignature:1,activeParameter:1},dispose(){}})})),this._providers.push(monaco.languages.registerHoverProvider(this.languageId,(entityType=>({provideHover:(model,position,token)=>{const line=model.getLineContent(position.lineNumber),regExp=new RegExp("\\[([a-zA-Z0-9一-鿌\\/\\s_\\-]*)\\]","g");let match,word;do{if(match=regExp.exec(line),match?.length&&match.index<=position.column&&match.index+match[0].length>=position.column){word=match[0];break}}while(match);return word?{range:new monaco.Range(1,1,model.getLineCount(),model.getLineMaxColumn(model.getLineCount())),contents:getFieldHoverDocument(word,entityType)}:(word=model.getWordAtPosition(position)?.word,word?{range:new monaco.Range(1,1,model.getLineCount(),model.getLineMaxColumn(model.getLineCount())),contents:getFunctionHoverDocument(word)}:{range:new monaco.Range(1,1,model.getLineCount(),model.getLineMaxColumn(model.getLineCount())),contents:[{value:"Filter(**Set_Expression**, **Logical_Expression**)"},{value:"Returns the set that results from filtering a specified set based on a search condition.\n\n`Filter(Set_Expression, Logical_Expression)`"}]})}}))(entityType)))}))}}).propDecorators={entityType:[{type:core.Input}]},_NgmMDXEditorComponent);NgmMDXEditorComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,ngx_monaco_editor.nm],selector:"ngm-mdx-editor",template:'<ngx-monaco-editor [ngStyle]="{\'height\': \'calc(100% - 1rem)\'}"\n    [options]="editorOptions()"\n    [(ngModel)]="code"\n    (ngModelChange)="onModelChange($event)"\n    (resized)="onResized($event)"\n    (onInit)="onInit($event)"\n></ngx-monaco-editor>\n',host:{class:"ngm-mdx-editor"},providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmMDXEditorComponent))}],styles:[mdx_componentngResource_default()]})],NgmMDXEditorComponent);var _NgmCalculatedMeasureComponent,parameter_create_component=__webpack_require__("./packages/angular/parameter/parameter-create/parameter-create.component.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),sortBy=__webpack_require__("./node_modules/lodash-es/sortBy.js"),negate=__webpack_require__("./node_modules/lodash-es/negate.js"),ngx_markdown=__webpack_require__("./node_modules/ngx-markdown/fesm2022/ngx-markdown.mjs"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),combineLatestWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/combineLatestWith.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),firstValueFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js"),entity_schema_component=__webpack_require__("./packages/angular/entity/entity-schema/entity-schema.component.ts"),types=__webpack_require__("./packages/angular/entity/entity-schema/types.ts"),property_component=__webpack_require__("./packages/angular/entity/property/property.component.ts");let NgmCalculatedMeasureComponent=((_NgmCalculatedMeasureComponent=class NgmCalculatedMeasureComponent{get story(){return this._story}set story(value){this._story=(0,coercion.Ig)(value)}get calculatedMemberHighlight(){return this.calculatedMemberSearch.value}get fnHighlight(){return this.fnSearchControl.value}constructor(){this.Syntax=src.GYg,this.EntityCapacity=types.W,this.FUNCTIONS=[],this._dialog=(0,core.inject)(dialog.uw),this._viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.dsCoreService=(0,core.input)(),this.dataSettings=(0,core.input)(),this.entityType=(0,core.input)(),this.syntax=(0,core.input)(),this._story=!1,this.disabled=(0,core.input)(!1,{transform:core.booleanAttribute}),this.opened=(0,core.input)(!1,{transform:core.booleanAttribute}),this.drawerOpened=(0,core.model)(!1),this.calculatedMemberSearch=new fesm2022_forms.NI(""),this.fnSearchControl=new fesm2022_forms.NI(null),this.statement=new fesm2022_forms.NI(null),this.calculations=[],this.calculations$=(0,rxjs_interop.Dx)(this.entityType).pipe((0,map.U)(src.GSp),(0,map.U)((values=>[...(0,sortBy.Z)(values.filter((0,negate.Z)(src.sT)),"calculationType"),...values.filter(src.sT)])),(0,combineLatestWith.V)(this.calculatedMemberSearch.valueChanges.pipe((0,startWith.O)(""))),(0,map.U)((([values,search])=>values.filter((v=>v.caption?.toLowerCase().includes(search.toLowerCase())||v.name.toLowerCase().includes(search.toLowerCase())))))),this.parameters$=(0,rxjs_interop.Dx)(this.entityType).pipe((0,map.U)(src.fOg)),this.functions$=(0,of.of)((0,sortBy.Z)(FUNCTIONS,"label")).pipe((0,switchMap.w)((functions=>this.fnSearchControl.valueChanges.pipe((0,startWith.O)(""),(0,map.U)((text=>(text=text?.trim().toLowerCase(),text?functions.filter((item=>item.label.toLowerCase().includes(text))):functions))))))),this.statementSub=this.statement.valueChanges.pipe((0,distinctUntilChanged.x)(),(0,filter.h)(src.vJr),(0,rxjs_interop.sL)()).subscribe((value=>{this._onChange?.(value)})),(0,core.effect)((()=>{this.opened()&&this.drawerOpened.set(this.opened())}),{allowSignalWrites:!0}),(0,core.effect)((()=>{this.disabled()?this.statement.disable():this.statement.enable()}))}writeValue(obj){this.statement.setValue(obj)}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){isDisabled?this.statement.disable():this.statement.enable()}toggleSideMenu(){this.drawerOpened.update((v=>!v))}openCreateParameter(parameter){var _this=this;return(0,asyncToGenerator.Z)((function*(){const result=yield(0,firstValueFrom.z)(_this._dialog.open(parameter_create_component.R,{viewContainerRef:_this._viewContainerRef,data:{dataSettings:_this.dataSettings(),entityType:_this.entityType(),dimension:{},name:parameter?.name}}).afterClosed());result&&console.debug(result)}))()}drop(event){"ngm-calculated-editor"===event.container.id&&("ngm-calculated-calculations"===event.previousContainer.id?this.editor.insert(`[${src.QPo}].[${event.item.data.name}]`):"ngm-calculated-parameters"===event.previousContainer.id?this.editor.insert(`[@${event.item.data.name}]`):"ngm-calculated-measure__entity-schema"===event.previousContainer.id?(0,src.mKs)(event.item.data)?this.editor.insert(`[${src.QPo}].[${event.item.data.name}]`):this.editor.insert(event.item.data.name):"string"==typeof event.item.data&&this.editor.insert(event.item.data))}openHelp(event){window.open("https://docs.microsoft.com/en-us/sql/mdx/mdx-function-reference-mdx","_blank")}}).ctorParameters=()=>[],_NgmCalculatedMeasureComponent.propDecorators={dsCoreService:[{type:core.Input,args:[{isSignal:!0,alias:"dsCoreService",required:!1,transform:void 0}]}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}],entityType:[{type:core.Input,args:[{isSignal:!0,alias:"entityType",required:!1,transform:void 0}]}],syntax:[{type:core.Input,args:[{isSignal:!0,alias:"syntax",required:!1,transform:void 0}]}],story:[{type:core.Input}],disabled:[{type:core.Input,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],opened:[{type:core.Input,args:[{isSignal:!0,alias:"opened",required:!1,transform:void 0}]}],editor:[{type:core.ViewChild,args:["editor"]}],drawerOpened:[{type:core.Input,args:[{isSignal:!0,alias:"drawerOpened",required:!1}]},{type:core.Output,args:["drawerOpenedChange"]}]},_NgmCalculatedMeasureComponent);NgmCalculatedMeasureComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,drag_drop._t,sidenav.SJ,tabs.Nh,icon.Ps,fesm2022_button.ot,list.ie,toolbar.g0,tooltip.AV,expansion.To,ngx_translate_core.aw,ngx_markdown.JP,core_module.A,common_module.N,resizer_module.w,property_component.lG,entity_schema_component.I,highlight_directive.t,NgmMDXEditorComponent],selector:"ngm-calculated-measure",template:'<mat-drawer-container class="flex flex-1" [hasBackdrop]="false" autosize>\n    <mat-drawer #drawer class="ngm-calculated-measure__drawer"\n        mode="side" position="end" ngmResizer [resizerWidth]="330"\n        [(opened)]="drawerOpened"\n        (openedChange)="$event?helper.realignInkBar():\'\'">\n        <mat-tab-group #helper class="ngm-calculated-measure__helpers" mat-stretch-tabs="false" >\n            <mat-tab [label]="\'Ngm.Calculation.DIMENSION_MEMBERS\' | translate: {Default: \'Dimension Members\'}"\n                id="ngm-calculated-measure__entity-schema"\n                cdkDropList\n                [cdkDropListData]="[]"\n            >\n                <ngm-entity-schema class="flex-1 max-w-full w-full"\n                    [dsCoreService]="dsCoreService()"\n                    [dataSettings]="dataSettings()"\n                    [capacities]="[\n                        EntityCapacity.Dimension,\n                        EntityCapacity.Measure\n                    ]">\n                </ngm-entity-schema>\n            </mat-tab>\n\n            <mat-tab [label]="\'Ngm.Calculation.CALCULATED_MEMBERS\' | translate: {Default: \'Calculated Members\'}">\n                <div class="max-w-full w-full flex flex-col justify-start items-stretch overflow-hidden">\n                    <ngm-search class="m-1" [formControl]="calculatedMemberSearch"></ngm-search>\n                    <mat-list role="list" class="flex-1 max-w-full w-full overflow-auto" displayDensity="cosy"\n                        id="ngm-calculated-calculations"\n                        cdkDropList\n                        [cdkDropListData]="calculations"\n                        (cdkDropListDropped)="drop($event)"\n                        >\n                        <mat-list-item role="listitem" *ngFor="let property of calculations$ | async" class="hover:bg-neutral-100 dark:hover:bg-neutral-800"\n                            cdkDrag\n                            [cdkDragData]="property"\n                        >\n                            <ngm-entity-property class="flex-1" [property]="property"></ngm-entity-property> \x3c!-- [highlight]="calculatedMemberHighlight" --\x3e\n                            <div *cdkDragPlaceholder></div>\n                        </mat-list-item>\n                    </mat-list>\n                </div>\n\n            </mat-tab>\n\n            <mat-tab *ngIf="story" [label]="\'Ngm.Calculation.PARAMETERS\' | translate: {Default: \'Parameters\'}">\n                <ng-template matTabContent>\n                    <div class="w-full flex flex-col justify-start items-stretch p-4">\n                        <button mat-button displayDensity="cosy" ngmAppearance="dashed" (click)="openCreateParameter()">\n                            <div class="flex justify-center items-center">\n                                <mat-icon fontSet="material-icons-round">add</mat-icon>\n                                {{ \'Ngm.Calculation.PARAMETERS\' | translate: {Default: \'Parameters\'} }}\n                            </div>\n                        </button>\n    \n                        <mat-list role="list" displayDensity="compact"\n                            id="ngm-calculated-parameters"\n                            cdkDropList\n                            [cdkDropListData]="calculations"\n                        >\n                            <mat-list-item role="listitem" *ngFor="let property of parameters$ | async" class="rounded-lg overflow-hidden hover:bg-gray-100"\n                                cdkDrag\n                                [cdkDragData]="property"\n                            >\n                                <div class="flex justify-between items-center">\n                                    <ngm-entity-property class="flex-1" [property]="property"></ngm-entity-property>\n                                    <button mat-icon-button class="ngm-calculated-measure__parameter-edit" (click)="openCreateParameter(property)">\n                                        <mat-icon fontSet="material-icons-round">edit</mat-icon>\n                                    </button>\n                                </div>\n\n                                <div *cdkDragPlaceholder></div>\n                            </mat-list-item>\n                        </mat-list>\n                    </div>\n\n                </ng-template>\n            </mat-tab>\n\n            <mat-tab [label]="\'Ngm.Calculation.Formulas\' | translate: {Default: \'Formulas\'}">\n                <ng-template matTabContent>\n                    <div class="flex-1 flex flex-col justify-start items-stretch overflow-auto">\n                        <ngm-search class="p-2" [formControl]="fnSearchControl"></ngm-search>\n                  \n                        <mat-accordion cdkDropList\n                          [cdkDropListData]="FUNCTIONS">\n                          <mat-expansion-panel hideToggle *ngFor="let f of functions$ | async" class="mat-elevation-z" style="background: transparent">\n                              <mat-expansion-panel-header>\n                                  <mat-panel-title cdkDrag\n                                      [cdkDragData]="f.insertText">\n                                      <span [ngmHighlight]="fnHighlight" [caseSensitive]="false" customClasses="bg-transparent font-semibold text-amber-500"\n                                          [content]="f.label">\n                                      </span>\n                                  </mat-panel-title>\n                              </mat-expansion-panel-header>\n                  \n                              <ng-template matExpansionPanelContent>\n                                <div class="my-2 text-xs font-mono italic">\n                                  {{f.expression}}\n                                </div>\n                                <markdown [textContent]="f.documentation" class=""></markdown>\n                              </ng-template>\n                          </mat-expansion-panel>\n                        </mat-accordion>\n                          \n                      </div>\n                </ng-template>\n            </mat-tab>\n        </mat-tab-group>\n\n        <div ngmResizerBar resizerBarPosition="left" style="z-index: 1;" class="absolute top-0"\n            cdkDrag\n            cdkDragLockAxis="x"\n        ></div>\n    </mat-drawer>\n\n    <mat-drawer-content class="flex flex-col justify-between items-stretch">\n\n        <div class="py-1 px-2 flex justify-between items-center">\n           <span class="text-lg font-medium">\n            {{ \'Ngm.Calculation.EDIT_FORMULA\' | translate: {Default: "Edit Formula"} }}\n           </span>\n\n           <div class="flex justify-around items-center gap-2" displayDensity="cosy">\n             <button mat-icon-button (click)="toggleSideMenu()"\n                [matTooltip]="\'Ngm.Calculation.ToggleSidebar\' | translate: {Default: \'Toggle Sidebar\'}"\n             >\n                <mat-icon fontSet="material-icons-outlined">view_sidebar</mat-icon>\n             </button>\n           </div>\n        </div>\n\n        @if (syntax()===Syntax.MDX) {\n            <ngm-mdx-editor #editor class="ngm-calculated-measure__monaco-editor flex-1"\n                id="ngm-calculated-editor"\n                cdkDropList\n                [cdkDropListData]="calculations"\n                (cdkDropListDropped)="drop($event)"\n                [entityType]="entityType()"\n                [formControl]="statement"\n                />\n        } @else if (syntax()===Syntax.SQL) {\n            \x3c!-- <ngm-editor-sql class="ngm-calculated-measure__monaco-editor flex-1"\n                id="ngm-calculated-editor"\n                cdkDropList\n                [cdkDropListData]="calculations"\n                (cdkDropListDropped)="drop($event)"\n                [entityType]="entityType()"\n                [formControl]="statement"\n            >\n            </ngm-editor-sql> --\x3e\n        }\n\n        <ngm-drawer-trigger class="absolute -right-2 top-1/2 -translate-y-1/2 z-40" [(opened)]="drawerOpened" side="right"\n            [matTooltip]="\'Ngm.Calculation.ToggleSidebar\' | translate: {Default: \'Toggle Sidebar\'}"/>\n    </mat-drawer-content>\n</mat-drawer-container>\n',host:{class:"ngm-calculated-measure"},providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmCalculatedMeasureComponent))}],styles:[calculated_measure_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmCalculatedMeasureComponent);var calculation_editor_componentngResource=__webpack_require__("./packages/angular/entity/calculation-editor/calculation-editor.component.scss?ngResource"),calculation_editor_componentngResource_default=__webpack_require__.n(calculation_editor_componentngResource),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),fesm2022_radio=__webpack_require__("./node_modules/@angular/material/fesm2022/radio.mjs"),fesm2022_select=__webpack_require__("./node_modules/@angular/material/fesm2022/select.mjs"),core_service=__webpack_require__("./packages/angular/core/core.service.ts"),empty=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js");var _NgmCalculationVarianceComponent,variance_componentngResource=__webpack_require__("./packages/angular/entity/calculation-variance/variance.component.scss?ngResource"),variance_componentngResource_default=__webpack_require__.n(variance_componentngResource),entity_types=__webpack_require__("./packages/angular/entity/types.ts"),property_select_component=__webpack_require__("./packages/angular/entity/property-select/property-select.component.ts"),member_select_component=__webpack_require__("./packages/angular/entity/compare-member-select/member-select.component.ts"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs");let NgmCalculationVarianceComponent=((_NgmCalculationVarianceComponent=class NgmCalculationVarianceComponent{constructor(){this.PropertyCapacity=entity_types.F,this.COMPARE_TO_ENUM=src.rux,this.formBuilder=(0,core.inject)(fesm2022_forms.qu),this.formGroup=this.formBuilder.group({measure:[null,fesm2022_forms.kI.required],baseDimension:[null,fesm2022_forms.kI.required],compareA:null,toB:null,asZero:null,asPercentage:null,directDivide:null,absBaseValue:null,divideBy:null}),this.valueSub=this.formGroup.valueChanges.subscribe((value=>{this._onChange?.(value)}))}get asPercentage(){return this.formGroup.value.asPercentage}get directDivide(){return this.formGroup.value.directDivide}get baseDimension(){return this.formGroup.value.baseDimension}get divideBy(){return this.formGroup.value.divideBy}get absBaseValue(){return this.formGroup.value.absBaseValue}get expression(){if(this.asPercentage){let divideBy=this.divideBy||"B";return this.absBaseValue&&(divideBy=`abs(${divideBy})`),this.directDivide?`A / ${divideBy}`:`(A - B) / ${divideBy}`}return"(A - B)"}writeValue(obj){this.formGroup.patchValue(obj||{})}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){}}).propDecorators={dsCoreService:[{type:core.Input}],dataSettings:[{type:core.Input}],entityType:[{type:core.Input}]},_NgmCalculationVarianceComponent);NgmCalculationVarianceComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,ngx_translate_core.aw,form_field.lN,fesm2022_select.LD,fesm2022_checkbox.p9,property_select_component.$,member_select_component.z],selector:"ngm-calculation-variance",template:'<div class="text-lg font-medium mb-4"> {{ \'Ngm.Calculation.VARIANCE_MEASURE\' | translate: {Default: "Variance Measure"} }} </div>\n\n<form [formGroup]="formGroup" class="flex flex-col justify-start items-stretch">\n\n    <div class="flex justify-between items-center gap-4">\n        <ngm-property-select class="flex-1 w-5/12" displayDensity="compact"\n            [label]=" \'Ngm.Calculation.Measure\' | translate: {Default: \'Measure\'} "\n            [dsCoreService]="dsCoreService"\n            [dataSettings]="dataSettings"\n            [entityType]="entityType"\n            [capacities]="[PropertyCapacity.Measure]"\n            [editable]="false"\n            formControlName="measure"\n        >\n        </ngm-property-select>\n\n        <ngm-property-select class="flex-1 w-5/12" displayDensity="compact"\n            [label]=" \'Ngm.Calculation.BaseDimension\' | translate: {Default: \'Base Dimension\'} "\n            [dsCoreService]="dsCoreService"\n            [dataSettings]="dataSettings"\n            [entityType]="entityType"\n            [capacities]="[PropertyCapacity.Dimension]"\n            [editable]="false"\n            formControlName="baseDimension"\n        >\n        </ngm-property-select>\n    </div>\n\n    <div class="text-base my-2">{{expression}}</div>\n\n    <ngm-compare-member-select label="{{ \'Ngm.Calculation.Compare\' | translate: {Default: \'Compare\'} }} (A)"\n        [dataSettings]="dataSettings"\n        [entityType]="entityType"\n        [dimension]="baseDimension"\n        formControlName="compareA"\n    />\n\n    <ngm-compare-member-select label="{{ \'Ngm.Calculation.To\' | translate: {Default: \'To\'} }} (B)"\n        [dataSettings]="dataSettings"\n        [entityType]="entityType"\n        [dimension]="baseDimension"\n        formControlName="toB"\n    />\n\n    <mat-checkbox formControlName="asZero" class="my-2">\n        {{ \'Ngm.Calculation.SetNoDataasZero\' | translate: {Default: "Set No Data as Zero"} }}\n    </mat-checkbox>\n\n    <mat-checkbox formControlName="asPercentage" class="my-2">\n        {{ \'Ngm.Calculation.CalculateasPercentage\' | translate: {Default: "Calculate as Percentage"} }}\n    </mat-checkbox>\n\n    <mat-checkbox formControlName="directDivide" class="my-2">\n        {{ \'Ngm.Calculation.DirectDivide\' | translate: {Default: "Direct Divide"} }}\n    </mat-checkbox>\n\n    <div *ngIf="asPercentage && !directDivide" class="flex justify-between items-center">\n        <mat-checkbox formControlName="absBaseValue">\n            {{ \'Ngm.Calculation.AbsoluteBaseValue\' | translate: {Default: "Absolute Base Value"} }}\n        </mat-checkbox>\n        <mat-form-field appearance="fill" class="w-5/12">\n            <mat-label>{{ \'Ngm.Calculation.DivideBy\' | translate: {Default: "Divide By"} }}</mat-label>\n            <mat-select formControlName="divideBy">\n              <mat-option value="A">\n                {{ \'Ngm.Calculation.CompareValueA\' | translate: {Default: "Compare Value (A)"} }}\n              </mat-option>\n              <mat-option value="B">{{ \'Ngm.Calculation.ToValueB\' | translate: {Default: "To Value (B)"} }}\n              </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n\n</form>\n',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmCalculationVarianceComponent))}],styles:[variance_componentngResource_default()]})],NgmCalculationVarianceComponent);var conditional_aggregation_componentngResource=__webpack_require__("./packages/angular/entity/conditional-aggregation/conditional-aggregation.component.scss?ngResource"),conditional_aggregation_componentngResource_default=__webpack_require__.n(conditional_aggregation_componentngResource),parameter_select_component=__webpack_require__("./packages/angular/parameter/parameter-select/parameter-select.component.ts"),measure_select_component=__webpack_require__("./packages/angular/entity/measure-select/measure-select.component.ts");var _NgmPropertyArrayComponent,property_array_componentngResource=__webpack_require__("./packages/angular/entity/property-array/property-array.component.scss?ngResource"),property_array_componentngResource_default=__webpack_require__.n(property_array_componentngResource);let NgmPropertyArrayComponent=((_NgmPropertyArrayComponent=class NgmPropertyArrayComponent{constructor(){this.formBuilder=(0,core.inject)(fesm2022_forms.qu),this._cdr=(0,core.inject)(core.ChangeDetectorRef),this.formArray=this.formBuilder.array([]),this.valueSub=this.formArray.valueChanges.pipe((0,filter.h)((value=>!(0,src.xbD)(value))),(0,rxjs_interop.sL)()).subscribe((value=>{this.onChange?.(value)}))}get isEmpty(){return!this.formArray.length}writeValue(obj){this.setValue(obj??[])}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){isDisabled?this.formArray.disable():this.formArray.enable()}create(item){return this.formBuilder.control(item||{dimension:null,members:[]})}add(){this.formArray.push(this.create())}remove(i){this.formArray.removeAt(i)}setValue(dimensions){this.formArray.reset(),dimensions?.forEach((dimension=>{this.formArray.push(this.create(dimension))})),this._cdr.detectChanges()}drop(event){(0,drag_drop.bA)(this.formArray.controls,event.previousIndex,event.currentIndex)}}).propDecorators={dataSettings:[{type:core.Input}],entityType:[{type:core.Input}],dsCoreService:[{type:core.Input}],capacities:[{type:core.Input}],isEmpty:[{type:core.HostBinding,args:["class.ngm-property-array__empty"]}]},_NgmPropertyArrayComponent);var _NgmConditionalAggregationComponent;NgmPropertyArrayComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-property-array",template:'<div class="ngm-property-array__container flex flex-col justify-start items-stretch"\n  cdkDropList\n  (cdkDropListDropped)="drop($event)"\n>\n\n  @if (isEmpty) {\n    <button mat-button color="primary" ngmAppearance="dashed" (click)="add()">\n      <mat-icon fontSet="material-icons-round">playlist_add</mat-icon>\n      {{ \'Ngm.Property.ADD_DIMENSION\' | translate: {Default: \'Add Dimension\'} }}\n    </button>\n  }\n\n  @for (item of formArray.controls; track i; let i = $index;) {\n    <ngm-property-select class="group" cdkDragBoundary=".ngm-property-array__container" cdkDrag\n      [formControl]="$any(item)"\n      [dataSettings]="dataSettings"\n      [entityType]="entityType"\n      [dsCoreService]="dsCoreService"\n      [capacities]="capacities"\n    >\n      <mat-icon ngmPrefix cdkDragHandle>drag_indicator</mat-icon>\n\n      <button ngmSuffix mat-icon-button color="warn" class="opacity-0 group-hover:opacity-100" displayDensity="compact"\n        (click)="remove(i); $event.stopPropagation(); $event.preventDefault()">\n        <mat-icon>clear</mat-icon>\n      </button>\n\n    </ngm-property-select>\n  }\n</div>\n\n@if (!isEmpty) {\n  <button class="add" mat-button color="primary" ngmAppearance="dashed" (click)="add()">\n    <mat-icon fontSet="material-icons-round">playlist_add</mat-icon>\n    {{ \'Ngm.Property.ADD_DIMENSION\' | translate: {Default: \'Add Dimension\'} }}\n  </button>\n}',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmPropertyArrayComponent))}],imports:[common.CommonModule,fesm2022_forms.UX,icon.Ps,fesm2022_button.ot,drag_drop._t,ngx_translate_core.aw,common_module.N,property_select_component.$],styles:[property_array_componentngResource_default()]})],NgmPropertyArrayComponent);let NgmConditionalAggregationComponent=((_NgmConditionalAggregationComponent=class NgmConditionalAggregationComponent{constructor(){this.DISPLAY_BEHAVIOUR=src.CXV,this.AggregationOperation=src.YB8,this.PropertyCapacity=entity_types.F,this.formBuilder=(0,core.inject)(fesm2022_forms.qu),this.OPERATIONS=[{value:src.YB8.SUM,label:"Sum"},{value:src.YB8.COUNT,label:"Count"},{value:src.YB8.MIN,label:"Min"},{value:src.YB8.MAX,label:"Max"},{value:src.YB8.AVERAGE,label:"Average"},{value:src.YB8.STDEV,label:"Standard Deviation"},{value:src.YB8.STDEVP,label:"Population Standard Deviation"},{value:src.YB8.MEDIAN,label:"Median"},{value:src.YB8.TOP_PERCENT,label:"Top Percent"},{value:src.YB8.TOP_COUNT,label:"Top Count"}],this.entityType$=(0,core.signal)(null),this.useConditional=!1,this.filterMeasure=measure=>!!(0,src.kKJ)(this.formGroup?.value?.name)||measure.name!==this.formGroup.value.name,this.measures$=(0,core.computed)((()=>(0,sortBy.Z)((0,src.wqS)(this.entityType).filter((property=>(0,src.tkI)(src.sT)(property))),"calculationType").reverse()))}get entityType(){return this.entityType$()}set entityType(value){this.entityType$.set(value)}ngOnInit(){this.measures=(0,src.wqS)(this.entityType),this.formGroup=this.formBuilder.group({name:null,operation:null,value:null,measure:this.formBuilder.control(null,[fesm2022_forms.kI.required]),aggregationDimensions:null,useConditionalAggregation:null,conditionalDimensions:null,excludeConditions:null}),this.formGroup.valueChanges.subscribe((value=>{this._onChange?.(value)}))}writeValue(obj){this.formGroup.patchValue(obj||{})}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){}}).propDecorators={dataSettings:[{type:core.Input}],entityType:[{type:core.Input}],dsCoreService:[{type:core.Input}]},_NgmConditionalAggregationComponent);NgmConditionalAggregationComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,selector:"ngm-conditional-aggregation",template:'<div class="text-lg font-medium mb-4"> {{ \'Ngm.Calculation.ConditionalAggregation\' | translate: {Default: "Conditional Aggregation"} }} </div>\n\n<form [formGroup]="formGroup" class="flex flex-col justify-start items-stretch" displayDensity="cosy">\n  <div class="flex items-start gap-4">\n    <ngm-select class="ngm-calculation__form-field flex-1" [label]="\'Ngm.Calculation.OPERATION\' | translate: {Default: \'Operation\'}"\n      displayDensity="cosy"\n      formControlName="operation"\n      [selectOptions]="OPERATIONS"\n    ></ngm-select>\n\n    <ngm-parameter-select *ngIf="formGroup.value.operation === AggregationOperation.TOP_PERCENT || formGroup.value.operation === AggregationOperation.TOP_COUNT"\n      class="flex-1"\n      displayDensity="cosy"\n      [label]=" \'Ngm.Calculation.VALUE\' | translate: {Default: \'Value\'} "\n      [dataSettings]="dataSettings"\n      [entityType]="entityType"\n      formControlName="value"\n    >\n    </ngm-parameter-select>\n\n  </div>\n\n  \x3c!-- <ngm-select class="pt-4" formControlName="measure" label="{{ \'Ngm.Calculation.Measure\' | translate: {Default: \'Measure\'} }}"\n    formControlName="measure"\n    [selectOptions]="measures$()"\n  ></ngm-select> --\x3e\n\n  <ngm-measure-select class="pt-4" formControlName="measure" label="{{ \'Ngm.Calculation.Measure\' | translate: {Default: \'Measure\'} }}"\n    [dataSettings]="dataSettings"\n    [filter]="filterMeasure"\n    [error]="formGroup.get(\'measure\').hasError(\'required\') ? (\'Ngm.Calculation.MeasureIsRequired\' | translate: {Default: \'Measure is required\'}) : null"\n  />\n\n  <div class="text-base my-4">{{ \'Ngm.Calculation.AGGREGATION_DIMENSIONS\' | translate: {Default: "Aggregation Dimensions"} }}</div>\n  <ngm-property-array class="ngm-conditional-aggregation__dimensions"\n    formControlName="aggregationDimensions"\n    [dataSettings]="dataSettings"\n    [entityType]="entityType"\n    [capacities]="[PropertyCapacity.Dimension]"\n  ></ngm-property-array>\n\n  <mat-checkbox formControlName="useConditionalAggregation" class="my-2">\n    {{ \'Ngm.Calculation.UseConditionalAggregation\' | translate: {Default: "Use Conditional Aggregation"} }}\n  </mat-checkbox>\n\n  <div *ngIf="formGroup.value.useConditionalAggregation" class="ngm-conditional-aggregation__conditions flex flex-col justify-start items-stretch">\n    <div class="ngm-calculation__form-row">\n        <mat-checkbox formControlName="excludeConditions">\n          {{ \'Ngm.Calculation.ExcludeConditions\' | translate: {Default: "Exclude Conditions"} }}\n        </mat-checkbox>\n    </div>\n\n    <div class="text-base my-4">\n      {{ \'Ngm.Calculation.ConditionalDimensions\' | translate: {Default: "Conditional Dimensions"} }}\n    </div>\n    <ngm-property-array class="w-full"\n      formControlName="conditionalDimensions"\n      [dataSettings]="dataSettings"\n      [entityType]="entityType"\n      [dsCoreService]="dsCoreService"\n      [capacities]="[PropertyCapacity.Dimension]"\n    ></ngm-property-array>\n\n  </div>\n    \n</form>\n',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmConditionalAggregationComponent))}],imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,fesm2022_checkbox.p9,ngx_translate_core.aw,common_module.N,parameter_select_component.n,measure_select_component.Y,NgmPropertyArrayComponent],styles:[conditional_aggregation_componentngResource_default()]})],NgmConditionalAggregationComponent);var _NgmMeasureControlComponent,measure_control_component=__webpack_require__("./packages/angular/entity/measure-control/measure-control.component.ts.css?ngResource!=!./node_modules/@angular-devkit/build-angular/node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAgIC5tYXQtc2VsZWN0aW9uLWxpc3QgewogICAgICAgIG1heC1oZWlnaHQ6IDEwMCU7CiAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgfQogICAgICAubmdtLWNka19fZHJhZy1saXN0IHsKICAgICAgICAmLmNkay1kcm9wLWxpc3QtZHJhZ2dpbmcgLmNkay1kcmFnOm5vdCguY2RrLWRyYWctcGxhY2Vob2xkZXIpIHsKICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIA%3D%3D!./packages/angular/entity/measure-control/measure-control.component.ts"),measure_control_component_default=__webpack_require__.n(measure_control_component);let NgmMeasureControlComponent=((_NgmMeasureControlComponent=class NgmMeasureControlComponent{get entityType(){return this.entityType$.value}set entityType(value){this.entityType$.next(value)}get measures(){return this.formGroup.get("availableMembers")}get displayBehaviour(){return this.formGroup.get("displayBehaviour")}constructor(formBuilder){this.formBuilder=formBuilder,this.DISPLAY_BEHAVIOUR=src.CXV,this.entityType$=new BehaviorSubject.X(null),this.measures$=new BehaviorSubject.X([]),this.formGroup=this.formBuilder.group({displayBehaviour:src.CXV.descriptionAndId,allMeasures:null,availableMembers:[],value:null}),this.selectedMeasures=[],this.entityType$.pipe((0,map.U)((entityType=>(0,src.wqS)(entityType).filter((property=>!(0,src.UE_)(property))).sort(((a,b)=>b.calculationType===src.eNW.Indicator?-1:a.calculationType===src.eNW.Indicator||a.calculationType>b.calculationType?1:-1))))).subscribe(this.measures$),this.formGroup.valueChanges.subscribe((value=>{this._onChange?.(value)}))}writeValue(obj){obj&&(this.formGroup.patchValue(obj),this.selectedMeasures=obj.availableMembers?.map((member=>member.value)))}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){}drop(event){(0,drag_drop.bA)(this.measures$.value,event.previousIndex,event.currentIndex),this.measures$.next(this.measures$.value),this.onSelectionChange()}onSelectionChange(event){this.measures.setValue(this.measures$.value.filter((property=>this.selectedMeasures.includes(property.name))).map((property=>({value:property.name,label:property.caption}))))}}).ctorParameters=()=>[{type:fesm2022_forms.qu}],_NgmMeasureControlComponent.propDecorators={entityType:[{type:core.Input}]},_NgmMeasureControlComponent);NgmMeasureControlComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,ngx_translate_core.aw,drag_drop._t,form_field.lN,fesm2022_select.LD,list.ie,property_component.lG],selector:"ngm-measure-control",template:'<div class="text-lg font-medium mb-4"> {{ \'Ngm.Calculation.MEASURE_CONTROL\' | translate: {Default: "Measure Control"} }} </div>\n\n<div>\n  <mat-form-field appearance="fill">\n      <mat-label>\n        {{ \'Ngm.Common.DisplayBehaviour\' | translate: {Default: \'Display Behaviour\'} }}\n      </mat-label>\n      <mat-select [formControl]="displayBehaviour">\n          <mat-option [value]="DISPLAY_BEHAVIOUR.descriptionOnly">\n            {{ \'Ngm.Common.DisplayBehaviour_Description\' | translate: {Default: \'Description\'} }}\n          </mat-option>\n          <mat-option [value]="DISPLAY_BEHAVIOUR.descriptionAndId">\n            {{ \'Ngm.Common.DisplayBehaviour_DescriptionID\' | translate: {Default: \'Description ID\'} }}\n          </mat-option>\n          <mat-option [value]="DISPLAY_BEHAVIOUR.idAndDescription">\n            {{ \'Ngm.Common.DisplayBehaviour_IDDescription\' | translate: {Default: \'ID Description\'} }}\n          </mat-option>\n          <mat-option [value]="DISPLAY_BEHAVIOUR.idOnly">\n            {{ \'Ngm.Common.DisplayBehaviour_IDOnly\' | translate: {Default: \'ID Only\'} }}\n          </mat-option>\n          <mat-option >\n            {{ \'Ngm.Common.DisplayBehaviour_Auto\' | translate: {Default: \'Auto\'} }}\n          </mat-option>\n        </mat-select>\n  </mat-form-field>\n</div>\n\n<div class="text-base my-4">\n  {{ \'Ngm.Calculation.MeasureSelectOptions\' | translate: {Default: \'Measure Select Options\'} }}\n</div>\n<mat-selection-list displayDensity="cosy" cdkDropList (cdkDropListDropped)="drop($event)" class="ngm-cdk__drag-list"\n  [(ngModel)]="selectedMeasures"\n  (selectionChange)="onSelectionChange($event)">\n    <mat-list-option *ngFor="let measure of measures$ | async" [value]="measure.name"\n      cdkDrag cdkDragBoundary=".ngm-cdk__drag-list">\n      <ngm-entity-property [property]="measure" [displayBehaviour]="displayBehaviour.value"></ngm-entity-property>\n    </mat-list-option>\n</mat-selection-list>\n',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmMeasureControlComponent))}],styles:[measure_control_component_default()]}),(0,tslib_es6.w6)("design:paramtypes",[fesm2022_forms.qu])],NgmMeasureControlComponent);var _NgmRestrictedMeasureComponent,restricted_measure_componentngResource=__webpack_require__("./packages/angular/entity/restricted-measure/restricted-measure.component.scss?ngResource"),restricted_measure_componentngResource_default=__webpack_require__.n(restricted_measure_componentngResource),slide_toggle=__webpack_require__("./node_modules/@angular/material/fesm2022/slide-toggle.mjs");let NgmRestrictedMeasureComponent=((_NgmRestrictedMeasureComponent=class NgmRestrictedMeasureComponent{get entityType(){return this.entityType$.value}set entityType(value){this.entityType$.next(value)}get measure(){return this.formGroup.get("measure")}constructor(formBuilder){this.formBuilder=formBuilder,this.DISPLAY_BEHAVIOUR=src.CXV,this.PropertyCapacity=entity_types.F,this.entityType$=new BehaviorSubject.X(null),this.measures$=this.entityType$.pipe((0,map.U)(src.wqS),(0,map.U)((measures=>measures.filter((property=>(0,src.tkI)(src.sT)(property))))),(0,map.U)((measures=>(0,sortBy.Z)(measures,"calculationType").reverse()))),this.filterMeasure=measure=>!!(0,src.kKJ)(this.formGroup?.value?.name)||measure.name!==this.formGroup.value.name}ngOnInit(){this.formGroup=this.formBuilder.group({name:null,measure:this.formBuilder.control(null,[fesm2022_forms.kI.required]),dimensions:null,enableConstantSelection:null}),this.formGroup.valueChanges.subscribe((value=>{this._onChange?.(value)}))}writeValue(obj){obj&&this.formGroup.patchValue(obj)}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){this.disabled=isDisabled}validate(control){return control.value&&(0,src.kKJ)(control.value.measure)?{required:!0}:null}registerOnValidatorChange(fn){}}).ctorParameters=()=>[{type:fesm2022_forms.qu}],_NgmRestrictedMeasureComponent.propDecorators={disabled:[{type:core.Input}],dataSettings:[{type:core.Input}],entityType:[{type:core.Input}]},_NgmRestrictedMeasureComponent);var _NgmCalculationEditorComponent,_syntax;NgmRestrictedMeasureComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,selector:"ngm-restricted-measure",template:'<form [formGroup]="formGroup" class="w-full flex flex-col justify-start items-stretch" displayDensity="cosy">\n\n  <div class="text-lg font-medium mb-4"> {{ \'Ngm.Calculation.RESTRICTED_MEASURE\' | translate: {Default: "Restricted Measure"} }} </div>\n  <ngm-measure-select searchable formControlName="measure" class="self-stretch" [label]="\'Ngm.Calculation.Measure\' | translate: {Default: \'Measure\'}"\n    [placeholder]=" \'Ngm.Calculation.MeasureSelectPlaceholder\' | translate: {Default: \'select or create a measure\'} "\n    [dataSettings]="dataSettings"\n    [filter]="filterMeasure"\n    [error]="formGroup.get(\'measure\').hasError(\'required\') ? (\'Ngm.Calculation.MeasureIsRequired\' | translate: {Default: \'Measure is required\'}) : null"\n  >\n  </ngm-measure-select>\n\n  <div class="text-base font-medium my-4"> {{ \'Ngm.Calculation.RestrictiveConditions\' | translate: {Default: "Restrictive Conditions"} }} </div>\n  <ngm-property-array class="ngm-calculation__dimensions"\n    formControlName="dimensions"\n    [dataSettings]="dataSettings"\n    [entityType]="entityType$ | async"\n    [capacities]="[PropertyCapacity.Dimension]"\n  ></ngm-property-array>\n  \n  <mat-slide-toggle formControlName="enableConstantSelection" class="my-4"\n    [matTooltip]=" \'Ngm.Calculation.ConstantSelectionTootip\' | translate: {Default: \'Lock down restrictive conditions dimension members so that they will not be overwritten by the user\\\'s context slicers.\'} ">\n    {{ \'Ngm.Calculation.ENABLE_CONSTANT_SELECTION\' | translate: {Default: "Enable Constant Selection"} }}\n  </mat-slide-toggle>\n\n</form>\n',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmRestrictedMeasureComponent))},{provide:fesm2022_forms.Cf,useExisting:NgmRestrictedMeasureComponent,multi:!0}],imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,ngx_translate_core.aw,slide_toggle.rP,tooltip.AV,core_module.A,measure_select_component.Y,NgmPropertyArrayComponent],styles:[restricted_measure_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[fesm2022_forms.qu])],NgmRestrictedMeasureComponent);let NgmCalculationEditorComponent=(_syntax=new WeakMap,(_NgmCalculationEditorComponent=class NgmCalculationEditorComponent{constructor(){(0,classPrivateFieldInitSpec.Z)(this,_syntax,void 0),this.CALCULATION_TYPE=src.eNW,this.SYNTAX=src.GYg,this.destroyRef=(0,core.inject)(core.DestroyRef),this.fb=(0,core.inject)(fesm2022_forms.qu),this.dsCoreService=(0,core.inject)(core_service.q,{optional:!0}),this.dialogRef=(0,core.inject)(dialog.so,{optional:!0}),this.data=(0,core.inject)(dialog.WI,{optional:!0}),this.appearance=(0,core.input)("fill"),this.dataSettings=(0,core.input)(),this.value=(0,core.input)(),this.apply=(0,core.output)(),(0,classPrivateFieldSet2.Z)(_syntax,this,(0,core.signal)(null)),this._dataSettings=(0,core.signal)(null),this.entityType=(0,core.signal)(null),this.entitySyntax=(0,core.computed)((()=>(0,classPrivateFieldGet2.Z)(_syntax,this).call(this)??this.entityType()?.syntax)),this.formGroup=this.fb.group({__id__:(0,src.VjN)(),calculationType:[src.eNW.Calculated,fesm2022_forms.kI.required],name:["",[fesm2022_forms.kI.required,this.forbiddenNameValidator()]],caption:[""],formatting:this.fb.group({unit:[null],decimal:[null]})}),this.calculationType=this.formGroup.get("calculationType"),this.name=this.formGroup.get("name"),this.caption=this.formGroup.get("caption"),this.unit=this.formGroup.get("formatting").get("unit"),this.calculation=new fesm2022_forms.NI,this.formula=new fesm2022_forms.NI,this.entityTypeSub=(0,rxjs_interop.Dx)(this._dataSettings).pipe((0,filter.h)(src.vJr),(0,switchMap.w)((dataSettings=>this.dsCoreService?.getDataSource(dataSettings.dataSource).pipe((0,switchMap.w)((dataSource=>dataSource.selectEntityType(dataSettings.entitySet).pipe((0,filter.h)(src.OCY)))))??empty.E)),(0,rxjs_interop.sL)()).subscribe((entityType=>this.entityType.set(entityType))),this.data?.dsCoreService&&(this.dsCoreService=this.data?.dsCoreService),(0,core.effect)((()=>{this.dataSettings()&&this._dataSettings.set(this.dataSettings())}),{allowSignalWrites:!0}),(0,core.effect)((()=>{this.value()&&this.initValue(this.value())}))}ngOnInit(){this.data&&(this._dataSettings.set(this.data.dataSettings),(0,classPrivateFieldGet2.Z)(_syntax,this).set(this.data.syntax)),this.data?.value&&this.initValue(this.data.value)}initValue(value){this.disableSelect=!0,this.formGroup.get("calculationType").disable(),this.formGroup.get("name").disable(),this.formGroup.patchValue(value),this.formGroup.markAsPristine(),this.calculation.setValue({...value}),this.calculation.markAsPristine(),this.formula.setValue(value.formula),this.formula.markAsPristine()}onApply(){const property={...this.calculation.value,...this.formGroup.value,calculationType:this.calculationType.value,formula:this.calculationType.value===src.eNW.Calculated?this.formula.value:null,name:this.name.value,visible:!0};this.dialogRef?.close(property),this.apply.emit(property)}onCancel(){this.dialogRef?.close(),this.apply.emit(null)}forbiddenNameValidator(){return control=>!this.disableSelect&&this.entityType()?.properties&&!!Object.values(this.entityType().properties).find((item=>item.name===control.value))?{forbiddenName:{value:control.value}}:null}}).ctorParameters=()=>[],_NgmCalculationEditorComponent.propDecorators={appearance:[{type:core.Input,args:[{isSignal:!0,alias:"appearance",required:!1,transform:void 0}]}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}],value:[{type:core.Input,args:[{isSignal:!0,alias:"value",required:!1,transform:void 0}]}],apply:[{type:core.Output,args:["apply"]}]},_NgmCalculationEditorComponent);NgmCalculationEditorComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.UX,ngx_translate_core.aw,drag_drop._t,form_field.lN,fesm2022_select.LD,icon.Ps,fesm2022_button.ot,fesm2022_radio.Fk,input.c,common_module.N,NgmCalculatedMeasureComponent,NgmCalculationVarianceComponent,NgmConditionalAggregationComponent,NgmRestrictedMeasureComponent,NgmMeasureControlComponent],selector:"ngm-calculation-editor",template:'<div class="flex-1 flex overflow-hidden">\n\n    <div class="ngm-theme-dark dark w-[300px] shrink-0 flex flex-col justify-start overflow-auto bg-bluegray-700 text-white p-4 group">\n        <div class="w-full flex justify-start items-center mb-2" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle\n            [cdkDragDisabled]="!dialogRef"\n        >\n          @if (dialogRef) {\n            <mat-icon displayDensity="cosy" class="-ml-2 opacity-0 group-hover:opacity-80">drag_indicator</mat-icon>\n          }\n            <span class="text-lg pointer-events-none">\n                {{ \'Ngm.Calculation.TITLE\' | translate: {Default: "Calculation Editor"} }}\n            </span>\n        </div>\n\n        <div class="flex flex-col justify-start items-stretch">\n            <mat-form-field appearance="fill" color="accent">\n                <mat-label>\n                    {{ \'Ngm.Calculation.Name\' | translate: {Default: "Name"} }}\n                </mat-label>\n                <input matInput [formControl]="name" required>\n                <mat-error *ngIf="name.invalid">\n                    {{ \'Ngm.Calculation.NameRequired\' | translate: {Default: "Name required or existed"} }}\n                </mat-error>\n            </mat-form-field>\n\n            <mat-form-field appearance="fill" color="accent">\n                <mat-label>\n                    {{ \'Ngm.Calculation.Caption\' | translate: {Default: "Caption"} }}\n                </mat-label>\n                <input matInput [formControl]="caption">\n            </mat-form-field>\n        </div>\n\n        <div class="flex-1 flex flex-col">\n            <label id="ngm-radio-group__label my-2">{{ \'Ngm.Calculation.TYPE\' | translate: {Default: "Type"} }}</label>\n            <mat-radio-group color="accent"\n                class="flex flex-col justify-start items-stretch mb-4"\n                [formControl]="calculationType">\n                <mat-radio-button [value]="CALCULATION_TYPE.Calculated" class="p-2 rounded-lg hover:bg-white/20">\n                    {{ \'Ngm.Calculation.CALCULATED_MEASURE\' | translate: {Default: "Calculated Measure"} }}\n                </mat-radio-button>\n                <mat-radio-button [value]="CALCULATION_TYPE.Restricted" [disabled]="entitySyntax()!==SYNTAX.MDX" class="p-2 rounded-lg hover:bg-white/20">\n                    {{ \'Ngm.Calculation.RESTRICTED_MEASURE\' | translate: {Default: "Restricted Measure"} }}\n                </mat-radio-button>\n                <mat-radio-button [value]="CALCULATION_TYPE.Variance" [disabled]="entitySyntax()!==SYNTAX.MDX" class="p-2 rounded-lg hover:bg-white/20">\n                    {{ \'Ngm.Calculation.VARIANCE_MEASURE\' | translate: {Default: "Variance Measure"} }}\n                </mat-radio-button>\n                <mat-radio-button [value]="CALCULATION_TYPE.Aggregation" [disabled]="entitySyntax()!==SYNTAX.MDX" class="p-2 rounded-lg hover:bg-white/20">\n                    {{ \'Ngm.Calculation.ConditionalAggregation\' | translate: {Default: "Conditional Aggregation"} }}\n                </mat-radio-button>\n                <mat-radio-button [value]="CALCULATION_TYPE.D2Measure" disabled class="p-2 rounded-lg hover:bg-white/20">\n                    {{ \'Ngm.Calculation.DIMENSION_TO_MEASURE\' | translate: {Default: "Dimension to Measure"} }}\n                </mat-radio-button>\n                <mat-radio-button [value]="CALCULATION_TYPE.MeasureControl" class="p-2 rounded-lg hover:bg-white/20">\n                    {{ \'Ngm.Calculation.MEASURE_CONTROL\' | translate: {Default: "Measure Control"} }}\n                </mat-radio-button>\n            </mat-radio-group>\n\n            <div *ngIf="calculationType.value === CALCULATION_TYPE.Calculated">\n                <mat-form-field class="w-full" appearance="fill" color="accent">\n                    <mat-label>\n                        {{ \'Ngm.Calculation.Unit\' | translate: {Default: "Unit"} }}\n                    </mat-label>\n                    <input matInput [formControl]="unit">\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class="flex justify-start">\n            <div ngmButtonGroup>\n                <button mat-raised-button color="accent" cdkFocusInitial [disabled]="formGroup.invalid ||\n                    calculation.invalid ||\n                    (formGroup.pristine && formula.pristine && calculation.pristine)"\n                    (click)="onApply()"\n                >\n                    {{ \'Ngm.Common.Apply\' | translate: {Default: \'Apply\'} }}\n                </button>\n                <button mat-button (click)="onCancel()">\n                    {{ \'Ngm.Common.Cancel\' | translate: {Default: \'Cancel\'} }}\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div class="mat-typography flex-1 flex flex-col justify-start items-stretch overflow-hidden" cdkDropListGroup>\n        @switch (calculationType.value) {\n            @case (CALCULATION_TYPE.Calculated) {\n                \x3c!--\n                    <ngm-calculation-sql *ngSwitchCase="SYNTAX.SQL"\n                    [dataSettings]="_dataSettings()"\n                    [entityType]="entityType()"\n                    [coreService]="coreService"\n                    [(ngModel)]="calculation"\n                >\n                </ngm-calculation-sql> --\x3e\n                <ngm-calculated-measure story class="max-w-full h-full"\n                    [dataSettings]="_dataSettings()"\n                    [entityType]="entityType()"\n                    [syntax]="entitySyntax()"\n                    [formControl]="formula"\n                    >\n                </ngm-calculated-measure>\n            }\n            @case (CALCULATION_TYPE.Restricted) {\n                <ngm-restricted-measure class="sub-calculation"\n                    [dataSettings]="_dataSettings()"\n                    [entityType]="entityType()"\n                    [formControl]="calculation">\n                </ngm-restricted-measure>\n            }\n            @case (CALCULATION_TYPE.Aggregation) {\n                <ngm-conditional-aggregation class="sub-calculation"\n                    [dsCoreService]="dsCoreService"\n                    [dataSettings]="_dataSettings()"\n                    [entityType]="entityType()"\n                    [formControl]="calculation">\n                </ngm-conditional-aggregation>\n            }\n            @case (CALCULATION_TYPE.Variance) {\n                <ngm-calculation-variance class="sub-calculation"\n                    [dsCoreService]="dsCoreService"\n                    [dataSettings]="_dataSettings()"\n                    [entityType]="entityType()"\n                    [formControl]="calculation"\n                />\n            }\n            @case (CALCULATION_TYPE.MeasureControl) {\n                <ngm-measure-control class="sub-calculation"\n                    [entityType]="entityType()"\n                    [formControl]="calculation"\n                    >\n                </ngm-measure-control>\n            }\n        }\n    </div>\n\n</div>',styles:[calculation_editor_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmCalculationEditorComponent);var formatting_component=__webpack_require__("./packages/angular/entity/formatting/formatting.component.ts");var _NgmFormulaEditorComponent,editor_componentngResource=__webpack_require__("./packages/angular/entity/formula/editor.component.scss?ngResource"),editor_componentngResource_default=__webpack_require__.n(editor_componentngResource),core_types=__webpack_require__("./packages/angular/core/types.ts");let NgmFormulaEditorComponent=((_NgmFormulaEditorComponent=class NgmFormulaEditorComponent{constructor(){this.Syntax=src.GYg,this.EntityCapacity=core_types.WS,this.editorOptions={theme:"vs",automaticLayout:!0,language:"sql"},this.editor$=new BehaviorSubject.X(null),this.cursorSelection$=new Subject.x,this.calculations=[],this._statement=""}get editor(){return this.editor$.value}get statement(){return this._statement}set statement(value){this._statement=value,this._onChange?.(this._statement)}writeValue(obj){this._statement=obj}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){}onInit(editor){this.editor$.next(editor),this.editor.onDidChangeCursorSelection((e=>{this.cursorSelection$.next(e)}))}onResized(event){this.editor?.layout()}drop(event){"ngm-formula-editor"===event.container.id&&"ngm-formula-editor__entity-schema"===event.previousContainer.id&&((0,src.mKs)(event.item.data)?this.insert(`[${src.QPo}].[${event.item.data.name}]`):this.insert(event.item.data.name))}insert(text){this.editor?.trigger("keyboard","type",{text})}formatDocument(){this.editor?.getAction("editor.action.formatDocument").run()}openHelpLink(){window.open(this.helpLink,"_blank")}}).propDecorators={dataSettings:[{type:core.Input}],helpLink:[{type:core.Input}],editorOptions:[{type:core.Input}]},_NgmFormulaEditorComponent);NgmFormulaEditorComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,ngx_translate_core.aw,drag_drop._t,sidenav.SJ,icon.Ps,tooltip.AV,fesm2022_button.ot,ngx_monaco_editor.nm,entity_schema_component.I,resizer_module.w,core_module.A],selector:"ngm-formula-editor",template:'<mat-drawer-container class="flex-1" [hasBackdrop]="false" autosize cdkDropListGroup>\n    <mat-drawer #drawer mode="side" position="end" ngmResizer [resizerWidth]="330" class="ngm-formula-editor__drawer">\n        <div ngmResizerBar resizerBarPosition="left" cdkDrag style="z-index: 2;"></div>\n        \n        <ngm-entity-schema class="flex-1"\n            id="ngm-formula-editor__entity-schema"\n            cdkDropList\n            [cdkDropListData]="[]"\n\n            [dataSettings]="dataSettings"\n            [capacities]="[\n                EntityCapacity.Dimension,\n                EntityCapacity.Hierarchy,\n                EntityCapacity.Measure,\n                EntityCapacity.Calculation\n            ]"\n        >\n        </ngm-entity-schema>\n    </mat-drawer>\n    <mat-drawer-content class="flex flex-col justify-start items-stretch">\n        <div class="flex justify-between items-center">\n           <span>\n            {{ \'Ngm.Formula.Editor.EditFormula\' | translate: {Default: "Edit Formula"} }}\n           </span>\n\n           <div class="flex justify-around items-center gap-2">\n                \x3c!-- <button mat-icon-button displayDensity="cosy" [matTooltip]="\'Ngm.Formula.Editor.Format\' | translate: {Default: \'Format\'}"\n                    (click)="formatDocument()">\n                    <mat-icon >text_format</mat-icon>\n                </button> --\x3e\n\n                <button mat-icon-button *ngIf="helpLink" displayDensity="cosy" (click)="openHelpLink()" [matTooltip]="\'Ngm.Formula.Editor.Help\' | translate: {Default: \'Help\'}" >\n                    <mat-icon>help_outline</mat-icon>\n                </button>\n\n                <button mat-icon-button displayDensity="cosy" class="ngm-formula-editor__drawer-anchor"\n                    (click)="drawer.toggle()"\n                >\n                    <mat-icon *ngIf="drawer.opened">chevron_right</mat-icon>\n                    <mat-icon *ngIf="!drawer.opened">menu_open</mat-icon>\n                </button>\n           </div>\n        </div>\n\n        <div style="flex: 1; width: 100%; overflow: hidden;">\n            <ngx-monaco-editor id="ngm-formula-editor" style="width: 100%;" [ngStyle]="{\'height\': \'calc(100% - 1rem)\'}"\n                cdkDropList\n                [cdkDropListData]="calculations"\n                (cdkDropListDropped)="drop($event)"\n                [options]="editorOptions"\n                [(ngModel)]="statement"\n                (resized)="onResized($event)"\n                (onInit)="onInit($event)"\n            ></ngx-monaco-editor>\n        </div>\n    </mat-drawer-content>\n</mat-drawer-container>\n',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmFormulaEditorComponent))}],styles:[editor_componentngResource_default()]})],NgmFormulaEditorComponent);let NgmEntityModule=class NgmEntityModule{};NgmEntityModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[measure_select_component.Y,property_component.lG,entity_schema_component.I,NgmCalculatedMeasureComponent,NgmRestrictedMeasureComponent,NgmConditionalAggregationComponent,NgmCalculationVarianceComponent,NgmMeasureControlComponent,NgmPropertyArrayComponent,NgmCalculationEditorComponent,formatting_component.X,property_select_component.$,NgmFormulaEditorComponent],exports:[measure_select_component.Y,property_component.lG,entity_schema_component.I,NgmCalculatedMeasureComponent,NgmRestrictedMeasureComponent,NgmConditionalAggregationComponent,NgmCalculationVarianceComponent,NgmMeasureControlComponent,NgmPropertyArrayComponent,NgmCalculationEditorComponent,formatting_component.X,property_select_component.$,NgmFormulaEditorComponent],declarations:[],providers:[]})],NgmEntityModule)},"./packages/angular/entity/measure-select/measure-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>NgmMeasureSelectComponent});var asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmMeasureSelectComponent,common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),tooltip=__webpack_require__("./node_modules/@angular/material/fesm2022/tooltip.mjs"),select_module=__webpack_require__("./packages/angular/common/select/select.module.ts"),core_service=__webpack_require__("./packages/angular/core/core.service.ts"),services_core_service=__webpack_require__("./packages/angular/core/services/core.service.ts"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),orderBy=__webpack_require__("./node_modules/lodash-es/orderBy.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),property_component=__webpack_require__("./packages/angular/entity/property/property.component.ts");let NgmMeasureSelectComponent=(_NgmMeasureSelectComponent=class NgmMeasureSelectComponent{constructor(){this.dsCoreService=(0,core.inject)(core_service.q),this.coreService=(0,core.inject)(services_core_service.z),this._dialog=(0,core.inject)(dialog.uw),this._viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.dataSettings=(0,core.input)(null),this.filter=(0,core.input)(null),this.error=(0,core.input)(null),this.formControl=new fesm2022_forms.NI(null),this.value=(0,rxjs_interop.O4)(this.formControl.valueChanges),this.entityType=(0,rxjs_interop.O4)((0,rxjs_interop.Dx)(this.dataSettings).pipe((0,filter.h)(src.vJr),(0,switchMap.w)((({dataSource,entitySet})=>this.dsCoreService.selectEntitySet(dataSource,entitySet))),(0,filter.h)(src.D_c),(0,map.U)((({entityType})=>entityType)))),this.measureOptions=(0,core.computed)((()=>{const measures=this.entityType()?(0,src.wqS)(this.entityType()):[],filter=this.filter()??(()=>!0);return[{name:null,caption:""},...(0,orderBy.Z)(measures.filter((measure=>!(0,src.ewE)(measure))),["name"]),...(0,orderBy.Z)(measures.filter((measure=>(0,src.ewE)(measure)&&!(0,src.sT)(measure))),["calculationType","name"]),...(0,orderBy.Z)(measures.filter((measure=>(0,src.sT)(measure))),["name"])].filter(filter).map((measure=>({key:measure.name,caption:measure.caption,value:measure})))})),this.syntax=(0,core.computed)((()=>this.entityType()?.syntax)),this.property=(0,core.computed)((()=>(0,src.ZBB)(this.entityType(),this.value()))),this.isCalculationProperty=(0,core.computed)((()=>(0,src.ewE)(this.property())&&!(0,src.sT)(this.property()))),this._formValueSub=this.formControl.valueChanges.pipe((0,distinctUntilChanged.x)()).subscribe((value=>{this.onChange?.(value)}))}writeValue(obj){this.formControl.setValue(obj)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){isDisabled?this.formControl.disable():this.formControl.enable()}openCalculationMeasure(){var _this=this;return(0,asyncToGenerator.Z)((function*(){const data={dataSettings:_this.dataSettings(),entityType:_this.entityType(),syntax:_this.syntax(),dsCoreService:_this.dsCoreService,value:null};_this.coreService.openCalculation(data).subscribe((property=>{property&&(_this.coreService.updateEntity({type:"Calculation",dataSettings:_this.dataSettings(),property}),_this.formControl.setValue(property.name))}))}))()}editCalculationMeasure(){var _this2=this;return(0,asyncToGenerator.Z)((function*(){const data={dataSettings:_this2.dataSettings(),entityType:_this2.entityType(),syntax:_this2.syntax(),dsCoreService:_this2.dsCoreService,value:_this2.property()};_this2.coreService.openCalculation(data).subscribe((property=>{property&&(_this2.coreService.updateEntity({type:"Calculation",dataSettings:_this2.dataSettings(),property}),_this2.formControl.setValue(property.name))}))}))()}},_NgmMeasureSelectComponent.propDecorators={label:[{type:core.Input}],placeholder:[{type:core.Input}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}],filter:[{type:core.Input,args:[{isSignal:!0,alias:"filter",required:!1,transform:void 0}]}],error:[{type:core.Input,args:[{isSignal:!0,alias:"error",required:!1,transform:void 0}]}]},_NgmMeasureSelectComponent);NgmMeasureSelectComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.UX,ngx_translate_core.aw,fesm2022_button.ot,icon.Ps,tooltip.AV,select_module.f,displayDensity.Z,property_component.lG],selector:"ngm-measure-select",template:'<ngm-select class="flex-1" searchable valueKey="key"\n    [label]="label"\n    [placeholder]="placeholder"\n    [formControl]="formControl"\n    [selectOptions]="measureOptions()"\n    [ngClass]="{\'ngm-select-error\': error()}"\n    >\n    \n    <ng-template ngmOptionContent let-property="value" let-highlight="highlight">\n        <ngm-entity-property class="flex-1" [property]="property" [highlight]="highlight" />\n    </ng-template>\n\n    <div ngmSuffix class="flex items-center">\n      <ng-content select="ngmSuffix"></ng-content>\n\n      @if (isCalculationProperty()) {\n        <button mat-icon-button\n            [matTooltip]="\'Ngm.MeasureSelect.EditCalculationMeasure\' | translate: {Default: \'Edit calculation measure\'}"\n            (click)="editCalculationMeasure()">\n            <mat-icon>functions</mat-icon>\n        </button>\n      }\n\n        <button mat-icon-button \n            [matTooltip]="\'Ngm.MeasureSelect.NewCalculationMeasure\' | translate: {Default: \'New calculation measure\'}"\n            (click)="openCalculationMeasure()">\n            <mat-icon>add</mat-icon>\n        </button>\n    </div>\n\n    <div ngmError>\n        {{error()}}\n    </div>\n</ngm-select>',inputs:["color","disabled"],host:{class:"ngm-measure-select"},providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmMeasureSelectComponent))}]})],NgmMeasureSelectComponent)},"./packages/angular/parameter/parameter-select/parameter-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>NgmParameterSelectComponent});var asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),classPrivateFieldInitSpec=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js"),classPrivateFieldGet2=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js"),classPrivateFieldSet2=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmParameterSelectComponent,_viewContainerRef,parameter_select_componentngResource=__webpack_require__("./packages/angular/parameter/parameter-select/parameter-select.component.scss?ngResource"),parameter_select_componentngResource_default=__webpack_require__.n(parameter_select_componentngResource),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),autocomplete=__webpack_require__("./node_modules/@angular/material/fesm2022/autocomplete.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),divider=__webpack_require__("./node_modules/@angular/material/fesm2022/divider.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),menu=__webpack_require__("./node_modules/@angular/material/fesm2022/menu.mjs"),fesm2022_radio=__webpack_require__("./node_modules/@angular/material/fesm2022/radio.mjs"),select_component=__webpack_require__("./packages/angular/common/select/select/select.component.ts"),display_behaviour_component=__webpack_require__("./packages/angular/common/display-behaviour/display-behaviour.component.ts"),helpers=__webpack_require__("./packages/angular/core/helpers.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),firstValueFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js"),parameter_create_component=__webpack_require__("./packages/angular/parameter/parameter-create/parameter-create.component.ts");let NgmParameterSelectComponent=(_viewContainerRef=new WeakMap,(_NgmParameterSelectComponent=class NgmParameterSelectComponent{constructor(){(0,classPrivateFieldInitSpec.Z)(this,_viewContainerRef,void 0),this.ParameterControlEnum=src.WTi,this._dialog=(0,core.inject)(dialog.uw),(0,classPrivateFieldSet2.Z)(_viewContainerRef,this,(0,core.inject)(core.ViewContainerRef)),this.appearance="fill",this.label="Parameter",this.placeholder="@",this.dataSettings=(0,core.input)(),this.entityType=(0,core.input)(),this.formControl=new fesm2022_forms.NI,this.parameters$=(0,rxjs_interop.Dx)(this.entityType).pipe((0,map.U)((entityType=>Object.keys(entityType?.parameters??{}).map((key=>({key:(0,src.L0i)(key),caption:entityType.parameters[key].caption||key,value:entityType.parameters[key]})))))),this.selectOptions$=(0,combineLatest.a)([this.parameters$,this.formControl.valueChanges.pipe((0,startWith.O)(null))]).pipe((0,map.U)((([parameters,value])=>(0,helpers.eb)(parameters,value))))}get value(){return this.formControl.value}set value(value){this.formControl.setValue(value),this.onChange?.(value)}writeValue(obj){this.formControl.setValue(obj)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled}onOptionSelected(event){}openCreate(){var _this=this;return(0,asyncToGenerator.Z)((function*(){yield(0,firstValueFrom.z)(_this._dialog.open(parameter_create_component.R,{viewContainerRef:(0,classPrivateFieldGet2.Z)(_viewContainerRef,_this),data:{dataSettings:_this.dataSettings,entityType:_this.entityType}}).afterClosed())}))()}openEditParameter(key){this._dialog.open(parameter_create_component.R,{viewContainerRef:(0,classPrivateFieldGet2.Z)(_viewContainerRef,this),data:{dataSettings:this.dataSettings(),entityType:this.entityType(),name:key}}).afterClosed().subscribe((result=>{result&&console.log(result)}))}}).propDecorators={appearance:[{type:core.Input}],label:[{type:core.Input}],placeholder:[{type:core.Input}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}],entityType:[{type:core.Input,args:[{isSignal:!0,alias:"entityType",required:!1,transform:void 0}]}],disabled:[{type:core.Input}],displayDensity:[{type:core.Input}]},_NgmParameterSelectComponent);NgmParameterSelectComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,selector:"ngm-parameter-select",template:'<ngm-select searchable [label]="label" [placeholder]="placeholder"\n  [selectOptions]="selectOptions$ | async"\n  valueKey="key"\n  [(ngModel)]="value"\n>\n  <div ngmSuffix class="ngm-input__suffix flex items-center">\n    <button mat-icon-button displayDensity="compact" [matMenuTriggerFor]="paramMenu"\n      (click)="$event.stopPropagation(); $event.preventDefault()">\n      <mat-icon>alternate_email</mat-icon>\n    </button>\n\n    <ng-content select="[ngmSuffix]"></ng-content>\n  </div>\n\n  <ng-template ngmOptionContent let-option>\n    \n    <button mat-icon-button displayDensity="cosy" (click)="openEditParameter(option.name)">\n      <mat-icon fontSet="material-icons-outlined">edit</mat-icon>\n    </button>\n  </ng-template>\n</ngm-select>\n\n<label class="ngm-input-label">\n  {{ label }}\n</label>\n\n<div class="w-full relative flex items-center bg-gray-50 rounded-md">\n  <div class="absolute left-0 max-w-[75%] overflow-hidden flex items-center px-1">\n    <ng-content select="[ngmPrefix]"></ng-content>\n  </div>\n\n  <div class="ngm-input__suffix flex items-center">\n    <button mat-icon-button displayDensity="compact" [matMenuTriggerFor]="paramMenu"\n      (click)="$event.stopPropagation(); $event.preventDefault()">\n      <mat-icon>alternate_email</mat-icon>\n    </button>\n\n    <ng-content select="[ngmSuffix]"></ng-content>\n  </div>\n\n  <input #search matInput class="ngm-input-element ngm-w-full"\n    [class.ngm-input__searching]="!!formControl.value"\n    [placeholder]="placeholder"\n    [(ngModel)]="value"\n    [disabled]="disabled"\n    [matAutocomplete]="auto"\n  >\n</div>\n\n<mat-autocomplete autoActiveFirstOption #auto="matAutocomplete"\n  class="ngm-density__compact"\n  (optionSelected)="onOptionSelected($event)"\n>\n    <mat-option *ngFor="let parameter of selectOptions$ | async" [value]="parameter.value">{{parameter.label || parameter.value}}</mat-option>\n</mat-autocomplete>\n\n\n<mat-radio-group [(ngModel)]="value">\n  <mat-menu #paramMenu="matMenu" class="ngm-density__compact">\n    @for (parameter of parameters$ | async; track $index) {\n      <button mat-menu-item disableRipple (click)="$event.stopPropagation();">\n        <div class="flex justify-between items-center">\n          <mat-radio-button [value]="parameter.key">\n            <ngm-display-behaviour [option]="parameter" />\n          </mat-radio-button>\n  \n          <button mat-icon-button displayDensity="cosy" (click)="openEditParameter(parameter.value.name)">\n            <mat-icon fontSet="material-icons-outlined">edit</mat-icon>\n          </button>\n        </div>\n      </button>\n    }\n\n    <mat-divider></mat-divider>\n\n    <button mat-menu-item ngmAppearance="dashed"\n      (click)="$event.stopPropagation();openCreate()">\n      {{ \'Ngm.Property.CreateParameter\' | translate: {Default: "Create Parameter"} }}\n    </button>\n  </mat-menu>\n</mat-radio-group>\n',providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmParameterSelectComponent))}],imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,drag_drop._t,input.c,fesm2022_button.ot,icon.Ps,menu.Tx,fesm2022_radio.Fk,divider.t,autocomplete.Bb,ngx_translate_core.aw,core_module.A,select_component.V,display_behaviour_component.o],styles:[parameter_select_componentngResource_default()]})],NgmParameterSelectComponent)}}]);