(self.webpackChunkocap=self.webpackChunkocap||[]).push([[3748],{"./packages/angular/parameter/parameter-create/parameter-create.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100%;\n}\n\n.mat-radio-button {\n  margin-right: 1rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/i18n/zhHans.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>ZhHans});const ZhHans={Ngm:{Common:{Add:"添加",Cancel:"取消",Apply:"应用",Reset:"重置",Search:"搜索",Select:"选择",Clear:"清空",Search_Placeholder:"请输入关键词",DisplayBehaviour_Description:"描述",DisplayBehaviour_DescriptionID:"描述 ID",DisplayBehaviour_IDDescription:"ID 描述",DisplayBehaviour_ID:"ID",DisplayBehaviour_Auto:"自动",SelectionType_Single:"单选",SelectionType_Multiple:"多选",Presentation_Flat:"平铺",Presentation_Hierarchy:"层级",HierarchySelectionMode_Individual:"单个",HierarchySelectionMode_SelfDescendants:"自己和后代",HierarchySelectionMode_DescendantsOnly:"只后代",HierarchySelectionMode_SelfChildren:"自己和子代",HierarchySelectionMode_ChildrenOnly:"只子代",Measures:"度量",None:"无",Default:"默认",Hierarchy:"层次结构",DisplayBehaviour:"显示行为",DisplayBehaviour_IDOnly:"编码"},AnalyticalCard:{Screenshot:"截图",DataDownload:"下载数据",Refresh:"刷新",DrillDown:"下钻",DrillLevel:"层级下钻",DrillDimension:"维度下钻",LinkAnalysis:"联动筛选",DataEmpty:"数据为空"},AnalyticalGrid:{DataDownload:"下载数据",SORT:"排序",MOVE:"移动",ASCENDING:"正序",DESCENDGING:"倒序",MOVELEFT:"向左",MOVERIGHT:"向右",Search:"搜索",SelectAll:"选择所有",Pin:"固定"},Controls:{ValueHelp:{Title:"为{{value}}设置过滤器",AvailableMembers:"可选成员",DisplayBehaviour:"展现形式",SelectedMembers:"选中成员",ClearSelection:"清空选择",ShowUnbookedMembers:"显示未分配成员",ShowAllMember:"显示‘所有’成员",ShowOnlyLeaves:"只显示叶子节点",ExcludeSelectedMembers:"排除选中成员",SelectionType:"选择类型",Presentation:"展现形式",HierarchySelectionMode:"层级选择模式",Hierarchy:"层次结构"}},Copilot:{Copilot:"副驾驶",AICopilot:"AI 副驾驶",EnableCopilot:"启用 Copilot",GetYourApiKey:"获取你的 API Key",ProvideOpenaiApiKey:"请提供 Openai API Key?",Provider:"提供商",YourAIPairProgrammer:"你的 AI 配对程序员!",LetYourAIPairProgrammerEdits:"让你的 AI 配对程序员修改一下!",SelectSomeCode:"选择代码，让你的 AI 配对程序员修改一下!",ThinkingHard:"努力思考中...",StopGenerating:"停止生成",ClearMessages:"清空消息",CharacterLength:"字数",Resubmit:"重新提交",Cancel:"取消",Model:"模型",Options:"选项",UseSystemPrompt:"使用系统提示",ExamplesOfPrompts:"提示语示例",APIKey:"API 密钥",APIHost:"API 主机",AskAICopilot:"向 AI 副驾驶询问问题",Prompt:"提示",SendPrompt:"发送提问",Placeholder:"询问副驾驶或输入 / 获取命令",ClearConversation:"清空会话",Ask:"提问",Copy:"复制",Regenerate:"重新生成",Common:"通用",PleaseSelectBusinessRole:"请选择一个业务角色",DefaultBusinessRole:{title:"通用",description:"通用业务角色"},Help:"帮助",NewChat:"新聊天",Update:"更新"},Entity:{SelectEntities:"选择数据集",SemanticModel:"语义模型",Cube:"多维数据集",AnnotatedCube:"增强过的多维数据集",MEASURE:"度量",SELECT_DIMENSION:"选择维度",MeasureFormatting:"度量格式",ShortNumber:"缩写数字",Decimals:"小数位",Unit:"单位",UseUnderlyingUnit:"使用模型单位",DigitsInfo:"数字格式"},EntitySchema:{Parameters:"参数",Measures:"度量",Properties:"属性"},Formula:{Editor:{EditFormula:"编辑公式",Format:"格式化",Help:"帮助"}},Table:{Select:"选择",NoData:"无数据",MatchingFilter:'匹配过滤条件"{{value}}"',firstPageLabel:"第一",itemsPerPageLabel:"每页",lastPageLabel:"最后",nextPageLabel:"下一页",previousPageLabel:"上一页",rangeLabel0:"页 1 共 1",pageLabel:"页",ofLabel:"共"},DatePicker:{Date:"日期",Year:"年",Quarter:"季",Month:"月",Week:"周",Day:"日",From:"从",To:"至"},TimeFilter:{SET_DATE_RANGE:"为 {{property}} 设置时间区间",CURRENT_DATE:"当前日期",SYSTEM_DATE:"系统时间",USER_CURRENT_DATE:"用户当前时间",ADD_TIME_RANGE:"添加时间区间",RANGE:"区间",RANGE_TYPE:"区间类型",RANGE_TYPE_STANDARD:"标准",RANGE_TYPE_OFFSET:"偏移",GRANULARITY:"粒度",YEAR:"年",QUARTER:"季度",MONTH:"月",WEEK:"周",DAY:"日",LOOK_BACK:"回顾",LOOK_AHEAD:"展望",CURRENT_PERIOD:"当前时间",FORMATTER:"格式",OFFSET_DIRECTION:"偏移方向",OFFSET_AMOUNT:"偏移量",SETTINGS_FOR_USERS:"为用户设置",ALLOW_MODIFY_SELECTIONS:"允许查看者修改选择",SELECTION_TYPE:"选择类型",SELECTION_TYPE_MULTIPLE:"多选",SELECTION_TYPE_SINGLE:"单选",TODAY:"当前期间",Year:"年",Quarter:"季度",Month:"月",Week:"周",Day:"日",Today:"今天"},AdvancedSlicer:{TITLE:"高级切片器",CONTEXT:"上下文",OPERATOR:"操作符",ENABLE_OTHER:"汇总其它项",VALUE:"值",VALUE_FROM:"从",VALUE_TO:"至",MEASURE:"度量",MeasureSelectPlaceholder:"选择或新建一个度量",Equal:"等于",NotEqual:"不等于",LessThan:"小于",GreaterThan:"大于",LessEqual:"小于等于",GreaterEqual:"大于等于",Between:"介于",NotBetween:"不介于",TopCount:"前 N 个",BottomCount:"后 N 个",TopPercent:"前百分比的",BottomPercent:"后百分比的",TopSum:"前总数",BottomSum:"后总数"},Property:{PARAMETER:"参数",PARAMETERS:"参数",MEASURE:"度量",MEASURES:"度量",MeasureGroup:"度量组",INDICATORS:"指标",CREATE_PARAMETER:"创建参数",EditParameter:"编辑参数",CALCULATIONS:"计算度量",DIMENSION:"维度",DIMENSIONS:"维度",ADD_DIMENSION:"添加维度",MEMBERS:"成员",HIERARCHY:"层次结构",ADD_PARAMETER_MEMBER:"添加成员",MEASURE_CONTROLS:"度量控制",CREATE_CALCULATION:"创建计算",CREATE_MEASURE_CONTROL:"创建度量控制",REFERENCE_LINE:"参考线",Input:"输入",Select:"选择",Dimensions:"维度",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",Value:"值",DefaultValue:"默认值",ValueType:"值类型",DisplayAs:"显示为",Label:"文本字段",Formatter:"格式设置",EditFormula:"编辑公式",UnbookedData:"无成员数据",ZeroSuppression:"清零",PropertyList:"属性列表",DisplayHierarchy:"包含父级层级",CreateParameter:"创建参数",CurrentMember:"当前成员",PreviousNMember:"之前第 N 个成员",NextNMember:"之后第 N 个成员",ParallelMember:"平行成员",AncestorMember:"祖先成员",SelectByMembers:"选择成员",NewCalculationInputControl:"新建计算输入",NthMember:"值 / 第 N 个",IsDefault:"默认",Default:"默认",Auto:"自动","Description and ID":"名称+ID","Description Only":"名称","ID Only":"ID",Description:"描述",Order:"排序",None:"无",Order_ASC:"正序",Order_DESC:"倒序",Dimension:"维度",AvailableMembers:"可用成员",DimensionNotFound:"在数据集‘{{cube}}’中未找到维度‘{{dimension}}’",DIMENSION_MEASURE:"维度/度量",Parameter:"参数","Measure Control":"度量控制",Measure:"度量",Calculation:"计算",Hierarchy:"层次结构",Level:"层级","Measure Group":"度量组",Indicator:"指标",Calendar:"日历","Address.Country":"国家"},MeasureSelect:{EditCalculationMeasure:"编辑计算度量",NewCalculationMeasure:"新建计算度量"},Calculation:{TITLE:"计算编辑器",TYPE:"类型",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",FUNCTIONS:"函数",DIMENSION_MEMBERS:"维度成员",CALCULATED_MEMBERS:"计算成员",PARAMETERS:"参数",CALCULATED_MEASURE:"计算公式",RESTRICTED_MEASURE:"受限度量",VARIANCE_MEASURE:"差值度量",AGGREGATION:"聚合",DIMENSION_TO_MEASURE:"维度转度量",MEASURE_CONTROL:"度量控制",PROPERTIES:"属性",OPERATION:"运算",VALUE:"值",AGGREGATION_DIMENSIONS:"聚合维度",ADD_DIMENSION:"添加维度",SELECTION_CONTEXT:"选择上下文",ENABLE_CONSTANT_SELECTION:"启用常量选择",EDIT_FORMULA:"编辑公式",ToggleSidebar:"切换侧边栏",UseConditionalAggregation:"使用条件聚合",ConditionalDimensions:"条件维度",ExcludeConditions:"排除条件",Compare:"比",To:"较",BaseDimension:"基准维度",SetNoDataasZero:"将无数据当作零",CalculateasPercentage:"计算为百分比",DirectDivide:"直接除",AbsoluteBaseValue:"绝对化基值",DivideBy:"除以",CompareValueA:"比 (A)",ToValueB:"较 (B)",Measure:"度量",RestrictiveConditions:"限定条件",ConstantSelectionTootip:"锁定限定条件维度成员,使其不会被用户上下文切片器所覆盖",Dimension:"维度",MeasureSelectOptions:"度量选择选项",ConditionalAggregation:"条件聚合",Unit:"单位",Formulas:"公式",MeasureSelectPlaceholder:"选择或新建一个度量",MeasureIsRequired:"度量必选"},AdvancedFilter:{Title:"组合切片器",AND:"且",OR:"或",GROUP:"组合",Operator:"操作符",Value:"值",Condition:"条件",AddGroup:'"且"组合',OrGroup:'"或"组合',EndGroup:"结束组合",DeleteGroup:"删除组合",Tips:"使用 且/或 创建条件组合"},Selection:{Slicers:"切片器",AdvancedFilter:"组合切片器",CombinationSlicer:"组合切片器",AdvancedSlicer:"高级切片器",DimensionMembers:"维度成员",TimeRanges:"动态时间范围",OnContext:"基于",SLICERS_BAR:{TITLE:"过滤器"},SLICER:{ADVANCED_SLICER:"高级切片器",ADVANCED_FILTER:"组合切片器"},DateFunctions:{SYSTEMTIME:"系统时间",TODAY:"今天"}}}}},"./packages/angular/mock/provider.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>MODEL_KEY,Y:()=>provideOcapMock});var _home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts"),_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/core/services/core.service.ts"),_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/angular/core/core.service.ts"),_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/angular/core/types.ts"),_agent_mock_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/mock/agent-mock.service.ts");const MODEL_KEY="key_sales";function provideOcapMock(){return[_core__WEBPACK_IMPORTED_MODULE_1__.z,_core__WEBPACK_IMPORTED_MODULE_2__.q,{provide:_core__WEBPACK_IMPORTED_MODULE_3__.fH,useClass:_agent_mock_service__WEBPACK_IMPORTED_MODULE_4__.ch,multi:!0},{provide:_core__WEBPACK_IMPORTED_MODULE_3__.OF,useValue:{type:"SQL",factory:(_ref=(0,_home_runner_work_ocap_ocap_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__.Z)((function*(){const{SQLDataSource}=yield __webpack_require__.e(3958).then(__webpack_require__.bind(__webpack_require__,"./packages/sql/src/index.ts"));return SQLDataSource})),function factory(){return _ref.apply(this,arguments)})},multi:!0},{provide:_core__WEBPACK_IMPORTED_MODULE_3__.ET,useValue:{key:MODEL_KEY,name:"Sales",type:"SQL",agentType:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.buO.Browser,settings:{ignoreUnknownProperty:!0},schema:{cubes:[_agent_mock_service__WEBPACK_IMPORTED_MODULE_4__.nH]}},multi:!0}];var _ref}},"./packages/angular/mock/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qX:()=>provideTranslate,zd:()=>zhHansLanguage});var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/core/i18n/missing-tanslation.ts"),_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/i18n/zhHans.ts");const zhHansLanguage="zh-Hans";class CustomTranslateLoader{getTranslation(lang){return console.log(lang),lang===zhHansLanguage?(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__.q):(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(null)}}function provideTranslate(defaultLanguage=zhHansLanguage){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.aw.forRoot({missingTranslationHandler:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.gC,useClass:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__.l},loader:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.Zw,useClass:CustomTranslateLoader,deps:[_angular_common_http__WEBPACK_IMPORTED_MODULE_5__.eN]},defaultLanguage}))}},"./packages/angular/parameter/parameter-create/parameter-create.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>NgmParameterCreateComponent});var classPrivateFieldInitSpec=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js"),classPrivateFieldGet2=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js"),classPrivateFieldSet2=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmParameterCreateComponent,_coreService,parameter_create_componentngResource=__webpack_require__("./packages/angular/parameter/parameter-create/parameter-create.component.scss?ngResource"),parameter_create_componentngResource_default=__webpack_require__.n(parameter_create_componentngResource),drag_drop=__webpack_require__("./node_modules/@angular/cdk/fesm2022/drag-drop.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),button_toggle=__webpack_require__("./node_modules/@angular/material/fesm2022/button-toggle.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),fesm2022_radio=__webpack_require__("./node_modules/@angular/material/fesm2022/radio.mjs"),input_module=__webpack_require__("./packages/angular/common/input/input.module.ts"),hierarchy_select_component=__webpack_require__("./packages/angular/common/hierarchy-select/hierarchy-select.component.ts"),controls_module=__webpack_require__("./packages/angular/controls/controls.module.ts"),core_service=__webpack_require__("./packages/angular/core/services/core.service.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js");let NgmParameterCreateComponent=(_coreService=new WeakMap,(_NgmParameterCreateComponent=class NgmParameterCreateComponent{get availableMembers(){return this.formGroup.get("availableMembers")}get name(){return this.formGroup.get("name")}get paramType(){return this.formGroup.get("paramType")}get dataType(){return this.formGroup.get("dataType")}get value(){return this.formGroup.get("value")}get dimension(){return this.formGroup.value.dimension}get hierarchy(){return this.formGroup.value.hierarchy}get slicer(){return this._slicer}set slicer(value){this._slicer.members=value?.members??[],this.setAvailableMembers(this._slicer.members.map((member=>({...member,isDefault:member.isDefault??!1}))))}constructor(_formBuilder,_dialogRef,data){if((0,classPrivateFieldInitSpec.Z)(this,_coreService,void 0),this._formBuilder=_formBuilder,this._dialogRef=_dialogRef,this.data=data,this.ParameterControlEnum=src.WTi,(0,classPrivateFieldSet2.Z)(_coreService,this,(0,core.inject)(core_service.z)),this.appearance="fill",this.label="Parameter",this.dataSettings=(0,core.model)(),this.entityType=(0,core.model)(),this.edit=(0,core.signal)(!1),this.memberTreeOptions={selectionType:src.ucB.Multiple,initialLevel:1,searchable:!0},this.formGroup=this._formBuilder.group({__id__:(0,src.VjN)(),name:["",[fesm2022_forms.kI.required,this.forbiddenNameValidator()]],caption:null,dimension:null,hierarchy:null,paramType:null,value:null,dataType:null,members:[],availableMembers:this._formBuilder.array([])}),this._slicer={members:[]},this.dimensions$=(0,rxjs_interop.Dx)(this.entityType).pipe((0,map.U)((entityType=>(0,src.n6Q)(entityType)))),this.dimension$=this.formGroup.valueChanges.pipe((0,filter.h)((value=>!(0,src.kKJ)(value.dimension))),(0,map.U)((value=>({dimension:value.dimension,hierarchy:value.hierarchy})))),this.data)if(this.dataSettings.set(this.data.dataSettings),this.entityType.set(this.data.entityType),this.data.name){this.edit.set(!0);const property=this.entityType()?.parameters?.[this.data.name];this.formGroup.patchValue(property??{}),this.slicer={...this.slicer,members:[...property.availableMembers??[]]}}else this.formGroup.patchValue(this.data.dimension)}onApply(){(0,classPrivateFieldGet2.Z)(_coreService,this).updateEntity({type:"Parameter",dataSettings:this.dataSettings(),parameter:{...this.formGroup.value,members:this.formGroup.value.availableMembers.filter((member=>member.isDefault))}}),this._dialogRef.close()}create(item){return this._formBuilder.group(item??{value:[null,fesm2022_forms.kI.required],label:null,isDefault:null})}setAvailableMembers(members){this.availableMembers.clear(),members?.forEach((member=>{this.availableMembers.push(this.create(member))}))}add(){this.availableMembers.push(this.create())}remove(i){this.availableMembers.removeAt(i)}forbiddenNameValidator(){return control=>!this.edit&&this.entityType()?.parameters&&!!Object.values(this.entityType().parameters).find((item=>item.name===control.value))?{forbiddenName:{value:control.value}}:null}onHierarchyChange(hierarchy){this.formGroup.patchValue({dimension:(0,src.jEU)(this.entityType(),hierarchy)?.dimension,hierarchy})}}).ctorParameters=()=>[{type:fesm2022_forms.qu},{type:dialog.so,decorators:[{type:core.Optional}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[dialog.WI]}]}],_NgmParameterCreateComponent.propDecorators={appearance:[{type:core.Input}],label:[{type:core.Input}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1}]},{type:core.Output,args:["dataSettingsChange"]}],entityType:[{type:core.Input,args:[{isSignal:!0,alias:"entityType",required:!1}]},{type:core.Output,args:["entityTypeChange"]}]},_NgmParameterCreateComponent);NgmParameterCreateComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,selector:"ngm-parameter-create",template:'<div class="ngm-theme-dark dark w-[300px] shrink-0 flex flex-col justify-start overflow-auto bg-bluegray-700 text-white p-4 group">\n  <div class="w-full flex justify-start items-center mb-2" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>\n    <mat-icon displayDensity="cosy" class="-ml-2 opacity-0 group-hover:opacity-80">drag_indicator</mat-icon>\n    @if (edit()) {\n      <span class="text-lg pointer-events-none">\n        {{ \'Ngm.Property.EditParameter\' | translate: {Default: "Edit Parameter"} }}\n      </span>\n    } @else {\n      <span class="text-lg pointer-events-none">\n        {{ \'Ngm.Property.CREATE_PARAMETER\' | translate: {Default: "Create Parameter"} }}\n      </span>\n    }\n  </div>\n\n  <form [formGroup]="formGroup" class="flex-1">\n    <div class="flex flex-col justify-start items-stretch">\n      <mat-form-field appearance="fill" color="accent">\n        <mat-label>{{ \'Ngm.Property.Name\' | translate: {Default: "Name"} }}</mat-label>\n        <input matInput formControlName="name" required>\n        <mat-error *ngIf="name.invalid">{{ \'Ngm.Property.NameRequired\' | translate: {Default: "Name Required"} }}</mat-error>\n      </mat-form-field>\n\n      <mat-form-field appearance="fill" color="accent">\n        <mat-label>{{ \'Ngm.Property.Caption\' | translate: {Default: "Caption"} }}</mat-label>\n        <input matInput formControlName="caption">\n      </mat-form-field>\n    </div>\n\n    <div class="flex flex-col justify-start items-start gap-4 py-4 px-2">\n      <mat-radio-group formControlName="paramType" class="flex flex-col justify-start items-start gap-4">\n        <mat-radio-button [value]="ParameterControlEnum.Input">\n          {{ \'Ngm.Property.Input\' | translate: {Default: "Input"} }}\n        </mat-radio-button>\n        <mat-radio-button [value]="ParameterControlEnum.Select">\n          {{ \'Ngm.Property.Select\' | translate: {Default: "Select"} }}\n        </mat-radio-button>\n        <mat-radio-button [value]="ParameterControlEnum.Dimensions">\n          {{ \'Ngm.Property.Dimensions\' | translate: {Default: "Dimensions"} }}\n        </mat-radio-button>\n      </mat-radio-group>\n    </div>\n  </form>\n\n  <div class="flex w-full h-10"></div>\n\n  <div class="flex justify-start">\n    <div ngmButtonGroup>\n        <button mat-raised-button color="accent" cdkFocusInitial [disabled]="formGroup.invalid" (click)="onApply()">\n            {{ \'Ngm.Common.Apply\' | translate: {Default: \'Apply\'} }}\n        </button>\n        <button mat-button mat-dialog-close>\n            {{ \'Ngm.Common.Cancel\' | translate: {Default: \'Cancel\'} }}\n        </button>\n    </div>\n  </div>\n</div>\n\n<div class="mat-typography min-w-[300px] flex-1 flex flex-col justify-start items-stretch p-4 overflow-hidden" cdkDropListGroup>\n\n  <div *ngIf="paramType.value === ParameterControlEnum.Input" class="flex flex-col justify-start items-start gap-8">\n    <div class="flex flex-col justify-start items-start gap-2">\n      <label>{{ \'Ngm.Property.ValueType\' | translate: {Default: "Value Type"} }}</label>\n      <mat-button-toggle-group displayDensity="compact" ngmAppearance="outline" color="accent"\n        [formControl]="dataType">\n        <mat-button-toggle disableRipple value="number">Number</mat-button-toggle>\n        <mat-button-toggle disableRipple value="string">String</mat-button-toggle>\n        <mat-button-toggle disableRipple value="boolean">Boolean</mat-button-toggle>\n        <mat-button-toggle disableRipple value="date">Date</mat-button-toggle>\n      </mat-button-toggle-group>\n    </div>\n\n    <ngm-input label="{{ \'Ngm.Property.DefaultValue\' | translate: {Default: \'Default Value\'} }}" \n      [formControl]="value"\n      [type]="dataType.value"\n    ></ngm-input>\n    \n  </div>\n\n  <div *ngIf="paramType.value === ParameterControlEnum.Select"  class="flex-1 overflow-y-auto">\n    <div class="text-lg">{{ \'Ngm.Property.AvailableMembers\' | translate: {Default: "Available Members"} }}</div>\n    <div *ngFor="let item of availableMembers.controls; let i = index;" class="flex justify-start items-center gap-2 group"\n      [formGroup]="$any(item)"\n    >\n      <mat-checkbox formControlName="isDefault">\n        {{ \'Ngm.Property.IsDefault\' | translate: {Default: "Is Default"} }}\n      </mat-checkbox>\n      <mat-form-field appearance="fill">\n        <mat-label>{{ \'Ngm.Common.VALUE\' | translate: {Default: "Value"} }}</mat-label>\n        <input matInput formControlName="value">\n      </mat-form-field>\n      <mat-form-field appearance="fill">\n        <mat-label>{{ \'Ngm.Common.LABEL\' | translate: {Default: "Label"} }}</mat-label>\n        <input matInput formControlName="label">\n      </mat-form-field>\n\n      <button mat-icon-button ngmAppearance="danger" displayDensity="cosy" class="opacity-0 group-hover:opacity-100" (click)="remove(i)">\n        <mat-icon>close</mat-icon>\n      </button>\n    </div>\n\n    <button mat-stroked-button displayDensity="cosy" ngmAppearance="dashed" (click)="add()">\n      {{ \'Ngm.Property.ADD_PARAMETER_MEMBER\' | translate: {Default: "Add Member"} }}\n    </button>\n  </div>\n\n  <div *ngIf="paramType.value === ParameterControlEnum.Dimensions" class="flex-1 w-full max-w-full flex flex-col justify-start items-stretch">\n    <ngm-hierarchy-select appearance="fill"\n      [label]=" \'Ngm.Property.Dimension\' | translate: {Default: \'Dimension\' } "\n      [dimensions]="dimensions$ | async"\n      [ngModel]="hierarchy"\n      (ngModelChange)="onHierarchyChange($event)"\n    ></ngm-hierarchy-select>\n    <ngm-member-tree class="flex-1 w-full h-full"\n      [dataSettings]="dataSettings()"\n      [dimension]="dimension$ | async"\n      [options]="memberTreeOptions"\n      [(ngModel)]="slicer"\n    ></ngm-member-tree>\n  </div>\n</div>\n',imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,drag_drop._t,input.c,fesm2022_button.ot,form_field.lN,button_toggle.vV,icon.Ps,fesm2022_radio.Fk,dialog.Is,fesm2022_checkbox.p9,ngx_translate_core.aw,core_module.A,controls_module.$,input_module.k,hierarchy_select_component.f],styles:[parameter_create_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[fesm2022_forms.qu,dialog.so,Object])],NgmParameterCreateComponent)},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{aD:()=>action});var v4=__webpack_require__("./node_modules/@storybook/addon-actions/node_modules/uuid/dist/esm-browser/v4.js"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("@storybook/preview-api"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("@storybook/core-events/preview-errors"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.Z)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./packages/angular/parameter/parameter-create/parameter-create.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,actionsData:()=>actionsData,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_angular_common_http__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/angular/mock/provider.ts"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/angular/mock/translate.ts"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/angular/mock/agent-mock.service.ts"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),_parameter_create_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/angular/parameter/parameter-create/parameter-create.component.ts"),_metad_ocap_sql__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/sql/src/index.ts");const actionsData={onPinTask:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.aD)("onPinTask"),onArchiveTask:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.aD)("onArchiveTask")},__WEBPACK_DEFAULT_EXPORT__={title:"Parameter/ParameterCreate",component:_parameter_create_component__WEBPACK_IMPORTED_MODULE_3__.R,excludeStories:/.*Data$/,tags:["autodocs"],decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({providers:[(0,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.provideAnimations)(),(0,_angular_common_http__WEBPACK_IMPORTED_MODULE_5__.h_)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_6__.Y)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_7__.qX)()]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({declarations:[],imports:[]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.componentWrapperDecorator)((story=>`<div style="margin: 3em">${story}</div>`))],render:args=>({props:{...args},template:`<ngm-parameter-create ${(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.argsToTemplate)(args)}></ngm-parameter-create>`})},Default={args:{dataSettings:{dataSource:_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_6__.T,entitySet:_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_8__.fJ},entityType:_metad_ocap_sql__WEBPACK_IMPORTED_MODULE_2__.ENTITY_TYPE_SALESORDER}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    dataSettings: {\n      dataSource: MODEL_KEY,\n      entitySet: CUBE_SALES_ORDER_NAME\n    },\n    entityType: ENTITY_TYPE_SALESORDER\n  }\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["actionsData","Default"]}}]);