(self.webpackChunkocap=self.webpackChunkocap||[]).push([[3276],{"./packages/angular/controls/member-list/member-list.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.mat-progress-spinner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -20px;\n  margin-top: -20px;\n}\n\n.ngm-member-list__members {\n  overflow-y: auto;\n  height: 100%;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/controls/member-tree/member-tree.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.tree-node {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.tree-node .mat-checkbox {\n  padding-right: 1rem;\n}\n\n.mat-progress-spinner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -25px;\n  margin-top: -25px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/controls/value-help/value-help.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  max-width: 100%;\n}\n\n.mat-divider.mat-divider-vertical {\n  margin: 0 10px;\n}\n\n.ngm-value-help__available .sub-title {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.ngm-value-help__available-members {\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  flex: 1;\n}\n.ngm-value-help__available-members .ngm-value-help__members {\n  flex: 1;\n  min-height: 300px;\n}\n\n.ngm-value-help__options {\n  overflow: hidden;\n  transition-duration: 300ms;\n}\n\n.ngm-value-help__selected {\n  display: flex;\n  flex-direction: column;\n  max-width: 300px;\n  overflow: hidden;\n}\n\n.ngm-value-help__selected-members {\n  flex: 1;\n  min-height: 200px;\n  min-width: 20rem;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n}\n.ngm-value-help__selected-members .ngm-value-help__selected-members-list {\n  flex: 1;\n  max-height: 300px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.ngm-value-help__selected-members .ngm-value-help__selected-members-list .mdc-list-item.mdc-list-item--with-one-line {\n  --mdc-list-list-item-container-shape: 5px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/entity/compare-member-select/member-select.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 1rem\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/controls/member-list/member-list.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>NgmMemberListComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmMemberListComponent,member_list_componentngResource=__webpack_require__("./packages/angular/controls/member-list/member-list.component.scss?ngResource"),member_list_componentngResource_default=__webpack_require__.n(member_list_componentngResource),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),list=__webpack_require__("./node_modules/@angular/material/fesm2022/list.mjs"),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs"),fesm2022_radio=__webpack_require__("./node_modules/@angular/material/fesm2022/radio.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),src=__webpack_require__("./packages/core/src/index.ts"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),combineLatestWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/combineLatestWith.js"),debounceTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),smart_filter_service=__webpack_require__("./packages/angular/controls/smart-filter.service.ts");let NgmMemberListComponent=((_NgmMemberListComponent=class NgmMemberListComponent{get dimension(){return this._dimension()}set dimension(value){this._dimension.set(value)}get options(){return this._options()}set options(value){this._options.set(value)}get displayBehaviour(){return this.dimension?.displayBehaviour}get members(){return this.slicer$.value?.members}constructor(){this._isMemberListComponent=!0,this.smartFilterService=(0,core.inject)(smart_filter_service.o),this._dimension=(0,core.signal)(null),this._options=(0,core.signal)(null),this.loadingChanging=new core.EventEmitter,this.itemSize=48,this.searchControl=new fesm2022_forms.NI,this.multiple=(0,core.computed)((()=>this.options?.multiple??this.options?.selectionType===src.ucB.Multiple)),this.hideSingleSelectionIndicator=(0,core.computed)((()=>this.options?.hideSingleSelectionIndicator)),this.slicer$=new BehaviorSubject.X(null),this.loading$=this.smartFilterService.loading$,this.members$=this.smartFilterService.selectOptions$,this._members=(0,rxjs_interop.O4)(this.members$,{initialValue:[]}),this.selectOptions=(0,rxjs_interop.O4)(this.smartFilterService.selectOptions$.pipe((0,tap.b)((members=>{this.options?.autoActiveFirst&&members?.[0]&&(0,src.xbD)(this.slicer$.value?.members)&&this.slicer$.next({...this.slicer$.value??{},members:[members[0]]})})),(0,combineLatestWith.V)(this.searchControl.valueChanges.pipe((0,debounceTime.b)(300),(0,map.U)((text=>text?`${text}`.toLowerCase():text)),(0,startWith.O)(null))),(0,map.U)((([selectOptions,text])=>{const considerValue=this.displayBehaviour!==src.CXV.descriptionOnly;return(text?selectOptions?.filter((option=>option.caption?.toLowerCase().includes(text)||considerValue&&`${option.value}`.toLowerCase().includes(text))):selectOptions)??[]}))),{initialValue:[]}),this.loadingSub=this.smartFilterService.loading$.pipe((0,rxjs_interop.sL)()).subscribe((loading=>{this.loadingChanging.emit(loading)})),this.serviceSub=this.smartFilterService.onAfterServiceInit().pipe((0,rxjs_interop.sL)()).subscribe((()=>{this.smartFilterService.refresh()})),this.slicerSub=this.slicer$.pipe((0,rxjs_interop.sL)()).subscribe((slicer=>{this.onChange?.({...slicer,dimension:this.dimension})})),(0,core.effect)((()=>{this.smartFilterService.options={...this.options??{},dimension:this.dimension}})),(0,core.effect)((()=>{this.options?.defaultMembers&&this.slicer$.next({...this.slicer$.value??{},members:[...this.options.defaultMembers]})}))}ngOnChanges({dataSettings,appearance}){if(dataSettings?.currentValue&&(this.smartFilterService.dataSettings=dataSettings.currentValue),appearance?.currentValue)switch(this.appearance.displayDensity){case displayDensity.A.compact:this.itemSize=30;break;case displayDensity.A.cosy:this.itemSize=40;break;default:this.itemSize=48}}writeValue(obj){obj&&this.slicer$.next({...obj})}registerOnChange(fn){this.onChange=fn,this.slicer$.value&&this.onChange(this.slicer$.value)}registerOnTouched(fn){}setDisabledState(isDisabled){this.disabled=isDisabled,isDisabled?this.searchControl.disable():this.searchControl.enable()}clearSearch(event){event.stopPropagation(),this.searchControl.setValue("")}compareWith(a,b){return a.value===b.value}onSelectionChange(selection){const members=selection.source.selectedOptions.selected.map((item=>({...item.value})));this.slicer$.next({...this.slicer$.value??{},members}),this.onChange?.(this.slicer$.value)}isSelected(option){return this.members?.findIndex((member=>member.value===option.value))>-1}onRadioChange(event){const member=this._members().find((item=>item.value===event.value));this.slicer$.next({...this.slicer$.value??{},members:member?[{...member}]:[]}),this.onChange?.(this.slicer$.value)}}).ctorParameters=()=>[],_NgmMemberListComponent.propDecorators={_isMemberListComponent:[{type:core.HostBinding,args:["class.ngm-member-list"]}],dataSettings:[{type:core.Input}],dimension:[{type:core.Input}],options:[{type:core.Input}],appearance:[{type:core.Input}],disabled:[{type:core.Input}],loadingChanging:[{type:core.Output}]},_NgmMemberListComponent);NgmMemberListComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-member-list",template:'<ngm-search *ngIf="options?.searchable" class="shrink-0 my-2" [formControl]="searchControl"></ngm-search>\n\n<cdk-virtual-scroll-viewport *ngIf="multiple()" class="ngm-member-list__members" [itemSize]="itemSize">\n  <mat-selection-list role="listbox" class="max-w-full"\n    [compareWith]="compareWith"\n    [displayDensity]="appearance?.displayDensity"\n    (selectionChange)="onSelectionChange($event)">\n    <mat-list-option role="listitem" *cdkVirtualFor="let item of selectOptions()" class="rounded-lg"\n      [value]="item"\n      [selected]="isSelected(item)"\n    >\n      <ngm-display-behaviour class="flex-1"\n        [displayBehaviour]="displayBehaviour"\n        [option]="item"\n        [highlight]="searchControl.value"\n      ></ngm-display-behaviour>\n    </mat-list-option>\n  </mat-selection-list>\n</cdk-virtual-scroll-viewport>\n\n<cdk-virtual-scroll-viewport *ngIf="!multiple()" class="ngm-member-list__members" [itemSize]="itemSize">\n  <mat-selection-list role="listbox" class="max-w-full"\n    (selectionChange)="onSelectionChange($event)"\n    [multiple]="false"\n    [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()"\n    [compareWith]="compareWith"\n    [displayDensity]="appearance?.displayDensity"\n    >\n    <mat-list-option role="listitem" *cdkVirtualFor="let item of selectOptions()" class="rounded-lg"\n      [value]="item"\n      [selected]="isSelected(item)">\n      <ngm-display-behaviour class="flex-1"\n        [displayBehaviour]="displayBehaviour"\n        [option]="item"\n        [highlight]="searchControl.value"\n      ></ngm-display-behaviour>\n    </mat-list-option>\n  </mat-selection-list>\n</cdk-virtual-scroll-viewport>\n\n\n<div *ngIf="loading$ | async" class="absolute top-0 left-0 w-full h-full flex justify-center items-center">\n  <mat-spinner strokeWidth="2" diameter="30"></mat-spinner>\n</div>\n',providers:[smart_filter_service.o,{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmMemberListComponent))}],imports:[common.CommonModule,scrolling.Cl,list.ie,fesm2022_radio.Fk,progress_spinner.Cq,common_module.N,core_module.A],styles:[member_list_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],NgmMemberListComponent)},"./packages/angular/controls/member-tree/member-tree.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>NgmMemberTreeComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmMemberTreeComponent,member_tree_componentngResource=__webpack_require__("./packages/angular/controls/member-tree/member-tree.component.scss?ngResource"),member_tree_componentngResource_default=__webpack_require__.n(member_tree_componentngResource),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),tree=__webpack_require__("./node_modules/@angular/cdk/fesm2022/tree.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),progress_spinner=__webpack_require__("./node_modules/@angular/material/fesm2022/progress-spinner.mjs"),fesm2022_tree=__webpack_require__("./node_modules/@angular/material/fesm2022/tree.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),src=__webpack_require__("./packages/core/src/index.ts"),uniq=__webpack_require__("./node_modules/lodash-es/uniq.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),combineLatestWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/combineLatestWith.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),smart_filter_service=__webpack_require__("./packages/angular/controls/smart-filter.service.ts");let NgmMemberTreeComponent=((_NgmMemberTreeComponent=class NgmMemberTreeComponent{get displayBehaviour(){return this.dimension()?.displayBehaviour}get treeSelectionMode(){return this.options()?.treeSelectionMode}constructor(smartFilterService){this.smartFilterService=smartFilterService,this._isMemberTreeComponent=!0,this.dataSettings=(0,core.input)(),this.dimension=(0,core.input)(),this.options=(0,core.input)(),this.appearance=(0,core.input)(),this.disabled=(0,core.input)(!1,{transform:core.booleanAttribute}),this._disabled=(0,core.signal)(!1),this.loadingChanging=new core.EventEmitter,this.itemSize=40,this.treeNodePaddingIndent=20,this.unfold=!1,this.searchControl=new fesm2022_forms.NI,this.nestedNodeMap=new Map,this.keyNodeMap=new Map,this.memberKeys=(0,core.signal)([]),this.options$=(0,rxjs_interop.Dx)(this.options),this.onlyLeaves$=this.options$.pipe((0,map.U)((options=>options?.onlyLeaves)),(0,distinctUntilChanged.x)()),this.loading$=this.smartFilterService.loading$,this.slicer=(0,core.computed)((()=>{let nodes=this.memberKeys().map((key=>this.keyNodeMap.get(key))).filter(Boolean);this.options()?.treeSelectionMode===src.OrP.ChildrenOnly?nodes=nodes.filter((node=>!this.treeControl.isExpandable(node)||!(this.childrenPartiallySelected(node)||this.childrenAllSelected(node)))):this.options()?.treeSelectionMode===src.OrP.DescendantsOnly&&(nodes=nodes.filter((node=>!this.treeControl.isExpandable(node)||!(this.descendantsPartiallySelected(node)||this.descendantsAllSelected(node)))));return{dimension:this.dimension(),members:nodes.map((node=>({value:node.key,key:node.key,caption:node.caption})))}})),this.treeNodes=(0,rxjs_interop.O4)(this.smartFilterService.membersWithSchema$.pipe((0,combineLatestWith.V)(this.onlyLeaves$),(0,map.U)((([{members,schema},onlyLeaves])=>schema?.recursiveHierarchy?(0,src.LC)(members,schema?.recursiveHierarchy,{onlyLeaves}):null)))),this.autoActiveFirst=(0,core.computed)((()=>this.options()?.autoActiveFirst)),this.initial=(0,core.signal)(!0),this.loadedTreeNodes=(0,core.effect)((()=>this.initial.set(!0)),{allowSignalWrites:!0}),this.autoActiveFirstEffect=(0,core.effect)((()=>{const treeNodes=this.treeNodes(),firstNode=treeNodes?.[0];if(this.autoActiveFirst()&&firstNode&&this.initial()&&(0,src.xbD)(this.memberKeys())){this.initial.set(!1),this.memberKeys.set([firstNode.key]);const slicer={dimension:this.dimension(),members:[{value:firstNode.key,key:firstNode.key,caption:firstNode.caption}]};this.onChange(slicer)}}),{allowSignalWrites:!0}),this._membersSub=(0,rxjs_interop.Dx)(this.treeNodes).pipe((0,combineLatestWith.V)(this.searchControl.valueChanges.pipe((0,startWith.O)(null),(0,distinctUntilChanged.x)())),(0,map.U)((([treeNodes,text])=>(text=text?.trim(),text?(0,src.NOJ)(treeNodes,text,{considerKey:this.displayBehaviour!==src.CXV.descriptionOnly}):treeNodes))),(0,rxjs_interop.sL)()).subscribe((data=>{data&&(this.dataSource.data=data,(this.options()?.initialLevel>0||this.searchControl.value)&&this.treeControl.dataNodes.forEach((node=>{(this.treeControl.getLevel(node)<this.options().initialLevel||this.searchControl.value&&1===node.childrenCardinality)&&this.treeControl.expand(node)})))})),this._refreshSub=this.smartFilterService.onAfterServiceInit().pipe((0,rxjs_interop.sL)()).subscribe((()=>{this.smartFilterService.refresh()})),this._loadingSub=this.smartFilterService.loading$.pipe((0,rxjs_interop.sL)()).subscribe((loading=>{this.loadingChanging.emit(loading)})),this.transformer=(node,level)=>{const existingNode=this.nestedNodeMap.get(node),flatNode=existingNode&&existingNode.key===node.key?existingNode:{};return flatNode.key=node.key,flatNode.raw=node.raw,flatNode.caption=node.caption,flatNode.level=level,flatNode.expandable=!!node.children?.length,flatNode.childrenCardinality=node.children?.length,this.nestedNodeMap.set(node,flatNode),this.keyNodeMap.set(flatNode.key,flatNode),flatNode},this.getLevel=node=>node.level,this.isExpandable=node=>node.expandable,this.getChildren=node=>node.children,this.treeFlattener=new fesm2022_tree.JZ(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new tree.C2(this.getLevel,this.isExpandable,{trackBy:dataNode=>dataNode.key}),this.dataSource=new fesm2022_tree.kc(this.treeControl,this.treeFlattener),this.dataSource.data=[],(0,core.effect)((()=>{const options=this.options();options&&(this.smartFilterService.options={...options,dimension:this.dimension()},options.defaultMembers&&this.memberKeys.set(options.defaultMembers.map((member=>member.key))))}),{allowSignalWrites:!0}),(0,core.effect)((()=>{const appearance=this.appearance();if(appearance)switch(appearance.displayDensity){case displayDensity.A.compact:this.itemSize=24,this.treeNodePaddingIndent=12;break;case displayDensity.A.cosy:this.itemSize=30,this.treeNodePaddingIndent=15;break;default:this.itemSize=40,this.treeNodePaddingIndent=20}}),{allowSignalWrites:!0}),(0,core.effect)((()=>{const dataSettings=this.dataSettings();dataSettings&&(this.smartFilterService.dataSettings=dataSettings)}),{allowSignalWrites:!0}),(0,core.effect)((()=>{const dimension=this.dimension();dimension&&(this.smartFilterService.options={...this.options??{},dimension})}),{allowSignalWrites:!0})}writeValue(obj){obj&&this.memberKeys.set(obj.members.map((({key})=>key)))}registerOnChange(fn){this.onChange=fn,this.options()?.defaultMembers?.length&&this.onChange({dimension:this.dimension(),members:[...this.options().defaultMembers]})}registerOnTouched(fn){}setDisabledState(isDisabled){this._disabled.set(isDisabled)}refresh(force){this.smartFilterService.refresh(force)}descendantsAllSelected(node){const descendants=this.treeControl.getDescendants(node);return descendants.length>0&&descendants.every((child=>this.isSelected(child.raw)))}descendantsPartiallySelected(node){return this.treeControl.getDescendants(node).some((child=>this.isSelected(child.raw)))&&(!this.descendantsAllSelected(node)||!this.isSelected(node.raw))}childrenAllSelected(node){const level=this.treeControl.getLevel(node);return this.treeControl.getDescendants(node).filter((node=>node.level===level+1)).every((child=>this.isSelected(child.raw)))}childrenPartiallySelected(node){return this.treeControl.getDescendants(node).some((child=>this.isSelected(child.raw)))&&(!this.childrenAllSelected(node)||!this.isSelected(node.raw))}isPartiallySelected(node){return this.options()?.treeSelectionMode===src.OrP.ChildrenOnly||this.options()?.treeSelectionMode===src.OrP.SelfChildren?this.childrenPartiallySelected(node):(this.options()?.treeSelectionMode===src.OrP.DescendantsOnly||this.options()?.treeSelectionMode===src.OrP.SelfDescendants)&&this.descendantsPartiallySelected(node)}isSelected(item){return this.memberKeys().includes(item.memberKey)}toggleMemberKey(key){this.memberKeys.update((members=>members.includes(key)?members.filter((member=>member!==key)):[...members,key]))}selectMembers(...keys){this.memberKeys.update((members=>(0,uniq.Z)([...members,...keys])))}deselectMembers(...keys){this.memberKeys.update((members=>members.filter((item=>-1!==keys.indexOf(item)))))}itemSelectionToggle(node,event){const member=node.raw.memberKey;this.toggleMemberKey(member);const level=this.treeControl.getLevel(node);if(this.options()?.treeSelectionMode===src.OrP.ChildrenOnly||this.options()?.treeSelectionMode===src.OrP.SelfChildren){const children=this.treeControl.getDescendants(node).filter((node=>node.level===level+1)).map((node=>node.raw.memberKey));this.isSelected(node.raw)?this.selectMembers(...children):this.deselectMembers(...children)}else if(this.options()?.treeSelectionMode===src.OrP.SelfDescendants||this.options()?.treeSelectionMode===src.OrP.DescendantsOnly){const descendants=this.treeControl.getDescendants(node).map((node=>node.raw.memberKey));this.isSelected(node.raw)?this.selectMembers(...descendants):this.deselectMembers(...descendants)}this.onChange(this.slicer())}toggleExpand(){this.unfold=!this.unfold,this.unfold?this.treeControl.expandAll():this.treeControl.collapseAll()}}).ctorParameters=()=>[{type:smart_filter_service.o}],_NgmMemberTreeComponent.propDecorators={_isMemberTreeComponent:[{type:core.HostBinding,args:["class.ngm-member-tree"]}],dataSettings:[{type:core.Input,args:[{isSignal:!0,alias:"dataSettings",required:!1,transform:void 0}]}],dimension:[{type:core.Input,args:[{isSignal:!0,alias:"dimension",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],appearance:[{type:core.Input,args:[{isSignal:!0,alias:"appearance",required:!1,transform:void 0}]}],disabled:[{type:core.Input,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],loadingChanging:[{type:core.Output}]},_NgmMemberTreeComponent);NgmMemberTreeComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-member-tree",template:'<div class="flex justify-start items-center">\n  <button mat-icon-button [displayDensity]="appearance()?.displayDensity"\n    (click)="$event.stopPropagation();toggleExpand()">\n    <mat-icon *ngIf="!unfold">unfold_more</mat-icon>\n    <mat-icon *ngIf="unfold">unfold_less</mat-icon>\n  </button>\n  <ngm-search *ngIf="options()?.searchable" class="flex-1" [formControl]="searchControl"></ngm-search>\n</div>\n\n<cdk-virtual-scroll-viewport class="flex-1" [itemSize]="itemSize">\n  <ng-container *cdkVirtualFor="let node of dataSource">\n    \x3c!-- Note that the [style.padding-left] is essentially what cdkTreeNodePadding is doing under the hood --\x3e\n    <div class="tree-node rounded-md" [style.padding-left]="node.level * treeNodePaddingIndent + \'px\'" [displayDensity]="appearance()?.displayDensity">\n      \x3c!-- Note that treeControl.toggle(node) is essentially what cdkTreeNodeToggle is doing under the hood --\x3e\n      <button mat-icon-button disabled *ngIf="!node.expandable" [displayDensity]="appearance()?.displayDensity"></button>\n      <button mat-icon-button *ngIf="node.expandable" [displayDensity]="appearance()?.displayDensity"\n        (click)="treeControl.toggle(node)"\n      >\n        <mat-icon class="mat-icon-rtl-mirror">\n          {{ treeControl.isExpanded(node) ? \'expand_more\' : \'chevron_right\' }}\n        </mat-icon>\n      </button>\n\n      <mat-checkbox\n        [checked]="isSelected(node.raw)"\n        [indeterminate]="isPartiallySelected(node)"\n        (change)="itemSelectionToggle(node, $event)"\n      >\n        <ngm-display-behaviour [displayBehaviour]="displayBehaviour"\n          [option]="{key: node.key, caption: node.caption}"\n          [highlight]="searchControl.value"\n        ></ngm-display-behaviour>\n      </mat-checkbox>\n    </div>\n  </ng-container>\n</cdk-virtual-scroll-viewport>\n\n<div *ngIf="loading$ | async" class="absolute top-0 left-0 w-full h-full flex justify-center items-center">\n  <mat-spinner strokeWidth="2" diameter="30"></mat-spinner>\n</div>\n',providers:[smart_filter_service.o,{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmMemberTreeComponent))}],imports:[common.CommonModule,icon.Ps,fesm2022_checkbox.p9,progress_spinner.Cq,fesm2022_button.ot,scrolling.Cl,core_module.A,common_module.N],styles:[member_tree_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[smart_filter_service.o])],NgmMemberTreeComponent)},"./packages/angular/controls/smart-filter.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>NgmSmartFilterService});var _NgmSmartFilterService,tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/core/core.service.ts"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts");let NgmSmartFilterService=((_NgmSmartFilterService=class NgmSmartFilterService extends _metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.Ryo{constructor(dsCoreService){super(dsCoreService)}ngOnDestroy(){super.onDestroy()}}).ctorParameters=()=>[{type:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_1__.q}],_NgmSmartFilterService);NgmSmartFilterService=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.Injectable)(),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.w6)("design:paramtypes",[_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_1__.q])],NgmSmartFilterService)},"./packages/angular/controls/value-help/value-help.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>NgmValueHelpComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmValueHelpComponent,value_help_componentngResource=__webpack_require__("./packages/angular/controls/value-help/value-help.component.scss?ngResource"),value_help_componentngResource_default=__webpack_require__.n(value_help_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),divider=__webpack_require__("./node_modules/@angular/material/fesm2022/divider.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),list=__webpack_require__("./node_modules/@angular/material/fesm2022/list.mjs"),fesm2022_select=__webpack_require__("./node_modules/@angular/material/fesm2022/select.mjs"),slide_toggle=__webpack_require__("./node_modules/@angular/material/fesm2022/slide-toggle.mjs"),common_module=__webpack_require__("./packages/angular/common/common.module.ts"),core_service=__webpack_require__("./packages/angular/core/core.service.ts"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),merge=__webpack_require__("./node_modules/lodash-es/merge.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),member_list_component=__webpack_require__("./packages/angular/controls/member-list/member-list.component.ts"),member_tree_component=__webpack_require__("./packages/angular/controls/member-tree/member-tree.component.ts");let NgmValueHelpComponent=((_NgmValueHelpComponent=class NgmValueHelpComponent{get dataSettings(){return this.dataSettings$()}set dataSettings(value){this.dataSettings$.set(value)}get dimension(){return this._dimension()}set dimension(value){this._dimension.set(value)}get slicerModel(){return this.slicer}set slicerModel(value){this.slicer.members=value.members}get showAllMember(){return this.options?.showAllMember}set showAllMember(value){this.options={...this.options??{},showAllMember:value}}get onlyLeaves(){return this.options?.onlyLeaves}set onlyLeaves(value){this.options={...this.options??{},onlyLeaves:value}}get excludeSelected(){return this.slicer.exclude}set excludeSelected(value){this.slicer={...this.slicer,exclude:value}}get selectionType(){return this.options?.selectionType}set selectionType(value){this.options={...this.options??{},selectionType:value}}get treeSelectionMode(){return this.options?.treeSelectionMode}set treeSelectionMode(value){this.options={...this.options??{},treeSelectionMode:value}}get selectedMembers(){return this.slicer?.members}constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data,this.DISPLAY_BEHAVIOUR=src.CXV,this.FilterSelectionType=src.ucB,this.TreeSelectionMode=src.OrP,this.PresentationEnum=src.CEQ,this.dsCoreService=(0,core.inject)(core_service.q,{optional:!0}),this.dataSettings$=(0,core.signal)(null),this._dimension=(0,core.signal)(null),this.options={stickyHeader:!0},this.appearance={displayDensity:displayDensity.A.cosy,appearance:"standard"},this.slicer={},this.expandAvailables=!1,this.displayBehaviour=(0,core.computed)((()=>this._dimension()?.displayBehaviour??src.CXV.auto)),this.hierarchy=(0,core.computed)((()=>this._dimension()?.hierarchy||this._dimension()?.dimension)),this.entityType=(0,rxjs_interop.O4)((0,rxjs_interop.Dx)(this.dataSettings$).pipe((0,filter.h)((dataSettings=>!!dataSettings?.dataSource&&!!dataSettings?.entitySet)),(0,switchMap.w)((dataSettings=>this.dsCoreService.selectEntitySet(dataSettings.dataSource,dataSettings.entitySet))),(0,map.U)((entitySet=>entitySet?.entityType)))),this.hierarchies=(0,core.computed)((()=>{const entityType=this.entityType(),dimension=this._dimension();if(entityType&&dimension){const hierarchies=(0,src.ZBB)(entityType,dimension)?.hierarchies;return hierarchies?.length&&(this.presentation=this.presentation??src.CEQ.Hierarchy),hierarchies}return[]})),data?.dsCoreService&&(this.dsCoreService=data.dsCoreService)}ngOnInit(){this.data&&(this.dataSettings=this.data.dataSettings,this.dimension=this.data.dimension,this.data.options&&(this.options=(0,merge.Z)(this.options,this.data.options)),this.slicer={...this.data.slicer??{}})}setDisplayBehaviour(value){this._dimension.update((state=>({...state,displayBehaviour:value})))}setHierarchy(hierarchy){this._dimension.update((state=>({...state,hierarchy})))}deleteMember(i){const members=[...this.slicer.members];members.splice(i,1),this.slicer={...this.slicer,members}}clearSelection(){this.slicer={...this.slicer,members:[]}}close(){this.dialogRef.close({...this.slicer,dimension:{...this.dimension}})}}).ctorParameters=()=>[{type:dialog.so,decorators:[{type:core.Optional}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[dialog.WI]}]}],_NgmValueHelpComponent.propDecorators={dataSettings:[{type:core.Input}],dimension:[{type:core.Input}],options:[{type:core.Input}],appearance:[{type:core.Input}]},_NgmValueHelpComponent);NgmValueHelpComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-value-help",template:'<div mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>\n    {{ \'Ngm.Controls.ValueHelp.Title\' | translate: {Default: \'Set Filters for \' + dimension?.dimension, value: dimension?.dimension} }}\n</div>\n\n<div class="flex px-4">\n    <div class="ngm-value-help__available-members">\n        <div class="ngm-value-help__available">\n            <div class="sub-title">\n                {{ \'Ngm.Controls.ValueHelp.AvailableMembers\' | translate: {Default: "Available Members"} }}\n                <button mat-icon-button (click)="expandAvailables=!expandAvailables">\n                    <mat-icon *ngIf="expandAvailables">keyboard_arrow_up</mat-icon>\n                    <mat-icon *ngIf="!expandAvailables">keyboard_arrow_down</mat-icon>\n                </button>\n            </div>\n\n            <div [ngStyle]="{height: expandAvailables ? \'120px\' : \'0\' }" class="ngm-value-help__options flex flex-col justify-start items-start gap-2">\n\n                <div class="flex flex-wrap justify-start items-center gap-2">\n                    <mat-form-field appearance="fill">\n                        <mat-label>\n                            {{ \'Ngm.Controls.ValueHelp.DisplayBehaviour\' | translate: {Default: "Display Behaviour"} }}\n                        </mat-label>\n                        <mat-select [ngModel]="displayBehaviour()" (ngModelChange)="setDisplayBehaviour($event)">\n                            <mat-option [value]="DISPLAY_BEHAVIOUR.descriptionOnly">\n                                {{ \'Ngm.Common.DisplayBehaviour_Description\' | translate: {Default: "Description"} }}\n                            </mat-option>\n                            <mat-option [value]="DISPLAY_BEHAVIOUR.descriptionAndId">\n                                {{ \'Ngm.Common.DisplayBehaviour_DescriptionID\' | translate: {Default: "Description ID"} }}\n                            </mat-option>\n                            <mat-option [value]="DISPLAY_BEHAVIOUR.idAndDescription">\n                                {{ \'Ngm.Common.DisplayBehaviour_IDDescription\' | translate: {Default: "ID Description"} }}\n                            </mat-option>\n                            <mat-option [value]="DISPLAY_BEHAVIOUR.idOnly">\n                                {{ \'Ngm.Common.DisplayBehaviour_ID\' | translate: {Default: "ID"} }}\n                            </mat-option>\n                            \x3c!-- null can\'t be selected in mat-select, so use \'\' as default value --\x3e\n                            <mat-option [value]="\'\'">\n                                {{ \'Ngm.Common.DisplayBehaviour_Auto\' | translate: {Default: "Auto"} }}\n                            </mat-option>\n                          </mat-select>\n                    </mat-form-field>\n    \n                    <mat-form-field appearance="fill">\n                        <mat-label>\n                            {{ \'Ngm.Controls.ValueHelp.Hierarchy\' | translate: {Default: "Hierarchy"} }}\n                        </mat-label>\n                        <mat-select [ngModel]="hierarchy()" (ngModelChange)="setHierarchy($event)">\n                          @for (hierarchy of hierarchies(); track hierarchy.name) {\n                            <mat-option [value]="hierarchy.name">{{hierarchy.caption}}</mat-option>\n                          }\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n\n                <div class="flex flex-wrap justify-start items-center gap-2 mx-2">\n                    \x3c!-- <mat-slide-toggle>\n                        {{ \'Ngm.Controls.ValueHelp.ShowUnbookedMembers\' | translate: {Default: "Show Unbooked"} }}\n                    </mat-slide-toggle> --\x3e\n                    <mat-slide-toggle [(ngModel)]="showAllMember">\n                        {{ \'Ngm.Controls.ValueHelp.ShowAllMember\' | translate: {Default: "Show \'All\' Member"} }}\n                    </mat-slide-toggle>\n                    <mat-slide-toggle [(ngModel)]="onlyLeaves">\n                        {{ \'Ngm.Controls.ValueHelp.ShowOnlyLeaves\' | translate: {Default: "Only Leaves"} }}\n                    </mat-slide-toggle>\n                    <mat-slide-toggle [(ngModel)]="excludeSelected">\n                        {{ \'Ngm.Controls.ValueHelp.ExcludeSelectedMembers\' | translate: {Default: "Exclude Selected"} }}\n                    </mat-slide-toggle>\n                </div>\n\n            </div>\n\n        </div>\n        <mat-divider></mat-divider>\n\n        <div class="ngm-value-help__members pt-2 flex flex-col">\n            <ngm-member-list *ngIf="presentation !== PresentationEnum.Hierarchy" class="w-full flex-1" cdkFocusInitial\n                [displayDensity]="appearance?.displayDensity"\n                [appearance]="appearance"\n                [dataSettings]="dataSettings"\n                [dimension]="dimension"\n                [options]="options"\n                [(ngModel)]="slicerModel"\n            ></ngm-member-list>\n\n            <ngm-member-tree *ngIf="presentation === PresentationEnum.Hierarchy" class="w-full flex-1" cdkFocusInitial\n                [displayDensity]="appearance?.displayDensity"\n                [appearance]="appearance"\n                [dataSettings]="dataSettings"\n                [dimension]="dimension"\n                [options]="options"\n                [(ngModel)]="slicerModel"\n            ></ngm-member-tree>\n        </div>\n    </div>\n\n    <mat-divider [vertical]="true"></mat-divider>\n\n    <div class="ngm-value-help__selected">\n        <div class="ngm-value-help__selected-members flex flex-col gap-2">\n            <div class="sub-title">\n                {{ \'Ngm.Controls.ValueHelp.SelectedMembers\' | translate: {Default: "Selected Members"} }}\n            </div>\n\n            <div class="ngm-value-help__selected-members-list" displayDensity="compact">\n                <mat-list class="ngm-list">\n                  @for (member of selectedMembers; track member.key; let i = $index) {\n                    <mat-list-item class="group">\n                        <div class="flex items-center overflow-hidden">\n                            <ngm-display-behaviour class="flex-1 overflow-hidden"\n                                [displayBehaviour]="displayBehaviour()"\n                                [option]="member"\n                                [excludeSelected]="excludeSelected">\n                            </ngm-display-behaviour>\n                            <mat-icon class="cursor-pointer shrink-0 opacity-0 group-hover:opacity-100" color="warn"\n                                (click)="deleteMember(i)">remove_circle_outline</mat-icon>\n                        </div>\n                        <mat-divider></mat-divider>\n                    </mat-list-item>\n                  }\n                </mat-list>\n            </div>\n            \n            <button mat-button color="accent" (click)="clearSelection()">\n                {{ \'Ngm.Controls.ValueHelp.ClearSelection\' | translate: {Default: "Clear Selection"} }}\n            </button>\n        </div>\n\n        <div class="ngm-value-help__settings grid grid-cols-1 md:grid-cols-2 gap-2">\n            <mat-form-field class="col-span-1" appearance="fill">\n                <mat-label>\n                    {{ \'Ngm.Controls.ValueHelp.SelectionType\' | translate: {Default: "Selection Type"} }}\n                </mat-label>\n                <mat-select [(ngModel)]="selectionType">\n                  <mat-option [value]="FilterSelectionType.Single">\n                    {{ \'Ngm.Common.SelectionType_Single\' | translate: {Default: "Single"} }}\n                  </mat-option>\n                  <mat-option [value]="FilterSelectionType.Multiple">\n                    {{ \'Ngm.Common.SelectionType_Multiple\' | translate: {Default: "Multiple"} }}\n                  </mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <mat-form-field class="col-span-1" appearance="fill">\n                <mat-label>\n                    {{ \'Ngm.Controls.ValueHelp.Presentation\' | translate: {Default: "Presentation"} }}\n                </mat-label>\n                <mat-select [(ngModel)]="presentation">\n                    <mat-option [value]="PresentationEnum.Flat">\n                        {{ \'Ngm.Common.Presentation_Flat\' | translate: {Default: "Flat"} }}\n                    </mat-option>\n                    <mat-option [value]="PresentationEnum.Hierarchy">\n                        {{ \'Ngm.Common.Presentation_Hierarchy\' | translate: {Default: "Hierarchy"} }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <mat-form-field *ngIf="presentation === PresentationEnum.Hierarchy && selectionType === FilterSelectionType.Multiple"\n                class="col-span-2"\n                appearance="fill"\n                >\n                <mat-label>\n                    {{ \'Ngm.Controls.ValueHelp.HierarchySelectionMode\' | translate: {Default: "Hierarchy Selection Mode"} }}\n                </mat-label>\n                <mat-select [(ngModel)]="treeSelectionMode">\n                    <mat-option [value]="TreeSelectionMode.Individual">\n                        {{ \'Ngm.Common.HierarchySelectionMode_Individual\' | translate: {Default: "Individual"} }}\n                    </mat-option>\n                    <mat-option [value]="TreeSelectionMode.SelfDescendants">\n                        {{ \'Ngm.Common.HierarchySelectionMode_SelfDescendants\' | translate: {Default: "Self & Descendants"} }}\n                    </mat-option>\n                    <mat-option [value]="TreeSelectionMode.DescendantsOnly">\n                        {{ \'Ngm.Common.HierarchySelectionMode_DescendantsOnly\' | translate: {Default: "Descendants Only"} }}\n                    </mat-option>\n                    <mat-option [value]="TreeSelectionMode.SelfChildren">\n                        {{ \'Ngm.Common.HierarchySelectionMode_SelfChildren\' | translate: {Default: "Self & Children"} }}\n                    </mat-option>\n                    <mat-option [value]="TreeSelectionMode.ChildrenOnly">\n                        {{ \'Ngm.Common.HierarchySelectionMode_ChildrenOnly\' | translate: {Default: "Children Only"} }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n    </div>\n</div>\n\n<div matDialogActions align="end" class="flex justify-end">\n    <div ngmButtonGroup>\n        <button mat-button mat-dialog-close>\n            {{ \'Ngm.Common.Cancel\' | translate: {Default: "Cancel"} }}\n          </button>\n          <button mat-raised-button color="accent" (click)="close()">\n            {{ \'Ngm.Common.Apply\' | translate: {Default: "Apply"} }}\n          </button>\n    </div>\n</div>\n',host:{class:"ngm-value-help"},imports:[common.CommonModule,fesm2022_forms.u5,ngx_translate_core.aw,dialog.Is,icon.Ps,slide_toggle.rP,divider.t,list.ie,form_field.lN,fesm2022_select.LD,fesm2022_button.ot,common_module.N,core_module.A,member_list_component.N,member_tree_component.i],styles:[value_help_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[dialog.so,Object])],NgmValueHelpComponent)},"./packages/angular/entity/compare-member-select/member-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>NgmCompareMemberSelectComponent});var asyncToGenerator=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _NgmCompareMemberSelectComponent,member_select_componentngResource=__webpack_require__("./packages/angular/entity/compare-member-select/member-select.component.scss?ngResource"),member_select_componentngResource_default=__webpack_require__.n(member_select_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),dialog=__webpack_require__("./node_modules/@angular/material/fesm2022/dialog.mjs"),form_field=__webpack_require__("./node_modules/@angular/material/fesm2022/form-field.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),fesm2022_select=__webpack_require__("./node_modules/@angular/material/fesm2022/select.mjs"),value_help_component=__webpack_require__("./packages/angular/controls/value-help/value-help.component.ts"),src=__webpack_require__("./packages/core/src/index.ts"),ngx_translate_core=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),firstValueFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");let NgmCompareMemberSelectComponent=((_NgmCompareMemberSelectComponent=class NgmCompareMemberSelectComponent{constructor(){this.AggregationRole=src.uFO,this.DISPLAY_BEHAVIOUR=src.CXV.descriptionAndId,this.COMPARE_TO_ENUM=src.rux,this._dialog=(0,core.inject)(dialog.uw,{optional:!0}),this._viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.appearance="fill",this.dataSettings$=new BehaviorSubject.X(null),this.dimension$=new BehaviorSubject.X(null),this.property$=this.dimension$.pipe((0,map.U)((dimension=>(0,src.ZBB)(this.entityType,dimension)))),this.formGroup=new fesm2022_forms.cw({type:new fesm2022_forms.NI(null,fesm2022_forms.kI.required),value:new fesm2022_forms.NI(null)}),this.trigger$=(0,combineLatest.a)([this.property$,this.formGroup.valueChanges]).pipe((0,map.U)((([property,model])=>property?model.type===src.rux.SelectedMember?property.caption+": "+model.value:model.type?property.caption+`: ${model.type}`:property.caption:"No Base dimension"))),this.isCalendar$=(0,rxjs_interop.O4)(this.property$.pipe((0,map.U)((property=>(0,src.IaF)(property))))),this._typeChanging=this.formGroup.get("type").valueChanges.pipe((0,distinctUntilChanged.x)()).subscribe((type=>{type===src.rux.CurrentMember&&(this.value=null)})),this.valueChangesSub=this.formGroup.valueChanges.pipe((0,filter.h)((()=>this.formGroup.valid))).subscribe((value=>{this._onChange?.(value)}))}get dataSettings(){return this.dataSettings$.value}set dataSettings(value){this.dataSettings$.next(value)}get dimension(){return this.dimension$.value}set dimension(value){this.dimension$.next(value)}get type(){return this.formGroup.value.type}set type(value){this.formGroup.patchValue({type:value})}get value(){return this.formGroup.value.value}set value(value){this.formGroup.patchValue({value})}writeValue(obj){obj&&this.formGroup.patchValue(obj)}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){}setDisabledState(isDisabled){this.disabled=isDisabled}selectByMember(event){var _this=this;return(0,asyncToGenerator.Z)((function*(){event.stopPropagation();const slicer=yield(0,firstValueFrom.z)(_this._dialog.open(value_help_component.v,{viewContainerRef:_this._viewContainerRef,data:{dimension:_this.dimension,slicer:{members:_this.type===src.rux.SelectedMember&&_this.value?[{value:_this.value}]:[]},dataSettings:_this.dataSettings,options:{selectionType:src.ucB.Single,searchable:!0,initialLevel:1}}}).afterClosed());slicer&&_this.formGroup.patchValue({type:src.rux.SelectedMember,value:slicer.members?.[0]?.value})}))()}}).propDecorators={appearance:[{type:core.Input}],label:[{type:core.Input}],dataSettings:[{type:core.Input}],entityType:[{type:core.Input}],dimension:[{type:core.Input}],disabled:[{type:core.Input}]},_NgmCompareMemberSelectComponent);NgmCompareMemberSelectComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,imports:[common.CommonModule,fesm2022_forms.u5,fesm2022_forms.UX,ngx_translate_core.aw,form_field.lN,fesm2022_select.LD,input.c],changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-compare-member-select",template:'<mat-form-field [appearance]="appearance">\n  <mat-label>\n    <span>{{ label }}</span>\n  </mat-label>\n\n  <mat-select [(ngModel)]="type" [disabled]="disabled" panelClass="ngm-property-select__panel">\n    <mat-select-trigger>\n      <span>{{ trigger$ | async }}</span>\n    </mat-select-trigger>\n    \n    \x3c!-- <ng-container *ngIf="isCalendar">\n      <mat-option [value]="COMPARE_TO_ENUM.CurrentMember">Current Member</mat-option>\n      <mat-option [value]="COMPARE_TO_ENUM.Lag">Prev</mat-option>\n    </ng-container> --\x3e\n    \n    <mat-option [value]="COMPARE_TO_ENUM.CurrentMember">\n      {{ \'Ngm.Property.CurrentMember\' | translate: {Default: "Current Member"} }}\n    </mat-option>\n\n    <mat-option [value]="COMPARE_TO_ENUM.Lag">\n      {{ \'Ngm.Property.PreviousNMember\' | translate: {Default: "Previous \'N\' Member"} }}\n    </mat-option>\n    <mat-option [value]="COMPARE_TO_ENUM.Lead">\n      {{ \'Ngm.Property.NextNMember\' | translate: {Default: "Next \'N\' Member"} }}\n    </mat-option>\n    <mat-option [value]="COMPARE_TO_ENUM.Parallel">\n      {{ \'Ngm.Property.ParallelMember\' | translate: {Default: "Parallel Member"} }}\n    </mat-option>\n\n    <mat-option [value]="COMPARE_TO_ENUM.Ancestor">\n      {{ \'Ngm.Property.AncestorMember\' | translate: {Default: "Ancestor Member"} }}\n    </mat-option>\n\n    <mat-option [value]="COMPARE_TO_ENUM.SelectedMember" ngmAppearance="dashed" (click)="selectByMember($event)">\n      {{ \'Ngm.Property.SelectByMembers\' | translate: {Default: "Select by Members"} }}...</mat-option>\n\n    \x3c!-- 暂时未支持\n    <mat-option value="two" ngmAppearance="dashed">\n      {{ \'Ngm.Property.NewCalculationInputControl\' | translate: {Default: "New Calculation Input"} }}\n    </mat-option> --\x3e\n  </mat-select>\n\n</mat-form-field>\n\n<mat-form-field *ngIf="type !== COMPARE_TO_ENUM.CurrentMember && type !== COMPARE_TO_ENUM.Ancestor && type !== COMPARE_TO_ENUM.SelectedMember" [appearance]="appearance">\n  <mat-label>{{ \'Ngm.Property.NthMember\' | translate: {Default: "Value / N\'th Member"} }}</mat-label>\n  <input matInput [(ngModel)]="value">\n</mat-form-field>\n',host:{class:"ngm-compare-member-select"},providers:[{provide:fesm2022_forms.JU,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmCompareMemberSelectComponent))}],styles:[member_select_componentngResource_default()]})],NgmCompareMemberSelectComponent)},"./packages/angular/i18n/zhHans.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>ZhHans});const ZhHans={Ngm:{Common:{Add:"添加",Cancel:"取消",Apply:"应用",Reset:"重置",Search:"搜索",Select:"选择",Clear:"清空",Search_Placeholder:"请输入关键词",DisplayBehaviour_Description:"描述",DisplayBehaviour_DescriptionID:"描述 ID",DisplayBehaviour_IDDescription:"ID 描述",DisplayBehaviour_ID:"ID",DisplayBehaviour_Auto:"自动",SelectionType_Single:"单选",SelectionType_Multiple:"多选",Presentation_Flat:"平铺",Presentation_Hierarchy:"层级",HierarchySelectionMode_Individual:"单个",HierarchySelectionMode_SelfDescendants:"自己和后代",HierarchySelectionMode_DescendantsOnly:"只后代",HierarchySelectionMode_SelfChildren:"自己和子代",HierarchySelectionMode_ChildrenOnly:"只子代",Measures:"度量",None:"无",Default:"默认",Hierarchy:"层次结构",DisplayBehaviour:"显示行为",DisplayBehaviour_IDOnly:"编码"},AnalyticalCard:{Screenshot:"截图",DataDownload:"下载数据",Refresh:"刷新",DrillDown:"下钻",DrillLevel:"层级下钻",DrillDimension:"维度下钻",LinkAnalysis:"联动筛选",DataEmpty:"数据为空"},AnalyticalGrid:{DataDownload:"下载数据",SORT:"排序",MOVE:"移动",ASCENDING:"正序",DESCENDGING:"倒序",MOVELEFT:"向左",MOVERIGHT:"向右",Search:"搜索",SelectAll:"选择所有",Pin:"固定"},Controls:{ValueHelp:{Title:"为{{value}}设置过滤器",AvailableMembers:"可选成员",DisplayBehaviour:"展现形式",SelectedMembers:"选中成员",ClearSelection:"清空选择",ShowUnbookedMembers:"显示未分配成员",ShowAllMember:"显示‘所有’成员",ShowOnlyLeaves:"只显示叶子节点",ExcludeSelectedMembers:"排除选中成员",SelectionType:"选择类型",Presentation:"展现形式",HierarchySelectionMode:"层级选择模式",Hierarchy:"层次结构"}},Copilot:{Copilot:"副驾驶",AICopilot:"AI 副驾驶",EnableCopilot:"启用 Copilot",GetYourApiKey:"获取你的 API Key",ProvideOpenaiApiKey:"请提供 Openai API Key?",Provider:"提供商",YourAIPairProgrammer:"你的 AI 配对程序员!",LetYourAIPairProgrammerEdits:"让你的 AI 配对程序员修改一下!",SelectSomeCode:"选择代码，让你的 AI 配对程序员修改一下!",ThinkingHard:"努力思考中...",StopGenerating:"停止生成",ClearMessages:"清空消息",CharacterLength:"字数",Resubmit:"重新提交",Cancel:"取消",Model:"模型",Options:"选项",UseSystemPrompt:"使用系统提示",ExamplesOfPrompts:"提示语示例",APIKey:"API 密钥",APIHost:"API 主机",AskAICopilot:"向 AI 副驾驶询问问题",Prompt:"提示",SendPrompt:"发送提问",Placeholder:"询问副驾驶或输入 / 获取命令",ClearConversation:"清空会话",Ask:"提问",Copy:"复制",Regenerate:"重新生成",Common:"通用",PleaseSelectBusinessRole:"请选择一个业务角色",DefaultBusinessRole:{title:"通用",description:"通用业务角色"},Help:"帮助",NewChat:"新聊天",Update:"更新"},Entity:{SelectEntities:"选择数据集",SemanticModel:"语义模型",Cube:"多维数据集",AnnotatedCube:"增强过的多维数据集",MEASURE:"度量",SELECT_DIMENSION:"选择维度",MeasureFormatting:"度量格式",ShortNumber:"缩写数字",Decimals:"小数位",Unit:"单位",UseUnderlyingUnit:"使用模型单位",DigitsInfo:"数字格式"},EntitySchema:{Parameters:"参数",Measures:"度量",Properties:"属性"},Formula:{Editor:{EditFormula:"编辑公式",Format:"格式化",Help:"帮助"}},Table:{Select:"选择",NoData:"无数据",MatchingFilter:'匹配过滤条件"{{value}}"',firstPageLabel:"第一",itemsPerPageLabel:"每页",lastPageLabel:"最后",nextPageLabel:"下一页",previousPageLabel:"上一页",rangeLabel0:"页 1 共 1",pageLabel:"页",ofLabel:"共"},DatePicker:{Date:"日期",Year:"年",Quarter:"季",Month:"月",Week:"周",Day:"日",From:"从",To:"至"},TimeFilter:{SET_DATE_RANGE:"为 {{property}} 设置时间区间",CURRENT_DATE:"当前日期",SYSTEM_DATE:"系统时间",USER_CURRENT_DATE:"用户当前时间",ADD_TIME_RANGE:"添加时间区间",RANGE:"区间",RANGE_TYPE:"区间类型",RANGE_TYPE_STANDARD:"标准",RANGE_TYPE_OFFSET:"偏移",GRANULARITY:"粒度",YEAR:"年",QUARTER:"季度",MONTH:"月",WEEK:"周",DAY:"日",LOOK_BACK:"回顾",LOOK_AHEAD:"展望",CURRENT_PERIOD:"当前时间",FORMATTER:"格式",OFFSET_DIRECTION:"偏移方向",OFFSET_AMOUNT:"偏移量",SETTINGS_FOR_USERS:"为用户设置",ALLOW_MODIFY_SELECTIONS:"允许查看者修改选择",SELECTION_TYPE:"选择类型",SELECTION_TYPE_MULTIPLE:"多选",SELECTION_TYPE_SINGLE:"单选",TODAY:"当前期间",Year:"年",Quarter:"季度",Month:"月",Week:"周",Day:"日",Today:"今天"},AdvancedSlicer:{TITLE:"高级切片器",CONTEXT:"上下文",OPERATOR:"操作符",ENABLE_OTHER:"汇总其它项",VALUE:"值",VALUE_FROM:"从",VALUE_TO:"至",MEASURE:"度量",MeasureSelectPlaceholder:"选择或新建一个度量",Equal:"等于",NotEqual:"不等于",LessThan:"小于",GreaterThan:"大于",LessEqual:"小于等于",GreaterEqual:"大于等于",Between:"介于",NotBetween:"不介于",TopCount:"前 N 个",BottomCount:"后 N 个",TopPercent:"前百分比的",BottomPercent:"后百分比的",TopSum:"前总数",BottomSum:"后总数"},Property:{PARAMETER:"参数",PARAMETERS:"参数",MEASURE:"度量",MEASURES:"度量",MeasureGroup:"度量组",INDICATORS:"指标",CREATE_PARAMETER:"创建参数",EditParameter:"编辑参数",CALCULATIONS:"计算度量",DIMENSION:"维度",DIMENSIONS:"维度",ADD_DIMENSION:"添加维度",MEMBERS:"成员",HIERARCHY:"层次结构",ADD_PARAMETER_MEMBER:"添加成员",MEASURE_CONTROLS:"度量控制",CREATE_CALCULATION:"创建计算",CREATE_MEASURE_CONTROL:"创建度量控制",REFERENCE_LINE:"参考线",Input:"输入",Select:"选择",Dimensions:"维度",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",Value:"值",DefaultValue:"默认值",ValueType:"值类型",DisplayAs:"显示为",Label:"文本字段",Formatter:"格式设置",EditFormula:"编辑公式",UnbookedData:"无成员数据",ZeroSuppression:"清零",PropertyList:"属性列表",DisplayHierarchy:"包含父级层级",CreateParameter:"创建参数",CurrentMember:"当前成员",PreviousNMember:"之前第 N 个成员",NextNMember:"之后第 N 个成员",ParallelMember:"平行成员",AncestorMember:"祖先成员",SelectByMembers:"选择成员",NewCalculationInputControl:"新建计算输入",NthMember:"值 / 第 N 个",IsDefault:"默认",Default:"默认",Auto:"自动","Description and ID":"名称+ID","Description Only":"名称","ID Only":"ID",Description:"描述",Order:"排序",None:"无",Order_ASC:"正序",Order_DESC:"倒序",Dimension:"维度",AvailableMembers:"可用成员",DimensionNotFound:"在数据集‘{{cube}}’中未找到维度‘{{dimension}}’",DIMENSION_MEASURE:"维度/度量",Parameter:"参数","Measure Control":"度量控制",Measure:"度量",Calculation:"计算",Hierarchy:"层次结构",Level:"层级","Measure Group":"度量组",Indicator:"指标",Calendar:"日历","Address.Country":"国家"},MeasureSelect:{EditCalculationMeasure:"编辑计算度量",NewCalculationMeasure:"新建计算度量"},Calculation:{TITLE:"计算编辑器",TYPE:"类型",Name:"名称",NameRequired:"名称必输或已存在",Caption:"标签",FUNCTIONS:"函数",DIMENSION_MEMBERS:"维度成员",CALCULATED_MEMBERS:"计算成员",PARAMETERS:"参数",CALCULATED_MEASURE:"计算公式",RESTRICTED_MEASURE:"受限度量",VARIANCE_MEASURE:"差值度量",AGGREGATION:"聚合",DIMENSION_TO_MEASURE:"维度转度量",MEASURE_CONTROL:"度量控制",PROPERTIES:"属性",OPERATION:"运算",VALUE:"值",AGGREGATION_DIMENSIONS:"聚合维度",ADD_DIMENSION:"添加维度",SELECTION_CONTEXT:"选择上下文",ENABLE_CONSTANT_SELECTION:"启用常量选择",EDIT_FORMULA:"编辑公式",ToggleSidebar:"切换侧边栏",UseConditionalAggregation:"使用条件聚合",ConditionalDimensions:"条件维度",ExcludeConditions:"排除条件",Compare:"比",To:"较",BaseDimension:"基准维度",SetNoDataasZero:"将无数据当作零",CalculateasPercentage:"计算为百分比",DirectDivide:"直接除",AbsoluteBaseValue:"绝对化基值",DivideBy:"除以",CompareValueA:"比 (A)",ToValueB:"较 (B)",Measure:"度量",RestrictiveConditions:"限定条件",ConstantSelectionTootip:"锁定限定条件维度成员,使其不会被用户上下文切片器所覆盖",Dimension:"维度",MeasureSelectOptions:"度量选择选项",ConditionalAggregation:"条件聚合",Unit:"单位",Formulas:"公式",MeasureSelectPlaceholder:"选择或新建一个度量",MeasureIsRequired:"度量必选"},AdvancedFilter:{Title:"组合切片器",AND:"且",OR:"或",GROUP:"组合",Operator:"操作符",Value:"值",Condition:"条件",AddGroup:'"且"组合',OrGroup:'"或"组合',EndGroup:"结束组合",DeleteGroup:"删除组合",Tips:"使用 且/或 创建条件组合"},Selection:{Slicers:"切片器",AdvancedFilter:"组合切片器",CombinationSlicer:"组合切片器",AdvancedSlicer:"高级切片器",DimensionMembers:"维度成员",TimeRanges:"动态时间范围",OnContext:"基于",SLICERS_BAR:{TITLE:"过滤器"},SLICER:{ADVANCED_SLICER:"高级切片器",ADVANCED_FILTER:"组合切片器"},DateFunctions:{SYSTEMTIME:"系统时间",TODAY:"今天"}}}}},"./packages/angular/mock/logger.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>provideLogger});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ngx_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ngx-logger/fesm2020/ngx-logger.mjs");function provideLogger(){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.importProvidersFrom)(ngx_logger__WEBPACK_IMPORTED_MODULE_1__.f9.forRoot({level:ngx_logger__WEBPACK_IMPORTED_MODULE_1__._z.DEBUG,serverLogLevel:ngx_logger__WEBPACK_IMPORTED_MODULE_1__._z.ERROR}))}},"./packages/angular/mock/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qX:()=>provideTranslate,zd:()=>zhHansLanguage});var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ngx-translate/core/dist/fesm2022/ngx-translate-core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/core/i18n/missing-tanslation.ts"),_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/i18n/zhHans.ts");const zhHansLanguage="zh-Hans";class CustomTranslateLoader{getTranslation(lang){return console.log(lang),lang===zhHansLanguage?(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(_metad_ocap_angular_i18n__WEBPACK_IMPORTED_MODULE_1__.q):(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)(null)}}function provideTranslate(defaultLanguage=zhHansLanguage){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.aw.forRoot({missingTranslationHandler:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.gC,useClass:_metad_ocap_angular_core__WEBPACK_IMPORTED_MODULE_4__.l},loader:{provide:_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.Zw,useClass:CustomTranslateLoader,deps:[_angular_common_http__WEBPACK_IMPORTED_MODULE_5__.eN]},defaultLanguage}))}},"./node_modules/lodash-es/_baseFor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_baseFor});const _baseFor=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}()},"./node_modules/lodash-es/_baseRest.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _identity_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/identity.js"),_overRest_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_overRest.js"),_setToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_setToString.js");const __WEBPACK_DEFAULT_EXPORT__=function baseRest(func,start){return(0,_setToString_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_overRest_js__WEBPACK_IMPORTED_MODULE_1__.Z)(func,start,_identity_js__WEBPACK_IMPORTED_MODULE_2__.Z),func+"")}},"./node_modules/lodash-es/_baseUniq.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_baseUniq});var _SetCache=__webpack_require__("./node_modules/lodash-es/_SetCache.js"),_baseIndexOf=__webpack_require__("./node_modules/lodash-es/_baseIndexOf.js");const _arrayIncludes=function arrayIncludes(array,value){return!!(null==array?0:array.length)&&(0,_baseIndexOf.Z)(array,value,0)>-1};const _arrayIncludesWith=function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1};var _cacheHas=__webpack_require__("./node_modules/lodash-es/_cacheHas.js"),_Set=__webpack_require__("./node_modules/lodash-es/_Set.js");const lodash_es_noop=function noop(){};var _setToArray=__webpack_require__("./node_modules/lodash-es/_setToArray.js");const _createSet=_Set.Z&&1/(0,_setToArray.Z)(new _Set.Z([,-0]))[1]==1/0?function(values){return new _Set.Z(values)}:lodash_es_noop;const _baseUniq=function baseUniq(array,iteratee,comparator){var index=-1,includes=_arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=_arrayIncludesWith;else if(length>=200){var set=iteratee?null:_createSet(array);if(set)return(0,_setToArray.Z)(set);isCommon=!1,includes=_cacheHas.Z,seen=new _SetCache.Z}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _Uint8Array_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_Uint8Array.js");const __WEBPACK_DEFAULT_EXPORT__=function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new _Uint8Array_js__WEBPACK_IMPORTED_MODULE_0__.Z(result).set(new _Uint8Array_js__WEBPACK_IMPORTED_MODULE_0__.Z(arrayBuffer)),result}},"./node_modules/lodash-es/_cloneBuffer.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _root_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_root.js");module=__webpack_require__.hmd(module);var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?_root_js__WEBPACK_IMPORTED_MODULE_0__.Z.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;const __WEBPACK_DEFAULT_EXPORT__=function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}},"./node_modules/lodash-es/_cloneTypedArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _cloneArrayBuffer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_cloneArrayBuffer.js");const __WEBPACK_DEFAULT_EXPORT__=function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?(0,_cloneArrayBuffer_js__WEBPACK_IMPORTED_MODULE_0__.Z)(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},"./node_modules/lodash-es/_copyArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},"./node_modules/lodash-es/_copyObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _assignValue_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_assignValue.js"),_baseAssignValue_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseAssignValue.js");const __WEBPACK_DEFAULT_EXPORT__=function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?(0,_baseAssignValue_js__WEBPACK_IMPORTED_MODULE_0__.Z)(object,key,newValue):(0,_assignValue_js__WEBPACK_IMPORTED_MODULE_1__.Z)(object,key,newValue)}return object}},"./node_modules/lodash-es/_createAssigner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseRest_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseRest.js"),_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_isIterateeCall.js");const __WEBPACK_DEFAULT_EXPORT__=function createAssigner(assigner){return(0,_baseRest_js__WEBPACK_IMPORTED_MODULE_0__.Z)((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&(0,_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__.Z)(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}},"./node_modules/lodash-es/_getPrototype.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/lodash-es/_overArg.js").Z)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_initCloneObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_initCloneObject});var isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),objectCreate=Object.create;const _baseCreate=function(){function object(){}return function(proto){if(!(0,isObject.Z)(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();var _getPrototype=__webpack_require__("./node_modules/lodash-es/_getPrototype.js"),_isPrototype=__webpack_require__("./node_modules/lodash-es/_isPrototype.js");const _initCloneObject=function initCloneObject(object){return"function"!=typeof object.constructor||(0,_isPrototype.Z)(object)?{}:_baseCreate((0,_getPrototype.Z)(object))}},"./node_modules/lodash-es/_isIterateeCall.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _eq_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash-es/eq.js"),_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/isArrayLike.js"),_isIndex_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/_isIndex.js"),_isObject_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isObject.js");const __WEBPACK_DEFAULT_EXPORT__=function isIterateeCall(value,index,object){if(!(0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__.Z)(object))return!1;var type=typeof index;return!!("number"==type?(0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__.Z)(object)&&(0,_isIndex_js__WEBPACK_IMPORTED_MODULE_2__.Z)(index,object.length):"string"==type&&index in object)&&(0,_eq_js__WEBPACK_IMPORTED_MODULE_3__.Z)(object[index],value)}},"./node_modules/lodash-es/keysIn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_keysIn});var _arrayLikeKeys=__webpack_require__("./node_modules/lodash-es/_arrayLikeKeys.js"),isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),_isPrototype=__webpack_require__("./node_modules/lodash-es/_isPrototype.js");const _nativeKeysIn=function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result};var _baseKeysIn_hasOwnProperty=Object.prototype.hasOwnProperty;const _baseKeysIn=function baseKeysIn(object){if(!(0,isObject.Z)(object))return _nativeKeysIn(object);var isProto=(0,_isPrototype.Z)(object),result=[];for(var key in object)("constructor"!=key||!isProto&&_baseKeysIn_hasOwnProperty.call(object,key))&&result.push(key);return result};var isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js");const lodash_es_keysIn=function keysIn(object){return(0,isArrayLike.Z)(object)?(0,_arrayLikeKeys.Z)(object,!0):_baseKeysIn(object)}},"./node_modules/lodash-es/merge.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_merge});var _Stack=__webpack_require__("./node_modules/lodash-es/_Stack.js"),_baseAssignValue=__webpack_require__("./node_modules/lodash-es/_baseAssignValue.js"),eq=__webpack_require__("./node_modules/lodash-es/eq.js");const _assignMergeValue=function assignMergeValue(object,key,value){(void 0!==value&&!(0,eq.Z)(object[key],value)||void 0===value&&!(key in object))&&(0,_baseAssignValue.Z)(object,key,value)};var _baseFor=__webpack_require__("./node_modules/lodash-es/_baseFor.js"),_cloneBuffer=__webpack_require__("./node_modules/lodash-es/_cloneBuffer.js"),_cloneTypedArray=__webpack_require__("./node_modules/lodash-es/_cloneTypedArray.js"),_copyArray=__webpack_require__("./node_modules/lodash-es/_copyArray.js"),_initCloneObject=__webpack_require__("./node_modules/lodash-es/_initCloneObject.js"),isArguments=__webpack_require__("./node_modules/lodash-es/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash-es/isArray.js"),isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js"),isObjectLike=__webpack_require__("./node_modules/lodash-es/isObjectLike.js");const lodash_es_isArrayLikeObject=function isArrayLikeObject(value){return(0,isObjectLike.Z)(value)&&(0,isArrayLike.Z)(value)};var isBuffer=__webpack_require__("./node_modules/lodash-es/isBuffer.js"),isFunction=__webpack_require__("./node_modules/lodash-es/isFunction.js"),isObject=__webpack_require__("./node_modules/lodash-es/isObject.js"),_baseGetTag=__webpack_require__("./node_modules/lodash-es/_baseGetTag.js"),_getPrototype=__webpack_require__("./node_modules/lodash-es/_getPrototype.js"),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,isPlainObject_hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);const lodash_es_isPlainObject=function isPlainObject(value){if(!(0,isObjectLike.Z)(value)||"[object Object]"!=(0,_baseGetTag.Z)(value))return!1;var proto=(0,_getPrototype.Z)(value);if(null===proto)return!0;var Ctor=isPlainObject_hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString};var isTypedArray=__webpack_require__("./node_modules/lodash-es/isTypedArray.js");const _safeGet=function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]};var _copyObject=__webpack_require__("./node_modules/lodash-es/_copyObject.js"),keysIn=__webpack_require__("./node_modules/lodash-es/keysIn.js");const lodash_es_toPlainObject=function toPlainObject(value){return(0,_copyObject.Z)(value,(0,keysIn.Z)(value))};const _baseMergeDeep=function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=_safeGet(object,key),srcValue=_safeGet(source,key),stacked=stack.get(srcValue);if(stacked)_assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=(0,isArray.Z)(srcValue),isBuff=!isArr&&(0,isBuffer.Z)(srcValue),isTyped=!isArr&&!isBuff&&(0,isTypedArray.Z)(srcValue);newValue=srcValue,isArr||isBuff||isTyped?(0,isArray.Z)(objValue)?newValue=objValue:lodash_es_isArrayLikeObject(objValue)?newValue=(0,_copyArray.Z)(objValue):isBuff?(isCommon=!1,newValue=(0,_cloneBuffer.Z)(srcValue,!0)):isTyped?(isCommon=!1,newValue=(0,_cloneTypedArray.Z)(srcValue,!0)):newValue=[]:lodash_es_isPlainObject(srcValue)||(0,isArguments.Z)(srcValue)?(newValue=objValue,(0,isArguments.Z)(objValue)?newValue=lodash_es_toPlainObject(objValue):(0,isObject.Z)(objValue)&&!(0,isFunction.Z)(objValue)||(newValue=(0,_initCloneObject.Z)(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),_assignMergeValue(object,key,newValue)}};const _baseMerge=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&(0,_baseFor.Z)(source,(function(srcValue,key){if(stack||(stack=new _Stack.Z),(0,isObject.Z)(srcValue))_baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(_safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),_assignMergeValue(object,key,newValue)}}),keysIn.Z)};const lodash_es_merge=(0,__webpack_require__("./node_modules/lodash-es/_createAssigner.js").Z)((function(object,source,srcIndex){_baseMerge(object,source,srcIndex)}))},"./node_modules/lodash-es/uniq.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseUniq_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseUniq.js");const __WEBPACK_DEFAULT_EXPORT__=function uniq(array){return array&&array.length?(0,_baseUniq_js__WEBPACK_IMPORTED_MODULE_0__.Z)(array):[]}},"./node_modules/ngx-monaco-editor/fesm2015/ngx-monaco-editor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{nm:()=>MonacoEditorModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");const _c0=["editorContainer"],NGX_MONACO_EDITOR_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("NGX_MONACO_EDITOR_CONFIG");let loadPromise,loadedMonaco=!1;class BaseEditor{constructor(config){this.config=config,this.onInit=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}ngAfterViewInit(){loadedMonaco?loadPromise.then((()=>{this.initMonaco(this._options)})):(loadedMonaco=!0,loadPromise=new Promise((resolve=>{const baseUrl=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if("object"==typeof window.monaco)return void resolve();const onGotAmdLoader=()=>{window.require.config({paths:{vs:`${baseUrl}`}}),window.require(["vs/editor/editor.main"],(()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),resolve()}))};if(window.require)onGotAmdLoader();else{const loaderScript=document.createElement("script");loaderScript.type="text/javascript",loaderScript.src=`${baseUrl}/loader.js`,loaderScript.addEventListener("load",onGotAmdLoader),document.body.appendChild(loaderScript)}})))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}BaseEditor.ɵfac=function BaseEditor_Factory(t){return new(t||BaseEditor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NGX_MONACO_EDITOR_CONFIG))},BaseEditor.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({type:BaseEditor,selectors:[["ng-component"]],viewQuery:function BaseEditor_Query(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]())&&(ctx._editorContainer=_t.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function BaseEditor_Template(rf,ctx){},encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BaseEditor,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,args:[{template:""}]}],(function(){return[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[NGX_MONACO_EDITOR_CONFIG]}]}]}),{_editorContainer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,args:["editorContainer",{static:!0}]}],onInit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]});class EditorComponent extends BaseEditor{constructor(zone,editorConfig){super(editorConfig),this.zone=zone,this.editorConfig=editorConfig,this._value="",this.propagateChange=_=>{},this.onTouched=()=>{}}set options(options){this._options=Object.assign({},this.config.defaultOptions,options),this._editor&&(this._editor.dispose(),this.initMonaco(options))}get options(){return this._options}set model(model){this.options.model=model,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(value){this._value=value||"",setTimeout((()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)}))}registerOnChange(fn){this.propagateChange=fn}registerOnTouched(fn){this.onTouched=fn}initMonaco(options){const hasModel=!!options.model;if(hasModel){const model=monaco.editor.getModel(options.model.uri||"");model?(options.model=model,options.model.setValue(this._value)):options.model=monaco.editor.createModel(options.model.value,options.model.language,options.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,options),hasModel||this._editor.setValue(this._value),this._editor.onDidChangeModelContent((e=>{const value=this._editor.getValue();this.zone.run((()=>{this.propagateChange(value),this._value=value}))})),this._editor.onDidBlurEditorWidget((()=>{this.onTouched()})),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.R)(window,"resize").subscribe((()=>this._editor.layout())),this.onInit.emit(this._editor)}}EditorComponent.ɵfac=function EditorComponent_Factory(t){return new(t||EditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NGX_MONACO_EDITOR_CONFIG))},EditorComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({type:EditorComponent,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{provide:_angular_forms__WEBPACK_IMPORTED_MODULE_2__.JU,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((()=>EditorComponent)),multi:!0}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function EditorComponent_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0,"div",1,0)},styles:["[_nghost-%COMP%] {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container[_ngcontent-%COMP%] {\n          width: 100%;\n          height: 98%;\n      }"]}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EditorComponent,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,args:[{selector:"ngx-monaco-editor",template:'<div class="editor-container" #editorContainer></div>',styles:["\n      :host {\n          display: block;\n          height: 200px;\n      }\n\n      .editor-container {\n          width: 100%;\n          height: 98%;\n      }\n  "],providers:[{provide:_angular_forms__WEBPACK_IMPORTED_MODULE_2__.JU,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((()=>EditorComponent)),multi:!0}]}]}],(function(){return[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[NGX_MONACO_EDITOR_CONFIG]}]}]}),{options:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["options"]}],model:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["model"]}]});class DiffEditorComponent extends BaseEditor{constructor(editorConfig){super(editorConfig),this.editorConfig=editorConfig}set options(options){this._options=Object.assign({},this.config.defaultOptions,options),this._editor&&(this._editor.dispose(),this.initMonaco(options))}get options(){return this._options}set originalModel(model){this._originalModel=model,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}set modifiedModel(model){this._modifiedModel=model,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}initMonaco(options){if(!this._originalModel||!this._modifiedModel)throw new Error("originalModel or modifiedModel not found for ngx-monaco-diff-editor");this._originalModel.language=this._originalModel.language||options.language,this._modifiedModel.language=this._modifiedModel.language||options.language;let originalModel=monaco.editor.createModel(this._originalModel.code,this._originalModel.language),modifiedModel=monaco.editor.createModel(this._modifiedModel.code,this._modifiedModel.language);this._editorContainer.nativeElement.innerHTML="";const theme=options.theme;this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,options),options.theme=theme,this._editor.setModel({original:originalModel,modified:modifiedModel}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.R)(window,"resize").subscribe((()=>this._editor.layout())),this.onInit.emit(this._editor)}}DiffEditorComponent.ɵfac=function DiffEditorComponent_Factory(t){return new(t||DiffEditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NGX_MONACO_EDITOR_CONFIG))},DiffEditorComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({type:DiffEditorComponent,selectors:[["ngx-monaco-diff-editor"]],inputs:{options:"options",originalModel:"originalModel",modifiedModel:"modifiedModel"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function DiffEditorComponent_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0,"div",1,0)},styles:["[_nghost-%COMP%] {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container[_ngcontent-%COMP%] {\n      width: 100%;\n      height: 98%;\n    }"]}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DiffEditorComponent,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,args:[{selector:"ngx-monaco-diff-editor",template:'<div class="editor-container" #editorContainer></div>',styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}]}],(function(){return[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[NGX_MONACO_EDITOR_CONFIG]}]}]}),{options:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["options"]}],originalModel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["originalModel"]}],modifiedModel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["modifiedModel"]}]});class MonacoEditorModule{static forRoot(config={}){return{ngModule:MonacoEditorModule,providers:[{provide:NGX_MONACO_EDITOR_CONFIG,useValue:config}]}}}MonacoEditorModule.ɵfac=function MonacoEditorModule_Factory(t){return new(t||MonacoEditorModule)},MonacoEditorModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({type:MonacoEditorModule,declarations:[EditorComponent,DiffEditorComponent],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule],exports:[EditorComponent,DiffEditorComponent]}),MonacoEditorModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule]]}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MonacoEditorModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,args:[{imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule],declarations:[EditorComponent,DiffEditorComponent],exports:[EditorComponent,DiffEditorComponent]}]}],null,null)},"./packages/angular/entity/compare-member-select/member-select.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Calendar:()=>Calendar,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/mock/translate.ts"),_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/angular/mock/logger.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),ngx_monaco_editor__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/ngx-monaco-editor/fesm2015/ngx-monaco-editor.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Entity/CompareMemberSelect",component:__webpack_require__("./packages/angular/entity/compare-member-select/member-select.component.ts").z,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({providers:[(0,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__.provideAnimations)(),(0,_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.h_)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_4__.qX)(),(0,_metad_ocap_angular_mock__WEBPACK_IMPORTED_MODULE_5__.j)(),(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.importProvidersFrom)(ngx_monaco_editor__WEBPACK_IMPORTED_MODULE_7__.nm.forRoot())]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({declarations:[],imports:[ngx_monaco_editor__WEBPACK_IMPORTED_MODULE_7__.nm]})]},Primary={args:{label:"Dimension",dimension:{dimension:"[Department]"}}},Calendar={args:{label:"Dimension",dimension:{dimension:"[ZCALMONTH]"}}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'Dimension',\n    dimension: {\n      dimension: '[Department]'\n    }\n  }\n}",...Primary.parameters?.docs?.source}}},Calendar.parameters={...Calendar.parameters,docs:{...Calendar.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'Dimension',\n    dimension: {\n      dimension: '[ZCALMONTH]'\n    }\n  }\n}",...Calendar.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","Calendar"]}}]);